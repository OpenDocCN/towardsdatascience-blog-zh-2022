<html>
<head>
<title>6 Pandas DataFrame Tasks Anyone Learning Python Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">6熊猫数据框架任务任何学习Python的人都应该知道</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/6-pandas-dataframe-tasks-anyone-learning-python-should-know-1aadce307d26#2022-09-26">https://towardsdatascience.com/6-pandas-dataframe-tasks-anyone-learning-python-should-know-1aadce307d26#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c565" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">确保你能够在Pandas中完成以下任务</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/aa0995d4df99e29de25db12bf80d41e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HuvsJ7iQWZJTHksl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的<a class="ae ky" href="https://unsplash.com/@thisisengineering?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> ThisisEngineering RAEng </a></p></figure><p id="9a1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当用Python编程时，尤其是在数据科学领域，可能没有人会避开库熊猫。在许多应用程序中，数据必须以表格的形式使用，在Pandas DataFrames的帮助下，这在Python中是最容易处理的。</p><p id="0d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保你知道下面的命令，并且可以毫不费力地使用它们，这样你就可以节省时间，每天最大限度地利用熊猫。</p><h1 id="7a4f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">例子</h1><p id="5540" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在本文中，我们使用以下数据作为示例来测试我们的命令:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="ad16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的例子，我们简单地生成一个DataFrame，其中有两列和日期作为索引。我们简单地使用Numpy随机填充数值。</p><h1 id="aeab" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.添加新列</h1><p id="c872" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有几种方法可以将新列添加到现有的数据框架中。通过简单地用方括号定义新列，它将作为新列从右边添加到数据帧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mt l"/></div></figure><p id="de8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，如果我们希望在特定索引处插入新列，我们可以使用“df.insert()”来实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mt l"/></div></figure><p id="e991" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">传递给该函数的第一个值是要插入的新列的索引，然后是列的名称，最后是要作为列插入的对象。最后一个参数指定是否允许该列重复。因此，如果具有相同名称和相同值的列已经存在，并且“allow_duplicates”设置为“False”，那么您将得到一条错误消息。</p><h1 id="d6fd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.添加新行</h1><p id="1998" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果以后要以新行的形式添加值，您可以简单地定义它并为它提供一个新的索引。传递的值列表必须与数据帧中的列数相匹配，这一点很重要。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mv mt l"/></div></figure><h1 id="d71f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.删除列</h1><p id="3e42" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">与任何优秀的Pandas命令一样，删除列有几个选项。最简单的两种方法是使用函数“df.drop()”和列名，以及使用“axis=1”进行列选择。或者您可以使用标准Python函数“del”并定义相应的列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mw mt l"/></div></figure><h1 id="9bd0" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">4.删除空字段</h1><p id="b082" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">当我们将空值传递给DataFrame或其他Pandas对象时，它们会自动被Numpy NaNs(不是数字)替换。对于计算，如平均，这些字段不包括在内并被忽略。我们可以简单地用一个空的第三列来扩展现有的数据帧，该列只包含索引01/01/2022的值。然后，其余值自动设置为NaN。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mt l"/></div></figure><p id="aa48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想要删除至少一列中有空值的所有行，我们可以使用下面的命令。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mx mt l"/></div></figure><p id="e096" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想删除缺少值的列，我们使用相同的命令并额外设置' axis = 1 '。否则，我们也可以用预定义的值填充空字段，例如用值0。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mt l"/></div></figure><p id="1f65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某些情况下，将缺失值显示为布尔值(真/假)也很有用。然而，在大多数情况下，DataFrame对象太大，这不是一个有用的表示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="my mt l"/></div></figure><h1 id="a17a" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">5.删除一行</h1><p id="3d49" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">如果我们不想只是从数据帧中删除空值，而是删除行，有两种方法可以做到。首先，我们可以通过使用我们想要删除的行的索引从数据帧中删除行。在我们的例子中，这是一个具体的日期，比如01.01.2022:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz mt l"/></div></figure><p id="a5b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这样做，我们删除了这个对象中的第一行。但是，在大多数情况下，我们还不知道要删除的具体行。然后，我们还可以将数据帧过滤为我们想要删除的行，然后输出相应行的索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na mt l"/></div></figure><p id="92a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们删除在“列1”中检测到值大于0.1的所有行。这在“df”对象中总共留下了四行。</p><h1 id="074e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">6.合并熊猫对象</h1><p id="9286" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Pandas提供了几种连接系列或数据帧对象的方法。concat命令通过第二个命名的对象来扩展第一个命名的对象(如果它们属于同一类型)。该命令当然可以用两个以上的数据结构来执行。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nb mt l"/></div></figure><p id="0959" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于数据帧，代码行看起来是一样的。附加的“ignore_index”用于分配新的连续索引，而不是来自原始对象的索引。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nc mt l"/></div></figure><p id="bc7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas还允许使用“Merge”进行连接，大多数人可能对SQL很熟悉。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nd mt l"/></div></figure><p id="f892" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想执行一个内连接而不是左连接或右连接，我们再次使用Concat命令并加上' join = "inner " '。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ne mt l"/></div></figure><h1 id="e9cd" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">这是你应该带走的东西</h1><ul class=""><li id="4b51" class="nf ng it lb b lc mn lf mo li nh lm ni lq nj lu nk nl nm nn bi translated">熊猫为处理缺失的价值观提供了许多可能性。您可以删除有问题的列/行，或者用值替换字段。</li><li id="a5f8" class="nf ng it lb b lc no lf np li nq lm nr lq ns lu nk nl nm nn bi translated">对于Pandas，我们拥有与SQL相同的连接可能性。</li></ul></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="6ce1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oa">如果你喜欢我的作品，请在这里订阅</em><a class="ae ky" href="https://medium.com/subscribe/@niklas_lang" rel="noopener"><em class="oa"/></a><em class="oa">或者查看我的网站</em> <a class="ae ky" href="http://www.databasecamp.de/en/homepage" rel="noopener ugc nofollow" target="_blank"> <em class="oa">数据大本营</em> </a> <em class="oa">！还有，medium允许你每月免费阅读</em> <strong class="lb iu"> <em class="oa"> 3篇</em> </strong> <em class="oa">。如果你希望有</em><strong class="lb iu"><em class="oa">无限制的</em> </strong> <em class="oa">访问我的文章和数以千计的精彩文章，请不要犹豫，点击我的推荐链接:</em><a class="ae ky" href="https://medium.com/@niklas_lang/membership" rel="noopener">【https://medium.com/@niklas_lang/membership】</a>每月花$<strong class="lb iu"><em class="oa">5</em></strong><em class="oa">获得会员资格</em></p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><div class="kj kk kl km gt ob"><a href="https://medium.com/illumination/intuitive-guide-to-artificial-neural-networks-5a2925ea3fa2" rel="noopener follow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">人工神经网络直观指南</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">人工神经网络(ANN)是人工智能和人工智能领域最常用的术语</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">medium.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ks ob"/></div></div></a></div><div class="oq or gp gr os ob"><a rel="noopener follow" target="_blank" href="/4-basic-commands-when-working-with-python-tuples-8edd3787003f"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">使用Python元组时的4个基本命令</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">让您了解Python元组的特征以及如何处理它们</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ot l om on oo ok op ks ob"/></div></div></a></div><div class="oq or gp gr os ob"><a rel="noopener follow" target="_blank" href="/an-introduction-to-tensorflow-fa5b17051f6b"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">张量流简介</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">了解机器学习框架、其架构以及与PyTorch的比较</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ou l om on oo ok op ks ob"/></div></div></a></div></div></div>    
</body>
</html>