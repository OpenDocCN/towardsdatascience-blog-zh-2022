<html>
<head>
<title>T-test and Hypothesis Testing (Explained Simply)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">t检验和假设检验(简单解释)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/t-test-and-hypothesis-testing-explained-simply-1cff6358633e#2022-08-05">https://towardsdatascience.com/t-test-and-hypothesis-testing-explained-simply-1cff6358633e#2022-08-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8b1c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解概念并找到如何避免典型错误</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0d99a6de74b7b0d928ea2e15d4b0e87b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nlp8hZ_PQ5hwtHRQ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安德鲁·乔治在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="b3e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">学生t检验通常用于推断统计中，根据样本均值之间的差异来检验假设。然而，人们经常曲解t检验的结果，导致错误的研究结果和研究缺乏可重复性。这个问题不仅存在于学生中。即使是导师和“严肃”的研究人员也会落入同样的陷阱。为了证明我的话，我可以链接<a class="ae kv" href="https://journals.plos.org/plosmedicine/article?id=10.1371/journal.pmed.0020124" rel="noopener ugc nofollow" target="_blank">这篇文章</a>，但是还有其他的。</p><p id="0143" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个问题是，我经常看到和听到一些学生抱怨他们的老师没有充分解释t测试的概念。相反，他们专注于结果的计算和解释。如今，科学家使用计算机自动计算t统计量，因此没有理由钻公式和t分布表的用法，除非是为了了解<em class="ls">它是如何工作的</em>。至于解释，它没有错，尽管没有对概念的理解，它可能看起来像是盲目地遵循规则。事实上，它是。你还记得吗？</p><blockquote class="lt lu lv"><p id="de8e" class="kw kx ls ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">绝对t值大于t临界，因此拒绝零假设，接受备择假设。</p></blockquote><p id="7562" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你对这句话很熟悉，但理解起来仍有问题，很可能，你很不幸得到了同样的训练。直觉的这些问题会导致在测试假设时决策的问题。因此，除了知道将什么值粘贴到公式中以及如何使用t检验，还需要知道何时使用它，为什么使用它，以及所有这些东西的意义。</p><p id="64de" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文意在解释两个概念:t检验和假设检验。起初，我只想解释t检验。后来，我决定包括假设检验，因为这些想法是如此紧密地联系在一起，以至于很难在忽略另一件事的情况下说出一件事。最终，你会发现t-test不仅是一个抽象的概念，而且有很好的常识。</p><p id="3297" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">做好准备，这篇文章挺长的。看看下面的文章大纲，不要迷路。</p><h2 id="4fb7" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">文章大纲:</h2><ol class=""><li id="3919" class="ms mt iq ky b kz mu lc mv lf mw lj mx ln my lr mz na nb nc bi translated">假设检验</li><li id="6c9e" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">t检验定义和公式解释</li><li id="01b2" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">选择重要程度</li><li id="10f6" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">t分布和p值</li><li id="7d4c" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">结论</li></ol></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="f519" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">假设检验</h2><p id="3a40" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">见见大卫。他是一名高中生，最近开始学习统计学。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/70b33733a52e22e1dbe21236edf2c140.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*K8men-2XDELtkxtTwR1EuA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">嗨，我是用颜料创作的大卫！|作者</p></figure><p id="5646" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大卫想弄清楚他的A班同学的数学成绩是否比b班同学的好。学校有一个5分制的评分系统，其中5分是最好的分数。学生无法获得其他学生的成绩，因为老师对他们的数据保密，而且两个班级大约有30名学生。</p><p id="a77a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大卫不能问所有的学生他们的成绩，因为这很奇怪，而且不是所有的学生都乐于谈论他们的成绩。如果他只问两个阶层的朋友，结果会有偏差。为什么？因为我们倾向于和志趣相投的人交朋友。所以，很有可能大卫的朋友们有着或多或少相似的分数。</p><p id="d9ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也就是说，David决定从两个班中随机抽取6名学生，并询问他们关于数学四分之一成绩的问题。他得到了以下结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/3949a3aae9be4da14585df767da2ee52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*n0OwIdvnYH1KU5hbj18NIg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(1)-学生的季度成绩|按作者</p></figure><p id="feb2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">似乎B班的学生比a班的学生表现得更好。但是大卫没有问其他人！也许如果他问所有的学生，他可以得到相反的结果。谁知道呢？所以，问题来了，需要科学解决。</p><p id="7b40" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了检查结果是否可能随机或偶然出现，David可以使用名为<strong class="ky ir">假设检验</strong>的方法。<strong class="ky ir">假设</strong>是我们想要检验的主张或假设。这种方法非常类似于法庭审判过程，法官应该决定被告是否有罪。有两种类型的假设:</p><ul class=""><li id="48ff" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated"><strong class="ky ir">零假设</strong><em class="ls"/><strong class="ky ir">(h₀)<em class="ls"/></strong>—我们默认的假设，或者公认的事实。通常，它意味着没有效果。通过与审判过程的类比，这是“无罪推定”——一项法律原则，即每个被指控犯有任何罪行的人在被证明有罪之前都被视为无罪。</li><li id="e8f7" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated"><strong class="ky ir"/><strong class="ky ir">【h₁】</strong>—我们要检验的假设。换句话说，只有当我们收集到足够的证据证明这种效应存在时，另一种假设才会被接受。</li></ul><p id="2e3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">零假设和备择假设在数学上总是相反的。假设检验的可能结果:</p><ul class=""><li id="269f" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated"><strong class="ky ir">拒绝无效假设</strong>—一个人被判有罪。</li><li id="13b4" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">未能拒绝无效假设——被告无罪释放。</li></ul><p id="ae9b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大卫决定以如下方式陈述假设:</p><ul class=""><li id="86d6" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated">h₀——a班和b班学生的成绩均值没有差异</li><li id="99b5" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">h₁——a班和b班学生的成绩均值有差异</li></ul><p id="0ea3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，大卫需要收集足够的证据来证明两个班的学生有不同的学习成绩。但是，他能认为什么是“证据”呢？</p><h2 id="a990" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">t检验定义、公式解释和假设。</h2><p id="ab27" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">T检验是这样的检验，它允许我们分析一个或两个样本均值，这取决于T检验的类型。是的，t检验有几种类型:</p><ul class=""><li id="d797" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated"><strong class="ky ir">单样本t检验</strong> —将一个组的平均值与从总体中生成的指定平均值进行比较。例如，一家手机制造商承诺，他们的一款手机的电池平均支持约25小时的视频播放。为了查明制造商是否正确，研究人员可以对15部手机进行采样，测量电池寿命，得出平均23小时。然后，他可以使用t检验来确定这种差异是否不是偶然得到的。</li><li id="d842" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated"><strong class="ky ir">成对样本t检验</strong> —比较从相同个人、对象或相关单位获得的两个测量值的平均值。例如，学生通过了一门额外的数学课程，发现他们的成绩在课程完成后是否变得更好将是有趣的。可以从同一组中抽取样本并使用配对t检验。</li><li id="92dd" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated"><strong class="ky ir">独立双样本t检验</strong>—用于分析两个独立组的均值比较。就像两组学生。它让你想起什么了吗？</li></ul><p id="1fa5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没错。大卫想用独立双样本t检验来检验A班和B班的成绩均值是否真的存在差异，或者他是偶然得到这样的结果。两组是独立的，因为在A班学习的学生不能在B班学习，反之亦然。问题是大卫如何使用这样的测试？</p><p id="6001" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们的情况，我们有下面的t统计公式，其中两组的样本大小相等:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/4493f1fa70bdda427d8da134ca1f0ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*qI5SCpXose6hi1QuW9QfzQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">公式(1) — t统计量，其中假设方差相等|作者</p></figure><p id="93d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个公式看起来相当复杂。然而，它可以以另一种方式呈现:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/6df70d223eac6ac33e90d1f7c7a2929a.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*M-M_9Fg4RnJ2yp-xLkQcIQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">公式(2)—t统计量的简化公式</p></figure><p id="5538" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基本上，<strong class="ky ir"> t统计量就是一个信噪比</strong>。当我们假设两组之间的差异是真实存在的，我们不会期望他们的均值完全相同。因此，均值的差异越大，我们就越有信心认为这些人群是不同的。然而，如果数据过于分散(方差很大)，那么平均值可能是随机的结果，我们是偶然得到的。特别是，当我们有一个小样本，如3-5次观察。</p><p id="34c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是为什么呢？以生活在俄罗斯两大城市——莫斯科和圣彼得堡——的人们的工资为例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/ce9f7ddd1de52832d2c9e6a4fc488cae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FsXFNp7G2NcQVblH"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亚历山大·斯马金在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9d85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">差异很大，因为工资从大约100美元到数百万美元不等。因此，如果你决定找出这两个城市的收入是否存在差异，你可以抽取10个人作为样本，询问他们的薪水。我知道，你不太可能在街上遇到百万富翁，我也知道，比较平均工资而不是平均工资有点奇怪。尽管如此，如果你正确地选取了样本，你可能会发现这两个城市中人们的工资高度分散。例如，在圣彼得堡，平均值为7000美元，标准差为990美元，在莫斯科，平均值为8000美元，标准差为1150美元。在这种情况下，你无法确定均值的差异是否具有统计学意义。那是因为你只问了10个人，而且工资的方差很大，所以你可能会偶然得到这样的结果。</p><blockquote class="ob"><p id="edcd" class="oc od iq bd oe of og oh oi oj ok lr dk translated">因此，t统计量的概念只是一个信噪比。方差越小，样本数据越多，平均差异越大，我们就越确定这种差异是真实的。</p></blockquote><p id="ae58" class="pw-post-body-paragraph kw kx iq ky b kz ol jr lb lc om ju le lf on lh li lj oo ll lm ln op lp lq lr ij bi translated">我可以更仔细地研究一下t统计量的公式，但为了清楚起见，我不会这样做。如果你愿意，你可以在这里阅读证明<a class="ae kv" href="https://www.real-statistics.com/students-t-distribution/two-sample-t-test-equal-variances/two-sample-t-test-advanced/" rel="noopener ugc nofollow" target="_blank"/>。了解t-test的概念就足以有效地使用它。</p><p id="77ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们也涵盖一些关于t检验的<strong class="ky ir">假设。下面列出了5个主要假设:</strong></p><ol class=""><li id="14b1" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr mz na nb nc bi translated">数据是从总人口中随机选择的有代表性的部分收集的。这对于将我们的发现推广到我们的目标人群是必要的(在大卫的例子中——推广到两个班的所有学生)。</li><li id="68e2" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">数据应遵循连续或离散的测量尺度。我们可以把分数看作是离散数据的一个例子。</li><li id="ecf2" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">均值应该遵循正态分布，总体也是如此。不是样本数据，正如有些人可能认为的，而是指<em class="ls">和</em>人口。这需要一个更详细的解释，我将在关于t分布的章节中给出。</li><li id="fa17" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><em class="ls">(用于独立t检验)</em>观察值的独立性。每个主题应该只属于一个组。每组中的观察值之间没有关系。否则，使用<em class="ls">配对t型测试</em>。</li><li id="b221" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><em class="ls">(对于方差相等的独立t检验)</em>方差齐性。<strong class="ky ir"> </strong>同质，或相等，样本的标准差大致相等时存在方差。可以使用f检验或Levene检验来检验方差相等性。否则，我们应该使用韦尔奇的t检验。</li></ol><p id="0891" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，t统计量是大卫需要收集的证据，以证明两组学生的均值差异不是偶然发生的。如果有足够的证据，那么大卫可以拒绝零假设。问题是有多少证据就够了？</p><h2 id="04a8" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">选择重要程度</h2><p id="b761" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">大卫需要确定他所得到的结果是出于偶然还是某种利益因素。他可以找到t统计量作为证据，但是<em class="ls">大卫愿意为一个错误的决定冒多大的风险</em>？这种风险可以用显著性水平(α)来表示。</p><p id="1fdd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">显著性水平是当无效假设为真</strong>时拒绝无效假设的期望概率。例如，如果一个研究者选择α=0.05，这意味着他愿意冒5%的错误拒绝零假设的风险。或者，换句话说，承担无辜者被定罪的5%风险。统计学家经常选择α=0.05，而α=0.01和α=0.1也被广泛使用。然而，这种选择只是一种惯例，基于R. Fisher的论点，即1/20的机会代表一种不寻常的抽样发生。这个任意的阈值是在20世纪20年代建立的，当时很少使用超过100的样本量。</p><p id="278c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不想盲目地设定重要程度。但是我们应该用什么方法来选择这个值呢？详细描述这种方法是另一篇文章的主题，因为有很多东西要讨论。尽管如此，我还是要快速解释一下在选择最佳显著性水平时要考虑的因素。根据J. Kim (2021)，这些因素包括:</p><ul class=""><li id="f5fd" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated">错误决策造成的损失；</li><li id="9202" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">研究者的先验信念为<strong class="ky ir"> H₀ </strong>和<strong class="ky ir">h₁</strong>；</li><li id="9d32" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">测试的力量；</li><li id="2e2f" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">被测试关系的实质重要性。</li></ul><p id="210e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过说“研究者应该考虑错误决策的损失”，这意味着研究者必须弄清楚第一类错误是否比第二类错误更重要，或者相反。</p><p id="9ee9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第一类错误</strong>表示<em class="ls">当零假设实际上为真时拒绝该假设</em>。</p><p id="d8aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第二类错误</strong>发生在统计学家<strong class="ky ir"> </strong> <em class="ls">未能拒绝实际上为假的零假设</em>的时候。</p><p id="7bb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，I类误差的定义与显著性水平(α)几乎相同。不同之处在于，第一类错误是实际错误，而显著性水平代表犯这种错误的预期<em class="ls">风险</em>。犯第二类错误的风险由<strong class="ky ir"> β </strong>符号表示，1-β代表测试的<strong class="ky ir">功效</strong>。换句话说，<strong class="ky ir">功效是测试正确拒绝零假设</strong>的概率。也被称为“真阳性率”。</p><p id="2f4f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可能存在I型错误比II型错误更重要的情况，反之亦然。以A/B测试为例。一名研究人员想要测试网站上一个页面的两个版本。在运行t-test后，人们错误地得出B版本比a版本更好的结论。结果，网站开始失去转化率。另一个例子是怀孕测试。假设，有两个测试可用。测试1有5%的几率出现I型错误，20%的几率出现II型错误。测试2有20%的机会出现第一类错误，5%的机会出现第二类错误。在这种情况下，医生更倾向于使用测试2，因为对怀孕患者的错误诊断(II型错误)对患者和她的婴儿都是危险的。</p><p id="a5a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二个需要考虑的是研究者对两个假设的先验信念。“先验”这个词的意思是，研究人员在查看自己的数据之前，对H₀相对于H₁的概率有一个个人假设。但是，假设不应该仅仅因为它是“个人的”就武断或不合理。它需要基于良好的论证。例如，该判断可以优选地由先前的数据和经验来告知。假设某个研究人员发明了一种可以治愈癌症的药物。在他之前有许多研究人员有类似的“发明”，但他们的尝试都失败了。也就是说，研究人员认为H₁(即药物可以治愈癌症)的概率极不可能，约为0.001。在另一种情况下，如果统计学家先验地认为H₀和H₁的可能性相等，那么这两种假设的概率都是0.5。</p><p id="39c9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第三个因素是实质重要性或效果大小。它解释了被测试关系的影响大小有多大的问题。当样本量较大时，t检验通常会显示支持替代假设的证据，尽管均值之间的差异可以忽略不计。在对小样本进行测试时，t-test可以建议不要剔除H₀，尽管它有很大的影响。这就是为什么建议为小样本量设置较高的显著性水平，为大样本量设置较低的显著性水平。</p><p id="474e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在阅读所有这些的时候，你可能会想:“好的，我理解显著性水平是错误拒绝零假设的期望风险。那么，<em class="ls">为什么不把这个值设置得尽可能小，以便得到尽可能强的证据</em>？因此，如果我进行一项研究，我总是可以将α设置在0.00001(或更小)左右，并得到有效的结果”。</p><p id="fb64" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不应该将α设置得越小越好，这是有原因的。部分地，我们已经在提出实质性重要性的概念时讨论过它——对于小样本量，如果α太小，我们可能会错过大的影响。但答案就藏在我们还没讨论的第四个因素里。这就是力量。</p><p id="9dac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">重要程度和权力之间有关系。这些值相互依赖。对他们做决定就像决定在哪里花钱或如何度过空闲时间。一个领域有好处，另一个领域有损失。α和β之间的关系用下面一个非常简单的图表表示。注意，β是第二类错误的概率，而不是幂(幂是1-β)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/f40408c488a74a76be6f389e117b1e32.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*RvB-A7ICjbJyMkgGa2bmIQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(2) —作者给出的α和β |之间的关系</p></figure><p id="4a8c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如您所见，α和β之间存在权衡。可以在估计β的值之后选择α的最佳值。可以通过以下两种方式之一完成:</p><ul class=""><li id="38a2" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr nx na nb nc bi translated">使用正态假设</li><li id="81d4" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">使用引导</li></ul><p id="f572" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最好使用第二种方法来计算功效，因为在许多情况下，正态假设会失效或不合理。bootstrapping方法不依赖于这种假设，并且充分考虑了采样可变性。这就是它在实践中被广泛使用的原因。</p><p id="4237" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，如何使用自举来计算功率呢？</p><p id="453d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于David，有3个步骤:</p><ol class=""><li id="9c3d" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr mz na nb nc bi translated">从A类和B类中生成独立的样本；</li><li id="04f7" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">执行测试，将A类与B类进行比较，并记录零假设是否被拒绝；</li><li id="5503" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">多次重复步骤1-2，找出拒绝率，这就是估计功率。</li></ol><p id="d1cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算功率只是计算预期损耗的一个步骤。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/6d06e6f05ffcfb0b7703317d66a2bc78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*Xmeld_fV2yWcjgSTW1edFw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">公式(3) —预期损失|作者图片，J. Kim和I. Choi的公式(2021)</p></figure><p id="6dfd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">α的最佳值可以分三步选择:</strong></p><ol class=""><li id="7c66" class="ms mt iq ky b kz la lc ld lf nu lj nv ln nw lr mz na nb nc bi translated">选择α ∈ (0，1)的网格</li><li id="4a4b" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">对于每个α值，用上述公式计算β(使用上述3步过程)和预期损失</li><li id="3615" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">找出使预期损失最小的α值</li></ol><p id="14f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们回到大卫身上。他想设置错误拒绝H₀.的预期风险为了正确地做到这一点，David考虑了我们已经讨论过的4个因素。首先，他认为第一类和第二类错误同等重要。第二，大卫认为两个班的学生成绩不一样。也就是说，他对自己的替代假设(P=0.4，1-P=0.6)给予了更大的权重。第三，因为样本量很小，David决定将α提高到比0.05大得多，以免错过可能的实质性影响大小。他需要做的最后一件事是估计功率。为了估计功率，有必要选择一个可能的α值网格，并对每个α值进行多次t检验以估计功率。现在，David知道如果p值大于显著性水平，应该拒绝零假设。否则，人们无法拒绝零假设。在下一节中，我将解释p值的含义，但我们暂时先不讨论这个问题。</p><p id="8129" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">计算最优显著性水平的整个过程可以用下面的R代码表示:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="94d0" class="lz ma iq os b gy ow ox l oy oz">opt_alpha = function(x, y, alpha_list, P=0.5, k=1, sample_size=6, is_sampling_with_replacement=TRUE){<br/>  <br/>  # This function estimates the power using simulation and returns a data frame with alpha, beta and losses that should be minimized<br/>  <br/>  beta_list = c()</span><span id="fb4b" class="lz ma iq os b gy pa ox l oy oz">expected_losses_list = c()<br/>  <br/>  P = 0.4<br/>  k = 1<br/>  <br/>  for (alpha in alpha_list){<br/>    set.seed(23)<br/>  rejection_count = c()<br/>  for (i in 1:500){<br/>    sample_x = sample(x, size = sample_size, replace = is_sampling_with_replacement)<br/>    sample_y = sample(y, size = sample_size, replace = is_sampling_with_replacement)<br/>    pvalue = t.test(x = sample_x, y=sample_y)$p.value<br/>    if (pvalue &lt; alpha){<br/>      rejection_count = append(rejection_count,1)<br/>    }else{<br/>      rejection_count = append(rejection_count,0)<br/>    }<br/>  }<br/>  <br/>  rejected = sum(rejection_count)<br/>  total = length(rejection_count)<br/>  <br/>  power = rejected/total<br/>  beta = 1 - power<br/>  <br/>  beta_list = append(beta_list,beta)<br/>  <br/>  expected_losses = (P*alpha)+((1-P)*k*beta)<br/>  <br/>  expected_losses_list = append(expected_losses_list,expected_losses)<br/>  }<br/>  solutions = data.frame(alpha_list, beta_list,expected_losses_list) <br/>  return(solutions)<br/>}</span><span id="84c4" class="lz ma iq os b gy pa ox l oy oz">alpha_list = c(0.01,0.05,0.1,0.15,0.20,0.25,0.30,0.35,0.40,0.45,0.5,0.55,0.6,0.65,0.7,0.75,0.8,0.85,0.9,0.95)</span><span id="bae8" class="lz ma iq os b gy pa ox l oy oz">solutions = opt_alpha(x = a_score$Score, y = b_score$Score,alpha_list, P=0.4, k=1)</span><span id="77cf" class="lz ma iq os b gy pa ox l oy oz">optimal_solution = solutions %&gt;% filter(expected_losses_list==min(expected_losses_list))</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/f975a3a413d038359d8ca87d5fd015ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*dXm5LzAiSPf8uMHkd4bxZQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(3) —最佳显著性水平|作者</p></figure><p id="1415" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大卫发现α = 0.8是最优值。请注意，它与0.05的常规水平相差甚远。</p><h2 id="6db1" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">t分布和p值</h2><p id="31db" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">因此，大卫将显著性水平设为0.8。现在，他可以计算t统计量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/59aed2934c9f502dcae17983417b2dc8.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*73v5ZLU2RYo9st6_eWG21Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(4)—t检验的结果|作者</p></figure><p id="d5fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">经过计算，他得出t-statistic = -0.2863。为什么这个值是负的？因为我们观察到一种负面效应。在这个例子中，B班的学生数学表现更好，尽管大卫认为A班的学生更好。我们发现的另一件事是，信号约有28.6%来自噪声。它几乎迷路了。也许，均值的差异可以用方差来解释。但是多大的t统计量才能拒绝零假设呢？</p><p id="b9e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这就是t分布的用武之地。它将显著性水平和t-统计量联系起来，这样我们就可以比较证明边界和证明本身。t分布的概念没有人们想象的那么难。考虑比较两个城市的平均SAT分数的例子。我们知道，在这两个城市中，SAT分数遵循正态分布，并且均值相等，即零假设为真。注意，两个城市的SAT成绩代表的是两个人群，而不是样本。</p><p id="9937" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从这一点，我们可以开始发展我们的逻辑。我们决定模拟一个人的行为，这个人想要比较两个城市的平均值，但是没有关于人口的信息。当然，我们会从每个分布中抽取样本。假设样本量为10。下面的R代码生成SAT分布，从两者中抽取样本，并计算t统计量。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="1cbd" class="lz ma iq os b gy ow ox l oy oz"># 1. Generate two normal distributions with equal means</span><span id="bee1" class="lz ma iq os b gy pa ox l oy oz">set.seed(123)<br/>city1 = rnorm(n = 10000, mean = 1150, sd = 150)<br/>city1 = as.data.frame(city1)<br/>city2 = rnorm(n = 10000, mean = 1150, sd = 150)<br/>city2 = as.data.frame(city2)</span><span id="ad73" class="lz ma iq os b gy pa ox l oy oz">ggplot(data = city1) + geom_density(aes(x = city1), colour = 'red') + xlab("City1 SAT scores")</span><span id="f0e6" class="lz ma iq os b gy pa ox l oy oz">ggplot(data = city2) + geom_density(aes(x = city2), colour = 'green')+ xlab("City2 SAT scores")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/e8b17a1a0852415ddf82aebaa1813dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*iMiPAHuW2398DDW950ob_A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(5)-城市1 SAT分数分布|按作者</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/a6fa0393bacf619fdf5bb04c4e185b6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*b8swVK80ONBQutxFVrZ04A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(6)-城市2 SAT分数分布|按作者</p></figure><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="c2cf" class="lz ma iq os b gy ow ox l oy oz"># 2. Take samples from both distributions</span><span id="85d1" class="lz ma iq os b gy pa ox l oy oz">set.seed(2356)<br/>sample_city1 = sample(city1$city1, size = 10)<br/>sample_city2 = sample(city2$city2, size = 10)</span><span id="bfc9" class="lz ma iq os b gy pa ox l oy oz"># 3. Calculate t-value<br/>tvalue = t.test(x = sample_city1, y=sample_city2, var.equal = TRUE)$statistic</span><span id="9898" class="lz ma iq os b gy pa ox l oy oz">tvalue = as.numeric(tvalue)</span></pre><p id="2fbf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们得到的t统计值等于1.09。它显示了一些信号，这很奇怪，因为我们知道H₀为真，t值应该等于零。这是为什么呢？那是因为我们的样品运气不好。如果我们抽取7万次样本，了解t统计量会如何变化会很有趣。让我们开始吧。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="acb7" class="lz ma iq os b gy ow ox l oy oz"># 4. Do steps 2-3 70000 times and generate a list of t-values</span><span id="307e" class="lz ma iq os b gy pa ox l oy oz">tvalue_list = c()</span><span id="f4d9" class="lz ma iq os b gy pa ox l oy oz">for (i in 1:70000){<br/>  sample_city1 = sample(city1$city1, size = 10)<br/>  sample_city2 = sample(city2$city2, size = 10)<br/>  <br/>  tvalue = t.test(x = sample_city1, y=sample_city2, var.equal = TRUE)$statistic</span><span id="b4e2" class="lz ma iq os b gy pa ox l oy oz">tvalue = as.numeric(tvalue)<br/>  <br/>  tvalue_list = append(tvalue_list,tvalue)<br/>}</span></pre><p id="daac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们有一个巨大的t值列表。我们来画一个。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="13fe" class="lz ma iq os b gy ow ox l oy oz"># 5. Plot the list of t-values</span><span id="5526" class="lz ma iq os b gy pa ox l oy oz">ggplot(data = as.data.frame(tvalue_list)) + geom_density(aes(x = tvalue_list)) + theme_light()+xlab("t-value")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/bc3ffc92c14ef1f4cdeef0ab866acc5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*5as21g9UBNm73s5lXBewNQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(7)-作者的t值分布</p></figure><p id="8a74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样。现在我们有了一个与学生t分布非常相似的t分布。t分布看起来像正态分布，但它有更重的尾部。此外，根据样本大小，它可能看起来不同，并且随着更多的观察，它接近正态分布。t分布可以解释如下。采集样本时，很有可能获得等于零的t值。这是有意义的-当零假设为真时，t值应该等于零，因为没有信号。但是t值离零越远，我们就越不可能得到它。例如，得到t=6是非常不可能的。但是这里出现了一个问题。获得某个t值的可能性或不可能性有多大？</p><p id="8c7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="ls">在假设零假设正确</em>的情况下，获得至少与实际观察到的t值一样极端的t值的概率称为<strong class="ky ir"> p值</strong>。在下图中，观察到t &gt; =1.5的概率对应于曲线下的红色区域。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/799ecf90a746d9a12c17a42cf13c3a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*HFautJKVXZFEj4AT1yfGYA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(8)-单侧临界区域的t值分布|作者</p></figure><p id="b754" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">非常小的p值意味着如果零假设为真，得到这样的结果是非常不可能的。p值的概念有助于我们对H₀和H₁.做出决策t统计显示信号和噪声之间的比例，p值告诉我们，如果H₀为真，我们多久可以观察到这样的比例，显著性水平充当决策边界。类比一个法庭审判过程，p值=0.01有点类似于下一个陈述:“<em class="ls">如果这个人是无辜的，有1%的概率一个人会有这样的行为(改变证词，隐藏证据)或者更怪异的行为</em>”。陪审团可以通过比较p值和一些证据标准(显著性水平)来确定证据是否充分。因此，如果α = 0.05，p值=0.01，陪审团可以做出“有罪”的裁决。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pe"><img src="../Images/734ce6229dcd327456f47b085a8d7ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4umZKCxkv7getOK4"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@fotoloredo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">萨乌尔·布西奥</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="010f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">需要做几个笔记。首先，<strong class="ky ir">对于p值有一个常见的曲解，当人们说“p值就是H₀为真的概率”</strong>。当然，p值并没有告诉我们任何关于H₀或H₁的信息，它只是假设零假设为真。考虑一下这个例子，当David对两个班的学生进行抽样调查时，他们只得到5分。T统计量显然是0，因为在平均值上没有观察到差异。在这种情况下，p值将等于1，但这是否意味着零假设“肯定”为真？不，一点也不！这意味着大卫没有正确地取样，只选择了数学“好”的学生，或者他非常不幸地得到了这样的样本。第二，t分布实际上并不是通过bootstrapping推导出来的(就像我出于教育目的所做的那样)。<strong class="ky ir">在纪凡·戈塞特的时代，还没有计算机，所以t分布是用数学方法推导出来的</strong>。我决定不再深究数学，否则，很难认同t检验是“简单解释”的。第三，因为t统计必须遵循t分布，<strong class="ky ir">t检验要求总体的正态性</strong>。然而，总体不一定具有“完美的”正态分布，否则，t检验的使用将过于有限。只要这些“不完美”允许我们做出有效的结论，在人口分布中可能存在一些偏斜或其他“不完美”。</p><p id="d4e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，关键区域(图8中的红色区域)不一定只有一边。如果存在效应(均数差)可以为正或为负的可能性，最好使用<strong class="ky ir">双尾t检验</strong>。双尾t检验可以检测两个方向的影响。对于David来说，使用双尾t检验是合适的，因为A班的学生可能在数学方面表现更好(正平均差，正t值)，B班的学生也可能有更好的成绩(负平均差，负p值)。<strong class="ky ir">单尾t检验</strong>适用于在未检验方向遗漏一个效应的后果可以忽略不计，或者该效应只存在于一个方向的情况。</p><p id="5ef0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以…</p><p id="ee54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大卫计算了一个p值。</p><p id="3b6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">等于0.7805。</p><p id="832b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为大卫设定α = 0.8，他必须<em class="ls">拒绝零假设</em>。</p><p id="bdf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样。t检验完成了。大卫现在可以带着某种程度的自信说，手段的不同不是偶然发生的。但是大卫仍然怀疑他的结果是否有效。也许，这个问题与重要性的程度有关。大卫允许自己以80%的概率错误地拒绝零假设。另一方面，如果显著性水平被设置得更低，错误地声称无效假设不应该被拒绝的可能性就更大。</p><p id="ca32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">嗯，这就是统计学的本质。我们永远无法确定。也许，如果大卫得到更多的样本，他会对结果更有信心。谁知道t检验的结果会显示什么？</p><h2 id="d900" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">结论</h2><p id="3937" class="pw-post-body-paragraph kw kx iq ky b kz mu jr lb lc mv ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">假设，我们是一名班主任，他有权访问学生的成绩，包括A班和b班的成绩。我们可以计算出大卫是对还是错。以下是实际结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/bd8c8baaa66e2afeee80684efc72752b.png" data-original-src="https://miro.medium.com/v2/resize:fit:362/format:webp/1*2__n6Z65QOHh2Q5ddi4VQw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图(9)——两个班学生的实际平均成绩|作者</p></figure><p id="5536" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">的确，A班的学生比b班的学生在数学方面做得更好。两个班的平均成绩有差别，但差别很小。因此，替代假设成立。让我们来计算真β(真α我们无法计算，因为零假设是假的，因此，不可能错误地拒绝零假设)。对于我们的α = 0.8，我们发现β = 0.184。将该值与β = 0.14的估计值进行比较，我们可以说我们的自举方法非常有效。然而，我们低估了第二类错误的概率。</p><p id="e6f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从这些信息中我们可以学到什么？</p><p id="b4e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，当你在做统计时，不要太自信。当有其他科学方法可用时，你不应该完全依赖t检验<em class="ls"/>。你的逻辑和直觉很重要。还有一点需要指出。大卫的目标是找出A班的学生是否比b班的学生获得更好的季度成绩。假设大卫进行了严格的研究，并得出了正确的答案。但是结果有实际意义吗？可能，不会。他能用这些结果做什么？是的，A班的学生取得了更好的四分之一成绩。但这就意味着A班的学生数学比B班的学生好吗？只用一个季度的数据是不可能回答这个问题的。或许，收集其他时期的信息并进行时间序列分析会有所帮助。但是，仅仅使用观察数据是很难找出一些因果关系的，如果不是不可能的话。这是另一个教训。使用统计方法(如t检验或回归)时，不要试图对观察到的关系的因果关系做出结论。</p><p id="64b7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你想看看David的数据集和R代码，你可以使用这个<a class="ae kv" href="https://drive.google.com/file/d/1fyChFbcTXlBnJZy4L-Am7s6CxPBbGUCC/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">链接</a>下载所有的内容。学生成绩的完整数据集也可以在档案中找到。所有的数据集都是我创建的。</p><p id="e12d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，如果你有任何问题、意见或批评，请在评论区写下。我们都互相学习。</p><p id="59f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读！</p></div><div class="ab cl ni nj hu nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="ij ik il im in"><h2 id="f29e" class="lz ma iq bd mb mc md dn me mf mg dp mh lf mi mj mk lj ml mm mn ln mo mp mq mr bi translated">参考</h2><ul class=""><li id="7b70" class="ms mt iq ky b kz mu lc mv lf mw lj mx ln my lr nx na nb nc bi translated">大卫·科尔昆。(2017).研究的可重复性和对p值的误解。皇家学会开放科学。4.171085.10.1098/rsos.171085</li><li id="e273" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">格陵兰，s .，森，S. J .，罗斯曼，K. J .，卡林，J. B .，普尔，c .，古德曼，S. N .，&amp;奥特曼，D. G. (2016)。统计检验、P值、置信区间和功效:误解指南。<em class="ls">欧洲流行病学杂志</em>，<em class="ls"> 31 </em> (4)，337–350页。<a class="ae kv" href="https://doi.org/10.1007/s10654-016-0149-3" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1007/s10654-016-0149-3</a></li><li id="816b" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">Ioannidis JPA (2005)为什么大多数发表的研究结果是错误的。PLoS Med 2(8): e124。<a class="ae kv" href="https://doi.org/10.1371/journal.pmed.0020124" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1371/journal.pmed.0020124</a></li><li id="a2c1" class="ms mt iq ky b kz nd lc ne lf nf lj ng ln nh lr nx na nb nc bi translated">Kim，J.H .和Choi，I. (2021)，选择重要性水平:决策理论方法。算盘，57:27–71。<a class="ae kv" href="https://doi.org/10.1111/abac.12172" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.1111/abac.12172</a></li></ul></div></div>    
</body>
</html>