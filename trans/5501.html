<html>
<head>
<title>Build a Blog Website using Django Rest Framework — Overview (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Django Rest 框架构建博客网站——概述(第 1 部分)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/build-a-blog-website-using-django-rest-framework-overview-part-1-1f847d53753f#2022-12-12">https://towardsdatascience.com/build-a-blog-website-using-django-rest-framework-overview-part-1-1f847d53753f#2022-12-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="e1cf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">让我们使用 Django Rest 框架构建一个简单的博客网站，以了解 DRF 和 REST APIs 如何工作，以及我们如何添加任何前端框架来使用我们使用 DRF 生成的 API</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ce59c2e3e24ef3c1caf45383b4d01fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GPYdvFzOcuTpoidX"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@sincerelymedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">真诚媒体</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="5a92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">乡亲们好；我希望你们都很好！在本系列文章中，我们将构建一个简单的博客网站，它具有创建博客、编辑博客、投票支持博客、评论博客和查看特定用户的博客等功能。</p><p id="0227" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以实现额外的功能，比如关注作者，根据他们关注的人定制用户提要，以及根据他们喜欢阅读的文章类型建议用户关注新作者。</p><p id="5b58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要继续本系列，您需要对 Django 的工作原理有一个基本的了解。假设您想学习更多关于 Django 的知识，以及如何使用 Django 构建 web 应用程序。在这种情况下，我建议您阅读我的文章系列，关于使用 Django 构建社交媒体网站和使用 Django 构建求职门户。我已经制作了完整的网站来帮助你在比常规待办应用更复杂的东西上实现 Django。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/build-a-social-media-website-using-django-setup-the-project-part-1-6e1932c9f221"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用 Django 构建一个社交媒体网站——设置项目(第 1 部分)</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在第一部分中，我们通过设置密码来集中设置我们的项目和安装所需的组件…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/build-a-job-search-portal-with-django-overview-part-1-bec74d3b6f4e"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">用 Django 构建求职门户——概述(第 1 部分)</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">让我们使用 Django 建立一个工作搜索门户，它允许招聘人员发布工作并接受候选人，同时…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm ks ly"/></div></div></a></div><p id="f1fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，本系列的第一部分将只关注基础知识，并将设置项目基础知识。在接下来的部分中，我们将深入探讨为应用程序的不同方面构建模型、视图和序列化器的细节。</p><p id="de75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，首先，让我们了解什么是 Django Rest 框架，以及为什么它是构建我们的应用程序后端的好框架。</p><h2 id="28ec" class="mo mp it bd mq mr ms dn mt mu mv dp mw li mx my mz lm na nb nc lq nd ne nf ng bi translated">为什么选择 Django Rest 框架？</h2><p id="c9d7" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">Django Rest 框架(DRF)是构建 web APIs 的强大工具。它建立在流行的 Django web 框架之上。它允许开发人员快速创建各种客户端(包括 web、移动和桌面应用程序)可以使用的 API。DRF 使得创建具有复杂功能的 API 变得很容易，比如身份验证、权限和数据验证，并提供了一套丰富的工具来构建和测试 API。有了 DRF，开发人员可以专注于构建他们的应用程序逻辑，而不是花时间在实现 API 的细节上。这使得它成为构建可伸缩和可维护的 web APIs 的绝佳选择。</p><p id="31bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">DRF 还提供了一个可浏览的 API 接口，允许开发者快速测试和交互他们的 API。这对于调试、故障排除以及向可能使用该 API 的其他开发人员交付文档和示例非常有用。DRF 还支持各种序列化选项，允许开发人员快速返回不同格式的数据，如 JSON 或 XML。总的来说，Django Rest 框架对于任何希望构建健壮可靠的 web APIs 的人来说都是一个有价值的工具。</p><p id="78e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想了解更多关于 Django Rest 框架(DRF)以及如何使用它，官方文档是最好的地方。</p><h2 id="bf27" class="mo mp it bd mq mr ms dn mt mu mv dp mw li mx my mz lm na nb nc lq nd ne nf ng bi translated">构建项目</h2><p id="2d51" class="pw-post-body-paragraph kz la it lb b lc nh ju le lf ni jx lh li nj lk ll lm nk lo lp lq nl ls lt lu im bi translated">所以，让我们开始构建项目。首先，我们将创建一个新文件夹来开始我们的项目。因此，我创建了一个父文件夹，并在其中构建了两个名为后端和前端的文件夹。我们将只在后端文件夹中做我们所有的工作。稍后，在下面的文章中，我们将构建一个工作前端，并将其连接到我们的后端，以拥有一个全栈工作网站。但那是未来的事；目前，我们的重点将只在 DRF(后端部分)。</p><p id="e193" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，在后端文件夹中，我们将为我们的项目创建一个虚拟环境。为了创建虚拟环境，我更喜欢使用<a class="ae ky" href="https://pipenv.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> pipenv </a>，因为我发现它很容易使用，并且它维护一个 pip 文件而不是 requirements.txt 文件，这使得 Pythonic 项目更容易。</p><p id="9646" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面给出了用于创建虚拟环境的命令。如果已经安装了 pipenv，应该跳过第一行。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="d49b" class="nr mp it nn b be ns nt l nu nv">pip install pipenv<br/>pipenv shell<br/>activate</span></pre><p id="74f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在创建并激活虚拟环境之后，我们需要安装项目的依赖项。我们现在只需要为我们的项目安装姜戈和 DRF。如果我们需要更多的依赖项，我们可以稍后安装它们。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="7e25" class="nr mp it nn b be ns nt l nu nv">pipenv install django djangorestframework</span></pre><p id="9f4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行上面的代码行将在您的虚拟环境中安装这两个依赖项。我们已经准备好创建我们的应用程序并进行初始设置。</p><p id="f076" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们在后端文件夹中创建 Django 项目。为此，我们在 shell 上编写以下命令。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="1749" class="nr mp it nn b be ns nt l nu nv">django-admin startproject blog .</span></pre><p id="d463" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Django 中的<code class="fe nw nx ny nn b">startproject</code>命令末尾的点用来指定应该创建新 Django 项目的当前目录。这是命令行工具中的一个标准约定。)指的是当前目录。使用点号，我们告诉 Django 在当前目录中创建新的项目文件，而不是在子目录或其他位置。如果您希望出于组织目的将项目文件保存在同一个目录中，这将非常有用。</p><p id="b0cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们还要创建两个应用程序— <strong class="lb iu"> <em class="nz">用户</em> </strong>和<strong class="lb iu"> <em class="nz">帖子</em> </strong>。第一个将处理与用户相关的活动，另一个将保存与博客文章相关的逻辑。在我们的例子中，我们将主要使用<strong class="lb iu"> <em class="nz"> posts </em> </strong>应用程序，在<strong class="lb iu"> <em class="nz"> users </em> </strong>应用程序中几乎没有逻辑，因为我们将使用默认的 Django 用户模型，不会创建任何用户配置文件或自定义用户模型。但是，我仍然把它分开，因为如果我们想在未来实现跟随作者功能或类似的功能，我们会把所有这些逻辑放在这个应用程序中。</p><p id="8073" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了创建这两个应用程序，我们将编写以下命令:</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="a000" class="nr mp it nn b be ns nt l nu nv">python manage.py startapp users<br/>python manage.py startapp posts</span></pre><p id="b70b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们的文件结构如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/22d7cf25c5062ec7756e6e8e47ca7ab5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*pzortggHy6IVvnA17mNZcQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">后端文件夹结构</p></figure><p id="e815" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一部分，我们不会进入用户和文章文件夹，因为这是设置部分；我们只处理博客文件夹。</p><p id="1134" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">进入 blogs 文件夹，我们会发现文件结构如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/618dde729c4293809db915737492a4c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*W0IrOEvA3s9AWkNc89gNUw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">博客文件夹</p></figure><p id="06f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将只处理<strong class="lb iu"> <em class="nz"> settings.py </em> </strong>和<strong class="lb iu"> <em class="nz"> urls.py </em> </strong>文件。首先，我们将把<strong class="lb iu"> <em class="nz">文件移入 settings.py </em> </strong>文件。</p><p id="c32a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在设置中，我们将在<code class="fe nw nx ny nn b">INSTALLED_APPS</code>部分添加<code class="fe nw nx ny nn b">rest_framework</code>,如下所示:</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="bada" class="nr mp it nn b be ns nt l nu nv">INSTALLED_APPS = [<br/>    "django.contrib.admin",<br/>    "django.contrib.auth",<br/>    "django.contrib.contenttypes",<br/>    "django.contrib.sessions",<br/>    "django.contrib.messages",<br/>    "django.contrib.staticfiles",<br/>    "rest_framework",<br/>    "posts",<br/>    "users",<br/>]</span></pre><p id="1e32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上面的代码块中看到的，我们还在同一部分添加了<code class="fe nw nx ny nn b">posts</code>和<code class="fe nw nx ny nn b">users</code>，这让我们的 Django 项目知道我们已经创建了这两个应用程序，并将在项目中使用它们。</p><p id="a58c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将在<strong class="lb iu"> <em class="nz"> settings.py </em> </strong>文件中添加这段代码来定义我们的 API 的分页。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="661a" class="nr mp it nn b be ns nt l nu nv">REST_FRAMEWORK = {<br/>    "DEFAULT_PAGINATION_CLASS": "rest_framework.pagination.PageNumberPagination",<br/>    "PAGE_SIZE": 10<br/>}</span></pre><p id="0670" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们移动到<strong class="lb iu"> <em class="nz"> urls.py </em> </strong>文件。我们将添加可浏览的 API 接口 URL，这样我们可以快速测试我们的 API。首先，我们将从<code class="fe nw nx ny nn b">django.urls</code>导入<code class="fe nw nx ny nn b">path</code>和<code class="fe nw nx ny nn b">include</code>，我们将使用它们来定义 URL。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="240d" class="nr mp it nn b be ns nt l nu nv">from django.urls import path, include</span></pre><p id="af4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，在 URL 模式中，我们将添加我们的可浏览 API 路径，如下所示:</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="1ff9" class="nr mp it nn b be ns nt l nu nv">urlpatterns = [<br/>    path("admin/", admin.site.urls),<br/>    path("api-auth/", include("rest_framework.urls", namespace="rest_framework")),<br/>]</span></pre><p id="3224" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面代码的第一行是访问 Django 提供的管理面板，第二行是 DRF 提供给我们的可浏览 API 接口。</p><p id="46c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们将迁移数据库(Django 为我们提供了一个嵌入式 SQLite DB)。为此，我们将运行以下命令:</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="1d16" class="nr mp it nn b be ns nt l nu nv">python manage.py makemigrations<br/>python manage.py migrate</span></pre><p id="9f9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以运行下面的命令来启动本地服务器，并测试是否一切都已完美安装。</p><pre class="kj kk kl km gt nm nn no bn np nq bi"><span id="1d81" class="nr mp it nn b be ns nt l nu nv">python manage.py runserver</span></pre><p id="dc4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在运行这个命令时，我们得到了我们网站的一个本地服务器，我们可以打开它来访问我们的网站。我们不会得到任何东西，因为我们没有在应用程序中定义任何逻辑。</p><p id="b9b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，我们都准备好开始构建我们的项目了。从下一部分开始，我们将开始构建项目的核心逻辑，我们将再用两个部分来完成后端部分，然后开始构建项目的前端，使其成为一个优秀的全栈网站。</p><p id="9778" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望大家和我一样对下面的部分感到兴奋，因为我们希望学习并使用 Django Rest 框架构建一个简单的博客网站，并将其连接到一个工作前端。</p><p id="dc68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">DRF 系列的下一部分可以在这里找到:</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/build-a-blog-website-using-django-rest-framework-part-2-be9bc353abf3"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用 Django Rest 框架构建博客网站—第 2 部分</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在第二部分中，我们将处理构建用户相关的模型和视图，并将测试用户相关的 API。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="oc l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/build-a-blog-website-using-django-rest-framework-posts-app-part-3-7334f75983fc"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用 Django Rest 框架——Posts 应用程序构建一个博客网站(第 3 部分)</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在第三部分，我们处理应用程序的整个 posts 应用程序，从而完成应用程序的后端。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="od l mj mk ml mh mm ks ly"/></div></div></a></div><p id="f627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读！如果你喜欢读我的文章，我建议你看看我的其他文章:</p><div class="lv lw gp gr lx ly"><a href="https://javascript.plainenglish.io/build-an-e-commerce-website-with-mern-stack-part-1-setting-up-the-project-eecd710e2696" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让我们建立一个 MERN 堆栈电子商务网络应用程序</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">第 1 部分:设置项目</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mh l"><div class="oe l mj mk ml mh mm ks ly"/></div></div></a></div><div class="lv lw gp gr lx ly"><a href="https://javascript.plainenglish.io/build-a-blog-app-with-react-intro-and-set-up-part-1-ddf5c674d25b" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">使用 React 构建博客应用程序—介绍和设置</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">第 1 部分:在第一部分中，我们处理项目的基础并设置它。</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="mh l"><div class="of l mj mk ml mh mm ks ly"/></div></div></a></div></div></div>    
</body>
</html>