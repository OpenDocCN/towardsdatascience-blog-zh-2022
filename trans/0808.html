<html>
<head>
<title>setup.py vs setup.cfg in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python 中的 setup.py 与 setup.cfg</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/setuptools-python-571e7d5500f2#2022-03-07">https://towardsdatascience.com/setuptools-python-571e7d5500f2#2022-03-07</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7330" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">使用<code class="fe kj kk kl km b">setuptools</code>来管理依赖项和分发 Python 包</h2></div><figure class="ko kp kq kr gu ks gi gj paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gi gj kn"><img src="../Images/3aa1f6119abd3058b27b7157489ea601.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qrM5EzdXkHzUz63sGB378A.jpeg"/></div></div><p class="kz la gk gi gj lb lc bd b be z dk translated">弗勒在<a class="ae ld" href="https://unsplash.com/s/photos/tools?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="4570" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">介绍</h2><p id="26a7" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">在我最近的一篇文章中，我讨论了<a class="ae ld" rel="noopener" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af"/><code class="fe kj kk kl km b"><a class="ae ld" rel="noopener" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af">requirements.txt</a></code><a class="ae ld" rel="noopener" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af">和</a> <code class="fe kj kk kl km b"><a class="ae ld" rel="noopener" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af">setup.py</a></code> <a class="ae ld" rel="noopener" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af">文件</a>之间的区别，这些文件最终可以帮助开发人员管理他们的包的依赖关系，以一种他们也很容易重新分发它们的方式。</p><p id="0a46" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">在今天的文章中，我将集中讨论<code class="fe kj kk kl km b">setuptools</code>包，并讨论<code class="fe kj kk kl km b">setup.py</code>和<code class="fe kj kk kl km b">setup.cfg</code>文件之间的区别。此外，我们还将讨论这些文件如何理解应该列出依赖关系的<code class="fe kj kk kl km b">requirements.txt</code>文件。</p><p id="d68f" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">最后，我们还将讨论<code class="fe kj kk kl km b">pyproject.toml</code>文件的用途，以及在接受 PEP-517 后，包分发格局是如何改变的。我们还将演示如何以符合 PEP-517 和 PEP-518 的方式过渡到使用<code class="fe kj kk kl km b">pyproject.toml</code>和<code class="fe kj kk kl km b">setuptools</code>。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="2148" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">Python 中的 setuptools</h2><p id="97bf" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated"><code class="fe kj kk kl km b"><a class="ae ld" href="https://setuptools.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank">setuptools</a></code>是一个构建在<code class="fe kj kk kl km b"><a class="ae ld" href="https://docs.python.org/3/library/distutils.html" rel="noopener ugc nofollow" target="_blank">distutils</a></code>之上的库，该库已被弃用(从 Python 3.12 开始将被移除)。这个包提供了广泛的功能，<strong class="mc iv">方便了 Python 项目的打包</strong>，这是一个不断发展的过程，有时会变得相当具有挑战性。</p><p id="2dab" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">所谓打包，我们通常是指<strong class="mc iv">依赖</strong> <strong class="mc iv">管理</strong>和<strong class="mc iv">打包</strong> <strong class="mc iv">分发</strong>。换句话说，打包就是处理你的项目的依赖关系(甚至依赖关系的依赖关系等等)，以及如何分发你的包，以使它可以被其他项目广泛使用。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="2df5" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">setup.py 文件</h2><p id="05f1" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated"><code class="fe kj kk kl km b">setup.py</code>文件可能是应该包含在<strong class="mc iv">根 Python 项目目录</strong>中的最重要的文件，它主要有两个主要用途:</p><ol class=""><li id="9d24" class="nf ng iu mc b md mt mg mu ln nh lr ni lv nj ms nk nl nm nn bi translated">它包含了与你的包相关的各种信息，包括<strong class="mc iv">选项和元数据</strong>，比如包名、版本、作者、许可证、最小依赖、入口点、数据文件等等。</li><li id="2f72" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms nk nl nm nn bi translated">用作允许执行打包命令的命令行界面。</li></ol><p id="0494" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><strong class="mc iv">示例 setup.py 文件</strong></p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="55a9" class="le lf iu km b gz nx ny l nz oa"># setup.py placed at root directory</span><span id="908f" class="le lf iu km b gz ob ny l nz oa">from setuptools import setup</span><span id="5f21" class="le lf iu km b gz ob ny l nz oa">setup(<br/>    <strong class="km iv">name</strong>='examplepackage'<br/>    <strong class="km iv">version</strong>='1.0.1',<br/>    <strong class="km iv">author</strong>='Giorgos Myrianthous',<br/>    <strong class="km iv">description</strong>='This is an example project',<br/>    <strong class="km iv">long_description</strong>='This is a longer description for the project',<br/>    <strong class="km iv">url</strong>='https://medium.com/@gmyrianthous',<br/>    <strong class="km iv">keywords</strong>='sample, example, setuptools',<br/>    <strong class="km iv">python_requires</strong>='&gt;=3.7, &lt;4',<br/>    <strong class="km iv">install_requires</strong>=['pandas'],<br/>    <strong class="km iv">extras_require</strong>={<br/>        'test': ['pytest', 'coverage'],<br/>    },<br/>    <strong class="km iv">package_data</strong>={<br/>        'sample': ['example_data.csv'],<br/>    },<br/>    <strong class="km iv">entry_points</strong>={<br/>        'runners': [<br/>            'sample=sample:main',<br/>        ]<br/>    }<br/>)</span></pre><p id="99ea" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">下面是对调用<code class="fe kj kk kl km b">setup()</code>方法时使用的关键字的解释:</p><ul class=""><li id="179b" class="nf ng iu mc b md mt mg mu ln nh lr ni lv nj ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">name</strong></code>:这是一个对应于包名的字符串</li><li id="8211" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">version</strong></code>:对应包版本号的字符串</li><li id="e3bc" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">author</strong></code>:表示包的作者</li><li id="b58e" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">description</strong></code>:这是包的简短描述的字符串(通常是单行描述)</li><li id="ab82" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">long_description</strong></code>:包的更长描述的字符串</li><li id="daf8" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">url</strong></code>:表示包的 URL 的字符串(通常是 GitHub 存储库或 PyPI 页面)。</li><li id="6917" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">keywords</strong></code>:这是一个逗号分隔的字符串(也可以是字符串列表)，包含一些与包相关的关键字</li><li id="dffb" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">python_requires</strong></code>:这是一个逗号分隔的字符串，包含包支持的 Python 版本的版本说明符。</li><li id="11c6" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">install_requires</strong></code>:包含包成功运行所需的最小依赖项的字符串列表。</li><li id="2a52" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">extras_require</strong></code>:字典，其中键对应于额外模式和值的名称，是包含所需最小依赖性的列表。例如，一个额外的模式可以是<code class="fe kj kk kl km b">test</code>，其中依赖项列表应该包括所有需要的附加包，以便执行包中定义的测试。</li><li id="3626" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">package_data</strong></code>:这是一个字典，其中键是包名，值是 glob 模式列表。</li><li id="400c" class="nf ng iu mc b md no mg np ln nq lr nr lv ns ms oc nl nm nn bi translated"><code class="fe kj kk kl km b"><strong class="mc iv">entry_points</strong></code>:这是一个字典，其中键对应于入口点名称，值对应于源代码中定义的实际入口点。</li></ul><p id="e696" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">有关元数据和选项的可用关键字的更全面列表，您可以参考官方文档中的<a class="ae ld" href="https://setuptools.pypa.io/en/latest/references/keywords.html" rel="noopener ugc nofollow" target="_blank">相关章节。</a></p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="5932" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">setup.cfg 文件</h2><p id="85f8" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">传统上，<code class="fe kj kk kl km b">setup.py</code>文件用于构建包，例如通过命令行界面使用<code class="fe kj kk kl km b">build</code>命令。</p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="6b78" class="le lf iu km b gz nx ny l nz oa">$ python setup.py build</span></pre><p id="b89d" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">在上面演示的示例<code class="fe kj kk kl km b">setup.py</code>文件中，我们看到大部分代码只是列出了一些关于 Python 项目的选项和元数据。事实上，就代码质量和设计而言，这可能不是最好的方法。因此，在<code class="fe kj kk kl km b">setup.cfg</code>文件中指定这些包细节可能更合适。</p><p id="f02a" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><code class="fe kj kk kl km b">setup.cfg</code>是一个 ini 文件，包含<code class="fe kj kk kl km b">setup.py</code>命令的选项默认值。您几乎可以在新的<code class="fe kj kk kl km b">setup.cfg</code>文件中指定我们在<code class="fe kj kk kl km b">setup.py</code>文件中使用的每个关键字，并简单地使用<code class="fe kj kk kl km b">setup.py</code>文件作为命令行界面。</p><p id="b8ae" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><strong class="mc iv">示例 setup.cfg 文件</strong></p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="85dd" class="le lf iu km b gz nx ny l nz oa"># setup.cfg file at the root directory</span><span id="fb05" class="le lf iu km b gz ob ny l nz oa"><strong class="km iv">[metadata]</strong><br/>name = examplepackage<br/>version = 1.0.1<br/>author = Giorgos Myrianthous<br/>description = This is an example project<br/>long_description = This is a longer description for the project<br/>url = <a class="ae ld" href="https://medium.com/@gmyrianthous" rel="noopener">https://medium.com/@gmyrianthous</a><br/>keywords = sample, example, setuptools</span><span id="3a9e" class="le lf iu km b gz ob ny l nz oa"><strong class="km iv">[options]</strong><br/>python_requires = &gt;=3.7, &lt;4<br/>install_requires = <br/>    pandas</span><span id="e9ab" class="le lf iu km b gz ob ny l nz oa"><strong class="km iv">[options.extras_require]</strong><br/>test = <br/>    pytest<br/>    coverage</span><span id="db26" class="le lf iu km b gz ob ny l nz oa"><strong class="km iv">[options.package_data]</strong><br/>sample = <br/>    example_data.csv'</span></pre></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="8316" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">带有 setup.cfg 的 setup.py</h2><p id="9533" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">现在假设您已经将所有选项移动到一个<code class="fe kj kk kl km b">setup.cfg</code>文件中，如前一节所述，您现在可以创建一个虚拟的<code class="fe kj kk kl km b">setup.py</code>，它将简单地调用<code class="fe kj kk kl km b">setup()</code>方法:</p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="c90a" class="le lf iu km b gz nx ny l nz oa">from setuptools import setup</span><span id="7bd5" class="le lf iu km b gz ob ny l nz oa">if __name__ == '__main__':<br/>    setup()</span></pre><p id="899b" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">关于如何使用<code class="fe kj kk kl km b">setup.py</code>和<code class="fe kj kk kl km b">setup.cfg</code>文件的更全面的例子，你可以参考 GitHub 上的<a class="ae ld" href="https://github.com/pypa/sampleproject" rel="noopener ugc nofollow" target="_blank"> PyPA 示例项目</a>。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="bda0" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">pyproject.toml 文件和向 PEP-517 的过渡</h2><p id="a69d" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">截至<a class="ae ld" href="https://www.python.org/dev/peps/pep-0517" rel="noopener ugc nofollow" target="_blank"> PEP-517 </a>和<a class="ae ld" href="https://www.python.org/dev/peps/pep-0518/" rel="noopener ugc nofollow" target="_blank"> PEP-518 </a> <code class="fe kj kk kl km b">setuptools</code>不再是打包 Python 项目时应该使用的事实上的工具。根据 PEP-518 的规范，Python 项目的构建系统依赖项应该包含在遵循 TOML 格式的名为<code class="fe kj kk kl km b">pyproject.toml</code>的文件中。</p><p id="0082" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">随着时间的推移，<code class="fe kj kk kl km b">setup.py</code>在 Python 社区中越来越受欢迎，但是<code class="fe kj kk kl km b">setuptools</code>的一个最大问题是，如果不知道可执行文件(即<code class="fe kj kk kl km b">setup.py</code>)的依赖关系，就无法执行它。除非您实际执行包含与包依赖关系相关的信息的文件，否则没有办法知道这些依赖关系是什么。</p><p id="de0a" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><code class="fe kj kk kl km b">pyproject.toml</code>文件应该解决构建工具依赖鸡和蛋的问题，因为<code class="fe kj kk kl km b">pip</code>本身可以读取<code class="fe kj kk kl km b">pyproject.yoml</code>以及项目所需的<code class="fe kj kk kl km b">setuptools</code>或<code class="fe kj kk kl km b">wheel</code>的版本。该文件需要一个用于存储构建相关信息的<code class="fe kj kk kl km b">[build-system]</code>表。</p><p id="371c" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">现在让我们把拼图拼在一起。如果您想使用<code class="fe kj kk kl km b">setuptools</code>，您现在必须指定一个<code class="fe kj kk kl km b">pyproject.toml</code>文件，其内容如下所示:</p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="96a3" class="le lf iu km b gz nx ny l nz oa"># pyproject.toml file specified at the root of the directory</span><span id="e0de" class="le lf iu km b gz ob ny l nz oa"><strong class="km iv">[build-system]</strong><br/>requires <strong class="km iv">=</strong> <strong class="km iv">[</strong>"setuptools&gt;=42", "wheel"<strong class="km iv">]   </strong># PEP 508 specifications.<br/>build-backend <strong class="km iv">=</strong> "setuptools.build_meta"</span></pre><p id="9888" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">然后，您还需要指定一个<code class="fe kj kk kl km b">setup.py</code>或<code class="fe kj kk kl km b">setup.cfg</code>文件，就像我们在本教程的前几节中展示的那样。注意，我个人更喜欢后一种符号。</p><p id="16fe" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">最后，您可以使用一个构建器来构建您的项目，比如 PyPA build，您可以通过 pip ( <code class="fe kj kk kl km b">pip install build</code>)来检索它，并最终调用构建器</p><pre class="ko kp kq kr gu nt km nu nv aw nw bi"><span id="d975" class="le lf iu km b gz nx ny l nz oa">$ python3 -m build</span></pre><p id="a071" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">瞧啊。您的发行版现在可以上传到 PyPI 上了，这样它就可以被广泛访问了。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="5a38" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">注意，如果你想在可编辑模式下安装软件包(即通过运行<code class="fe kj kk kl km b">pip install -e .</code>)，除了<code class="fe kj kk kl km b">setup.cfg</code>和<code class="fe kj kk kl km b">pyproject.toml</code>之外，你必须有一个有效的<code class="fe kj kk kl km b">setup.py</code>文件。您可以使用我在上一节中共享的同一个虚拟设置文件，该文件只对<code class="fe kj kk kl km b">setup()</code>方法进行一次调用。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="7cdd" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">那么我还需要 requirements.txt 文件吗？</h2><p id="6bea" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">简短的回答是，<strong class="mc iv">最</strong> <strong class="mc iv">大概是的</strong>。<code class="fe kj kk kl km b">setuptools</code>文件应该保存<strong class="mc iv">抽象依赖关系</strong>，而<code class="fe kj kk kl km b">requirements.txt</code>应该列出<strong class="mc iv">具体依赖关系</strong>。</p><p id="6c71" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">为了更全面地了解<code class="fe kj kk kl km b">requirements.txt</code>和<code class="fe kj kk kl km b">setuptools</code>的目的，你可以阅读我最近分享的一篇文章。</p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python 中的 requirements.txt 与 setup.py</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">了解 Python 中 requirements.txt、setup.py 和 setup.cfg 在开发和分发时的用途…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kx og"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="78f3" class="le lf iu bd lg lh li dn lj lk ll dp lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph ma mb iu mc b md me jv mf mg mh jy mi ln mj mk ml lr mm mn mo lv mp mq mr ms in bi translated">在今天的文章中，我们讨论了<code class="fe kj kk kl km b">setuptools</code>包，以及如何利用<code class="fe kj kk kl km b">setup.py</code>和<code class="fe kj kk kl km b">setup.cfg</code>文件来管理包的依赖关系，使包在 Python 中的分发更加容易。</p><p id="3ed9" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">此外，我们讨论了可以指定的各种选项和元数据，以及<code class="fe kj kk kl km b">setup.py</code>和<code class="fe kj kk kl km b">setup.cfg</code>文件之间的差异。我们还讨论了关于<code class="fe kj kk kl km b">requirements.txt</code>文件以及如何使用它来完成 Python 包中的依赖管理难题。最后，我们介绍了 PEP517 和一个名为<code class="fe kj kk kl km b">pyproject.toml</code>的文件的用途。</p><p id="b4de" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated">最后，请记住 Python 中的包分发指南是不断发展的——尤其是在过去几年中——所以请确保随时更新并遵循最佳实践。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><a class="ae ld" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="mc iv">成为会员</strong> </a> <strong class="mc iv">阅读媒体上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="od oe gq gs of og"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">通过我的推荐链接加入 Medium-Giorgos Myrianthous</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kx og"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph ma mb iu mc b md mt jv mf mg mu jy mi ln mv mk ml lr mw mn mo lv mx mq mr ms in bi translated"><strong class="mc iv">相关文章你可能也喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/pycache-python-991424aabad8"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python 中 __pycache__ 是什么？</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">了解运行 Python 代码时创建的 __pycache__ 文件夹</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kx og"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><div class="ko kp kq kr gu og"><a rel="noopener follow" target="_blank" href="/how-to-upload-your-python-package-to-pypi-de1b363a1b3"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">如何将 Python 包上传到 PyPI</h2><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kx og"/></div></div></a></div></div></div>    
</body>
</html>