<html>
<head>
<title>Why Is This Trending Time Series Stationary?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么这种趋势时间序列是平稳的？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-is-this-trending-time-series-stationary-f3fb9447336f#2022-11-05">https://towardsdatascience.com/why-is-this-trending-time-series-stationary-f3fb9447336f#2022-11-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a68b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从一个怪异的例子看扩展的Dickey-Fuller (ADF) <strong class="ak"> </strong>测验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8df03ee1a9661befeb5db40f77959acc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MpmDyNi6CM3EHKxc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@jan_huber?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">简·侯伯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="ba7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">平稳性是时间序列分析中最基本的概念之一。一般来说，平稳性将为用各种统计方法模拟时间序列提供极好的特性。扩展的Dickey-Fuller (ADF) 检验可能是最广泛使用的检验平稳性的方法。</p><p id="45f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网上有很多关于这个话题的文章。我不会在基本的介绍上浪费你的时间，比如平稳性的定义，如何做ADF测试等等。在这篇文章中，我将分享我在一个应用程序中遇到奇怪的情况后探索ADF测试的旅程。</p><p id="a8ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将展示的学习路径是学习数据科学的典型路径。首先，我们认为我们理解了一个工具或概念，但我们只是承认并记住了这个术语。当我们将它应用于实际数据时，我们可能会发现意想不到的、具有挑战性的问题，这些问题促使我们进行更多的研究和进一步的理解。</p><p id="7ee7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我会在GitHub上分享我的代码；最后请在参考文献部分找到链接。</p><h2 id="b38b" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">意外旅程的开始</strong></h2><p id="b8c6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">前几天我在处理一些时间序列。图1显示了其中的一个。没有双重的<strong class="lb iu">上升趋势存在，</strong>和<strong class="lb iu">方差也随时间变化</strong>。有了这个清晰的可视化，我不需要测试稳定性。不知什么原因，我还是用ADF测试试了一下。令人惊讶的是，p值几乎为0，这意味着我应该拒绝零假设，并接受它是平稳的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/34e6db80622ae3a23b5ee70a406bf571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RsP4uCJrXfC6HblCRSUXdw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图一。有趋势的时间序列(图片由作者提供)</p></figure><p id="476f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太奇怪了。测试结果似乎是错误的。我想调查ADF测试背后发生了什么。我尝试的第一步是用合成数据复制这个问题。我用下面的代码生成了一些测试数据。代码只是模仿了缓慢趋势的行为，而不是季节性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/0b649923e52b6d19031359a13b7e303f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0P5z6YAQmdwUs6LN2NdPKA.png"/></div></div></figure><p id="4638" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图1中有20，000个观察值，这意味着趋势上升非常缓慢。我创建了一个斜率为0.0005的时间序列。经过1000次观察后，时间序列平均值从大约0上升到0.5。然后让我们使用默认参数使用来自<strong class="lb iu">stats models . TSA . stat tools</strong>的adfuller()函数对其进行测试。p值为0.01，再次出现“问题”。图2显示了结果。你可以忽略标题，把注意力放在上升趋势上。稍后我会解释为什么我们有来自三个不同ADF测试的p值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/b73075e75409e616688c63d61d5dd9f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pfx-1HMwjTeFQ_GWFmCOXw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图二。具有ADF测试结果的合成时间序列(图片由作者提供)</p></figure><h2 id="3d0e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">DF测试背后的数学原理</strong></h2><p id="ae72" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们必须深入了解ADF测试究竟在做什么。原来它的数学背景并不复杂。首先，ADF测试只是T2的迪基-富勒测试的高级版本。DF测试有三个主要版本<strong class="lb iu"/>(来自维基百科):</p><p id="8027" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">版本1: 测试单位根:∆yᵢ = δyᵢ₋₁ + uᵢ</p><p id="d3d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">版本2: </strong>用常数检验单位根:∆yᵢ = a₀ + δyᵢ₋₁ + uᵢ</p><p id="8b03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第三版。</strong>趋势不变且确定的单位根检验:∆yᵢ = a₀ + a₁*t + δyᵢ₋₁ + uᵢ</p><p id="24ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在每个版本中，<strong class="lb iu">零假设是有一个单位根，δ=0。</strong></p><p id="f682" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Statsmodels包支持带参数<strong class="lb iu">“回归”的所有三个版本。</strong></p><p id="4936" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本1，回归是‘n’(没有常数，没有趋势)。</p><p id="a8c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本2，回归是‘c’(仅常数)；这是默认设置。</p><p id="5b3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本3，回归是“ct”(常数和趋势)。</p><p id="5095" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我用三种不同的设置重新运行了测试，下面是新的结果。</p><p id="6da4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本1，p值为0.09。我们不应该拒绝无效假设。</p><p id="a664" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本2，p值为0.01。我们已经将它视为一个问题，因为这是默认设置。</p><p id="343f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于版本3，p值为0.00。这是意料之中的，因为时间序列确实是<strong class="lb iu">稳定的，具有确定的趋势</strong>。</p><p id="8b5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以对于这个例子数据，如果我们用版本1 (regression='n ')测试，我们不会说它是平稳的。我们可能不应该使用默认设置。但是你可能也想知道，为什么这个常数项会有这么大的不同呢？我们再多挖点。</p><h2 id="271c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">从DF检验到线性回归</h2><p id="2dbb" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">基于上述定义，DF检验只是线性回归。图3显示了线性回归的所有点。y轴是∆yᵢ，x轴是yᵢ₋₁，uᵢ是余数。版本1意味着我们必须拟合一条没有截距(没有常数)的线。版本2意味着我们必须用截距(常数)拟合一条线。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/d868c495671434d9c792e0ec26d82b49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6a2toO4WqlLBcb8TJ2odcg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3。∆yᵢ和yᵢ₋₁(图片由作者提供)</p></figure><p id="38b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">Skitlearn linear regression</strong>通过参数fit_intercept很好地支持了这两个选项。图4下面是两条拟合的线。如你所见，有截距的线比没有截距的线更合适。R平方得分也明确证实了这一点。另外，请注意橙色线的斜率小于蓝色线的斜率。换句话说，橙色线的斜率更接近于0。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/bb62aa65fb246e036d1172b26700991c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JgChcqOCmCDh1K3N6Y6w6g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4。线性回归结果(图片由作者提供)</p></figure><p id="0f9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以通过可视化来思考:点不是以(0，0)为中心，所以拟合的回归线不应该经过(0，0)。截距应该大于0。因为0是起始均值，∏y应该大于0，所以总体均值会增加。如果我们强制回归线通过(0，0)，会对数据进行欠拟合，由于来自(0，0)的影响，斜率会变得更接近0。</p><p id="86a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经看到包括截距影响是否符合线性回归。为什么一条线的拟合方式会影响ADF测试结果，p值从何而来？</p><h2 id="d406" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">从线性回归到p值</h2><p id="0719" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在有点复杂了。<strong class="lb iu">DF检验的最终p值不是来自线性回归的系数p值。</strong>基本上，统计数据有一个特定的分布，称为Dickey-Fuller表。然后，我们使用MacKinnon的近似p值进行检验统计。您可以在<a class="ae ky" href="https://www.statsmodels.org/dev/_modules/statsmodels/tsa/stattools.html#adfuller" rel="noopener ugc nofollow" target="_blank"> Statsmodels源代码</a>中找到详细信息。</p><p id="6937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为零假设是δ=0，意味着测试拟合线的斜率是0。我们不需要详细讨论如何获得p值。p值和斜率(线性回归中的δ，而不是趋势斜率)之间关联的逻辑链如下:</p><p id="79ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">一般来说，如果斜率远离0，p值应该更小，更有可能拒绝零假设，暗示无单位根且平稳。如果斜率为0或非常接近0，p值应该更高，更有可能接受零假设，并建议单位根和非平稳。</strong>对于第二种情况，维基百科说，“这些测试的统计能力很低，因为它们通常无法区分真正的单位根过程(δ = 0)和近似的单位根过程(δ接近于0)”。这就是为什么我们首先会有这个问题。我们正在处理一个接近单位根的过程。版本1找到了一个单元根，而版本2找不到单元根。</p><h2 id="8e89" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">为什么版本1适用于上面的例子？</h2><p id="03d7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">版本1适用于图2中的数据，因为我们使斜率更接近0，所以p值更高。</p><p id="d158" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，我们不能使用版本1作为默认设置。版本1有两种情况(强制线通过(0，0)):</p><p id="c0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">情况1: (0，0)更接近所有数据点。如果直线必须经过(0，0)，那么直线会更平坦，斜率会更接近0。图4演示了这种情况。请注意，图4中的演示只适合一个变量yᵢ₋₁，实际的ADF将适合更多的滞后变量。</p><p id="c5ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">情况二:(0，0)远离所有数据点。如果直线必须穿过(0，0)，我们可能会拟合失败；本质上，斜率是0，这意味着我们无法找到∆yᵢ和yᵢ₋₁的线性关系，这样一条线将通过(0，0)并覆盖大多数数据点。<strong class="lb iu">因此，测试结果会偏向有根单元</strong>。</p><p id="5f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的图5显示了版本1测试未能拒绝零假设(p值为0.6)的一个例子，数据是稳定的，平均值为10。图6解释了原因。如你所见，我们找不到没有截距的直线(r平方为0)，所以拟合直线的斜率为0 (∆yᵢ不依赖于yᵢ₋₁).</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/4d29a29044f721c54bdfe85a2a95907a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXFfgKMiGEnqeBUlQ6OqjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5。版本1无法识别静态时间序列(图片由作者提供)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/48a17bf5ea9043e510f19a0f05cadf64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ASNlLxgLihbFCG6zkt8O7g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6。线性回归找不到没有截距的直线(通过(0，0))(图片由作者提供)</p></figure><h2 id="fcc4" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">从DF测试到ADF测试</h2><p id="96c3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">现在我们了解了DF检验是线性回归，以及如何从线性回归中获得p值，让我们继续学习ADF。ADF的公式为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/c5b844a96ccc53035663a43039ca111b.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*U3814nat0hMKP86iAxbFRA.png"/></div></figure><p id="e18b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">再次，线性回归。<strong class="lb iu">“扩充”的部分是我们必须适应更多的系数。</strong></p><p id="07d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">statsmodels包允许显示AFT测试的详细摘要。图7是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/047e94888a3a1136ae868047d7e8dafe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MuzGwU7v7D7gbjjebDz77A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7。ADF测试的详细摘要(图片由作者提供)</p></figure><p id="febb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们看到“OLS回归”(线性回归的默认解决方案)和17个系数。我没有指定最大延迟，所以测试将尝试一个基于时间序列长度的数字，即17。</p><p id="9d1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">常数(截距)也是合适的。该值为0.0596。</p><p id="b19c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过使用Scikit-learn中的线性回归来实现ADF测试。图8是代码和输出。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/e16228923d09b8d800c55514d6222b8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*05DWExiYSmSjtioIiOMHug.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8。用Scikit-learn进行ADF测试(仅线性回归部分)</p></figure><p id="0f13" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">截距为0.0596，其他系数与图7相同。Scikit-learn中的线性回归只是简单的OLS。我们正在做同样的事情，所以结果是一样的也就不足为奇了。</p><h2 id="8ba8" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">旅程的终点</h2><p id="4f74" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在我弄清楚如何设置参数之后，我使用版本1 (regression ='n ')测试了图1中的原始时间序列，得到的p值为0.08，表明它不是平稳的。请注意，图1中的数据是零均值，所以你可以想象(0，0)更接近数据点(∆yᵢ，yᵢ₋₁).使用版本1测试将帮助我们。</p><p id="473a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为图1中的趋势斜率是最小的，所以我们也可以用步长对时间序列进行重采样，这样会增加斜率。例如，如果我用四个步骤测试它(值[::4])，它将不能通过ADF测试的默认设置(回归的p值是0.17 = ' c ')。</p><p id="8718" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">问题解决了。</p><h2 id="4264" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">外卖食品</h2><p id="3a90" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">不要盲目相信ADF结果。可视化是你的朋友。</p><p id="f02d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ADF检验是简单的线性回归，statsmodels的实现使用OLS来解决回归问题。然后，它使用Dickey–Fuller表提取p值，验证拟合回归中第一个滞后变量的系数为0的零假设。</p><p id="4fef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ADF检验在检验近单位根过程(δ接近于0)时有局限性。</p><p id="f90a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要相应地选择合适的ADF版本。例如，当你看到一个恒定的趋势，并想测试“趋势平稳”，你需要选择“ct”作为参数。如图1和图2所示，如果要捕捉均值为0的信号的缓慢趋势，可能需要选择“n”作为参数，以避免拟合截距的影响。Statsmodels还支持带参数“ctt”的量化趋势。在某些情况下，这个高级选项可能是个不错的选择。如果你想进一步挖掘，请参考<a class="ae ky" href="https://en.wikipedia.org/wiki/Dickey%E2%80%93Fuller_test#Dealing_with_uncertainty_about_including_the_intercept_and_deterministic_time_trend_terms" rel="noopener ugc nofollow" target="_blank">处理关于包括截距和确定性时间趋势项</a>的不确定性。</p><p id="9879" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望你对ADF测试有所了解。</p><p id="32db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">享受你的时间序列吧！</p><p id="5944" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/ning-jia-04b55b241/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上联系我。</p><p id="5c78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="na"> PS:我对时间序列数据有经验和热情。如果你喜欢这篇文章，你可能会对我其他关于时间序列</em>  <em class="na">的</em> <a class="ae ky" href="https://medium.com/@ning.jia/list/time-series-7691e7b85020" rel="noopener"> <em class="na">帖子感兴趣。</em></a></p><h2 id="5651" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak">参考文献</strong></h2><p id="0030" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated"><a class="ae ky" href="https://github.com/ningja1/blog_notebooks/blob/main/stationary_adf_test/post.ipynb" rel="noopener ugc nofollow" target="_blank">GitHub上的笔记本文件</a></p></div></div>    
</body>
</html>