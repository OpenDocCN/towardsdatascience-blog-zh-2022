<html>
<head>
<title>How To Reverse Python Lists More Efficiently</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何更有效地反转Python列表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/reverse-python-list-ad10ad408021#2022-10-07">https://towardsdatascience.com/reverse-python-list-ad10ad408021#2022-10-07</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="72da" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">Python中列表的高效反转</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/1ccbe703e64f54f6140460466e1b17d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXmGY0qV1646EO8QxZewqQ.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk">Photo by <a class="ae kz" href="https://unsplash.com/@cdd20?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">愚木混株 cdd20</a> on <a class="ae kz" href="https://unsplash.com/s/photos/reverse?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></p></figure><p id="e977" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">列表是Python中最基本和最常用的数据结构之一。列表是可变的有序对象集合，也可以存储重复值。它们甚至可以用作队列和堆栈(尽管<code class="fe lw lx ly lz b">deque</code>可能更有效)。</p><p id="fc66" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">列表反转是开发人员在编写Python应用程序时执行的一项相当常见的任务。在今天的简短教程中，我们将演示反转列表的几种不同方法，并讨论哪种方法执行得更好，尤其是在处理包含大量数据的列表时。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="d7a6" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">使用负步长的切片</h2><p id="3928" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">现在让我们假设我们有以下由一些数值组成的列表:</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="2e85" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; my_lst = [10, 0, 30, 25, 40, 100, 80]</span></pre><p id="9193" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">我们可以使用切片和步长1来反转列表。</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="c3ca" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; my_lst_reversed = my_lst[::-1]<br/>&gt;&gt;&gt; my_lst_reversed<br/>[80, 100, 40, 25, 30, 0, 10]</span></pre><p id="a25e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><code class="fe lw lx ly lz b">[::-1]</code>符号主要做两件事:</p><ul class=""><li id="1fb9" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv ns nt nu nv bi translated">它选择列表中的所有元素(第一个<code class="fe lw lx ly lz b">:</code>)</li><li id="5e2b" class="nn no iu lc b ld nw lg nx lj ny ln nz lr oa lv ns nt nu nv bi translated">它指定负的步长为1，这意味着以相反的顺序(从结束到开始)检索元素</li></ul><p id="1eec" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果你想了解更多关于Python中切片和索引的知识，你可以参考我以前的一篇文章。</p><div class="ob oc gq gs od oe"><a rel="noopener follow" target="_blank" href="/mastering-indexing-and-slicing-in-python-443e23457125"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">掌握Python中的索引和切片</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">深入研究有序集合的索引和切片</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="oo l op oq or on os kt oe"/></div></div></a></div><p id="9afe" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，这种方法看起来更像Pythonic，但是只有当您想要创建原始列表的副本，以便它包含逆序的元素时，才应该使用这种方法。</p><p id="9c60" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您想就地反转一个列表(或者迭代反转列表的元素)，那么有两个其他的选择，它们比使用负步长进行切片要有效得多。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="dab5" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">使用list.reverse()方法</h2><p id="d832" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">如果您正在考虑就地反转列表的元素(这意味着您实际上不想创建原始列表的另一个副本)，那么<code class="fe lw lx ly lz b">list.reverse()</code>方法是最有效的方法。</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="4fad" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; my_lst = [10, 0, 30, 25, 40, 100, 80]<br/>&gt;&gt;&gt; my_lst.reverse()<br/>&gt;&gt;&gt; my_lst<br/>[80, 100, 40, 25, 30, 0, 10]</span></pre><p id="7265" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">注意，由于<code class="fe lw lx ly lz b">reverse()</code>方法就地发生，我们不需要将操作的结果赋回给变量。除了性能影响之外，我还发现这种方法可读性更好，并且清楚地表明列表被颠倒了。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="6736" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">使用reversed()函数</h2><p id="8db4" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">最后，另一种选择是返回反向迭代器的<code class="fe lw lx ly lz b"><a class="ae kz" href="https://docs.python.org/3/library/functions.html#reversed" rel="noopener ugc nofollow" target="_blank">reversed()</a></code>内置函数。</p><blockquote class="ot ou ov"><p id="128a" class="la lb ow lc b ld le jv lf lg lh jy li ox lk ll lm oy lo lp lq oz ls lt lu lv in bi translated">返回一个反向<code class="fe lw lx ly lz b"><a class="ae kz" href="https://docs.python.org/3/glossary.html#term-iterator" rel="noopener ugc nofollow" target="_blank">iterator</a></code>。</p><p id="956e" class="la lb ow lc b ld le jv lf lg lh jy li ox lk ll lm oy lo lp lq oz ls lt lu lv in bi translated"><em class="iu"> seq </em>必须是具有<code class="fe lw lx ly lz b">__reversed__()</code>方法或支持序列协议的对象(从<code class="fe lw lx ly lz b">0</code>开始的<code class="fe lw lx ly lz b">__len__()</code>方法和<code class="fe lw lx ly lz b">__getitem__()</code>方法，带有整数参数)。</p></blockquote><p id="8044" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在对列表执行向后迭代时，推荐使用这种方法。</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="26aa" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; my_lst = [10, 0, 30, 25, 40, 100, 80]<br/>&gt;&gt;&gt; my_lst_reverse_iter = reversed(my_lst)<br/>&gt;&gt;&gt; my_lst_reverse_iter<br/>&lt;list_reverseiterator object at 0x10afcae20&gt;</span></pre><p id="2a11" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如你所见，<code class="fe lw lx ly lz b">reversed()</code>函数返回了一个迭代器，我们可以对它进行循环:</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="1ce5" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; for element in my_lst_reverse_iter:<br/>...     print(element)<br/>... <br/>80<br/>100<br/>40<br/>25<br/>30<br/>0<br/>10</span></pre><p id="17f3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，您甚至可以将迭代器转换为列表:</p><pre class="kk kl km kn gu nf lz ng nh aw ni bi"><span id="580a" class="mh mi iu lz b gz nj nk l nl nm">&gt;&gt;&gt; my_lst = [10, 0, 30, 25, 40, 100, 80]<br/>&gt;&gt;&gt; my_lst_reverse = list(reversed(my_lst))<br/>&gt;&gt;&gt; my_lst_reverse<br/>[80, 100, 40, 25, 30, 0, 10]</span></pre><p id="df9d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">但是如果这是你的最终目标，我个人会选择<code class="fe lw lx ly lz b">list.reverse()</code>方法。</p></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><h2 id="78f3" class="mh mi iu bd mj mk ml dn mm mn mo dp mp lj mq mr ms ln mt mu mv lr mw mx my mz bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph la lb iu lc b ld na jv lf lg nb jy li lj nc ll lm ln nd lp lq lr ne lt lu lv in bi translated">在今天的简短教程中，我们演示了在Python中反转对象列表的两种不同方法。更具体地说，我们展示了如何使用步长切片、<code class="fe lw lx ly lz b">list</code>的<code class="fe lw lx ly lz b">reverse()</code>方法以及内置的<code class="fe lw lx ly lz b">reversed()</code> Python方法来实现这一点。</p><p id="44a5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">总结一下，</p><ul class=""><li id="df4d" class="nn no iu lc b ld le lg lh lj np ln nq lr nr lv ns nt nu nv bi translated">如果您想就地反转列表，请选择<code class="fe lw lx ly lz b">list.reverse()</code></li><li id="9b7f" class="nn no iu lc b ld nw lg nx lj ny ln nz lr oa lv ns nt nu nv bi translated">如果您想以相反的顺序创建列表的副本，请使用负步长(即<code class="fe lw lx ly lz b">[::-1]</code>)进行切片</li><li id="d4fc" class="nn no iu lc b ld nw lg nx lj ny ln nz lr oa lv ns nt nu nv bi translated">如果你想遍历一个反向列表，使用<code class="fe lw lx ly lz b">reversed()</code>函数</li></ul></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a> <strong class="lc iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="ob oc gq gs od oe"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="on l"><div class="pa l op oq or on os kt oe"/></div></div></a></div></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">相关文章你可能也喜欢</strong></p><div class="ob oc gq gs od oe"><a rel="noopener follow" target="_blank" href="/diagrams-as-code-python-d9cbaa959ed5"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">Python中作为代码的图</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">用Python创建云系统架构图</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="pb l op oq or on os kt oe"/></div></div></a></div></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu oe"><a rel="noopener follow" target="_blank" href="/setuptools-python-571e7d5500f2"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">Python中的setup.py与setup.cfg</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">使用setuptools管理依赖项和分发Python包</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="pc l op oq or on os kt oe"/></div></div></a></div></div><div class="ab cl ma mb hy mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu oe"><a rel="noopener follow" target="_blank" href="/augmented-assignments-python-caa4990811a0"><div class="of ab fp"><div class="og ab oh cl cj oi"><h2 class="bd iv gz z fq oj fs ft ok fv fx it bi translated">Python中的扩充赋值</h2><div class="ol l"><h3 class="bd b gz z fq oj fs ft ok fv fx dk translated">了解增强赋值表达式在Python中的工作方式，以及为什么在使用它们时要小心…</h3></div><div class="om l"><p class="bd b dl z fq oj fs ft ok fv fx dk translated">towardsdatascience.com</p></div></div><div class="on l"><div class="pd l op oq or on os kt oe"/></div></div></a></div></div></div>    
</body>
</html>