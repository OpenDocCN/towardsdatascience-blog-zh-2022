<html>
<head>
<title>Different Ways to Connect Google Drive to a Google Colab Notebook! (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将Google Drive连接到Google Colab笔记本的不同方式！(第二部分)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/different-ways-to-connect-google-drive-to-a-google-colab-notebook-part-2-b867786aed55#2022-10-01">https://towardsdatascience.com/different-ways-to-connect-google-drive-to-a-google-colab-notebook-part-2-b867786aed55#2022-10-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="076f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Google Colab处理数据的协作方式</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ed1c702f0615b9b8cdee0a2463fe79af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zWUNOvqToN4hMt0i"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@dtopkin1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">戴恩·托普金</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="95e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">继续讨论<a class="ae kv" href="https://medium.com/towards-data-science/different-ways-to-connect-google-drive-to-a-google-colab-notebook-pt-1-de03433d2f7a" rel="noopener">将Google Drive连接到Google Colab笔记本的不同方式</a>这一次我想分享仅通过文档名称调用google sheet文件并使其成为熊猫数据框的方法。此外，我想分享2种不同的方式，我用来发送数据帧到一个新的谷歌表文件或更新现有的一个。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/ddc676d90c2a849380250d72feb56ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lqEGXudsYtazsdiC"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@mxhpics?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Maxime Horlaville </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="2c81" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">Google协作代码片段</h2><p id="c42c" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">谷歌合作实验室有一个很棒的地方，那就是他们的代码片段可以帮助你做很多事情。从使用<strong class="ky ir"> Altair </strong>库的可视化到使用python的数据库连接，甚至是使用网络摄像头捕捉图像以便在运行时处理的代码片段(Colab内核)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/a03c3b7aadbf726542045217d440038a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hzZD2HZgAiwNwD2MBJL9zw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Google Colab代码片段Altair库可视化—作者图片</p></figure><p id="9aa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要访问此Google协作片段:</p><ol class=""><li id="287c" class="mz na iq ky b kz la lc ld lf nb lj nc ln nd lr ne nf ng nh bi translated">去你的Google Colab笔记本。</li><li id="b91f" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">点击笔记本左下方的代码符号。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/f1ce7ef8a608154b12bf1c6f6f36f1a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:910/format:webp/1*XmxBsGc30xZG8C9XT1QYMw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代码片段—作者图片</p></figure><p id="53c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.单击显示代码片段列表后，它会在笔记本上自动提示为一个新选项卡。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi no"><img src="../Images/a0f0d09a74556b48a881845b29960bcd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCpZ1F5QMfb_zFcRXCr5sQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代码片段2 —作者图片</p></figure><p id="ca1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.您可以使用过滤器部分来搜索您需要的代码片段。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi np"><img src="../Images/f99120b429399032dbb4ac7cbba8a96a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dibEOVXbsXrsIRB5pRQL5g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Google Sheets代码片段——作者图片</p></figure><p id="e8ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您忘记了连接到Google Drive或将数据保存到Google Sheet的代码，这可能会对您有所帮助，我将在本文中向您展示这一点。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="c911" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">连接到一个特定的google工作表并使其成为一个数据框架</h2><p id="001d" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">在第一部分中，您将学习如何通过使用文档名将google sheets数据连接到google colab笔记本。</p><ol class=""><li id="37f4" class="mz na iq ky b kz la lc ld lf nb lj nc ln nd lr ne nf ng nh bi translated">你将认证</li><li id="d552" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">然后将带来谷歌证书进行连接</li><li id="b512" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">授权连接</li><li id="db7c" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">使用google工作表的名称连接到该工作表(输入名称，替换“”中的{}。并指定文档的工作表(选项卡)。</li><li id="491d" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">导出所有数据值。</li><li id="b9ef" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">使用pandas将其转换为Pandas数据框架</li><li id="f3ab" class="mz na iq ky b kz ni lc nj lf nk lj nl ln nm lr ne nf ng nh bi translated">搞定了。开始你的分析。</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ns"><img src="../Images/7d391f81e6835ed6270b8a1ee33e216f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TJDf88GGtrmmUjdV7TCxQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代码和示例—作者图片</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="315a" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">更新现有的Google表单</h2><p id="01ee" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">下一段代码将帮助您获取已经存在的google sheet，并用Google Colab中的新数据更新它。</p><p id="d5d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为在上一点中，我们学习了使用名称打开Google Sheet，所以让我们使用Google Sheet键(URL中的一系列数字和字母，给出了唯一的键标识符)。</p><ol class=""><li id="a036" class="mz na iq ky b kz la lc ld lf nb lj nc ln nd lr ne nf ng nh bi translated">让我们从google collaboratory中的<strong class="ky ir"> vega_datasets、</strong> datasets中获取数据。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/9270859b454367413dfd465545245ec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9yboLG1W5A8W4vEHVLW-WA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Czars数据集-按作者分类的图像</p></figure><p id="66e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.现在我们已经有了数据集，让我们确保它不包含任何<em class="nu"> Nan </em>值，因为这在更新过程中不会被识别，并且会给我们带来错误。<br/> -我们可以使用下面的代码来查看任何包含空值的列，以及显示了多少个空值:</p><pre class="kg kh ki kj gt nv nw nx ny aw nz bi"><span id="d340" class="ma mb iq nw b gy oa ob l oc od">cars.isnull().sum()</span></pre><p id="d030" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于数据中出现的空值是数值，我们可以用0填充这些值。由于这只是一个练习，我们并没有对数据进行深入的分析，所以我将用0来填充这些数据，但是在现实世界中，如果我们想要有好的数据，您应该更好地处理这些空值。<br/> -我过去用过的一些处理空值的方法:<br/> 1。计算您的列中的空值百分比，如果它很大，您应该考虑删除该列，如果基本上整个列都是Nan，它不会给您任何洞察力。<br/> 2。如果%根本不重要，并且你认为它可以处理，看看你是否可以使用平均值或使用0。<br/> 3。使用数据估算器(参见我的文章<a class="ae kv" href="https://medium.com/towards-data-science/showing-buenos-aires-properties-in-a-map-with-plotly-57ab3cdcd4b1" rel="noopener">用Plotly在地图中显示布宜诺斯艾利斯属性</a>，其中我展示了如何使用估算器来填充经度和纬度数据列中的空值)。</p><p id="e8b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.用0填充空值</p><pre class="kg kh ki kj gt nv nw nx ny aw nz bi"><span id="2bfa" class="ma mb iq nw b gy oa ob l oc od">cars.fillna(0, inplace=True)</span></pre><p id="d3ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.在用0填充这些空值之后，让我们使用键连接到google sheet。在这里，您需要将{key}更改为可以在URL中找到的google sheet key</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/25a16108f744e9956f829450d3d24240.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*s_HjlJN44MvLD-unlUkQ8Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">谷歌工作表关键字——作者图片</p></figure><p id="a0d1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.现在，我们需要将数据转换成列表，以便在更新过程中可以识别数据，这是为了显示数据应该在哪里(单元格)以及每个值的列名。<br/>在我们进行更新之前，我们应该确保我们所有的数据都是以字符串或int/float数据类型分配给更新列表的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/44d4a415235927ba5387eda66d22d038.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*VOIj9nc2JRtX3p30n_hXMQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">代码示例更新—作者图片</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h2 id="cf82" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">使用Google Colab创建新的电子表格并添加数据</h2><p id="00bb" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">最后，我们正在使用Google Colab笔记本创建一个新的电子表格，并添加新数据。如果您正在使用google colab对您带来的一些数据进行分析，并希望使用google sheets对其进行分析，但不想下载并上传到Google sheets，或者不想更新您已经拥有的电子表格，并希望使用新的电子表格进行输出，这可能会对您有所帮助。你可以在不同的场合使用这个。</p><p id="00c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与我们之前使用的代码有些类似，但这次只是为了从头开始创建一个新的电子表格。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nq nr l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4b9a7bbeaace00bb80bab559b61cd1bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/format:webp/1*r8ffms_PTwxJFHtB8Veuyw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建和添加数据-按作者分类的图像</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/625d8612f458d1e4483c349e9b8bbfe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*XHjHJuijL8Di1E8jEJE-_Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">结果—作者提供的图像</p></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="0562" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这样，我最终确定了一些将Google Drive连接到Google Colab笔记本的不同方式。这些是我过去在协作环境中使用过的一些东西，对我帮助很大，最重要的是，您不需要将代码或Jupyter笔记本发送给某人来运行、安装库并为他们创建一个运行它的环境，这也有助于避免发送文件，这需要时间，只需在同事或团队成员之间共享即可。</p><h2 id="0919" class="ma mb iq bd mc md me dn mf mg mh dp mi lf mj mk ml lj mm mn mo ln mp mq mr ms bi translated">希望这对yall很有用！</h2><p id="d8bf" class="pw-post-body-paragraph kw kx iq ky b kz mt jr lb lc mu ju le lf mv lh li lj mw ll lm ln mx lp lq lr ij bi translated">一如既往，我将很高兴知道您的任何<strong class="ky ir">反馈</strong>！如果你有任何与此相关的新话题，想知道如何去做，请告诉我，我会写下来的！</p><p id="f300" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">PD:不要忘记所有这些代码片段都可以在google colab笔记本的代码片段特性下找到！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/8d83d3260fd63c89eacdac6922b79987.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wntYMeh68eQe8vlL"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@mattjonesgram?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马特·琼斯</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure></div></div>    
</body>
</html>