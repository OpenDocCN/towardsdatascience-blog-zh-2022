<html>
<head>
<title>Obtain Unlimited Historical Crypto Data through Simple Web Code -no API Keys</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过简单的Web代码获得无限的历史加密数据-没有API密钥</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/obtain-unlimited-historical-crypto-data-through-simple-api-calls-without-keys-8a6f5ed55b43#2022-02-04">https://towardsdatascience.com/obtain-unlimited-historical-crypto-data-through-simple-api-calls-without-keys-8a6f5ed55b43#2022-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9ad7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从基于web的代码中调用CoinGecko的免费API来获取价格、交易量和市值，您可以根据自己的需要调整显示、绘制或下载数据。</h2></div><p id="6d5a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="le">免责声明:你在这里找不到任何金融建议，我也不是加密货币、加密艺术、NFT及其交易等方面的专家。我只赠送免费创意加HTML+JavaScript代码通过API调用这个加密货币数据聚合器获取数据；我展示了一些从这些数据中得出的图表，还有一些我自己的主观看法。</em></p><p id="3229" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">跳转到:</strong> <a class="ae lf" href="#310e" rel="noopener ugc nofollow"> <strong class="kk iu">简介</strong> </a> <strong class="kk iu"> | </strong> <a class="ae lf" href="#eff4" rel="noopener ugc nofollow"> <strong class="kk iu">一个从coingeko</strong></a><strong class="kk iu">|</strong><a class="ae lf" href="#8f8a" rel="noopener ugc nofollow"><strong class="kk iu">检索数据的小型web app一个个人加密数据绘图app</strong></a><strong class="kk iu">|</strong><a class="ae lf" href="#3e2b" rel="noopener ugc nofollow"><strong class="kk iu">更多灵感</strong> </a></p><p id="36a7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">早在2021年8月，我就对加密货币、加密艺术、NFT等产生了兴趣。我想自己玩加密货币数据。我在网站、新闻、app上到处看到剧情；但是，我怎样才能得到实际的数据来玩它，做我自己的计划和调查呢？尤其是，我如何确保每次我请求它时它都是最新的？通过研究，我发现通过编写连接到API的小网页，我可以很容易地从CryptoCompare.com获得数据。在本文中，我描述了这个API的基础知识以及使用它所需的HTML+JavaScript代码，还包括一些现成的例子:</p><div class="lg lh gp gr li lj"><a rel="noopener follow" target="_blank" href="/obtaining-historical-and-real-time-crypto-data-with-very-simple-web-programming-7b481f153630"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd iu gy z fp lo fr fs lp fu fw is bi translated">通过非常简单的web编程获得历史和实时加密数据</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">在学习加密货币的过程中，我迫切需要数据来操纵我自己去做我自己的阴谋和…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx ly lj"/></div></div></a></div><h2 id="310e" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">CryptoCompare的API的一个小问题，以及为什么有些问题我更喜欢CoinGecko</h2><p id="9300" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">在其免费版本中，CryptoCompare的API被限制为每次调用2000个数据点。这意味着，例如，要覆盖比特币的全部每日历史数据，您需要执行3次调用。当时，我通过递归调用进行API调用的函数解决了这个问题，只需要3次调用就可以了。然而，如果你想要那么多年的每小时数据，你将需要几十个连续的调用，增加了相当多的时间，在此期间，应用程序将被阻塞，等待所有调用完成。</p><p id="f86c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">有了CoinGecko的API，您就没有这种限制。每个调用的大小基本上没有限制，所以我可以在一个调用中获得任何加密货币的完整历史数据。更确切地说，限制是每分钟的通话次数，在我最近的测试中是50次。这意味着您可以一次性请求比特币、以太坊和48种其他货币的数据。(不尽然，因为实际上有些调用失败了，所以你需要再次运行它们；反正那一点都不差！)</p><p id="9163" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，CoinGecko是一个数据聚合器，这意味着它拥有比其他数据提供的更多的加密货币数据。特别是，在最近一次客户要求的搜索中，我可以找到截至2021年底大约有300个DeFis可用。我猜这可能是以牺牲准确性为代价的；然而，我对照其他数据提供商检查了一些货币，CoinGecko的结果是一致的。</p><p id="03bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个不好的地方是，CoinGecko的免费API调用在每个时间点只返回一个价格(加上市值和成交量)，而没有单独的最高价、最低价、开盘价和收盘价。至少在基本的免费模式下是如此。</p><h2 id="8cf5" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">CoinGecko及其免费API</h2><p id="ae13" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">CoinGecko <strong class="kk iu"> </strong>跟踪并聚合加密货币数据，为用户分析加密市场提供数字货币的完整视图和工具。他们跟踪大量硬币的市场资本总额、价格和数量，并跟踪社区增长、软件开发、市场中的重大事件以及发展和拓展等。</p><p id="cc86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在其网站的“关于”<em class="le">中解释说，CoinGecko成立于2014年[……]，其使命是使加密数据的访问民主化，并为用户提供可操作的见解</em>。我认为他们已经很好地实现了他们的目标，这可以从他们网站上免费提供的大量文档以及他们的报告、出版物(包括两本书)、时事通讯中得到证明，最重要的是，他们强大的、易于使用的和记录良好的API。</p><p id="38fe" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在前一节我刚刚介绍了CoinGecko的免费API，所以我在这里只添加了一个到其<a class="ae lf" href="https://www.coingecko.com/en/api" rel="noopener ugc nofollow" target="_blank">主网页</a>的链接和一个到其<a class="ae lf" href="https://www.coingecko.com/en/api/documentation" rel="noopener ugc nofollow" target="_blank">文档</a>的链接。他们也有付费服务，提供更多的功能和支持。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="eff4" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">编写一个从CoinGecko检索数据的小型web应用程序</h1><p id="af8a" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">通过结合HTML和JavaScript，您可以创建一个简单的网页，通过调用CoinGecko的API从coin gecko检索数据。</p><p id="ad57" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">点击此处查看一个示例，该示例检索过去10天以太坊以美元为单位的每小时数据(价格、市值和交易量):</p><p id="a7eb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lf" href="https://lucianoabriata.altervista.org/tests/cryptogames/coingeckoexample.html" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">https://lucianoabriata . alter vista . org/tests/cryptogames/coingeckoexample . html</strong></a></p><p id="ec41" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是从该网页中剥离出来的核心JavaScript代码，您可以看到API调用是如何工作的(我删除了所有不重要的内容，并使代码更简单，以明确要点):</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="3c80" class="lz ma it nu b gy ny nz l oa ob">fetch("<a class="ae lf" href="https://api.coingecko.com/api/v3/coins/ethereum/market_chart?vs_currency=USD&amp;days=10&amp;interval=hourly" rel="noopener ugc nofollow" target="_blank">https://api.coingecko.com/api/v3/coins/ethereum/market_chart?vs_currency=USD&amp;days=10&amp;interval=hourly</a>")<br/>  .then(function(resp) {<br/>    return resp.json();<br/>  })<br/>  .then(function(data) {<br/>    var txt="(setup table HTML)"<br/>    <br/>    //Iterate to extract the data and place it into the table HTML<br/>    for (var i=0;i&lt;data.prices.length;i++){<br/>      txt = txt + "&lt;tr&gt;&lt;td&gt;" + data.prices[i][0] + "&lt;/td&gt;&lt;td&gt;" + serialDateToNiceDate(data.prices[i][0]) + "&lt;/td&gt;&lt;td&gt;" + data.market_caps[i][1] + "&lt;/td&gt;&lt;td&gt;" + data.prices[i][1] + "&lt;/td&gt;&lt;td&gt;" + data.total_volumes[i][1] + "&lt;/tr&gt;\n"<br/>    }<br/>    txt = txt + "\n&lt;/table&gt;" //Close table<br/>    document.write(txt)<br/>  })<br/>}</span></pre><p id="851a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本质上，这是一个<strong class="kk iu"> <em class="le"> fetch </em> </strong>命令，使用与您想要检索的内容相对应的参数来调用URL。当调用被解析时，你得到一个名为<strong class="kk iu">数据</strong>的对象，它包含<strong class="kk iu">。价格</strong>、<strong class="kk iu">。市值</strong>和<strong class="kk iu">。总量</strong>。其中每一个都包含一个日期数组(索引0)和另一个价格、资本化或成交量数组(索引1)。</p><p id="d64f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的例子中，一个<strong class="kk iu"> <em class="le"> for </em> </strong>循环遍历所有的值来编写一个表的HTML代码，该代码在过程结束时用一个<em class="le"> document.write() </em>行注入到文档中。</p><p id="6726" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，请注意，在URL中，您必须指明<em class="le">硬币id </em>，而不是其通用名称。在这个例子中是“以太坊”而不是ETH。同样，你可能需要“比特币”而不是BTC，或者“基本注意力令牌”而不是英美烟草，等等。</p></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><h1 id="8f8a" class="ne ma it bd mb nf ng nh me ni nj nk mh jz nl ka mk kc nm kd mn kf nn kg mq no bi translated">轻松构建更复杂的程序，如您的个人加密数据绘图或下载应用程序</h1><p id="71b5" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">您可以轻松地将上面的代码进一步开发成一个web应用程序，例如实时更新数据，或者设置它以便在移动中可视化，或者创建文件供下载并在您选择的电子表格或数据分析程序中使用。</p><p id="64de" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，下一个应用程序允许用户在3种货币中选择，并实时查看美元价格。它将上述代码与Google的网络图表库集成在一起。</p><p id="36bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae lf" href="https://lucianoabriata.altervista.org/tests/cryptogames/coingeckoexample2.html" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">https://lucianabriata . alter vista . org/tests/cryptogames/coingeckoexample 2 . html</strong></a></p><p id="35f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是在我的智能手机上运行的截图:</p><figure class="np nq nr ns gt od gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/010bcf572f182abfbbda01dce510a37e.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*ZNbuiI0gURZWFF93DKfL8w.png"/></div></figure><p id="e58a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该示例显示了基本注意力令牌(BAT)的价格，这是一种有趣的加密货币，与我之前提到的勇敢浏览器相关联:</p><div class="lg lh gp gr li lj"><a href="https://medium.com/technology-hits/i-like-the-principles-behind-brave-browser-but-the-surf-to-earn-leitmotif-is-pure-deception-c5f0caf05755" rel="noopener follow" target="_blank"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd iu gy z fp lo fr fs lp fu fw is bi translated">我喜欢Brave browser背后的原则，但我不认为用户会真正“靠…赚钱”</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">Brave是一款免费的网络浏览器，通过自动屏蔽广告和…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">medium.com</p></div></div><div class="ls l"><div class="of l lu lv lw ls lx ly lj"/></div></div></a></div><h2 id="3e2b" class="lz ma it bd mb mc md dn me mf mg dp mh kr mi mj mk kv ml mm mn kz mo mp mq mr bi translated">想要更多灵感？</h2><p id="ac16" class="pw-post-body-paragraph ki kj it kk b kl ms ju kn ko mt jx kq kr mu kt ku kv mv kx ky kz mw lb lc ld im bi translated">鉴于您在我之前关于检索加密数据的文章中有更多的想法:</p><div class="lg lh gp gr li lj"><a rel="noopener follow" target="_blank" href="/obtaining-historical-and-real-time-crypto-data-with-very-simple-web-programming-7b481f153630"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd iu gy z fp lo fr fs lp fu fw is bi translated">通过非常简单的web编程获得历史和实时加密数据</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">在学习加密货币的过程中，我迫切需要数据来操纵我自己去做我自己的阴谋和…</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ls l"><div class="lt l lu lv lw ls lx ly lj"/></div></div></a></div><p id="bb3b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我向您推荐这篇文章，在这篇文章中，我将基于网络的虚拟现实与基于网络的加密货币数据检索相结合:</p><div class="lg lh gp gr li lj"><a rel="noopener follow" target="_blank" href="/live-display-of-cryptocurrency-data-in-a-vr-environment-on-the-web-af476376d018"><div class="lk ab fo"><div class="ll ab lm cl cj ln"><h2 class="bd iu gy z fp lo fr fs lp fu fw is bi translated">网上虚拟现实环境中加密货币数据的实时显示</h2><div class="lq l"><h3 class="bd b gy z fp lo fr fs lp fu fw dk translated">一种“虚拟股票交易中心”</h3></div><div class="lr l"><p class="bd b dl z fp lo fr fs lp fu fw dk translated">towardsdatascience.com</p></div></div><div class="ls l"><div class="og l lu lv lw ls lx ly lj"/></div></div></a></div></div><div class="ab cl mx my hx mz" role="separator"><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc nd"/><span class="na bw bk nb nc"/></div><div class="im in io ip iq"><p id="b785" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">喜欢这篇文章，想给我提示？【<a class="ae lf" href="https://www.paypal.me/LAbriata" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu"/></a>】-谢谢！</p><p id="86c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">www.lucianoabriata.com<em class="le"><a class="ae lf" href="https://www.lucianoabriata.com/" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu"><em class="le">我写作并拍摄我广泛兴趣范围内的一切事物:自然、科学、技术、编程等等。</em> <a class="ae lf" href="https://lucianosphere.medium.com/membership" rel="noopener"> <strong class="kk iu"> <em class="le">成为媒介会员</em> </strong> </a> <em class="le">访问其所有故事(我为其获得小额收入的平台的附属链接无需您付费)和</em> <a class="ae lf" href="https://lucianosphere.medium.com/subscribe" rel="noopener"> <strong class="kk iu"> <em class="le">订阅获取我的新故事</em> </strong> </a> <strong class="kk iu"> <em class="le">通过电子邮件</em> </strong> <em class="le">。到</em> <strong class="kk iu"> <em class="le">咨询关于小职位</em> </strong> <em class="le">查看我的</em> <a class="ae lf" href="https://lucianoabriata.altervista.org/services/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> <em class="le">服务页面这里</em> </strong> </a> <em class="le">。你可以</em> <a class="ae lf" href="https://lucianoabriata.altervista.org/office/contact.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> <em class="le">这里联系我</em> </strong> </a> <strong class="kk iu"> <em class="le">。</em>T55】</strong></strong></a></em></p></div></div>    
</body>
</html>