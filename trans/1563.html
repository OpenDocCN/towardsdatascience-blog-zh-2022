<html>
<head>
<title>How to Access Data from the Twitter API using Tweepy (Python)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Tweepy (Python)从Twitter API访问数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-access-data-from-the-twitter-api-using-tweepy-python-e2d9e4d54978#2022-04-15">https://towardsdatascience.com/how-to-access-data-from-the-twitter-api-using-tweepy-python-e2d9e4d54978#2022-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="2e3b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Twitter API允许你做很多事情，包括检索tweet数据。为了访问这些数据，您需要一个开发人员帐户。使用Twitter API应该是一件容易的事情，但是有时候图片和简单的代码可以帮你避免一些挫折。</p><p id="10c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本教程介绍了:</p><ul class=""><li id="95d1" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">如何设置Twitter开发者账户</li><li id="da49" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">使用tweepy (Python)访问Twitter数据</li></ul><h1 id="6023" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">如何设置Twitter开发者账户</h1><p id="e8c3" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">1.)创建一个<a class="ae mc" href="https://twitter.com" rel="noopener ugc nofollow" target="_blank"> twitter账户</a>，如果你还没有的话。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi md"><img src="../Images/e284370683561d7b2dca893adae39c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5Lw7l_U8m9wtXwXzKdhAA.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">如果你已经有了twitter，你可以跳过这一步。图像由<a class="ae mc" href="https://twitter.com/GalarnykMichael" rel="noopener ugc nofollow" target="_blank">迈克尔·加拉尼克</a>拍摄。</p></figure><p id="9b72" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.)在<a class="ae mc" href="https://developer.twitter.com/en/apply/user" rel="noopener ugc nofollow" target="_blank"> twitter开发者账户页面</a>，你会被要求回答几个问题。例如，我被要求输入电话号码、国家和用例。下一步是阅读并同意开发者协议。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mt"><img src="../Images/cb1130e6e92f2cfd76ab0be84bc6c757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4KQpxFS50OQ93SrzQGq9Q.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">迈克尔·加拉尼克的图片。</p></figure><p id="1203" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.)验证你的邮箱。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mu"><img src="../Images/c44c607a910ac139f385e2576ca2c553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KZmlMmE_vEpJxulnlFXglg.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">迈克尔·加拉尼克的图片。</p></figure><p id="da0f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.)验证您的电子邮件后，您将被发送到欢迎屏幕。命名你的应用程序，然后点击获取密钥。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mv"><img src="../Images/32e7d9c2bdf5e657b0f149769dbea008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JEhtItxh1-Qfj9WAa6rUpA.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">迈克尔·加拉尼克的图片。</p></figure><p id="8613" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.)您现在可以访问您的密钥了。请确保将您的信息保存到安全的位置。您将需要它们使用twitter api来访问数据。对于OAuth 2.0来说，这些信息已经足够了。</p><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mw"><img src="../Images/c3137914f839a07c087914a0f5785df0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hP5BNhJ2NVruJUKdhpn4XA.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">迈克尔·加拉尼克拍摄的图片。</p></figure><h1 id="683c" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">使用tweepy访问Twitter数据</h1><p id="da2c" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">本节简要介绍如何使用Python tweepy库访问twitter数据。要开始使用这个库，您需要通过pip安装它。</p><pre class="me mf mg mh gt mx my mz na aw nb bi"><span id="f1c9" class="nc la iq my b gy nd ne l nf ng">pip install tweepy</span></pre><figure class="me mf mg mh gt mi gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi nh"><img src="../Images/921a996fddd17e27f670ae84db75d2ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AHQAbYe_KNTzc26DSkG7bg.png"/></div></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">pip安装套件</p></figure><h2 id="6b4d" class="nc la iq bd lb ni nj dn lf nk nl dp lj jy nm nn ln kc no np lr kg nq nr lv ns bi translated">搜索过去7天的推文</h2><p id="b269" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">下面的代码将搜索并返回过去7天的推文，每个请求最多100条推文。这段代码搜索包含#petday标签的英文tweets(而不是retweets)。</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt nu l"/></div><p class="mp mq gj gh gi mr ms bd b be z dk translated"><a class="ae mc" href="https://gist.github.com/mGalarnyk/37b6c10580f4dabbed1c760265344a3c" rel="noopener ugc nofollow" target="_blank">要点</a></p></figure><p id="6301" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">请注意，为了获取过去7天之前的推文，您需要使用<code class="fe nv nw nx my b">search_all_tweets</code>方法，该方法仅在您升级到<a class="ae mc" href="https://developer.twitter.com/en/products/twitter-api/academic-research" rel="noopener ugc nofollow" target="_blank">学术研究产品跟踪</a>或<a class="ae mc" href="https://developer.twitter.com/en/docs/twitter-api/getting-started/about-twitter-api" rel="noopener ugc nofollow" target="_blank">其他提升的访问级别</a>时可用。这里有一个关于使用这种方法的博客<a class="ae mc" href="https://dev.to/twitterdev/a-comprehensive-guide-for-using-the-twitter-api-v2-using-tweepy-in-python-15d9#:~:text=2.%20Searching%20for%20Tweets%20from%20the%20full%2Darchive%20of%20public%20Tweets" rel="noopener ugc nofollow" target="_blank"/>。</p><h2 id="c266" class="nc la iq bd lb ni nj dn lf nk nl dp lj jy nm nn ln kc no np lr kg nq nr lv ns bi translated">使用paginator一次获得超过100条推文</h2><p id="c78e" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">如果你需要超过100条推文，你必须使用<a class="ae mc" href="https://docs.tweepy.org/en/latest/v2_pagination.html" rel="noopener ugc nofollow" target="_blank">分页器</a>方法并指定限制，即你想要的推文总数。将limit=1000替换为您想要的最大tweets数。</p><figure class="me mf mg mh gt mi"><div class="bz fp l di"><div class="nt nu l"/></div><p class="mp mq gj gh gi mr ms bd b be z dk translated">把limit=1000换成你想要的最大推文数量(<a class="ae mc" href="https://gist.github.com/mGalarnyk/5b251ea41c3626d6965ac7d5006da432" rel="noopener ugc nofollow" target="_blank"> gist </a>)。</p></figure><h1 id="c7b0" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">常见问题+ Twitter API资源</h1><p id="ae0b" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">本节旨在提供关于身份验证和twitter API的常见问题的答案和/或资源。自然，如果有人评论这篇博文，我会尽我所能回答这里的问题。</p><p id="90bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本节尽力提供人们在使用Twitter API和tweepy时遇到的常见问题。</p><h2 id="3ce2" class="nc la iq bd lb ni nj dn lf nk nl dp lj jy nm nn ln kc no np lr kg nq nr lv ns bi translated">OAuth 1.0和OAuth 2.0有什么区别？</h2><p id="1d6d" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">这里有一个很好的stackoverflow答案<a class="ae mc" href="https://stackoverflow.com/questions/4113934/how-is-oauth-2-different-from-oauth-1" rel="noopener ugc nofollow" target="_blank"/>。<a class="ae mc" href="https://www.synopsys.com/blogs/software-security/oauth-2-0-vs-oauth-1-0/#:~:text=OAuth%202.0%20is%20much%20more,Better%20separation%20of%20duties" rel="noopener ugc nofollow" target="_blank"> synopsys也有一篇很棒的文章</a>介绍了签名工作流程如何适用于每一种情况。</p><h2 id="4ad7" class="nc la iq bd lb ni nj dn lf nk nl dp lj jy nm nn ln kc no np lr kg nq nr lv ns bi translated">我如何做一些事情，比如获得用户的关注者，喜欢一条推文的用户等等？</h2><p id="f633" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">Twitter上有一个全面的指南<a class="ae mc" href="https://dev.to/twitterdev/a-comprehensive-guide-for-using-the-twitter-api-v2-using-tweepy-in-python-15d9" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h1 id="086f" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">结论</h1><p id="fde1" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">本教程是关于Twitter API入门的。未来的教程将介绍如何导出twitter数据以及情感分析。如果您对本教程有任何问题或想法，请在下面的评论中或通过<a class="ae mc" href="https://twitter.com/GalarnykMichael" rel="noopener ugc nofollow" target="_blank"> Twitter </a>联系我们。</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="7526" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">【https://community.cnvrg.io/】原载于<a class="ae mc" href="https://community.cnvrg.io/t/access-data-from-the-twitter-api-using-tweepy-python/74" rel="noopener ugc nofollow" target="_blank"/><em class="of">。</em></p></div></div>    
</body>
</html>