<html>
<head>
<title>Explore Fireballs with the NASA Fireball Data API, Python, and Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用NASA火球数据API、Python和Tableau探索火球</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/explore-fireballs-with-the-nasa-fireball-data-api-python-and-tableau-3be04c2d548d#2022-04-16">https://towardsdatascience.com/explore-fireballs-with-the-nasa-fireball-data-api-python-and-tableau-3be04c2d548d#2022-04-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="a542" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">天文学、数据科学、Python和Tableau</h2><div class=""/><div class=""><h2 id="3ff3" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">火球是比平常更亮的流星，在海拔100公里处可见</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/e3c2eecd3cfaec45c60af9e0176f81d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cvips8yjdEZqujuD0vyc5A.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">流星(又称流星或流星)。尼尔·拉萨尔的照片:<a class="ae lh" href="https://www.pexels.com/photo/silhouette-of-trees-during-nighttime-631477/" rel="noopener ugc nofollow" target="_blank">https://www . pexels . com/photo/silhouette-of-trees-in-night-631477/</a>。</p></figure></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><blockquote class="lp"><p id="6f46" class="lq lr it bd ls lt lu lv lw lx ly lz dk translated">“我宁愿做一颗华丽的流星，让我的每一个原子都发出壮丽的光芒，也不愿做一颗沉睡而永恒的行星。”——<strong class="ak">杰克·伦敦</strong></p></blockquote></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><p id="2a19" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi mv translated">流星体、小行星或彗星从外层空间进入地球大气层后，空气动力加热使它们发光。它们变成了流星，也被称为流星或流星，划过夜空。火球是比平常更亮的流星，在海平面100公里内可见。</p><p id="5f2e" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">美国流星协会估计每天有几千个火球穿过大气层。根据美国国家航空航天局(NASA)的数据，自1988年以来，美国政府的传感器已经捕获了少量火球的数据。这些数据可以免费下载，也可以通过美国宇航局喷气推进实验室(JPL)火球数据API获得。</p><p id="fa79" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">本文将演示如何编写一个Python程序，用火球数据API检索JSON格式的火球数据。然后，它将JSON结构转换为逗号分隔值(CSV)记录，并将其写入文件。最后，它在一个Tableau公共数据可视化仪表板中显示火球数据。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ne"><img src="../Images/581226ca72ae65a5bfd2cb0ad27e8f6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ei11qTSQP5ALDH2VFiifew.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者在Tableau Public中用NASA火球数据API检索的数据构建了这个火球仪表盘。2022年兰迪·朗奇。</p></figure><h1 id="c038" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">火球数据</h1><p id="ea5e" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">火球数据由JPL近地天体研究中心管理。在我们开始使用火球数据API检索数据之前，让我们先熟悉一下NASA网站上可用的火球数据。以下是火球数据元素:</p><ul class=""><li id="71fb" class="oc od it mc b md me mg mh mj oe mn of mr og lz oh oi oj ok bi translated">峰值亮度的日期和时间</li><li id="55ad" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">纬度(度)</li><li id="0623" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">经度(度)</li><li id="85bf" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">海拔高度(千米)</li><li id="8c9c" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">速度(四种度量)以千米每秒为单位</li><li id="4c5b" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">总辐射能量(焦耳)</li><li id="1b23" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated">以千吨为单位计算的总冲击能量</li></ul><p id="1430" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">截至2022年4月12日，CNEOS已经记录了914次火球记录。除了用fireball数据API检索之外，还可以打印记录，保存到CSV文件，或者从Fireball网页保存到Excel文件，如下所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/af805e8ebc9ed7e11d301a02d8ff284d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zmXgftAZoWwEDDMVj7Ip3w.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">火球记录样本。请注意[打印]、[CSV]和[保存]按钮。Randy Runtsch截图。</p></figure><h1 id="eee1" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">火球数据API</h1><p id="28b3" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">火球数据API由三个查询组成。为了简单起见，并且因为数据集只包含914条记录，所以本教程使用第一个查询来检索所有记录。其他查询检索特定数量的最新记录和基于日期范围和高度的记录:下面是返回所有记录的查询:</p><blockquote class="or os ot"><p id="7943" class="ma mb ou mc b md me kd mf mg mh kg mi ov mk ml mm ow mo mp mq ox ms mt mu lz im bi translated">https://ssd-api.jpl.nasa.gov/fireball.api<a class="ae lh" href="https://ssd-api.jpl.nasa.gov/fireball.api" rel="noopener ugc nofollow" target="_blank"/></p></blockquote><p id="5115" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">调用这个API查询以JSON格式的数据结构返回数据。下面显示了一个包含三个样本记录的示例。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/1c12afa27d6dfa419f50064c038072bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e5E6uitSFxs0KrdqtbeU-g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">使用火球数据API返回的JSON格式的火球记录示例。Randy Runtsch截图。</p></figure><p id="7e81" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">下一节描述的Python程序将以Python列表的形式从JSON结构中检索“字段”和“数据”。然后，它会将它们逐个记录地写入一个CSV文件。</p><h1 id="98c2" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">运行程序调用火球数据API的先决条件</h1><p id="970b" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">要运行下一节中显示的代码，您需要以下内容:</p><ol class=""><li id="1473" class="oc od it mc b md me mg mh mj oe mn of mr og lz oz oi oj ok bi translated">你电脑上最新版本的Python。我用Python 3.10做了这个教程，<a class="ae lh" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">，这里有</a>。</li><li id="ab10" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">代码编辑器或集成开发环境(IDE)。我使用免费的微软Visual Studio Community 2022 for Windows。你可以在这里<a class="ae lh" href="https://visualstudio.microsoft.com/vs/community/" rel="noopener ugc nofollow" target="_blank">下载</a>。如果您选择使用它，一定要安装它的Python应用程序项目工具。如果需要，可以稍后通过Visual Studio的内置安装程序添加特定于语言的工具。</li></ol><p id="e29a" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu lz im bi translated">在我编写并测试了通过API检索火球数据的程序之后，我使用Tableau Public构建了一个简单的仪表板来可视化数据。如果你想尝试Tableau Public，它是免费的，这里有<a class="ae lh" href="https://public.tableau.com/en-us/s/resources" rel="noopener ugc nofollow" target="_blank"/>。请注意，您发布到Tableau公共服务器网站的任何内容，世界上的任何人都可以看到。</p><h1 id="f4a8" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">Python程序</h1><p id="6f9e" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">下一节将展示Python程序，该程序使用火球数据API来检索火球数据并将其写入CSV文件。它由这两个模块组成:</p><ul class=""><li id="1840" class="oc od it mc b md me mg mh mj oe mn of mr og lz oh oi oj ok bi translated"><strong class="mc jd">c _ NASA _ fireball _ data . py</strong>—该文件封装了所有代码，以JSON格式检索fireball数据，并将其记录写入CSV文件。这是通过Python类c_nasa_fireball_data实现的。</li><li id="f6f5" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated"><strong class="mc jd">get _ NASA _ fireball _ data . py</strong>—该文件是程序入口点。它只是创建了一个c_nasa_fireball_data类的实例，用一个参数调用它，这个参数就是输出CSV文件的文件夹和文件名。</li></ul><h2 id="49d2" class="pa ng it bd nh pb pc dn nl pd pe dp np mj pf pg nr mn ph pi nt mr pj pk nv iz bi translated">伪代码</h2><p id="c4d6" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">下面的伪代码描述了程序是如何工作的。</p><ol class=""><li id="0a7c" class="oc od it mc b md me mg mh mj oe mn of mr og lz oz oi oj ok bi translated">用文件夹和文件名创建一个c_nasa_fireball_data的实例，程序应该将fireball数据作为CSV记录写入其中。<em class="ou">(注意:随意调用文件夹和文件，一定要在运行程序前创建文件夹。)</em></li><li id="bcf6" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">在构造函数(__init__())中，设置输出文件名变量并初始化JSON头。</li><li id="fcc5" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">调用get_data()函数，该函数向NASA服务器提交API查询的POST调用。返回检索到的包含数据负载的JSON结构。</li><li id="1af2" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">调用write_data_to_csv()函数。</li><li id="3cf0" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">打开指定的CSV文件，作为CSV编写器输出。</li><li id="6844" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">初始化CSV编写器。</li><li id="34c6" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">将字段名(标题或列名)写入CSV文件。</li><li id="42b1" class="oc od it mc b md ol mg om mj on mn oo mr op lz oz oi oj ok bi translated">循环浏览数据记录。将每个都写入CSV文件。</li></ol><h2 id="b4f0" class="pa ng it bd nh pb pc dn nl pd pe dp np mj pf pg nr mn ph pi nt mr pj pk nv iz bi translated">示例代码</h2><p id="fbba" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">Python代码如下所示。您可以随意复制、运行和修改它。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pl pm l"/></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Python程序调用NASA火球数据API，并将返回的记录写入CSV文件。由Randy Runtsch编写的代码。</p></figure><h2 id="091b" class="pa ng it bd nh pb pc dn nl pd pe dp np mj pf pg nr mn ph pi nt mr pj pk nv iz bi translated">运行程序</h2><p id="158f" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">以get_nasa_fireball_data.py为入口或起点运行程序。如果一切顺利，它会将火球数据记录写入指定文件，如下图截图所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/9c9b04e418a871a5a2a832a56d2e23bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oMfitvGzrYzHRS7heVVntw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">样本火球记录，CSV格式，写入c:/nasa_data/fireball.csv。</p></figure><h1 id="e7a6" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">Tableau公共仪表板示例</h1><p id="edac" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">我使用Tableau Public创建了一个<a class="ae lh" href="https://public.tableau.com/shared/BP82FDMNS?:display_count=n&amp;:origin=viz_share_link" rel="noopener ugc nofollow" target="_blank">简单的仪表盘来可视化火球数据</a>。虽然构建仪表板超出了本教程的范围，但您可以随意下载它，看看它是如何工作的，并根据自己的需要进行修改。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi po"><img src="../Images/895bde356b71c8c5f9ea9b433839c1fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fdLs9OSpGv7Fk-dNBDv5uQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">火球仪表盘。由Randy Runtsch用Tableau Public创建的仪表板。</p></figure><h1 id="d7c0" class="nf ng it bd nh ni nj nk nl nm nn no np ki nq kj nr kl ns km nt ko nu kp nv nw bi translated">结论</h1><p id="8206" class="pw-post-body-paragraph ma mb it mc b md nx kd mf mg ny kg mi mj nz ml mm mn oa mp mq mr ob mt mu lz im bi translated">本教程描述了NASA火球数据API，以及如何编写Python程序来检索火球数据并将其写入CSV文件。它为探索其他<a class="ae lh" href="https://api.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> NASA数据API</a>提供了一个起点，这些API检索各种主题的数据，如小行星、天文照片和地球图像。</p></div><div class="ab cl li lj hx lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="im in io ip iq"><blockquote class="or os ot"><p id="744a" class="ma mb ou mc b md me kd mf mg mh kg mi ov mk ml mm ow mo mp mq ox ms mt mu lz im bi translated">记者:难道[卡尔]萨根不想相信吗？他不愿相信。他想知道。”</p><p id="de1d" class="ma mb ou mc b md me kd mf mg mh kg mi ov mk ml mm ow mo mp mq ox ms mt mu lz im bi translated">—安·德鲁扬</p></blockquote><h2 id="e9f7" class="pa ng it bd nh pb pc dn nl pd pe dp np mj pf pg nr mn ph pi nt mr pj pk nv iz bi translated">参考</h2><ul class=""><li id="249e" class="oc od it mc b md nx mg ny mj pp mn pq mr pr lz oh oi oj ok bi translated"><a class="ae lh" href="https://www.amsmeteors.org/fireballs/faqf/#2" rel="noopener ugc nofollow" target="_blank">美国流星协会——火球常见问题解答</a></li><li id="97c8" class="oc od it mc b md ol mg om mj on mn oo mr op lz oh oi oj ok bi translated"><a class="ae lh" href="https://api.nasa.gov/" rel="noopener ugc nofollow" target="_blank">美国宇航局API</a></li></ul></div></div>    
</body>
</html>