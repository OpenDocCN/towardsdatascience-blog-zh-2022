<html>
<head>
<title>You Should Use This to Visualize SQL Joins Instead of Venn Diagrams</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您应该使用它来可视化SQL连接，而不是维恩图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/you-should-use-this-to-visualize-sql-joins-instead-of-venn-diagrams-ede15f9583fc#2022-04-03">https://towardsdatascience.com/you-should-use-this-to-visualize-sql-joins-instead-of-venn-diagrams-ede15f9583fc#2022-04-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="02db" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学</h2><div class=""/><div class=""><h2 id="7bda" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated"><em class="kr">维恩图是去年才有的</em></h2></div><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/05d653fcba8b8722aad384ea8fe4ace9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0UlZm5ZEeCCTWnaiVTkJGQ.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">图片由作者提供，灵感来自数据科学领域的<a class="ae li" href="https://r4ds.had.co.nz/relational-data.html" rel="noopener ugc nofollow" target="_blank">R</a></p></figure><p id="9e4c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">几周前，我在Reddit上发表了一篇关于<a class="ae li" rel="noopener" target="_blank" href="/why-is-nobody-talking-about-sql-anti-joins-f970a5f6cb54"> SQL反连接</a>的文章。分享没多久，就得到这样的回应:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="mf mg l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">作者图片</p></figure><p id="8421" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这激起了我的兴趣，因为到目前为止，我还没有读过或听说过任何人认为维恩图是可视化SQL连接的一种糟糕的方式，我已经坚持用SQL编码超过3年了。我个人认为维恩图有助于快速记住和可视化两个表之间的连接类型。这是我的回答:</p><figure class="kt ku kv kw gt kx"><div class="bz fp l di"><div class="mf mg l"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">作者图片</p></figure><p id="1cd3" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在那次评论之后，我得到了一些热情的回应，并意识到这已经被广泛讨论过了，而且背后有一些历史。当我读得更多的时候，我发现了一个很受欢迎的Reddit帖子，标题是<a class="ae li" href="https://www.reddit.com/r/programming/comments/4rc9uu/say_no_to_venn_diagrams_when_explaining_joins/d50mxez/" rel="noopener ugc nofollow" target="_blank">“在解释连接时对维恩图说不”</a>。阅读别人对它的看法是很有趣的。我还发现了一个相关的流行帖子，发表在2年前的《走向数据科学》上，标题是<a class="ae li" href="https://medium.com/towards-data-science/can-we-stop-with-the-sql-joins-venn-diagrams-insanity-16791d9250c3" rel="noopener">“我们能停止使用SQL JOINs venn diagrams吗？”</a>。</p><p id="6c74" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这场争论让我想起了关于SQL如何发音的争论，或者我第一次听说<a class="ae li" href="https://thenewstack.io/spaces-vs-tabs-a-20-year-debate-and-now-this-what-the-hell-is-wrong-with-go/" rel="noopener ugc nofollow" target="_blank">制表符与空格的争论</a>。在我考虑了双方的观点之后，我决定写这篇文章，然后发现了我认为被低估的SQL连接的可视化，我称之为方格旗图。🏁</p><p id="b40c" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><em class="mh">快速补充说明:关于SQL的发音，SQL最初拼写为“SEQUEL ”,由于商标问题，仅改为“SQL”</em><a class="ae li" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?reload=true&amp;tp=&amp;arnumber=6359709" rel="noopener ugc nofollow" target="_blank"><em class="mh">。</em> </a></p><p id="9c87" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">尽管我对这个主题有自己的看法，但我认为值得说明的是，我相信争论双方都有一些有效的观点，并且这些可视化都是表示SQL连接的有效方式。这种争论存在的原因是因为双方都从不同的学习方法中看到了好处，这是可以的。当然，对于大多数人来说，可能有一个最佳的学习路径，但是学习是一种定制的体验，所以我不想低估其他人通过使用不同的可视化发现的好处。但是请记住，真正理解SQL连接的最佳方式是进入代码和实践！<a class="ae li" href="https://www.sql-practice.com/" rel="noopener ugc nofollow" target="_blank">SQL Practice.com</a>是我发现的练习SQL的好资源。</p><blockquote class="mi"><p id="3e38" class="mj mk it bd ml mm mn mo mp mq mr me dk translated">但是请记住，真正理解SQL连接的最佳方式是进入代码和实践！</p></blockquote><p id="91fa" class="pw-post-body-paragraph lj lk it ll b lm ms kd lo lp mt kg lr ls mu lu lv lw mv ly lz ma mw mc md me im bi translated">也就是说，我希望解决“伟大的SQL维恩图辩论”中双方的关键点，并提出一个可能(仅仅是可能)安抚双方的解决方案。</p><h2 id="f47e" class="mx my it bd mz na nb dn nc nd ne dp nf ls ng nh ni lw nj nk nl ma nm nn no iz bi translated">争论中对立双方的要点</h2><p id="cf65" class="pw-post-body-paragraph lj lk it ll b lm np kd lo lp nq kg lr ls nr lu lv lw ns ly lz ma nt mc md me im bi translated">为了更好地理解双方，我读了Reddit上的一些观点和文章。以下是我发现人们不同意使用维恩图来可视化SQL连接的原因:</p><ul class=""><li id="8464" class="nu nv it ll b lm ln lp lq ls nw lw nx ma ny me nz oa ob oc bi translated">维恩图源于集合论，因此不应该用于可视化两个关系表之间的连接</li><li id="342e" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">一些人声称，当使用维恩图向学生介绍连接概念时，他们很难理解连接</li><li id="9920" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">维恩图从技术上来说并不能正确地表示一个连接实际上在做什么</li><li id="654d" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">维恩图有各种局限性:例如，不能很好地显示其他连接类型(如交叉连接)，不能显示重复出现时会发生什么，等等</li></ul><p id="5837" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这些是我从那些反对使用文氏图的人那里找到的主要批评。那些支持SQL文氏图的人给出了两个要点:</p><ul class=""><li id="1740" class="nu nv it ll b lm ln lp lq ls nw lw nx ma ny me nz oa ob oc bi translated">虽然维恩图在技术上可能不正确，但它们有助于人们记住连接的类型，并且更容易理解</li><li id="7d2a" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">根据所选的列，联接和集合操作可能会产生完全相同的结果</li></ul><p id="57ec" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">不管你更赞同哪一方，你现在已经对我决定写这篇文章的原因有所了解了。</p><h2 id="3f4a" class="mx my it bd mz na nb dn nc nd ne dp nf ls ng nh ni lw nj nk nl ma nm nn no iz bi translated">维恩图的另一种解决方案</h2><p id="6fca" class="pw-post-body-paragraph lj lk it ll b lm np kd lo lp nq kg lr ls nr lu lv lw ns ly lz ma nt mc md me im bi translated">2016年<a class="ae li" href="https://blog.jooq.org/say-no-to-venn-diagrams-when-explaining-joins/" rel="noopener ugc nofollow" target="_blank">有一篇流行文章</a>也反对使用维恩图，作者提出了一种替代图，称为“连接图”。下面是一个内部联接的示例，它被可视化为一个联接图:</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/cfccfe73e20a89ff377a632924d383e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*uC5RpbwbIw_NIKOpXMn9qA.png"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">图片由作者提供，灵感来自<a class="ae li" href="https://blog.jooq.org/say-no-to-venn-diagrams-when-explaining-joins/" rel="noopener ugc nofollow" target="_blank"> Jooq博客</a></p></figure><p id="ce18" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">此图非常有用，因为它比文氏图更准确地表示了SQL连接中使用的表格结构。这个图表的问题是，它将主键显示为颜色，但在这些颜色中也有数字或字母。矩形内的字母和数字应该表示除主键列(用颜色表示)之外的列，但这是可视化开始崩溃的地方。用一个矩形表示多个列可能会令人困惑和不直观(至少对我来说是这样)。无论如何，这种可视化似乎对那些难以理解使用SQL连接的人很有帮助。每一种可视化都有一定的局限性。</p><h2 id="f8a0" class="mx my it bd mz na nb dn nc nd ne dp nf ls ng nh ni lw nj nk nl ma nm nn no iz bi translated">方格旗图🏁</h2><p id="2916" class="pw-post-body-paragraph lj lk it ll b lm np kd lo lp nq kg lr ls nr lu lv lw ns ly lz ma nt mc md me im bi translated">当我回顾可视化SQL连接的不同方法时，我发现了我个人最喜欢的方法。我希望这个图能够弥合双方之间的差距，或者至少提供另一种选择来帮助人们理解SQL连接。</p><p id="a3a1" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这个图表最初是由Hadley Wickham和Garrett Grolemund在他们的书<a class="ae li" href="https://r4ds.had.co.nz/index.html" rel="noopener ugc nofollow" target="_blank">“数据科学的R”</a>中创建的。图表可以在关于<a class="ae li" href="https://r4ds.had.co.nz/relational-data.html" rel="noopener ugc nofollow" target="_blank">【关系数据】</a>的章节中找到。</p><p id="8a76" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我在一张备忘单上重新创建了这些图表，如下所示，但是我也创建了一个Github库，所以你可以在这里下载图片<a class="ae li" href="https://github.com/amartinson193/SQL_Checkered_Flag_Join_Diagrams" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oj"><img src="../Images/96b5022aef52b52679bad2acbe732794.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LBTF0fLczIBiXCD0_KWb1Q.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">图片由作者提供，灵感来自数据科学的<a class="ae li" href="https://r4ds.had.co.nz/relational-data.html" rel="noopener ugc nofollow" target="_blank">R</a></p></figure><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oj"><img src="../Images/083f646d2aebaf823338f9945da0208e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCzkJieVkAKGT_702jxW6A.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">图片由作者提供，灵感来自用于数据科学的<a class="ae li" href="https://r4ds.had.co.nz/relational-data.html" rel="noopener ugc nofollow" target="_blank">R</a></p></figure><h2 id="726f" class="mx my it bd mz na nb dn nc nd ne dp nf ls ng nh ni lw nj nk nl ma nm nn no iz bi translated">为什么我😍方格旗图</h2><p id="cab5" class="pw-post-body-paragraph lj lk it ll b lm np kd lo lp nq kg lr ls nr lu lv lw ns ly lz ma nt mc md me im bi translated">以下是我喜欢这张图的所有原因:</p><ul class=""><li id="89fe" class="nu nv it ll b lm ln lp lq ls nw lw nx ma ny me nz oa ob oc bi translated">比联接图更准确地表示联接，因为它的主键具有相同的颜色和数字</li><li id="9b80" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">为每个表显示1个额外的值列，以帮助直观显示除主键列之外的列中的数据发生了什么</li><li id="67f0" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">连接线有助于简化视觉效果，便于看到连接的行</li><li id="2db7" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">与连接图类似，连接产生的输出表显示在右侧</li><li id="2df7" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">适用时显示空值，这正是在SQL中执行连接时发生的情况</li><li id="9efb" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">可以显示交叉连接，这与文氏图相比是一个优势</li><li id="c626" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated">显示SQL语法以供参考，类似于维恩图备忘单<a class="ae li" href="https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins" rel="noopener ugc nofollow" target="_blank">这里的</a></li></ul><p id="01e7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我仍然相信维恩图对于可视化SQL连接是有用的，但是它们在它们所能表示的范围和准确性方面是有限的。希望这些方格旗图可以成为你学习SQL的很好的参考。感谢阅读！</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="74ca" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果您喜欢阅读这篇文章，下面是我写的其他相关SQL文章:</p><ul class=""><li id="c6b4" class="nu nv it ll b lm ln lp lq ls nw lw nx ma ny me nz oa ob oc bi translated"><a class="ae li" rel="noopener" target="_blank" href="/why-is-nobody-talking-about-sql-anti-joins-f970a5f6cb54">如何在你的数据科学生涯中使用SQL反连接</a></li><li id="e59c" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated"><a class="ae li" rel="noopener" target="_blank" href="/5-window-function-examples-to-take-your-sql-skills-to-the-next-level-2b3306650bb6"> 5个窗口函数示例，让你的SQL技能更上一层楼</a></li><li id="4d81" class="nu nv it ll b lm od lp oe ls of lw og ma oh me nz oa ob oc bi translated"><a class="ae li" rel="noopener" target="_blank" href="/10-quick-sql-tips-after-writing-daily-in-sql-for-3-years-37bdba0637d0">3年来每天用SQL写作的10个快速SQL技巧</a></li></ul><p id="3f56" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在LinkedIn 上关注我，了解我所有帖子的最新动态。如果你想知道我是如何进入数据科学的，我在我的简历<a class="ae li" href="https://medium.com/about-me-stories/about-me-andreas-martinson-86f08fd85938" rel="noopener">中写了这个</a>。</p><p id="cf5f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">另外，如果你还没有加入Medium，并且想无限制地阅读我的文章，请考虑通过我下面的推荐链接加入😃</p><div class="or os gp gr ot ou"><a href="https://medium.com/@andreasmartinson/membership" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jd gy z fp oz fr fs pa fu fw jc bi translated">加入Medium并通过我的推荐链接支持我</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi lc ou"/></div></div></a></div></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><h2 id="864a" class="mx my it bd mz na nb dn nc nd ne dp nf ls ng nh ni lw nj nk nl ma nm nn no iz bi translated">参考</h2><ol class=""><li id="1356" class="nu nv it ll b lm np lp nq ls pj lw pk ma pl me pm oa ob oc bi translated">A.Martinson，<a class="ae li" rel="noopener" target="_blank" href="/why-is-nobody-talking-about-sql-anti-joins-f970a5f6cb54">如何在你的数据科学职业生涯中使用SQL反联接</a> (2022)，走向数据科学</li><li id="ee34" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">A.Martinson，<a class="ae li" href="https://www.reddit.com/r/SQL/comments/tfhf4o/sql_articles_for_beginnersintermediate/i1f5woo/?context=3" rel="noopener ugc nofollow" target="_blank">初级/中级SQL文章</a>，www.reddit.com</li><li id="38c6" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">D.Cassel，<a class="ae li" href="https://thenewstack.io/spaces-vs-tabs-a-20-year-debate-and-now-this-what-the-hell-is-wrong-with-go/" rel="noopener ugc nofollow" target="_blank">Spaces vs . Tabs:Google的Golang </a> (2016)重新点燃了20年的争论</li><li id="bd43" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">米（meter的缩写））Winand，<a class="ae li" href="https://www.reddit.com/r/programming/comments/4rc9uu/say_no_to_venn_diagrams_when_explaining_joins/d50mxez/" rel="noopener ugc nofollow" target="_blank">解释连接时对维恩图说不</a> (2016)，<a class="ae li" href="http://www.reddit.com" rel="noopener ugc nofollow" target="_blank">www.reddit.com</a></li><li id="9868" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">R.我们能停止使用SQL JOINs venn diagrams吗？ (2019)，走向数据科学</li><li id="6741" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated"><a class="ae li" href="https://www.sql-practice.com/" rel="noopener ugc nofollow" target="_blank">sql-practice.com</a>，SQL Practice.com</li><li id="a148" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">www.reddit.com<a class="ae li" href="https://www.reddit.com/r/ProgrammerHumor/comments/7z0eoj/how_to_pronounce_sql/" rel="noopener ugc nofollow" target="_blank">SQL</a>怎么发音</li><li id="efc4" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">D.张伯伦，<a class="ae li" href="https://ieeexplore.ieee.org/stamp/stamp.jsp?reload=true&amp;tp=&amp;arnumber=6359709" rel="noopener ugc nofollow" target="_blank">SQL的早期历史</a> (2012)，IEEE计算历史年鉴</li><li id="2e83" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">lukaseder，<a class="ae li" href="https://blog.jooq.org/say-no-to-venn-diagrams-when-explaining-joins/" rel="noopener ugc nofollow" target="_blank">在解释连接时对维恩图说不</a> (2016)，Jooq博客</li><li id="733a" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">H.Wickham &amp; G. Grolemund，<a class="ae li" href="https://r4ds.had.co.nz/index.html" rel="noopener ugc nofollow" target="_blank"> R for Data Science </a> (2017)，O'Reilly</li><li id="0e5d" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">A.马丁森(2022)，<a class="ae li" href="https://github.com/amartinson193/SQL_Checkered_Flag_Join_Diagrams" rel="noopener ugc nofollow" target="_blank"> SQL方格标志连接图</a>，<a class="ae li" href="http://www.github.com" rel="noopener ugc nofollow" target="_blank">www.github.com</a></li><li id="bd0a" class="nu nv it ll b lm od lp oe ls of lw og ma oh me pm oa ob oc bi translated">C.L. Moffat，<a class="ae li" href="https://www.codeproject.com/Articles/33052/Visual-Representation-of-SQL-Joins" rel="noopener ugc nofollow" target="_blank">SQL连接的可视化表示</a> (2009)，代码项目</li></ol></div></div>    
</body>
</html>