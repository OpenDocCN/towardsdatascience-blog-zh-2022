<html>
<head>
<title>Why You Must Use Plotly Express for Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么必须使用Plotly Express进行数据可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-you-must-use-plotly-express-for-data-visualization-9d47f9182807#2022-04-03">https://towardsdatascience.com/why-you-must-use-plotly-express-for-data-visualization-9d47f9182807#2022-04-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="406d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这个可视化库提高了您的工作效率，并提供了更好的见解</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ad6bbc8e64d835c85c1b7b224ac01781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z9vQStvVwyBbibWMSvsXDw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在这篇文章中创建的仪表板。图片由作者提供。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="5925" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Plotly Express</h2><p id="48fb" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated"><em class="mu"> Plotly </em>是一家来自加拿大的公司，基于JavaScript、D3.js、HTML和CSS创建动态图形库。他们的库可用于Python、R、Julia和其他编码语言，我见过的用于创建仪表板的最强大的工具之一是他们的<em class="mu"> Dash </em>库。</p><p id="ea9c" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">然而，Dash的使用并不简单，因为您必须具备一些HTML和CSS的基础知识才能更好地使用它。这并不难，只是更复杂，需要更多的学习时间来适应语法。</p><p id="26a7" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">知道这一点，也愿意获得更大的市场份额，Plotly在几年前推出了Plotly Express。这是一个低代码和易于使用的Dash图形版本。在我看来，它是Python可用的最棒的图形库之一，特别是因为你可以与数据交互，使你的分析更加动态，并获得比静态图形更有趣的见解。</p><p id="25ce" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">也就是说，这个论点是我为什么在执行探索性数据分析时应该选择Plotly express的主要原因。与数据进行交互，能够只选择数据的一部分，放大数据的某些部分，而且视觉效果非常好，这将对您分析和呈现数据有很大帮助。</p><h2 id="6a02" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">Plotly Express 101</h2><p id="e069" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">说比做更好。所以我们来编码吧。</p><p id="a297" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">从安装<code class="fe na nb nc nd b">pip install plotly-express</code>开始。</p><p id="c81b" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">然后用<code class="fe na nb nc nd b">import plotly.express as px</code>导入。</p><p id="fb9a" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">语法非常简单。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="6b4d" class="lf lg it nd b gy ni nj l nk nl"><strong class="nd iu"># Basic syntax<br/><em class="mu">px.graphic_type(dataset, x, y, color, size, title...)</em></strong></span><span id="fe88" class="lf lg it nd b gy nm nj l nk nl"># Creating a basic scatterplot<br/>px.scatter(x=[1,2,3,4,5], y=[6,7,8,9,10], title='My First Graph')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/42db83cef7c8fea88d46eebd3210115e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*00KkuEKnS4-nXXZB2NcNHw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">你刚刚建立了你的第一个Plotly图形。图片由作者提供。</p></figure><p id="2a31" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">小菜一碟，不是吗？这就是这个图书馆的妙处！现在让我们把我们的图形做得更漂亮一点。为此，我将使用众所周知的玩具数据集<em class="mu">提示</em>，您可以从Python中的seaborn库中加载该数据集。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="c5f6" class="lf lg it nd b gy ni nj l nk nl">import seaborn as sns<br/>df = sns.load_dataset('tips')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/635aeef2a226e6cfeb6a875eb9b9e209.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*Ob0Iz5IwgAV0KdgtEsh91A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自Seaborn的Tips数据集。图片由作者提供。</p></figure><h2 id="0640" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">单变量图形</h2><p id="3f6c" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">单变量图形仅显示数据集的一个变量的分布。直方图、箱线图、小提琴图<em class="mu">等都是这类图形的好例子。</em></p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="e818" class="lf lg it nd b gy ni nj l nk nl"># Histogram<br/>fig = px.histogram(df, x='tip')<br/>fig.update_layout(bargap=0.1)<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b9dd0ed8225e34f65f26a257922dda68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ELCNwq8cZCG0cSzh9yCG9Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">直方图。图片由作者提供。</p></figure><p id="29a8" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">如果你注意到在上面的代码中，我把我的图形赋给了一个名为<strong class="md iu"> fig </strong>的变量。这种做法必须成为代码中的“标准”,因为当您想要向可视化添加自定义更新时——就像上图中条形之间的间隙——您将能够将图形作为它所分配到的变量的名称来引用，在本例中为fig。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="8c5e" class="lf lg it nd b gy ni nj l nk nl">#Boxplot<br/>fig = px.box(df, y='tip')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/623ed30ccea228464fd106edb85ac3aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mqlTFZ2oHUMLEnHDP1UVZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按性别分列的小费方框图。图片由作者提供。</p></figure><p id="c0a5" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">创建箱线图和其他图形一样简单。你可以在上面的图片中看到，我只是使用了基本语法<code class="fe na nb nc nd b">px.graph_type(data, variable)</code>，这就是图形。看看最大值、最小值、中值是多么容易:你只需将鼠标悬停在画面上。然后，我们可以很快看到这个分布向右倾斜，tips值中有一些异常值。</p><p id="8254" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">您也可以使用下面的代码快速绘制小提琴图。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="96d3" class="lf lg it nd b gy ni nj l nk nl"># Violin plot<br/>px.violin(df, x='tip')</span></pre><p id="36a6" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">或者绘制经验累积分布图。此图显示了点数的分布及其百分比。50.4%的数据在2.92以下。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/6ee1d6056b6521649fee704c16d4dd34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jmjOyFqyQ39Gb36wUsTjw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用Plotly实现ecdf。图片由作者提供。</p></figure><h2 id="b458" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">多变量图形</h2><p id="3d7e" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">在这种情况下，我们将使用两个或更多的变量来比较或分析它们之间的关系。常见的例子有散点图、线图、条形图、多盒图<em class="mu">等</em>。</p><p id="6074" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">让我们来看看<em class="mu">提示</em>和<em class="mu">合计_账单</em>是什么关系。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="7690" class="lf lg it nd b gy ni nj l nk nl"># Scatter plot comparing Tips vs. Total Bill<br/>fig = px.scatter(df, x='total_bill', y='tip', size='total_bill')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/189d618f63dab1b1179dd037b8243823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hiZ6hvEyHDbNdpJDOltCvA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">散点图。图片由作者提供。</p></figure><p id="db52" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">很容易看出total_bill和小费金额之间有线性关系。当我们增加一个时，另一个也会增加。请注意，我们还使用了<em class="mu"> total_bill </em>作为我们的大小参数，因此随着账单金额的增加，点数也会增加。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="360c" class="lf lg it nd b gy ni nj l nk nl"># Including another variable<br/>px.scatter(df, x='total_bill', y='tip', size='total_bill', color='sex')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/c33d7e95326d2d85b307ccb6197ab387.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-42ndNDcGZi22hHagLRYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按性别划分的小费与总额_账单。作者图片</p></figure><p id="9b9e" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">我们还可以添加<em class="mu">颜色</em>参数，看看男女是怎么给小费的。在这个数据集中，除了右侧的几个异常值之外，看起来差别不是很大。如果我们快速检查一下这些数字，平均值实际上并不太远(男性:3.08，女性:2.83)。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="1186" class="lf lg it nd b gy ni nj l nk nl"># Mean tip by size<br/>mean_tip = df.groupby('size').tip.mean().reset_index()<br/>px.bar(mean_tip, x='size', y='tip')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/75d5446ed672c089194d852912997ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Wwsua_7A3wpCaEnEARZeg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按聚会规模计算的平均小费。图片由作者提供。</p></figure><p id="0274" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">要通过按团体大小的提示创建条形图，首先需要创建一个分组数据框架，然后绘制它。不像用熊猫绘图那样实用，在熊猫绘图中你可以收集所有的东西并用一行代码绘图，但是结果没有这个漂亮。</p><h2 id="1651" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">3D图形</h2><p id="318e" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">Plotly Express的另一个很酷的功能是可以很容易地绘制3D图形。你所要做的就是使用功能<code class="fe na nb nc nd b">scatter_3d</code>并添加一个<strong class="md iu"> z </strong>轴。</p><pre class="kj kk kl km gt ne nd nf ng aw nh bi"><span id="8ec8" class="lf lg it nd b gy ni nj l nk nl"><strong class="nd iu"># 3D Plot total_bill vs. tip vs. size</strong><br/>fig = px.scatter_3d(df, x='total_bill', y='tip', z='size', color='sex')<br/>fig.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/e85277af8ae0293560c29aa022beb8ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0h7M0LBEu_ttjHuOqQ7dA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">3D绘图。图片由作者提供。</p></figure><p id="7674" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">3D绘图的一个有趣之处在于，你可以获得一些在2D绘图中可能得不到的洞察力。请注意，在这张图中，对于人数等于2的聚会，红色和蓝色更加平衡，这表明可能会有更多的夫妇一起吃午餐或晚餐。然后我们可以看到，在其他规模的聚会中，男性人数更多。</p><p id="e9dd" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">3D图形非常酷，但也应该小心使用，因为它们读起来并不像看起来那么琐碎。当看这些图时，你更容易失去注意力。</p><h2 id="2714" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">创建简单的仪表板</h2><p id="25f2" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">使用Plotly，很容易创建一个仪表板。与plotly express的不同之处在于，你必须使用<code class="fe na nb nc nd b">plotly.graph_objects <strong class="md iu">as</strong> go</code>来代替Plotly Express。我的GitHub中的要点有完整的代码，你可以用它作为模板来创建你自己的可视化。</p><p id="d856" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">您可以看到代码本身与px图形非常相似。通过一些调整，您可以创建一个数据集的漂亮的“仪表板”视图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw nx l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ad6bbc8e64d835c85c1b7b224ac01781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z9vQStvVwyBbibWMSvsXDw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Plotly的仪表板。图片由作者提供。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/8874944387a984fe27a2e6eeee4b28d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:682/1*lSsDPD-GVvSmt-eOIm0a0g.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者提供。</p></figure><p id="7f38" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">现在分析数据更容易了。我们可以看到，数据显示男性占大多数，聚会人数越多的桌子自然给的小费就越多。如果你是一个服务器看到这个，你可能会选择周五和周日的晚餐时间。不吸烟的人也倾向于给更多的小费。</p><h2 id="6f49" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">在你走之前</h2><p id="67a7" class="pw-post-body-paragraph mb mc it md b me mf ju mg mh mi jx mj lo mk ml mm ls mn mo mp lw mq mr ms mt im bi translated">数据可视化对于良好的数据探索至关重要。如果一幅图像胜过千言万语，为什么不用一幅好的图像呢？</p><p id="ba9a" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">Plotly express与其他可视化库一样简单，并为您提供了额外的功能，如与数据交互、缩放、选择要显示或隐藏的类别。仪表板是我们在单个视图中汇编大量信息的好方法，允许对数据集进行更完整的分析。这就是为什么我总是将这个库导入到我的会话中。</p><p id="477a" class="pw-post-body-paragraph mb mc it md b me mv ju mg mh mw jx mj lo mx ml mm ls my mo mp lw mz mr ms mt im bi translated">我希望你今天在日常工作中学到了一些有用的东西。如果是这样，请关注我的博客。另外，如果你想加入中级会员来阅读好的内容，<a class="ae nz" href="https://gustavorsantos.medium.com/membership" rel="noopener">这里有一个推荐链接</a>。</p><h2 id="bd2c" class="lf lg it bd lh li lj dn lk ll lm dp ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">参考</h2><div class="oa ob gp gr oc od"><a href="https://plotly.com/python/plotly-express/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">Plotly</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Plotly Express目前包括以下功能:Plotly Express API通常提供以下功能…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">plotly.com</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://plotly.com/python/subplots/" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">支线剧情</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Plotly Express是Plotly易于使用的高级接口，可处理各种类型的数据和…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">plotly.com</p></div></div><div class="om l"><div class="os l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://plotly.com/python-api-reference/generated/plotly.subplots.make_subplots.html" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">plotly . subplots . make _ subplots-5 . 6 . 0文档</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">返回plotly.graph_objects的实例。在“布局”中配置了预定义子情节的图形。参数分配…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">plotly.com</p></div></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://gustavorsantos.medium.com/" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">古斯塔沃·桑托斯-中等</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">阅读古斯塔夫·桑托斯在媒介上的作品。数据科学家。我从数据中提取见解，以帮助个人和公司…</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">gustavorsantos.medium.com</p></div></div><div class="om l"><div class="ot l oo op oq om or ks od"/></div></div></a></div></div></div>    
</body>
</html>