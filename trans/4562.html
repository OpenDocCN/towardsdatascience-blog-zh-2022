<html>
<head>
<title>AWS Athena + DBT Integration</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">AWS雅典娜+ DBT集成</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/aws-athena-dbt-integration-4e1dce0d97fc#2022-10-11">https://towardsdatascience.com/aws-athena-dbt-integration-4e1dce0d97fc#2022-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ebec" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在15分钟或更短时间内</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e4a3455d4e51f2874b682840da85ef08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lr67BSdo5F0MZJmR"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">艾蒂安·吉拉尔代在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="f9e5" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">语境</h1><p id="53b4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><a class="ae kv" href="https://aws.amazon.com/athena/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc" rel="noopener ugc nofollow" target="_blank"> AWS Athena </a>是无服务器的，用于对AWS S3上的数据进行专门的SQL查询。然而，维护数据沿袭和依赖是乏味且容易出错的(尽管在数据仓库中没有区别)。</p><p id="f26e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><a class="ae kv" href="https://www.getdbt.com/" rel="noopener ugc nofollow" target="_blank"> DBT(数据构建工具)</a>最近变得非常流行，因为它可以自动绘制数据谱系/生成数据管道的文档，更不用说它的其他功能，如快照、Jinja &amp;宏支持。</p><p id="8ca4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">有很多关于将DBT与数据仓库(Snowflake、Redshift、Databrick等)集成的参考资料，但没有Athena(是的，它不是数据仓库)。然而，有许多使用案例和团队使用Athena来生成BI报告等:</p><ul class=""><li id="7361" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">该报告有20多个从各种AWS DataCatalog数据库和表中生成的视图。</li><li id="1379" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">数据沿袭对于理解业务逻辑非常重要，并且经常变化。</li><li id="eba2" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Athena的计算性能令人满意。</li><li id="70ac" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">缺乏实施/维护数据仓库的资源/预算。</li></ul><p id="4c0c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们有没有可能将DBT与雅典娜集成，以提供一个负担得起的解决方案？</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="89c7" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated"><strong class="ak">解决方案</strong></h1><p id="a759" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">感谢<a class="ae kv" href="https://github.com/Tomme/dbt-athena" rel="noopener ugc nofollow" target="_blank"> dbt-athena </a>社区构建了一个dbt雅典娜适配器，我用它构建了一个演示来验证集成是如何工作的。所有AWS基础设施资源由<strong class="lq ir"> Terraform管理，并在我的GitHub </strong> repo中提供，因此您可以在15分钟(甚至更短)<strong class="lq ir"> </strong>内构建相同的E2E演示，用于POC(概念验证)、内部演示或自学目的。</p><h2 id="0d6d" class="np kx iq bd ky nq nr dn lc ns nt dp lg lx nu nv li mb nw nx lk mf ny nz lm oa bi translated">原始数据</h2><p id="8a40" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">女装电商服装点评点评数据(CC0:公有领域许可)使用，数据统计汇总详情可在Kaggle网站查询。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/8b52bb3c26ee2f8f36516c001909d1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a-Inh0f5KYRDW0O5Ge96Rw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="f4c8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">简而言之，这些数据包含客户对产品的评论和相应的产品评级。一个典型的用例是在适当的特征工程(数据转换)之后使用这些数据来做情感分析。</p><h2 id="928e" class="np kx iq bd ky nq nr dn lc ns nt dp lg lx nu nv li mb nw nx lk mf ny nz lm oa bi translated">数据流</h2><p id="ffff" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在这个演示中，原始数据存储在S3，使用Glue服务提取其模式，供雅典娜查询，然后由DBT转换。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/5acbc078a57ca0bab685d40ee8be12bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u3VI358gk0fEjjDkxYhm2Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ol class=""><li id="9858" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj od mv mw mx bi translated">手动触发Glue crawler来推断数据架构并更新DataCatalog以粘合DataCatalog。</li><li id="51d6" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj od mv mw mx bi translated">粘附数据目录创建对数据(S3到表)映射的引用，不移动任何数据。</li><li id="ab71" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj od mv mw mx bi translated">使用SQL在S3查询数据，在粘合数据目录中查找架构，没有要加载的数据。</li><li id="a38c" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj od mv mw mx bi translated">DBT将软件工程方法应用于数据转换(SQL)。</li></ol><p id="5f36" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">预计读者将对<a class="ae kv" href="https://www.terraform.io/" rel="noopener ugc nofollow" target="_blank"> Terraform </a>、<a class="ae kv" href="https://aws.amazon.com/?nc2=h_lg" rel="noopener ugc nofollow" target="_blank"> AWS </a>和<a class="ae kv" href="https://www.getdbt.com/" rel="noopener ugc nofollow" target="_blank"> DBT </a>有一些基本的了解，否则这也是一个很好的迷你项目，让读者了解这些服务。</p></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="94f8" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">履行</h1><h2 id="4fa0" class="np kx iq bd ky nq nr dn lc ns nt dp lg lx nu nv li mb nw nx lk mf ny nz lm oa bi translated">地形部分</h2><ul class=""><li id="91a7" class="mp mq iq lq b lr ls lu lv lx oe mb of mf og mj mu mv mw mx bi translated"><a class="ae kv" href="https://learn.hashicorp.com/tutorials/terraform/install-cli" rel="noopener ugc nofollow" target="_blank">安装地形</a></li><li id="f63a" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">git克隆<a class="ae kv" href="https://github.com/grhaonan/Athena-dbt-demo-tf-local" rel="noopener ugc nofollow" target="_blank">https://github.com/grhaonan/Athena-dbt-demo-tf-local</a></li><li id="e79b" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">确保设置了正确的AWS用户和权限。为了简单起见，我的AWS用户只附带了一个AdministratorAccess策略。</li><li id="f858" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">Terraform main.tf中的配置文件名应该与用户配置文件相匹配，用户配置文件用于调用AWS服务，在“~”中定义。/aws/credentials”。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="488a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">注意事项:</p><ul class=""><li id="58c5" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">该区域默认设置为“ap-southeast-2 ”,可以在variables.tf中随意更新</li><li id="c00a" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">一些AWS资源(s3 bucket等)需要全局唯一，在Terraform中使用随机id生成器来确保不同用户之间的唯一性。你会在这篇文章中看到几个{16位id}约定，指的是一个随机id。</li></ul><p id="de1e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行“terraform init”命令启动项目。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/9ebd5bf0463d2e59e1f436f36a027ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bdAFAArNOrC0M1GMMaR-_Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="4816" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">运行“terraform apply”命令以应用所有AWS资源</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/2dc62b3dd4d93974724d89fce9bc9848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QmR6nN9rHllBC_S7az4FEA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="9fc8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">在AWS web控制台上手动触发/运行</strong>爬虫作业(根据本演示命名为“athena_dbt_demo_crawler ”,在terraform中配置)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/51f88a092885a4c9509cbbb47810acbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4ChZMzvPViYZ6RQK3ygbg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0aaa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完成后，您将在Athena中的数据库raw_data_{16 random id}下找到表格“women _ ways _ reviews _ raw _ data”(<strong class="lq ir">注</strong> : <strong class="lq ir">请</strong> <strong class="lq ir">选择athena-dbt-demo-workgroup，而不是主</strong>)。现在，这些原始数据已经可以进行查询了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/b4b1641cd3b4e9880a1d44a867bf53d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onLJhmAiGvlUcFiXmJS-RQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="a236" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您还会在S3的以下存储桶下看到源原始数据:Athena-dbt-demo-{ 16 random id }/raw _ data/women _ clothing _ ecommerce _ reviews . CSV。此文件会在Terraform应用阶段自动上传到S3。</p><h2 id="6410" class="np kx iq bd ky nq nr dn lc ns nt dp lg lx nu nv li mb nw nx lk mf ny nz lm oa bi translated">DBT部分</h2><ul class=""><li id="39a7" class="mp mq iq lq b lr ls lu lv lx oe mb of mf og mj mu mv mw mx bi translated">Git克隆<a class="ae kv" href="https://github.com/grhaonan/Athena-dbt-demo-dbt-local" rel="noopener ugc nofollow" target="_blank">https://github.com/grhaonan/Athena-dbt-demo-dbt-local</a></li><li id="8548" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">安装dbt-athena适配器。注意:在撰写本文时(dbt-core的最新版本是1.2.2，dbt-athena-adapter是1.0.1)，1.0.1 Athena适配器存在一个问题。所以如果你通过<a class="ae kv" href="https://github.com/Tomme/dbt-athena" rel="noopener ugc nofollow" target="_blank">https://github.com/Tomme/dbt-athena</a>中提到的<code class="fe on oo op oq b">pip install dbt-athena-adapter</code>直接安装它，你会遇到以下问题。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/f014a59d71f89868bdbae63e4ddd5f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FkoCiFHxQGFQChnMaOufOg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="c4c0" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">相反，我会建议通过一个干净的虚拟环境(通过康达等)安装它。<strong class="lq ir">注意</strong>:requirements . txt在“Athena-dbt-demo-dbt-demo”文件夹下</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7f51" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">完成后，检查版本，现在我们可以开始了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/385e38328b81ce239ea98d419c161c49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7CylUl2rgk38ml2i_PizQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0eca" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果您的DBT个人资料不存在，请创建它(~/)。或者将此项目添加到您现有的DBT个人资料中</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="8134" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">注</strong>:</p><p id="031c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">您应该只更新上面文件中的以下三个值<strong class="lq ir">以匹配您的情况，但保持其他值(根据匹配的地形配置)不变。</strong></p><ul class=""><li id="4784" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">aws_profile_name:与terraform main.tf中配置的aws概要文件名和本地AWS概要文件名相同。</li><li id="bb8b" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">s3_staging_dir:这是为存储Athena查询结果而创建的s3存储桶，在您的s3存储桶中命名为“Athena-dbt-demo-Athena-query-result-bucket-{ 16 random id }”。</li><li id="9e84" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">架构:这是配置为导出DBT模型结果的数据库，它应该与athena_dbt_models_{16位id}匹配</li></ul><p id="a720" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最后，更新models/VW _ women _ ways _ reviews _ rename _ columns . SQL中引用的数据库，以匹配创建的raw_data_{16位数id}。</p><pre class="kg kh ki kj gt ot oq ou ov aw ow bi"><span id="0ba9" class="np kx iq oq b gy ox oy l oz pa">...<br/>FROM "RAW_DATA_9f40f41fee84f437"."WOMEN_CLOTHES_REVIEWS_RAW_DATA"</span></pre><h1 id="b882" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">关于数据转换</h1><p id="dae3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在DBT，我们在原始数据上实现了三个转换(/模型)。</p><ul class=""><li id="2645" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">(视图)VW _ women _ ways _ reviews _ rename _ columns进行第一次转换:选择需要的列并重命名它们</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="4a13" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">(查看)VW _ women _ ways _ reviews _ perspectives将根据预定义的start_rating列规则创建情感评分。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="6117" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">(查看)VW _ women _ ways _ reviews _ training _ data会进行一些最终的过滤，作为转换后的结果。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oh oi l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><h1 id="e673" class="kw kx iq bd ky kz nk lb lc ld nl lf lg jw nm jx li jz nn ka lk kc no kd lm ln bi translated">DBT跑步</h1><p id="280b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后，运行命令“dbt run”将编译上面定义的所有三个模型，并将结果放在AwsDataCatalog数据库“athena_dbt_models_{16 random id}”下，您也可以在athena中找到它。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/bebaab5ba9c2d9e903395bb286209cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QhvG8Mjsf_8F9I_rbiHaVA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="d3f0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">DBT的一个关键特性是提供数据血统和文档。</p><ul class=""><li id="4d45" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">运行命令“dbt文档生成”将生成文档</li><li id="3863" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">然后通过命令“dbt docs serve-port 8001”(它是port前面的两个连字符)设置一个本地web服务器来可视化文档。</li></ul><p id="1761" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">数据沿袭:</p><ul class=""><li id="25a9" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">women _ clothing _ reviews _ training _ data依赖于VW _ women _ clothing _ reviews _ opinions，后者进一步基于VW _ women _ clothing _ reviews _ rename _ columns。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/77721d88b28e3ba0f7fb45210c382c8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JsqsNlNR0nz4-rJKfKsATA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="d88e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">数据文档:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/f6ad5bfdd51ccbe664cc45167d3631d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBew-MB5ZhKZ57gVrftgmQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h1 id="c77a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">摘要</h1><p id="a932" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">感谢您的关注，希望您喜欢。尽管Athena通常用于特定的查询目的，但它仍然可以以较低的成本受益于DBT集成。</p><p id="f8b2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">让我们快速回顾一下这篇文章:</p><ul class=""><li id="b394" class="mp mq iq lq b lr mk lu ml lx mr mb ms mf mt mj mu mv mw mx bi translated">产品评论数据在S3加载，并通过AWS Glue服务“连接”到SQL查询服务Athena。</li><li id="d58d" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">本演示中的所有AWS资源都由Terraform (IaC)管理，因此用户可以在几秒钟内部署/销毁它们。</li><li id="a435" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">dbt-athena 是一个社区维护的dbt适配器，用于集成DBT和athena。</li><li id="5d7c" class="mp mq iq lq b lr my lu mz lx na mb nb mf nc mj mu mv mw mx bi translated">基于Athena的BI报告将从DBT的数据传承和文档特性中受益匪浅。</li></ul></div><div class="ab cl nd ne hu nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="ij ik il im in"><p id="82cc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">[1] <em class="pe">女装电商服装点评</em><a class="ae kv" href="https://www.kaggle.com/datasets/nicapotato/womens-ecommerce-clothing-reviews?resource=download" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/nica potato/Women-ecommerce-Clothing-Reviews？资源=下载</a></p><p id="5640" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">[2] <em class="pe"> CC0:公共领域许可</em><a class="ae kv" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank">https://creativecommons.org/publicdomain/zero/1.0/</a></p></div></div>    
</body>
</html>