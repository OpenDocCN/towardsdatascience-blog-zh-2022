<html>
<head>
<title>A (very) brief overview of Google Cloud Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌云平台的(非常)简要概述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-very-brief-overview-of-google-cloud-platform-9dcce7bc1b1c#2022-05-02">https://towardsdatascience.com/a-very-brief-overview-of-google-cloud-platform-9dcce7bc1b1c#2022-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a3ea" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">新用户开始深入了解GCP的介绍和术语</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5668fc30a3bf33de5d76305364d401c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xo-kNRR8R3E5Rp_qKY0QAA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">埃比尼·贝欣赏梵高的作品。来自<a class="ae kv" href="https://upload.wikimedia.org/wikipedia/commons/3/31/Van_Gogh_-_Ebene_bei_Auvers_mit_Regenwolken.jpeg" rel="noopener ugc nofollow" target="_blank">维基共享资源</a>。</p></figure><p id="1279" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，我们的统计部门开始从本地服务器过渡到谷歌云平台(GCP)。可能你们中的许多人发现自己处于类似的情况。</p><p id="3522" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我在使用GCP两年多的时间里发现，对于第一次学习云计算的新用户来说，网上提供的帮助少得惊人。我认为写一篇简短的文章来强调云的一些核心概念可能会有所帮助。</p><p id="93aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个免责声明——我改编了为我们的暑期实习生写的文档，因为我认为它可能对更广泛的受众有用。我们使用由我们自己的IT部门构建的云环境，具有适合大型学术医疗机构的额外安全性。因此，该平台的一些功能被修改或禁用(例如，请求您自己的DLVMs的能力)。</p><p id="c3d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你碰巧也为三盾工作，那么你就找对了文章。</p><h2 id="8367" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">什么是云？</strong></h2><p id="8938" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">云指的是另一家公司管理你的服务器，而不是你自己管理服务器的平台。之所以称之为云(在我看来，这是一个令人困惑的术语)，是因为你正在访问一个由位于其他地方的成百上千个服务器组成的分布式网络，就像一个服务器“云”。</p><p id="05a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果感兴趣，我真的很喜欢<a class="ae kv" href="https://www.youtube.com/watch?v=zDAYZU4A3w0" rel="noopener ugc nofollow" target="_blank">这个谷歌云中心的视频之旅</a>，对我们来说，它位于<a class="ae kv" href="https://cloud.google.com/about/locations" rel="noopener ugc nofollow" target="_blank">南卡罗来纳州</a>。</p><p id="6769" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">值得一提的是，谷歌云平台是所有谷歌员工，包括数据科学家，在内部用于自己研究的相同工具。</p><h2 id="77f1" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">云的优势是什么？</strong></h2><p id="60b6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">推动许多大型研究中心采用的最大优势是成本优势。但即使作为“最终用户”，我们也发现了谷歌云平台的几个优势。</p><p id="f3ac" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">无限的数据存储</strong>是最初吸引我们使用云的原因。我们一直在努力解决服务器存储问题。我现在有超过30tb的数据专门用于我的个人项目。</p><p id="bace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">无需共享资源</strong>。另一个问题是太多的人(或者一个贪婪的人……)在运行大型计算任务，这会降低每个人的速度。对GCP来说，这不再是一个问题。</p><p id="d92f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">更新的工具。我们使用的许多工具，如Tensorflow，都是由谷歌开发的(或者至少管理得更好)。访问最新的预构建软件包比自己尝试安装软件包要容易得多。</p><p id="91ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">自我管理的环境。</strong>与共享服务器空间相比，单独的云DLVM通常更具可定制性，能够自由配置我们自己的单独环境是一个受欢迎的变化。<br/> <br/>如果这些因素都不影响你的日常工作，我要补充一点，谷歌已经让我们获得了部署我们自己的模型所需的许多工具。因此，如果你正在编写希望其他人能够使用的代码，那么使用云将会有一个长期的优势。</p><h2 id="b45c" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">简单说说安全问题</strong></h2><p id="1705" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">数据安全，尤其是在学术健康中心，理所当然是一个主要问题。谷歌云架构师与我们自己的IT部门一起开发了一个安全的平台，即使是谷歌员工也无法访问。</p><p id="b3a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我要补充的是，谷歌在数据安全方面比我更有经验，我更愿意利用他们自己的平台，而不是试图自己建立一个。</p><h2 id="8747" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">云资源和术语</strong></h2><p id="32cc" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">这是对您在使用云时会遇到的许多概念和术语的一个非常简单、非常基本的概述。我打算在以后的文章中更全面地讨论这些主题。</p><p id="99cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">项目</strong>是一组共享存储和计算的用户，它是云中的基本组织级别，类似于共享服务器。我们的项目由我们研究实验室的15名成员组成。</p><p id="df3a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">每个项目都有一个唯一的项目ID，显示在web界面的顶部。您需要知道这一点才能登录平台。</p><p id="a5f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">深度学习虚拟机</strong>，或<em class="mq"> DLVMs </em>，是云的基本单元。对于使用过Azure或AWS的人来说，DLVM和<em class="mq">虚拟机</em>完全一样。</p><p id="a2e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">DLVM类似于您的个人计算机。DLVMs不能共享；每个DLVM被分配给一个用户(尽管每个用户可以拥有任意多的DLVM)。每个DLVM还有一个用于登录的唯一ID。</p><p id="31c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就计算选项而言，DLVMs几乎是无限可定制的。我发现拥有16个CPU内核和60GB内存的<em class="mq"> n1-standard-16 </em>配置非常适合我的大部分工作。我还添加了2个T4 GPU来训练基本的深度学习模型。这一成本约为4美元/小时</p><p id="a0a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您只需在DLVM打开时付费。无论DLVM是被使用还是闲置，成本都是一样的，所以我们要求每个人都要注意，在一天结束时关闭他们的DLVM。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e96d3b9a35ed16ae5b0e9b30a665c7d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sWPUIbJKsl2Dh7rOMX6YaA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Google云平台的JupyterLab接口的一个例子。图片作者。</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/489eb14df3034b73c90194f7143236f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CZFJymB4e7p0h4tbOm4-bA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">“计算引擎”菜单的一个示例，显示了分配给我们项目的DLVM，以及启动/停止DLVM的选项。不幸的是，我不得不将DLVMs的名称灰化，一个典型的命名方案由<strong class="bd mr"> projectName-zone-userID </strong>组成。图片作者。</p></figure><p id="54c0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">存储桶</strong>是存储和共享文件的主要地方。与存储和计算不可分割的Linux服务器不同，存储桶与DLVMs位于不同的位置，这是该平台的一个方面，一开始可能会令人困惑。</p><p id="f31f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这意味着，当您登录到DLVM时，存储桶中的文件不会立即对您可见。有一个简单的方法可以解决这个问题，通过<a class="ae kv" href="https://stackoverflow.com/questions/34390730/mounting-google-storage-bucket-folder-using-gcsfuse" rel="noopener ugc nofollow" target="_blank">将桶fuse-mount</a>到DLVM，这使得所有的文件都可见。</p><p id="d871" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦bucket被fuse挂载，它就无法与DLVM存储区分开来，并且可以使用相同的命令进行访问。我们希望在启动脚本中包含这个命令，这样当DLVM打开时它会自动运行。</p><p id="19b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该存储桶由项目的所有用户共享；被分配到项目的任何人都可以读写桶中的任何文件夹。这种情况正在改变，在过去几周内，我们的机构实施了“增强团队”功能，允许将多个存储桶附加到单个项目，每个存储桶具有不同的权限。但是，在这个存储桶中，所有成员仍然可以访问所有文件。</p><p id="aa92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.youtube.com/watch?v=MH5M2Crn6Ag" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir">big query</strong></a><strong class="ky ir"/>是Google版本的一个SQL数据库工具。作为一名专注于成像的数据科学家，我不经常使用BigQuery，但我的同事告诉我，这是该平台最好的特性之一。它的速度快如闪电，并得益于谷歌作为关键词搜索领域世界领导者的专业知识。</p><p id="bb67" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> Vertex AI </strong>是向计算引擎提交代码的服务。向Vertex AI提交作业通常比在DLVM上运行要快得多，也便宜得多。对于那些熟悉Slurm或Sun Grid引擎的人来说，Vertex AI是一个类比。</p><p id="2e2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要使用Vertex AI，您必须将代码包装在Docker容器中，并与YAML文件一起提交，该文件告诉引擎要应用什么计算资源。</p><p id="ff0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为Docker主题的一个简短说明，它已经迅速成为我们最喜欢的利用GCP的工具。对于我们的实习生，我的一个同事用RStudio Pro构建了一个定制的Docker容器，让我们可以提前完成设置他们的环境的艰苦工作。</p><p id="8802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这也使得使用Vertex AI变得更加容易，因为你已经在docker容器中调试了你的代码，这个容器很容易被推送到引擎中。</p><p id="41a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">Google Cloud Software Developer Kit，或</strong> <a class="ae kv" href="https://cloud.google.com/sdk/docs/install" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Cloud SDK </strong> </a>是一个独立的可选命令行界面(CLI)，用于从本地台式机或笔记本电脑运行云命令。我强烈推荐。</p><p id="8ae0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">SDK允许您从笔记本电脑管理GCP，包括将文件复制到bucket从bucket复制文件，通过SSH访问您的DLVM(包括交互式环境的端口转发)，以及打开/关闭您的DLVM。</p><p id="a4be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在Linux和Mac上，SDK命令可以从shell终端运行。在Windows上，Google提供了单独的终端界面，它们也可以通过PowerShell获得。</p><p id="7d41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你熟悉了SDK，就几乎不需要使用web界面，坦白地说，web界面可能会很笨重。我将许多常用命令(如打开/关闭DLVMs)打包成我的。bashrc文件。</p><p id="d668" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://apps.apple.com/us/app/google-cloud-console/id1005120814" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">云App。</strong> </a> <strong class="ky ir"> </strong>最后，Google还写了一个云主机智能手机app。它的用途有限，但如果您忘记了，它可以用来打开/关闭您的DLVM。</p><h2 id="3c81" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated"><strong class="ak">结论</strong></h2><p id="343f" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">感谢您的回顾，希望这些信息对您有所帮助！请留下评论，我很乐意回答任何问题。</p><p id="eb43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我相信读者会很乐意听到您对该平台的体验，以及您可以提供的任何技巧或提示。</p><p id="cd5a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">~噢</p></div></div>    
</body>
</html>