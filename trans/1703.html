<html>
<head>
<title>Simple Explanation of Statsmodel Linear Regression Model Summary</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Statsmodel线性回归模型概述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-explanation-of-statsmodel-linear-regression-model-summary-35961919868b#2022-04-22">https://towardsdatascience.com/simple-explanation-of-statsmodel-linear-regression-model-summary-35961919868b#2022-04-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="f732" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">Statsmodel库模型摘要说明</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/fe10d934917ab1ffc0bdebb01efe2ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G_YjJcn7vqWWLQPGiWZLew.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><blockquote class="kz la lb"><p id="71ee" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">简介</strong></p></blockquote><p id="241f" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">回归分析是许多统计学家和数据科学家的饭碗。我们执行简单和多元线性回归以进行预测，并总是希望获得一个没有任何偏差的稳健模型。在本文中，我将使用一个简单的示例来讨论python的statsmodel库的摘要输出，并稍微解释一下这些值是如何反映模型性能的。</p><blockquote class="kz la lb"><p id="e970" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">典型模式总结</strong></p></blockquote><p id="434b" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">出于演示的目的，我将使用<a class="ae mc" href="https://www.kaggle.com/datasets/rohankayan/years-of-experience-and-salary-dataset/code" rel="noopener ugc nofollow" target="_blank"> kaggle的工资数据集</a> ( <a class="ae mc" href="http://www.apache.org/licenses/LICENSE-2.0" rel="noopener ugc nofollow" target="_blank"> Apache 2.0 </a>开源许可)。这个数据集有两列:年资和薪水。我还有两个专栏:项目和人员管理。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj md"><img src="../Images/9e8c0a1b7f11425c0b0a023bb6514702.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*t7mB6GgOhYP4s5TUxL6S8A.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">抽样资料</p></figure><p id="1b14" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">当我们使用statsmodel使用所有三个变量来预测工资时，我们会得到以下汇总结果。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj me"><img src="../Images/eeeced9c9fa232edab7ca68b22ccc945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aXVrusb1ZEt1Bgp5ytTb0A.png"/></div></div></figure><p id="08bd" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">我将在下面的总结中解释所有这些参数。</p><blockquote class="kz la lb"><p id="7949" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">副变量</strong></p></blockquote><p id="675f" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">“工资”是数据中唯一的因变量。</p><blockquote class="kz la lb"><p id="550a" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">模型和方法</strong></p></blockquote><p id="8691" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">OLS代表普通最小二乘。该模型试图找到数据集的线性表达式，该表达式使残差平方和最小化。</p><blockquote class="kz la lb"><p id="811d" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">测向残差和测向模型</strong></p></blockquote><p id="7a49" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">我们总共有30个观察和4个特征。在4个特征中，3个特征是独立的。因此，DF模型为3。测向残差是根据总观测值-测向模型-1计算的，在我们的例子中是30–3–1 = 26。</p><blockquote class="kz la lb"><p id="dcc3" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">协方差类型</strong></p></blockquote><p id="dbd4" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">协方差类型通常是非稳健的，这意味着没有消除数据来计算要素之间的协方差。协方差显示两个变量如何相对移动。如果该值大于0，则两者向同一方向移动，如果该值小于0，则变量向相反方向移动。协方差不同于相关性。协方差不提供关系的强度，只提供运动的方向，而相关值是归一化的，范围在-1到+1之间，相关提供关系的强度。如果我们想获得稳健的协方差，我们可以声明cov_type=HC0/HC1/HC2/HC3。然而，statsmodel文档并没有丰富到可以解释所有这些。HC代表异方差一致性，HC0实现了所有版本中最简单的版本。</p><blockquote class="kz la lb"><p id="a155" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv"> R平方</strong></p></blockquote><p id="3f76" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">r平方值是决定系数，它表明如果数据由所选的独立变量解释，变异性的百分比。</p><blockquote class="kz la lb"><p id="086f" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">可调R平方</strong></p></blockquote><p id="1d1b" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">随着我们向模型中添加越来越多的自变量，R平方值会增加，但实际上，这些变量不一定对解释因变量有任何贡献。因此，添加每个不必要的变量需要某种惩罚。当引入多个变量时，调整原始的R平方值。本质上，在执行多元线性回归时，我们应该始终寻找调整后的R平方值。对于单个自变量，R平方值和调整后的R平方值是相同的。</p><p id="6c6e" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">在讨论F-统计量之前，我们需要先了解t-统计量。下表提供了t统计数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mf"><img src="../Images/23f40cfaac2d0d01b83ed34b9b003895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bDmx6uLB5Jk2f1LBaM0_Iw.png"/></div></div></figure><blockquote class="kz la lb"><p id="8342" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">系数和标准误差</strong></p></blockquote><p id="51b7" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">coef列表示每个自变量的系数以及截距值。Std err是所有数据点上相应变量系数的标准偏差。当仅使用一个预测变量时，可以从如下所示的二维空间获得标准误差</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mg"><img src="../Images/7c8779efbd28176cbf661c299d2d857b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNVPuS--jHAwymxSIBq8JQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><blockquote class="kz la lb"><p id="9b55" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv"> t值和P值&gt; |t| </strong></p></blockquote><p id="d84a" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">t列提供对应于每个自变量的t值。例如，这里的项目、人员管理和工资都有不同的t值以及与每个变量相关的不同p值。t统计用于计算p值。典型地，当p值小于0.05时，它表示反对零假设的有力证据，该零假设声明相应的自变量对因变量没有影响。项目的p值0.249告诉我们，有24.9%的机会项目变量对工资没有影响。似乎YearsExperience的p值为0，表明YearsExperience的数据具有统计学意义，因为它小于临界极限(0.05)。在这种情况下，我们可以拒绝零假设，并说多年的经验数据在很大程度上控制着工资。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mh"><img src="../Images/f8ce96fe8bdb39208a3c2887b75a63ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iL-tdTl5zh6bFop8LCb7Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">年资与薪水显示出很强的相关性</p></figure><blockquote class="kz la lb"><p id="eda4" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">F-统计</strong></p></blockquote><p id="7215" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">f检验提供了一种检查所有自变量的方法，如果其中任何一个与因变量相关的话。如果Prob(F-statistic)大于0.05，则没有证据表明任何自变量与产出之间存在关系。如果它小于0.05，我们可以说至少有一个变量与产量显著相关。在我们的例子中，p值小于0.05，因此，一个或多个自变量与输出变量薪金相关。我们之前已经看到，工作经验与薪水有很大的关系，而其他的则没有。因此，f检验数据支持t检验结果。然而，在某些情况下，prob(F-statistic)可能大于0.05，但其中一个独立变量显示出很强的相关性。这是因为每个t检验都是用不同的数据集进行的，而f检验检查的是包括所有变量在内的综合效应。</p><blockquote class="kz la lb"><p id="a545" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">对数似然</strong></p></blockquote><p id="70d4" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">对数似然值是模型与给定数据拟合程度的度量。当我们比较两个或多个模型时，这是很有用的。对数似然值越高，模型就越符合给定的数据。它的范围可以从负无穷大到正无穷大。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mi"><img src="../Images/f11a99a1b3b552188c0a3024722912bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mpz_KJFFxShJiPD_37v4kg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">包含所有三个变量时的对数似然</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mj"><img src="../Images/cdcaad00cef37ddbdcd5bd268adc546a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aQe7dcVOwWgDHfejiOILZA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">仅包含“项目”时的对数可能性</p></figure><p id="3b54" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">当所有三个独立变量都包含在模型中时，对数似然值为-310.21，高于仅包含项目数据时的-334.95。这意味着第一个模型更符合数据。如上所述，它还与R平方值密切相关。</p><blockquote class="kz la lb"><p id="fa81" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv"> AIC和BIC </strong></p></blockquote><p id="8ec6" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">AIC(代表由日本统计学家Hirotugo Akaike开发的Akaike信息标准)和BIC(代表贝叶斯信息标准)也被用作模型稳健性的标准。目标是最小化这些值以获得更好的模型。我在另一篇文章中讨论了这些话题。</p><div class="mk ml gq gs mm mn"><a rel="noopener follow" target="_blank" href="/simple-stepwise-and-weighted-regression-model-53a31d9e4746"><div class="mo ab fp"><div class="mp ab mq cl cj mr"><h2 class="bd iv gz z fq ms fs ft mt fv fx it bi translated">简单逐步加权回归模型</h2><div class="mu l"><h3 class="bd b gz z fq ms fs ft mt fv fx dk translated">逐步加权回归</h3></div><div class="mv l"><p class="bd b dl z fq ms fs ft mt fv fx dk translated">逐步加权Regressiontowardsdatascience.com模型</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kt mn"/></div></div></a></div><blockquote class="kz la lb"><p id="7373" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">综合与Prob(综合)</strong></p></blockquote><p id="dae7" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">一旦部署了模型，综合测试将检查残差的正态性。如果该值为零，则意味着残差完全正常。这里，在示例中，prob(综合)为0.357，表明残差呈正态分布的概率为35.7%。对于一个稳健的模型，除了检查R平方和其他量规，残差分布还要求在理想情况下是正态的。换句话说，当对拟合值作图时，残差不应遵循任何模式。</p><blockquote class="kz la lb"><p id="1d63" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">偏斜和峰度</strong></p></blockquote><p id="089c" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">偏斜值告诉我们残差分布的偏斜度。正态分布变量的偏斜值为0。峰度是与正态分布相比的轻尾或重尾分布的度量。高峰值表示分布太窄，低高峰值表示分布太平。介于-2和+2之间的峰度值有助于证明正常状态。</p><blockquote class="kz la lb"><p id="a3fe" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated">德宾-沃森</p></blockquote><p id="38b4" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">Durbin-Watson统计提供了残差中自相关的度量。如果残差值是自相关的，则模型会变得有偏差，这是不期望的。这仅仅意味着一个值不应该依赖于任何先前的值。该测试的理想值范围是从0到4。</p><blockquote class="kz la lb"><p id="910f" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">雅尔克-贝拉(JB)和普罗布(JB) </strong></p></blockquote><p id="e932" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">Jarque-Bera (JB)和Prob(JB)类似于测量残差正态性的Omni测试。</p><blockquote class="kz la lb"><p id="d2e9" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">条件号</strong></p></blockquote><p id="8a0d" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">高条件数表示数据集中可能存在多重共线性。如果只有一个变量用作预测值，则该值较低，可以忽略。我们可以像逐步回归一样进行，看看当包含额外的变量时，是否有任何多重共线性。</p><blockquote class="kz la lb"><p id="8de2" class="lc ld le lf b lg lh jv li lj lk jy ll lm ln lo lp lq lr ls lt lu lv lw lx ly in bi translated"><strong class="lf iv">结论</strong></p></blockquote><p id="8306" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">我们已经讨论了statsmodel输出中的所有汇总参数。这将对那些有兴趣检查健壮模型的所有规则的读者有用。大多数时候，我们寻找R平方值，以确保模型解释了大部分的可变性，但我们已经看到还有更多。</p><p id="233b" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated">感谢阅读</p><p id="d57e" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated"><a class="ae mc" href="https://mdsohelmahmood.github.io/data-science/2022/04/21/Simple-Explanation-of-Statsmodels-Summary.html" rel="noopener ugc nofollow" target="_blank"> Github页面</a></p><p id="5761" class="pw-post-body-paragraph lc ld iu lf b lg lh jv li lj lk jy ll lz ln lo lp ma lr ls lt mb lv lw lx ly in bi translated"><a class="ae mc" href="https://www.youtube.com/watch?v=9RzmWGtIdwY" rel="noopener ugc nofollow" target="_blank"> Youtube频道</a></p><div class="mk ml gq gs mm mn"><a href="https://mdsohel-mahmood.medium.com/membership" rel="noopener follow" target="_blank"><div class="mo ab fp"><div class="mp ab mq cl cj mr"><h2 class="bd iv gz z fq ms fs ft mt fv fx it bi translated">用我的推荐链接加入媒体</h2><div class="mu l"><h3 class="bd b gz z fq ms fs ft mt fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mv l"><p class="bd b dl z fq ms fs ft mt fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="mw l"><div class="nc l my mz na mw nb kt mn"/></div></div></a></div></div></div>    
</body>
</html>