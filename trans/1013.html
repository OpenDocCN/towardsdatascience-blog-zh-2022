<html>
<head>
<title>Practical Error Mitigation On A Real Quantum Computer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">真实量子计算机上的实用误差抑制</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/practical-error-mitigation-on-a-real-quantum-computer-41a99dddf740#2022-03-16">https://towardsdatascience.com/practical-error-mitigation-on-a-real-quantum-computer-41a99dddf740#2022-03-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5477" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用 Clifford 数据回归方法</h2></div><p id="3467" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子机器学习要不要入门？看看<a class="ae le" href="https://www.pyqml.com/page?ref=medium_realmitiq&amp;dest=/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">动手量子机器学习用 Python </strong> </a> <strong class="kk iu">。</strong></p><p id="a589" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子计算机天生不可靠。它们容易出错，从而破坏任何有意义的计算。由于我们目前的设备太小，无法纠正错误，我们今天能做的最好的事情就是减少它们的影响。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/124ee6b0337a7fb88b847776d63497d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sj2Bek5q3KI_7dDC.png"/></div></div><p class="lr ls gj gh gi lt lu bd b be z dk translated">作者图片</p></figure><p id="1745" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不出所料，量子误差缓解的研究是一个重要的关注点。一个最近的和有希望的误差减轻方法是 Clifford 数据回归(CDR)。P. Czarnik 等人在《Clifford 量子电路数据的误差缓解》中提出了这一点，Quantum 5，592 (2021) 。在这种方法中，我们创建了一个机器学习模型，通过使用来自经典模拟的量子电路的数据，我们可以使用该模型来预测和减轻噪声。</p><p id="d5ad" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在之前的<a class="ae le" href="https://pyqml.medium.com/mitigating-quantum-errors-using-clifford-data-regression-98ab663bf4c6" rel="noopener">帖子</a>中，我们已经看过了(CDR)。此外，我们使用开源库 Mitiq 在另一篇文章的<a class="ae le" rel="noopener" target="_blank" href="/how-to-implement-quantum-error-mitigation-with-qiskit-and-mitiq-e2f6a933619c">中的一个示例量子电路上应用了这种方法。为此，我们在量子模拟器中加入了噪声。然而，噪音是相当普遍的，所以很难对这种方法的有效性得出任何结论。</a></p><p id="5c0f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，在这篇文章中，我们修改了我们的代码，以使用一个真实的量子设备。</p><p id="eeed" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们从连接到我们的 IBMQ 帐户开始。在下面的清单中，用实际的 API 令牌替换<code class="fe lv lw lx ly b">TOKEN</code>。如果你还没有，这篇文章解释了如何开始使用 IBM Quantum 以及如何获得 API 令牌。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="d69f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在真正的量子计算机上运行代码是一项耗时的工作。IBM 允许公众访问他们的设备，所以我们不是唯一运行我们代码的人。一旦你发送了一个电路，它在被执行之前会在队列中等待很长一段时间。</p><p id="9bdc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">所以，让我们插入一个中间步骤，创建一个更真实的量子模拟。为此，我们不制作定制的噪声模型，而是从真实的量子器件中获取。</p><p id="e72f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你关注我的每周帖子，你会知道我们正在努力参与 IBM 的<a class="ae le" href="https://research.ibm.com/blog/quantum-open-science-prize" rel="noopener ugc nofollow" target="_blank">量子开放科学奖</a>。他们希望我们在他们的 7 量子位 Jakarta 设备上使用 Trotterization 模拟一个三粒子系统的海森堡模型哈密顿量。所以，我今天就用这个设备。如果您尚未注册参加此次挑战，您将无权使用此设备。在这种情况下，我建议也使用我们在<a class="ae le" rel="noopener" target="_blank" href="/how-to-run-code-on-a-real-quantum-computer-c1fc61ff5b4">这篇文章</a>中使用的 Quito 系统。</p><p id="20cd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的清单显示了如何从现有硬件加载噪声模型。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="9a06" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，我们需要获得一个允许我们访问后端的提供者(您需要使用不同的参数值来连接到<code class="fe lv lw lx ly b">ibmq_quito</code>)。</p><p id="bff9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这个中间步骤中，我们使用后端作为<code class="fe lv lw lx ly b">NoiseModel.from_backend</code>的输入。结果是一个有效的 Qiskit 噪声模型，我们可以将其输入到量子模拟器中。</p><p id="3718" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我们的例子中，我们将噪声模型提供给从<code class="fe lv lw lx ly b">mitiq</code>导入的<code class="fe lv lw lx ly b">execute_with_shots_and_noise</code>函数。我们创建一个函数(<code class="fe lv lw lx ly b">sim_jakarta</code>)，它采用一个量子电路并产生最终的期望值。我们使用与<a class="ae le" rel="noopener" target="_blank" href="/how-to-implement-quantum-error-mitigation-with-qiskit-and-mitiq-e2f6a933619c">上一篇</a>相同的可观察值。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="e997" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们可以直接用这个函数来获得我们的可观测值的期望值。请注意，结果值会受到噪声的影响。我们看到它与理想的测量值有很大的不同。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><pre class="lg lh li lj gt mb ly mc md aw me bi"><span id="708b" class="mf mg it ly b gy mh mi l mj mk">ideal_measurement =  1.0599428216452071<br/>unmitigated_measurement =  0.8542528961820239</span></pre><p id="318e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在上面的代码中，我们使用了前一篇文章中介绍的另外两个函数。为了完整起见，这些是创建量子电路的<code class="fe lv lw lx ly b">get_circuit</code>和无噪声模拟器<code class="fe lv lw lx ly b">sim</code>。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="3b0a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们现在已经准备好使用模拟的雅加达后端运行完整的 CDR。与前一个应用程序的唯一区别是，我们使用<code class="fe lv lw lx ly b">sim_jakarta</code>函数作为噪声执行器参数。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><pre class="lg lh li lj gt mb ly mc md aw me bi"><span id="6a7f" class="mf mg it ly b gy mh mi l mj mk">mitigated_measurement =  1.0895031224814202</span></pre><p id="0d02" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将减少误差的结果与未减少误差的结果进行比较，误差减少了近 90%。这与我们在一般噪声模型中看到的改进相当。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><pre class="lg lh li lj gt mb ly mc md aw me bi"><span id="e7de" class="mf mg it ly b gy mh mi l mj mk">Error (unmitigated): 0.2056899254631832<br/>Error (mitigated with CDR): 0.029560300836213083<br/>Relative error (unmitigated): 0.19405756731662027<br/>Relative error (mitigated with CDR): 0.027888580622047698<br/>Error reduction with CDR: 85.6%.</span></pre><p id="4f51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，让我们直接接触真正的量子设备。问题是如何将调用集成到真正的后端。将量子电路发送到真实设备相对容易。无论如何，让我们检查它是否工作。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="c446" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们创造了一个简单的量子电路，它由一个量子位和一个哈达玛门组成。使用模拟器的不同之处在于以下两个步骤。在将电路输入后端的<code class="fe lv lw lx ly b">run</code>方法之前，我们需要传输和组装电路。一旦运行了这段代码，登录到<a class="ae le" href="https://quantum-computing.ibm.com/" rel="noopener ugc nofollow" target="_blank"> IBM 量子控制台</a>是个好主意。</p><p id="b911" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在那里，打开“作业”页面，查看您的所有作业及其状态。在我的情况下，我必须等待大约两个小时才能运行作业。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ml"><img src="../Images/bc79c1ece25e2e9da73126da99118f3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i4B9-uJFHGii_U7d-JVctw.png"/></div></div></figure><p id="e20a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我们需要编写一个不是模拟器而是连接到真实量子设备的执行器。到目前为止，我们已经使用了从 Mitiq 的 Qiskit 接口导入的<code class="fe lv lw lx ly b">execute_with_noise_and_shots</code>函数。让我们看看这个函数，看看它是如何运行电路的。您可以在<a class="ae le" href="https://github.com/unitaryfund/mitiq/blob/master/mitiq/interface/mitiq_qiskit/qiskit_utils.py" rel="noopener ugc nofollow" target="_blank">公共存储库</a>中找到源代码。</p><p id="9f26" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第 166 行，你可以看到它是如何运行量子电路的。</p><pre class="lg lh li lj gt mb ly mc md aw me bi"><span id="5749" class="mf mg it ly b gy mh mi l mj mk"><em class="mm"># execution of the experiment</em><br/>job <strong class="ly iu">=</strong> qiskit.execute(<br/>    circ,<br/>    backend<strong class="ly iu">=</strong>qiskit.Aer.get_backend("aer_simulator"),<br/>    backend_options<strong class="ly iu">=</strong>{"method": "density_matrix"},<br/>    noise_model<strong class="ly iu">=</strong>noise_model,<br/>    <em class="mm"># we want all gates to be actually applied,</em><br/>    <em class="mm"># so we skip any circuit optimization</em><br/>    basis_gates<strong class="ly iu">=</strong>basis_gates,<br/>    optimization_level<strong class="ly iu">=</strong>0,<br/>    shots<strong class="ly iu">=</strong>shots,<br/>    seed_simulator<strong class="ly iu">=</strong>seed,<br/>)<br/>counts <strong class="ly iu">=</strong> job.result().get_counts()</span></pre><p id="c3ab" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">他们使用 Qiskit 的 execute 函数并获得一个<code class="fe lv lw lx ly b">job</code>对象。这与我们在真实设备上运行电路时得到的是同一个对象。见<a class="ae le" rel="noopener" target="_blank" href="/how-to-run-code-on-a-real-quantum-computer-c1fc61ff5b4">我之前的帖子</a>。</p><p id="6f8b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，让我们重新编写这个函数，不运行本地 Qiskit <code class="fe lv lw lx ly b">execute</code>，而是在真实的量子设备后端传输、组装和运行电路。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="7557" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我们删除了参数<code class="fe lv lw lx ly b">noise</code>和<code class="fe lv lw lx ly b">seed</code>，因为我们不再使用模拟。此外，我们用上面提到的过程替换了<code class="fe lv lw lx ly b">qiskit.execute</code>调用。函数的其余部分保持不变。</p><p id="916a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，我们编写另一个函数<code class="fe lv lw lx ly b">real_jakarta</code>,它采用量子电路并返回计算出的期望值。它的工作原理类似于以前使用的模拟器。因此，让我们用它来运行电路，并计算未优化的测量值。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><pre class="lg lh li lj gt mb ly mc md aw me bi"><span id="223f" class="mf mg it ly b gy mh mi l mj mk">real unmitigated_measurement =  0.17124424416552098</span></pre><p id="f3da" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，我们可以使用真正的 Jakarta 后端运行 CDR。当您启动它时，请考虑 CDR 运行几个回路来训练模型。如果每次执行需要等待两个小时，那么计算所有电路将需要一整天。</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="lz ma l"/></div></figure><p id="373d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，在所有这些等待时间之后，结果显示 CDR 减少了由噪声引起的几乎 90%的误差。这些结果与模拟结果相当。</p><p id="01ce" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天，我们了解到修改 Mitiq 代码以与真正的 Jakarta 设备一起工作是非常简单的。</p><p id="09ca" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">量子机器学习要不要入门？看看<a class="ae le" href="https://www.pyqml.com/page?ref=medium_realmitiq&amp;dest=/" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">动手量子机器学习用 Python </strong> </a> <strong class="kk iu">。</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/c3892c668b9d47f57e47f1e6d80af7b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*yymQWGhESHNGUr_L.png"/></div></figure><p id="51db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里免费获得前三章<a class="ae le" href="https://www.pyqml.com/page?ref=medium_realmitiq&amp;dest=/" rel="noopener ugc nofollow" target="_blank"/>。</p></div></div>    
</body>
</html>