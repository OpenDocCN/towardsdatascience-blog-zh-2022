<html>
<head>
<title>Hair-Splitting Quirks and Nuances of Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">场景中令人毛骨悚然的怪癖和细微差别</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tableau-the-good-and-the-bad-ba37a2ea0477#2022-04-02">https://towardsdatascience.com/tableau-the-good-and-the-bad-ba37a2ea0477#2022-04-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="300c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Tableau中有效报告的常见问题和解决方案</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b949340c32b9e69c9157987b71d6b3fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BMTGH8H3_P1w1tuvcIdmgg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://www.vecteezy.com/" rel="noopener ugc nofollow" target="_blank"> Vecteezy </a>上的<a class="ae ky" href="https://www.vecteezy.com/members/anggaafin" rel="noopener ugc nofollow" target="_blank"> Angga Afin87 </a></p></figure><h1 id="cafc" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">概观</h1><p id="d50e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">众所周知，Tableau是一个非常棒的可视化工具，可以帮助您从数据中获得可操作的见解。然而，就像俗话说的“没有完美的意大利面酱……”，Tableau也有它的怪癖。在大多数情况下，您探索得越多，功能和解决方法就越多。让我们看看Tableau中几个常见问题的答案；和一些奇怪的场景。</p><h1 id="b267" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我的数据存储在哪里？为什么我的仪表板没有刷新？</h1><p id="311d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">许多开始使用<strong class="lt iu"> Tableau Server </strong>的人可能会问的一个常见问题是— <strong class="lt iu">我的数据存储在哪里？为什么我的仪表板没有刷新？</strong>这种情况在使用提取连接时尤其会发生。这是Tableau如何存储和处理数据文件的基本概述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mn"><img src="../Images/201c709a5e7bfd58e5eee95688b5d419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n8Mu7HrFX1U4X1XcCNYmdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mo">图1.0 Tableau工作簿(。无包装和。twbx —打包)使用实时连接</strong>(图片由作者提供)</p></figure><p id="3823" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">在图1.0中，仪表板使用两个平面文件，它们是由一些每夜运行的作业生成的。文件被刷新，新数据不断被添加到平面文件中。由于Tableau桌面使用实时连接，仪表板将自动刷新，因为它引用了位于共享驱动器中由作业刷新的实际平面文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/91573d884df3ba891c4842bd25a0e8c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*miLK4wlmFaRQUsx--4GYyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mo">图1.1未包装的Tableau(.twb)使用提取连接的工作簿</strong>(图片由作者提供)</p></figure><p id="dab9" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">在图1.1中，我们看一个使用摘录的Tableau工作簿。带一个。twb '工作簿中，提取文件将在创建提取时指定的相同位置进行刷新。换句话说，当您将数据连接从“实时”更改为“提取”时，它是Tableau要求您提供的位置。因此，如果您将它保存在原始文件所在的同一个Windows共享驱动器中，摘录将在那里保存和刷新。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/b60057cc848572456e884e10e9824b0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oHxghrFx9ibitZesENq3KQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1.2 Tableau打包工作簿(。twbx)使用提取连接(图片由作者提供)</p></figure><p id="ae4e" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">在图1.2中，我们看到一个使用提取连接的Tableau打包工作簿。作业在夜间运行，并刷新Windows共享驱动器中的文件。但是，Tableau工作簿使用Windows共享驱动器中原始文件的提取副本。该摘录是原始文件的快照，存储在本地计算机的“Documents”文件夹中的Temp文件夹中。如果将此工作簿上载到Tableau服务器，则可以安排每天刷新摘录。这样，提取中的数据会按计划刷新，并且Tableau仪表板会在提取刷新后自动显示最新的数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/7811b02c2c473f4679a9ff933b2aa554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*luj6q6Djfjbf4aHkbgDdUQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1.3 Tableau打包工作簿(。twbx ),使用提取连接(图片由作者提供)</p></figure><p id="0c6b" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">在图1.3中，打包的工作簿驻留在Tableau服务器上。Tableau服务管理器在服务器位置的“tabsvc/temp”文件夹中创建提取。</p><p id="8efe" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">Tableau提取极大地提高了工作簿的性能，尤其是在后续作业运行过程中有大量的行被增量添加到数据文件中时(或者在进行多个计算时)。</p><h1 id="f109" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">提取刷新时的错误消息故障排除</h1><p id="1c05" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在某些情况下，Tableau打包工作簿上可能会出现模糊的错误消息。想象一下，一个生产就绪的工作簿突然崩溃，并显示一些错误消息。这里有一个解决这些问题的技巧-</p><ol class=""><li id="44f6" class="mx my it lt b lu mp lx mq ma mz me na mi nb mm nc nd ne nf bi translated">打开包装。twbx工作簿(即保存。twbx作为. twb工作簿)</li><li id="f783" class="mx my it lt b lu ng lx nh ma ni me nj mi nk mm nc nd ne nf bi translated">使用记事本编辑器，如Notepad++等</li><li id="dd12" class="mx my it lt b lu ng lx nh ma ni me nj mi nk mm nc nd ne nf bi translated">打开。使用Notepad ++的twb工作簿</li><li id="ea23" class="mx my it lt b lu ng lx nh ma ni me nj mi nk mm nc nd ne nf bi translated">。twb工作簿采用“XML”格式。您可以对XML进行故障排除，以查看问题所在，并相应地修复它们。</li></ol><h1 id="8304" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">向计算字段添加注释</h1><p id="e376" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">向Tableau中的计算字段添加注释行通常很有用，以便在将工作簿传递给其他人时留下一些文档。在Tableau的计算字段中，可以使用/*添加单行注释，并以*/结尾。可以使用//添加多行注释。在早期版本的Tableau (Tableau 2020)中，当工作簿上载到Tableau服务器时，它会给出一个错误。但是在Tableau的新版本中这个问题已经被修复了。另一个有趣的怪癖是单行注释应该在新的一行，而不是在Tableau server 2020.2中计算字段的同一行。在新版本中，这个问题也得到解决。</p><h1 id="7125" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">表格中的离散度量和小计</strong></h1><p id="144e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">不支持对离散度量值进行小计。这在Tableau中是一个非常糟糕的限制，它阻碍了表格报表的构建。有人可能会说Tableau是一个可视化工具，不应该用于构建表格报告。但是许多财务利益相关者通常想要简单的表格报表来满足他们的基本需求。</p><h1 id="091f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">用真实世界的乱七八糟的数据在word云中缩放(调整缩放等。)</strong></h1><p id="4189" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可能已经看到过在线博客帖子中用Tableau构建了漂亮的单词云。通常，这些看起来很好，因为数据被操纵以呈现良好缩放的良好输出。然而，当词云是用真实世界的数据构建的时候，规模并不是很大。“尺寸”牌有所帮助，但只是在一定程度上。当单个单词的数量几乎相同时；当你想用重量来衡量它们的时候，会变得非常棘手。</p><h1 id="52bd" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">当一个图表被添加到工具提示中时，它不会收集所有被传递的数据值。</strong></h1><p id="de0c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">是的，你没听错。如果您不知道，您可以将整个图表添加到工具提示中。当你将鼠标悬停在另一个图表上时，它就会显示出来。想象一下，有一个KPI单幅图块，当您将鼠标悬停在其上时，它会显示KPI随时间变化的趋势！这是一个很酷的功能。但是，如果您在KPI图块中使用了一些筛选器，则所有筛选器可能不会通过工具提示传递到正在显示的图表中。因此，在使用这个特性时，要确保所有的过滤器都从第一个图表传递到第二个图表。万一你不知道这个功能，这里有个有趣的阅读-<a class="ae ky" href="https://help.tableau.com/current/pro/desktop/en-us/viz_in_tooltip.htm" rel="noopener ugc nofollow" target="_blank">https://help . tableau . com/current/pro/desktop/en-us/viz _ in _ tooltip . htm</a></p><h1 id="b58b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据源元数据</h1><p id="3955" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当您在Tableau中使用直接SQL查询作为数据连接时，字段会以精确的格式提取。例如，将列“AB_c”作为“AB_c”拉入。但是当. csv文件用作数据源时，列“AB_c”将变成“AB C”。在将平面文件连接替换为实时数据库连接时要注意这一点，反之亦然。如果你足够早地采取行动，你可以节省很多时间来替换丢失的字段，并调整它们以使你的视觉效果再次工作。</p><h1 id="e736" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">某些计算函数可能无法用于某些数据连接</h1><p id="d1fa" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">DATEPARSE在实时数据库连接中不可用，但仅在平面文件连接中可用。因此，当您将数据源从平面文件替换为实时数据库连接时，您将需要替换所有使用“日期解析”函数的计算字段。同样，需要注意的是，正则表达式函数(正则表达式)可用于平面文件连接，但不能用于某些数据库连接，如MySQL。另外，Tableau为数据库连接提供了优秀的传递函数，使用户能够使用SQL语法(也称为RAWSQL)开发计算字段。</p><h1 id="4c3f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">刷新大型数据提取的时间</h1><p id="e945" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Tableau需要很长时间来刷新大于10gb的提取。谢天谢地，信息实验室的Philip Lowe分享了这个有用的解决方法——<a class="ae ky" href="https://www.theinformationlab.co.uk/2016/06/23/wont-tableau-refresh/" rel="noopener ugc nofollow" target="_blank">https://www . theinformationlab . co . uk/2016/06/23/wont-tableau-refresh/</a></p><h1 id="57b4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">按钮过滤器的可用性</h1><p id="074e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Tableau中的按钮过滤器本身不可用。但是，这可以通过使用Bizfactory扩展来实现。看看https://getbootstrap.com/docs/4.0/components/buttons/<a class="ae ky" href="https://getbootstrap.com/docs/4.0/components/buttons/" rel="noopener ugc nofollow" target="_blank"/>。我个人最喜欢的是btn btn-outline-info。</p><h1 id="79e2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">KPI单幅图块不可用</h1><p id="e102" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">与PowerBI等工具不同，Tableau没有现成可用的KPI图块。但是，可以使用文本表格和趋势从头开始创建它们。多个工作表可以作为浮动视图放在一起，并相互叠加，模拟KPI图块的外观。当发布到Tableau服务器时，可以使用容器将这些KPI图块的成分保存在一起。</p><h1 id="f4a0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Tableau中的警报——一个可以做得更好的很酷的功能</h1><p id="6432" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">警报是一个非常有用的工具，可以帮助实现控制图和异常检测等功能。当一个数据点超过某个阈值时，它们可以让利益相关者得到通知。奇怪的是，每次警报运行时，Tableau警报机制都会查找所有过去的数据，并针对每个数据违规发出警报。幸运的是，有一些变通办法可以帮助设置当前日期的提醒。这里有一些由其他开发人员提出的有趣的解决方法-<a class="ae ky" href="https://community.tableau.com/s/question/0D54T00000C6cbgSAB/trying-to-make-alerts-work-on-current-date-rather-than-the-entire-graph" rel="noopener ugc nofollow" target="_blank">https://community . tableau . com/s/question/0d 54t 00000 c 6 cbgsab/trying-make-alerts-work-on-current-date-而不是-the-whole-graph</a></p><p id="28e8" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">如果你不熟悉Tableau中的提醒，可以看看这个—<a class="ae ky" href="https://help.tableau.com/current/pro/desktop/en-us/data_alerts.htm" rel="noopener ugc nofollow" target="_blank">https://help . Tableau . com/current/pro/desktop/en-us/data _ alerts . htm</a></p><h1 id="9295" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结束语</h1><p id="0728" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">是的，我同意霍华德·莫斯科维茨的观点——“没有完美的意大利面酱。有完美的意大利面酱”。没有一种工具是完美的，但是如果一种工具可以从另一种工具中学习，那就太好了。Tableau不是完美的工具，但它是一个伟大的工具，不断发展和实现新的特性和功能。虽然有些古怪和细微差别，但总有一个或多个变通办法可以达到你的目的。提前计划并设计使用上述策略的仪表板可以帮助节省时间，并生成高效的仪表板和准确的业务报告。</p><h1 id="fdc8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated"><strong class="ak">其他有用的参考资料</strong></h1><p id="22e4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://kb.tableau.com/articles/issue/Tableau-Server-dataengineextract-Folder-Consumes-Disk-Space" rel="noopener ugc nofollow" target="_blank"> Tableau服务器“dataengineextract”文件夹消耗磁盘空间| Tableau软件</a></p><p id="6cc7" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated"><a class="ae ky" href="https://community.tableau.com/s/question/0D54T00000C6JquSAF/tableau-hyper-extract-in-temp-folder" rel="noopener ugc nofollow" target="_blank">临时文件夹中的Tableau hyper Extract</a></p><p id="dc80" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated"><a class="ae ky" href="https://kb.tableau.com/articles/issue/extract-file-path-displays-temp-location-in-tableau-data-extract-connection-dialog" rel="noopener ugc nofollow" target="_blank">提取文件路径显示Tableau数据提取连接对话框中的临时位置| Tableau软件</a></p><p id="f137" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated"><a class="ae ky" href="https://kb.tableau.com/articles/howto/temp-tables-in-tableau-desktop-and-tableau-server" rel="noopener ugc nofollow" target="_blank">Tableau桌面和Tableau服务器中的临时表| Tableau软件</a></p><p id="ed50" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated"><strong class="lt iu">符号&amp;图标演职员表<br/> </strong>一些由<a class="ae ky" href="https://www.flaticon.com/authors/pixel-perfect" rel="noopener ugc nofollow" target="_blank">像素完美制作的图标</a>来自<a class="ae ky" href="http://www.flaticon.com/" rel="noopener ugc nofollow" target="_blank">www.flaticon.com</a></p></div></div>    
</body>
</html>