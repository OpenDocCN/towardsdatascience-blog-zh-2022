<html>
<head>
<title>Assumptions of Multiple Linear Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多元线性回归的假设</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/assumptions-of-multiple-linear-regression-d16f2eb8a2e7#2022-03-09">https://towardsdatascience.com/assumptions-of-multiple-linear-regression-d16f2eb8a2e7#2022-03-09</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="c2df" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">python 中假设的实现</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/a020cf95cc89b10245e871dfcdf32d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*slJdB2fXMPy-v5klZc3gMA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片来自<a class="ae kz" href="https://unsplash.com/photos/OlxJVn9fxz4" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><blockquote class="la lb lc"><p id="4586" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">简介</strong></p></blockquote><p id="de5c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">线性回归是各种预测分析的核心过程。根据定义，线性回归是指拟合两个感兴趣的连续变量。不是所有的数据集都可以用线性方式拟合。在开始回归分析之前，有几个假设必须满足。其中一些对于模型的评估非常重要。</p><ol class=""><li id="e516" class="md me iu lg b lh li lk ll ma mf mb mg mc mh lz mi mj mk ml bi translated">线性</li><li id="05fc" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">多重共线性</li><li id="2b6c" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">同方差性</li><li id="ca2a" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">多元正态性</li><li id="4920" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">自相关</li></ol><blockquote class="la lb lc"><p id="3a3f" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">用数据弄脏手</strong></p></blockquote><p id="c770" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">出于演示的目的，我将利用开源数据集进行线性回归。<a class="ae kz" href="https://www.kaggle.com/aungpyaeap/fish-market" rel="noopener ugc nofollow" target="_blank">“鱼”数据集</a>受 GPL 2.0 许可。我们将通过各种需求来建立对这个数据集的线性回归分析。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mr"><img src="../Images/2849a24023049c1bc32d293030523973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f1YX8J2GYEoUBX64ZSbTQw.png"/></div></div></figure><blockquote class="la lb lc"><p id="4d70" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">线性度</strong></p></blockquote><p id="5d49" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">第一个假设非常明显和简单。我们试图拟合的变量应该保持线性关系。如果没有线性关系，可以对数据进行转换，使其成为线性关系。这些类型的转换包括对响应数据取对数或对响应数据求平方根。检查散点图是检查线性最好也是最简单的方法。<br/>让我们做一个体重和身高变量之间的线性检查。散点图显示这两个变量之间几乎没有线性关系，因此我们需要转换变量。我们可以对两者进行对数运算，并获得更线性的散点图。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ms"><img src="../Images/423fb80d9cfb56d2f1331377497f250c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*su_U30qHW1JWHwWbpq5PZg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">变量之间观察到非线性(图片由作者提供)</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mt"><img src="../Images/bd08394dc611deed1c5770065e5acdd4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bqweUqD49T2WisnlW45cXw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">对数变换后线性增加(图片由作者提供)</p></figure><p id="6973" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">很明显，即使在对数变换之后，数据仍然显示出某种双峰。一些数据位于重量分布的上半部分，而剩余的数据点独立于前一个分布。在这种情况下，我们可能需要收集 2.5 到 3.56 厘米之间的更多数据，最终我们可以获得更正态的分布。</p><h2 id="7630" class="mu mv iu bd mw mx my dn mz na nb dp nc ma nd ne nf mb ng nh ni mc nj nk nl nm bi translated"><strong class="ak">外卖 1 </strong></h2><p id="27a8" class="pw-post-body-paragraph ld le iu lg b lh nn jv lj lk no jy lm ma np lp lq mb nq lt lu mc nr lx ly lz in bi translated">→对照所有独立变量检查响应变量的散点图。</p><p id="764d" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">→如果没有观察到线性，转换数据。</p><blockquote class="la lb lc"><p id="b621" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">多重共线性</strong></p></blockquote><p id="1b4e" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">当两个或两个以上的独立变量相互关联时，就会出现多重共线性。如果是这样的话，模型对系数的估计将是系统性错误的。人们可以检查方差膨胀因子(VIF)来确定高度相关的变量，并可能从模型中删除这些变量。R 是变量相关程度的量度，VIF 由这个 R 值确定。如果变量之间有很高的相关性，VIF 值就会飙升。通常，VIF 值大于 5 表示存在多重共线性。VIF 的最小值为 1，这对于方程来说是显而易见的，这表明不存在多重共线性。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ns"><img src="../Images/840bdfa438d69519ec46c82a6fa3b7b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:482/format:webp/1*xfKJK5ahmO99tI7c3icxyQ.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">VIF 公式</p></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nt nu l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nv"><img src="../Images/5fabe4ef2fdc0e0c6ac80ff8a762f435.png" data-original-src="https://miro.medium.com/v2/resize:fit:356/format:webp/1*q0sEt-VeZvzuK1ZpXSn78w.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">VIF 价值观</p></figure><p id="d4c7" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">观察 VIF 值，很明显所有的变量都是高度相关的。如果我们的响应变量是“权重”，我们可以保留其余五个变量中的任意一个作为我们的自变量。由于各种原因，数据集中可能会出现多重共线性。它可能是由于数据收集过程而出现的。一些变量可能会重复，而另一些可能会转换，这可能会导致多重共线性。</p><p id="e5cb" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">皮尔逊多重共线性系数是这种情况下的另一个度量。它可以用矩阵的形式表现出来，这很好。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nt nu l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nw"><img src="../Images/804372a700e3ebec6f2538b745bdbadf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_4uRakc6CaYJVHC8-CzKw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">皮尔逊多重共线性系数(图片由作者提供)</p></figure><h2 id="5f1a" class="mu mv iu bd mw mx my dn mz na nb dp nc ma nd ne nf mb ng nh ni mc nj nk nl nm bi translated"><strong class="ak">外卖 2 </strong></h2><p id="9fc7" class="pw-post-body-paragraph ld le iu lg b lh nn jv lj lk no jy lm ma np lp lq mb nq lt lu mc nr lx ly lz in bi translated">→检查散点图或 R 值，以确定是否存在多重共线性。</p><p id="3fae" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">→同时检查 VIF 值以筛选出变量。</p><blockquote class="la lb lc"><p id="1ff4" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">同方差</strong></p></blockquote><p id="48e5" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">同方差是多元线性回归建模的另一个假设。它要求线性拟合两侧的数据点之间的方差相等。如果不是这样，数据就是异方差的。通常，数据质量会导致这种异方差行为。如果响应变量呈现圆锥形分布，我们可以说方差不可能在模型的每一点都相等，而不是线性增加或减少。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nx"><img src="../Images/ddb11c10ce798d8bae8eff60a6626362.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tvJPEeGhzckKfAmsMowbPQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">异方差数据的锥形分布(图片由作者提供)</p></figure><p id="49de" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我有另一篇文章是关于数据的这个特性的。读者可能会觉得有用。</p><div class="ny nz gq gs oa ob"><a rel="noopener follow" target="_blank" href="/heteroscedasticity-in-regression-model-21d9f5a93e59"><div class="oc ab fp"><div class="od ab oe cl cj of"><h2 class="bd iv gz z fq og fs ft oh fv fx it bi translated">回归模型中的异方差性</h2><div class="oi l"><h3 class="bd b gz z fq og fs ft oh fv fx dk translated">使用统计模型检查异方差性</h3></div><div class="oj l"><p class="bd b dl z fq og fs ft oh fv fx dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op kt ob"/></div></div></a></div><p id="8b1c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在我们的“鱼”数据集中，变量“重量”在散点图中显示了类似的行为。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nt nu l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oq"><img src="../Images/8dc9c42c210e71649f2ecd13c5979551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iUjxqTf3NbHrquP7wjwEhQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">拟合线周围的不等方差(图片由作者提供)</p></figure><p id="6996" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">当残差相对于预测值作图时，它也提供了这种异方差的指示。下图显示了残差的某种模式。在这种情况下，响应变量的转换可能是最小化异方差的好步骤。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj or"><img src="../Images/060cf7e0c91d0f98462f43a37df42c7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCkWGxoFvd7iMXpc8c8Nlg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">剩余散点图(图片由作者提供)</p></figure><h2 id="0a67" class="mu mv iu bd mw mx my dn mz na nb dp nc ma nd ne nf mb ng nh ni mc nj nk nl nm bi translated"><strong class="ak">外卖 3 </strong></h2><p id="5665" class="pw-post-body-paragraph ld le iu lg b lh nn jv lj lk no jy lm ma np lp lq mb nq lt lu mc nr lx ly lz in bi translated">→检查响应变量的散点图，如果方差是可变的(非常数)或任何锥形图。</p><p id="a031" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">→转换变量以最小化异方差。</p><blockquote class="la lb lc"><p id="83e1" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">多元常态</strong></p></blockquote><p id="b2a7" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">这种假设表明模型的残差是正态分布的。确定模型参数后，最好检查残差的分布。除了直观的分布，人们应该检查 Q-Q 图以更好地理解分布。鼓励读者仔细阅读下面文章中概述的 Q-Q 情节的基础和实现。</p><div class="ny nz gq gs oa ob"><a rel="noopener follow" target="_blank" href="/understand-q-q-plot-using-simple-python-4f83d5b89f8f"><div class="oc ab fp"><div class="od ab oe cl cj of"><h2 class="bd iv gz z fq og fs ft oh fv fx it bi translated">使用简单的 python 理解 Q-Q 图</h2><div class="oi l"><h3 class="bd b gz z fq og fs ft oh fv fx dk translated">可视化数据的有效方法</h3></div><div class="oj l"><p class="bd b dl z fq og fs ft oh fv fx dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="os l om on oo ok op kt ob"/></div></div></a></div><p id="f0e0" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在我们的数据集中，我们可以可视化分布以及 Q-Q 图，但为了更好地理解，让我们生成一些合成数据。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ot"><img src="../Images/d83b3d2deb21041dcf262bb7b957bca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5wrxwAA6iJJYHBeDNzGieA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">用拟合线生成的数据(图片由作者提供)</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ou"><img src="../Images/e04feb4c6d128eeb299ec48e3f439aa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JRLgRaCIqkJ6QyiO1o7Zog.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">残差分布(图片由作者提供)</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ov"><img src="../Images/2e155db7fdb47323a0482e8096daec69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*KEDhsA4kH470gnDNY_cxyA.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Q_Q 图(图片作者提供)</p></figure><p id="871b" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Q-Q 图偏离了 45⁰线，后者似乎代表了一个分散不足的数据集，其尾部比正态分布更细。在这种情况下，非线性变换也有助于建立多元正态性。</p><h2 id="3e40" class="mu mv iu bd mw mx my dn mz na nb dp nc ma nd ne nf mb ng nh ni mc nj nk nl nm bi translated"><strong class="ak">外卖 4 </strong></h2><p id="bfa9" class="pw-post-body-paragraph ld le iu lg b lh nn jv lj lk no jy lm ma np lp lq mb nq lt lu mc nr lx ly lz in bi translated">→检查残差分布和 Q_Q 图，以确定正态性</p><p id="d4ac" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">→如果缺乏正态性，则执行非线性转换</p><p id="1ebe" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">除了这些情况之外，还有一个“无自相关”假设，它基本上告诉我们，在残差散点图中应该没有特定的模式。特定位置的一个残差不应依赖于其周围的残差。恒定方差假设与此有些关系。</p><blockquote class="la lb lc"><p id="72aa" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结论</strong></p></blockquote><p id="4659" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们已经展示了多元线性回归假设检验的实现。线性和多重共线性比其他假设更重要。在各种机器学习或统计问题中，线性回归是最简单的解决方案。然而，用户应同样小心这里概述的假设，并采取必要措施将非线性引起的影响降至最低。</p><p id="4652" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://mdsohelmahmood.github.io/2022/03/09/Assumptions-of-Multiple-Linear-Regression.html" rel="noopener ugc nofollow" target="_blank"> Github 页面</a></p></div></div>    
</body>
</html>