<html>
<head>
<title>Critical Facts That Every Data Scientist Should Know — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个数据科学家都应该知道的关键事实—第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/critical-facts-that-every-data-scientist-should-know-part-2-c9c06cde6e21#2022-04-19">https://towardsdatascience.com/critical-facts-that-every-data-scientist-should-know-part-2-c9c06cde6e21#2022-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd43" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本文的第二部分，我们将总结成为超级数据科学家需要知道的一些关键事实</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d6a0fe4c6588f6955171161b98399117.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*waavr452mc1Ywufw"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">米歇尔·卡萨尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="f711" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="95f5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们还需要数据科学家吗？</p><p id="a845" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><a class="ae ky" href="https://hbr.org/2012/10/data-scientist-the-sexiest-job-of-the-21st-century" rel="noopener ugc nofollow" target="_blank">21世纪最性感的工作</a>现在似乎已经过时了。今天，训练一个随机森林或一个神经网络只需要几行代码，甚至几个点击。每个软件供应商都承诺凭借他们出色的工具将你变成“公民数据科学家”，因此试图理解我们数据背后的统计和数学事实似乎是浪费时间，但真的是这样吗？</p><p id="e4dc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在文章的第二部分，请看下面的<strong class="lt iu">第一部分</strong>，</p><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/critical-facts-that-every-data-scientist-should-know-part-1-31f9c25e5e00"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">每个数据科学家都应该知道的关键事实—第1部分</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">许多数据科学家都是出色的程序员，但是忽视某些统计事实会导致非常严重的后果…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ks mv"/></div></div></a></div><p id="8978" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们将更深入地分析我们在分析真实数据时遇到的一些最重要的现象。当你读完这篇文章时，我希望你会同意我的观点，不是我们使用的工具定义了我们作为数据科学家，而是我们对数据的理解，</p><blockquote class="nk"><p id="a01e" class="nl nm it bd nn no np nq nr ns nt mm dk translated">定义我们为数据科学家的不是我们使用的工具，而是我们对数据的理解</p></blockquote><p id="dddc" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">它是如何产生的，以及它是如何随时间演变的。</p><p id="0fe9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">特别是，在第二部分中，我们将讨论:</p><ol class=""><li id="a061" class="nz oa it lt b lu mn lx mo ma ob me oc mi od mm oe of og oh bi translated">数据泄漏，当你的结果好得令人难以置信</li><li id="4f5d" class="nz oa it lt b lu oi lx oj ma ok me ol mi om mm oe of og oh bi translated">可解释性与辛普森悖论</li><li id="fefb" class="nz oa it lt b lu oi lx oj ma ok me ol mi om mm oe of og oh bi translated">采样偏差如何影响您的模型</li><li id="e5ae" class="nz oa it lt b lu oi lx oj ma ok me ol mi om mm oe of og oh bi translated">非平稳性和协变量移位</li><li id="0909" class="nz oa it lt b lu oi lx oj ma ok me ol mi om mm oe of og oh bi translated">观察者效应和概念漂移</li></ol><p id="3883" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">理解以下内容所需的所有知识都可以在本文的第一部分找到。</p><p id="b26f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">您可以在下面的GitHub资源库中找到用于生成结果和图表的代码，我们将一起分析这些结果和图表。在那里你会发现两个笔记本可以很容易地在Google Colab上运行，而不需要在你的PC上安装任何东西。</strong></p><div class="ms mt gp gr mu mv"><a href="https://github.com/mnslarcher/critical-facts-that-every-data-scientist-should-know" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">GitHub-mnslarcher/每个数据科学家都应该知道的关键事实</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">该存储库包含两个笔记本，与两篇描述一些关键事实的媒体文章相关联，每篇文章都…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="on l ng nh ni ne nj ks mv"/></div></div></a></div><p id="0866" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我强烈建议您尝试自己运行代码，尝试新的参数并预测它们对结果的影响。毕竟，除了把手弄脏之外，没有其他方法可以真正学到东西。</p><blockquote class="nk"><p id="c2b6" class="nl nm it bd nn no np nq nr ns nt mm dk translated">除了把手弄脏之外，没有其他方法可以真正学到东西</p></blockquote><h1 id="747f" class="kz la it bd lb lc ld le lf lg lh li lj jz oo ka ll kc op kd ln kf oq kg lp lq bi translated">数据泄漏，当你的结果好得令人难以置信</h1><p id="756e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你有过“好得可疑”的结果吗？这很奇怪，但我们的数据科学家的第六感告诉我们，如果一个结果好得令人难以置信，它很可能不是真的。</p><blockquote class="nk"><p id="c708" class="nl nm it bd nn no np nq nr ns nt mm dk translated">如果一个结果好得令人难以置信，那么它很可能不是真的</p></blockquote><p id="4767" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">在这种情况下，第一嫌疑人几乎总是<strong class="lt iu">数据泄露</strong>。</p><p id="f80a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从<a class="ae ky" href="https://en.wikipedia.org/wiki/Leakage_(machine_learning)" rel="noopener ugc nofollow" target="_blank">维基百科页面上漏(机器学习)</a>:</p><blockquote class="or os ot"><p id="98ae" class="lr ls ou lt b lu mn ju lw lx mo jx lz ov mp mc md ow mq mg mh ox mr mk ml mm im bi translated">[……]<strong class="lt iu">泄漏</strong>(也称为<strong class="lt iu">数据泄漏</strong>或<strong class="lt iu">目标泄漏</strong>)是在模型训练过程中使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Information" rel="noopener ugc nofollow" target="_blank">信息</a>，该信息预计在<a class="ae ky" href="https://en.wikipedia.org/wiki/Prediction" rel="noopener ugc nofollow" target="_blank">预测</a>时间不可用，导致预测分数(指标)高估了模型在生产环境中运行时的效用。</p></blockquote><p id="df24" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用<a class="ae ky" rel="noopener" target="_blank" href="/critical-facts-that-every-data-scientist-should-know-part-1-31f9c25e5e00">第1部分</a>中已经介绍的示例，假设我们想要训练一个模型来识别我们的客户中谁在实施欺诈。</p><p id="b37b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们几乎没有时间，但对我们新购买的软件充满信心，我们点击几次来读取我们去年的客户数据，包括我们将用作目标的欺诈/非欺诈列，瞧，再点击几次来分割数据并训练最新的闪亮模型，我们就完成了。</p><p id="b241" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们在测试集上测量性能，一切似乎都很顺利，结果非常好，超出了我们的预期，来吧，让我们将模型投入生产！</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="e3cd" class="pd la it oz b gy pe pf l pg ph">Test precision: 89.95%<br/>Test recall: 99.40%<br/>Test F1-score: 94.44%</span></pre><p id="f7ff" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">几个月后，大家都很高兴，我们重新计算了我们的模型在一些客户身上的表现，我们以样本为基础检查了这些客户，得到了这些结果:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="9688" class="pd la it oz b gy pe pf l pg ph">Production precision: 47.37%<br/>Production recall: 9.00%<br/>Production F1-score: 15.13%</span></pre><p id="8692" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">发生了什么事？</p><p id="da49" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们来看看用来生成预测的变量，其中我们找到了一个名为updated_last_year的二进制变量，它表示客户信息在去年是否更新过。乍一看，这似乎是一个无辜的变量，我们并不真正理解为什么模型认为它如此重要。不理解为什么我们的模型认为一个变量很重要是一个大的危险信号，应该让我们怀疑。</p><blockquote class="nk"><p id="c083" class="nl nm it bd nn no np nq nr ns nt mm dk translated">不理解为什么我们的模型认为一个变量很重要是一个大的危险信号</p></blockquote><p id="4f86" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">但是让我们想一想，在我们的训练和测试数据集中，这个变量对欺诈客户有什么价值？因为在这种情况下，我们会更新他们的信息，说他们犯了欺诈罪。其他顾客呢？1或者0，这么说吧，只是为了举例，10% 1，90% 0。</p><p id="e33c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">所以变量updated_last_year在检查的结果之后并根据它而改变。但是，当我们在生产中使用我们的模型来决定客户是否正在实施欺诈时，我们是否知道检查的结果以及该变量将取的值？没有。</p><p id="ac1a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">换句话说，在训练期间，我们无意识地使用仅在我们用来训练模型的检查之后可用的信息。我们用未来来预测过去，这是一个常见的错误。</p><blockquote class="nk"><p id="d612" class="nl nm it bd nn no np nq nr ns nt mm dk translated">我们用未来来预测过去，这是一个常见的错误</p></blockquote><p id="c35d" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">为什么“利用未来”在培训期间是可能的，而在我们使用模型来决定检查谁的生产中是不可能的？因为在培训期间，我们可以访问过去(检查前的客户信息)和未来(检查的结果及其后续行动)，而在生产中，我们只知道到目前为止发生了什么，我们只能在此基础上决定是否检查客户。</p><p id="979f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这应该给我们一个教训:永远不要盲目使用数据，</p><blockquote class="nk"><p id="e456" class="nl nm it bd nn no np nq nr ns nt mm dk translated">永远不要盲目使用数据</p></blockquote><p id="6f8e" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">当我们使用模型生成预测时，了解存在哪些变量是很重要的，并且要确保在训练期间，我们的解释变量的所有值都是根据我们想要预测的信息计算出来的。</p><h1 id="de10" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">可解释性与辛普森悖论</h1><p id="29a7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">通常，解释为什么做出预测与预测本身一样重要，甚至更重要。对一个统计学家来说,“解释”可能会让人想到像p值这样的概念，</p><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/p-value-explained-simply-for-data-scientists-4c0cd7044f14"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">为数据科学家简单解释p值</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">没有统计学家的自命不凡和数据科学家的冷静</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="pi l ng nh ni ne nj ks mv"/></div></div></a></div><p id="15d2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">看看我们的线性回归的哪些参数有统计学意义。这听起来可能非常科学，因此是正确的，但是记住有三种谎言:谎言、该死的谎言和统计数据。</p><blockquote class="nk"><p id="47d7" class="nl nm it bd nn no np nq nr ns nt mm dk translated">有三种谎言:谎言、该死的谎言和统计数字</p></blockquote><p id="7df3" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">让我们设想估计一个线性回归来理解18岁到38岁人群中健康和工资之间的关系。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/58c37d0b9117d35a8a91803acca9f603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*EAmxSY7YTusQtM4onUH7Bg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者，灵感来自<a class="ae ky" href="https://en.wikipedia.org/wiki/Simpson%27s_paradox#/media/File:Simpsons_paradox_-_animation.gif" rel="noopener ugc nofollow" target="_blank"> Pace~svwiki </a></p></figure><p id="46de" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们惊讶地发现，随着薪水的增加，人们的健康状况却在下降，穷人真幸福！但事实真的是这样吗？</p><p id="708e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后，让我们重新估计另一个线性模型，然而这一次通过添加人的可变年龄，我们然后获得:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/965e61931dad5e441b12bac1ebe521f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*TsPz10Ptod1LXP40dw4hxQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者，灵感来自<a class="ae ky" href="https://en.wikipedia.org/wiki/Simpson%27s_paradox#/media/File:Simpsons_paradox_-_animation.gif" rel="noopener ugc nofollow" target="_blank"> Pace~svwiki </a></p></figure><p id="6d2c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果加上年龄这个变量，工资和健康的关系就完全颠倒了！这种现象被称为<a class="ae ky" href="https://en.wikipedia.org/wiki/Simpson%27s_paradox" rel="noopener ugc nofollow" target="_blank">辛普森悖论</a>。</p><p id="acbd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一句话:不要因为两个变量相关就得出因果结论，我们没有考虑的潜在变量可能会完全推翻我们对数据的解释。</p><blockquote class="nk"><p id="e200" class="nl nm it bd nn no np nq nr ns nt mm dk translated">当心仅仅因为两个变量相关就得出因果结论</p></blockquote><h1 id="e7b9" class="kz la it bd lb lc ld le lf lg lh li lj jz oo ka ll kc op kd ln kf oq kg lp lq bi translated">采样偏差如何影响您的模型</h1><p id="7fa4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有时，我们并不太注意我们用来训练模型的数据是如何收集的。毕竟，如果他们是正确的，那又有什么区别呢？不幸的是，数据收集的方式有所不同，很大的不同。</p><blockquote class="nk"><p id="58c0" class="nl nm it bd nn no np nq nr ns nt mm dk translated">数据是如何收集的很重要，非常重要</p></blockquote><p id="c854" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">回到欺诈检测示例，让我们假设我们的数据如下图所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/a261fa1d634011d05f5f328e3dd32ee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w1ZXBioEZgvr0VCfcegaig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="f295" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们注意到的第一件事是，在总人口(过去和非过去检查的客户)和我们过去检查的人口之间，私营和国有企业中欺诈的百分比发生了变化。为什么？</p><p id="09e8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">嗯，有几个原因:</p><ol class=""><li id="558a" class="nz oa it lt b lu mn lx mo ma ob me oc mi od mm oe of og oh bi translated">如果我们在过去没有完全随机地检查我们的客户，我们可以预期在我们被检查的客户数据集中欺诈的百分比比在总人口中的百分比更高。</li><li id="ee02" class="nz oa it lt b lu oi lx oj ma ok me ol mi om mm oe of og oh bi translated">我们还认为，国有企业很少受到检查，几乎只是因为有人目睹了一起欺诈事件而提出投诉。</li></ol><p id="17ab" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">换句话说，在我们接受检查的客户数据集中，我们有两个偏差:更多的欺诈，以及在国有企业中，有人举报的企业过多。</p><p id="9952" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当偏差是由于数据收集的方式引起时，它被称为<strong class="lt iu">采样偏差</strong>。</p><p id="8be0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们暂时忽略这些事实，根据唯一可用的数据——被检查客户的数据库——训练一个模型。我说“仅可用”是因为不可能使用我们没有检查过的客户来训练一个<a class="ae ky" href="https://en.wikipedia.org/wiki/Supervised_learning" rel="noopener ugc nofollow" target="_blank">监督的</a>模型，我们不知道目标变量的值，而这个值必须在训练期间知道。</p><p id="0c98" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在<a class="ae ky" href="https://en.wikipedia.org/wiki/Backtesting" rel="noopener ugc nofollow" target="_blank">回测</a>之后，我们决定我们很满意，我们使用生产中的模型选择1000个客户进行检查。</p><p id="f54e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们先来看一些根据客户样本计算的统计数据:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="1bd2" class="pd la it oz b gy pe pf l pg ph">Percentage of state-owned enterprises: 50.00%<br/>Percentage of private enterprises: 50.00%<br/>Fraud rate in state-owned enterprises: 5.00%<br/>Fraud rate in private enterprises: 20.00%</span></pre><p id="3ae1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">你最想检查谁？</p><p id="34c1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们看看我们的模型给出了什么建议:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="53d5" class="pd la it oz b gy pe pf l pg ph">Percentage of state-owned enterprises in the top 1000 to be inspected: 100.00%</span></pre><p id="6336" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">全是国企！</p><p id="4b0c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们过去检查客户的方式引入了偏见，即只有在我们基本确定欺诈行为时才检查国有企业，这产生了一个训练数据集，模型根据这个数据集学习识别国有企业更加可疑(即使实际上它们的欺诈行为较少)。</p><p id="3e1a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">请注意，如果我们包含一个“报告的”二进制变量，说明客户在检查之前是否被某人报告过，这个问题就会得到缓解。同样的变量意味着一旦模型投入生产，被某人报告的客户看到(正确地)他们被模型估计的欺诈的可能性上升。然后，这个模型就会明白，不是国有企业让欺诈更有可能发生，而是有人看到我们作弊的事实。还是那句话，有没有变量会造成世界上所有的不同。</p><blockquote class="nk"><p id="c14d" class="nl nm it bd nn no np nq nr ns nt mm dk translated">有或没有一个变量可以让世界变得完全不同</p></blockquote><p id="43ca" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">通常，有些变量是无法访问的，所以最好总是问自己用于训练模型的数据和生产中的数据之间有什么不同，在下一节中，我们将看到这是真实的其他原因。</p><blockquote class="nk"><p id="675f" class="nl nm it bd nn no np nq nr ns nt mm dk translated">总是问自己，用于训练模型的数据和生产中的数据之间有什么不同</p></blockquote><h1 id="e974" class="kz la it bd lb lc ld le lf lg lh li lj jz oo ka ll kc op kd ln kf oq kg lp lq bi translated">非平稳性和协变量移位</h1><p id="c7a1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现实在不断发展，但我们用来训练模型的数据往往停留在过去，从长远来看，这可能会产生严重的问题。</p><blockquote class="nk"><p id="e797" class="nl nm it bd nn no np nq nr ns nt mm dk translated">现实在不断发展，但我们用来训练模型的数据往往停留在过去</p></blockquote><p id="3330" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">假设我们是研究温度和植物生长速度关系的数据科学家。我们已经训练了一个线性模型，现在正在监控它如何处理每天发送给我们的新数据。</p><p id="89da" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在前100天，传入的数据类似于我们训练模型时使用的数据，我们计算性能并得到:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="97e6" class="pd la it oz b gy pe pf l pg ph">First period mean absolute error: 0.01</span></pre><p id="831d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">很好，误差相当低，我们的模型很好地表现了温度和植物生长速度之间的关系。</p><p id="5816" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然而，在某一点上，有一个明显的变化，植物现在承受的温度更高了。我们问那些进行实验的人为什么，他们告诉我们，他们正在测试一种新的机制，以了解植物对高温的反应。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/f3b814aa246b2b89d7f1090c8b417d45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*VhA6sMdpeS-Kxh7Yd3bu3A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d430" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一个随时间改变其分布的系列，就像在我们的例子中植物暴露的温度，被称为<strong class="lt iu">非平稳</strong>。</p><p id="f0cd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对我们模型的性能会有什么影响？</p><p id="3d6b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们根据过去100天的数据计算性能，我们看到我们的平均绝对误差(MAE)是前一时期的近20倍:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="eccb" class="pd la it oz b gy pe pf l pg ph">Second period mean absolute error: 0.18</span></pre><p id="4fc9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">让我们绘制测量的增长率和我们的模型预测:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/414d7a19fcbff4100216dce8d3f2f250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*_L-HNxFiVIGMQ2o26Fdtag.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者提供，灵感来自<a class="ae ky" href="https://www.researchgate.net/figure/Schematic-plots-of-plant-growth-rate-vs-temperature-for-plants-adapted-to-near-constant_fig2_228690105" rel="noopener ugc nofollow" target="_blank"> Criddle等人2005年</a></p></figure><p id="2ed7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们的模型从来没有机会了解这一秒的非常高的值的生长和温度之间的关系，只能使用从可用数据中了解到的内容进行推断。不幸的是，在这种情况下，从模型中得知的中低温下有效的线性关系与高温下的真实关系正好相反。</p><p id="36cd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们的模型使用的解释变量改变其分布的现象被称为<strong class="lt iu">协变量移位</strong>。</p><p id="10cd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这一事实对公平性也有深远的影响:例如，一个被训练用来预测药物对大多数白人男性患者的效果的模型可能对黑人女性患者效果不佳。</p><blockquote class="nk"><p id="5c84" class="nl nm it bd nn no np nq nr ns nt mm dk translated">[协变量转移]对公平也有深远的影响</p></blockquote><h1 id="204e" class="kz la it bd lb lc ld le lf lg lh li lj jz oo ka ll kc op kd ln kf oq kg lp lq bi translated">观察者效应和概念漂移</h1><p id="9d5b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我以一个发生在1924年至1927年间的真实实验来结束这篇文章，我将转移并简化它一点，但实质并没有改变。</p><p id="8d47" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">假设我们是研究环境照明对工人生产力影响的科学家，我们的假设是照明的增加会提高工人的生产力。</p><p id="6df1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我们在不改变照明的情况下，在两个不同的时间测量工人的生产率，正如预期的那样，我们没有记录任何统计上的显著变化:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="5e4d" class="pd la it oz b gy pe pf l pg ph">Productivity increase - normal illumination: 0.1% ± 5.0% (mean ± std. dev.)</span></pre><p id="5391" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这一点上，我们警告工人，我们将进行一项实验，在一定时期内，我们将增加照明，以了解这对他们的生产率有什么影响。几天后，我们记录了生产率的以下增长:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="4dc5" class="pd la it oz b gy pe pf l pg ph">Productivity increase - increased illumination: 50.1% ± 4.9% (mean ± std. dev.)</span></pre><p id="0cda" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">太好了！我们发现了生产力和环境照明之间的关系，这将使实业家们眼前一亮。</p><p id="390a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">但这是真的吗？好吧，好吧，在这一点上，我已经变得无聊了，但重要的是要强调，数据科学家必须始终保持批判性思维。</p><blockquote class="nk"><p id="5f3c" class="nl nm it bd nn no np nq nr ns nt mm dk translated">数据科学家必须始终保持批判性思维</p></blockquote><p id="fdf3" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">我们重复了这个实验，但这一次没有对此时不知道自己被观察的工人说任何话，我们在一段时间后重新计算生产率的增加，这一次我们得到:</p><pre class="kj kk kl km gt oy oz pa pb aw pc bi"><span id="beb9" class="pd la it oz b gy pe pf l pg ph">Productivity increase - increased illumination and not aware: -0.2% ± 5.0% (mean ± std. dev.)</span></pre><p id="fa6a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">啊！我们之前所有的结论都是错误的，生产率的提高并不是因为照明的增加，而仅仅是因为工人们知道他们被监视了。在进行实验时，总是要小心考虑你是否在无意识地影响结果，即使只是因为你的实验对象知道他们正在被观察。</p><blockquote class="nk"><p id="e1ab" class="nl nm it bd nn no np nq nr ns nt mm dk translated">当进行实验时，总是小心考虑你是否在无意识地影响结果</p></blockquote><p id="486a" class="pw-post-body-paragraph lr ls it lt b lu nu ju lw lx nv jx lz ma nw mc md me nx mg mh mi ny mk ml mm im bi translated">这一事实被称为<strong class="lt iu">观察者效应</strong>或<a class="ae ky" href="https://en.wikipedia.org/wiki/Hawthorne_effect" rel="noopener ugc nofollow" target="_blank">T3】霍桑效应T5】来源于首次进行实验的植物的名字(请阅读原始实验，不要把我对实际发生的事情简单化)。</a></p><p id="98f3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在不知道工人们是否知道他们被监视的情况下，我们唯一能得出的结论是，在相同的输入(照明水平)下，输出(生产率)发生了变化。输入与输出关系的变化称为<strong class="lt iu">概念漂移</strong>。与此形成对比的是协变量转移，在协变量转移中，投入和产出之间的关系不变，但投入的分布发生了变化。</p><p id="a0f9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这个实验中，工人响应照明变化的行为变化不是“真正的”变化，但这是因为我们没有考虑一个重要的变量吗？你注意到前面几节的模式了吗？</p><h1 id="1da1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="9b09" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最后一部分总结了我在数据科学家职业生涯中学到的一些最重要的概念，我希望你会觉得有用。</p><p id="6771" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你喜欢这篇文章，并希望我写得更好，你可以做几件事来支持我:开始在Medium上关注我，在社交媒体上分享这篇文章，并使用下面的鼓掌按钮，这样我就知道你对这种内容感兴趣。</p><p id="56f2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，如果您还不是中等会员，您可以使用我的推荐链接成为中等会员:</p><div class="ms mt gp gr mu mv"><a href="https://mnslarcher.medium.com/membership" rel="noopener follow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">马里奥·南陶·希安蒂·拉彻-中号</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">阅读Mario Namtao Shianti Larcher在媒体上的文章。艾尼路集团的计算机视觉主管。我喜欢意大利面条代码…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">mnslarcher.medium.com</p></div></div><div class="ne l"><div class="pl l ng nh ni ne nj ks mv"/></div></div></a></div><p id="50c9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">想保持联系吗？在<a class="ae ky" href="https://www.linkedin.com/in/mnslarcher/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae ky" href="https://twitter.com/mnslarcher" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上关注我！</p></div></div>    
</body>
</html>