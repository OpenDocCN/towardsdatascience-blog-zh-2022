<html>
<head>
<title>How to Normalize Data in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中规范化数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-normalize-data-in-python-bfde370ca4b6#2022-05-05">https://towardsdatascience.com/how-to-normalize-data-in-python-bfde370ca4b6#2022-05-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ab8b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本文中，我们将探索如何在Python中规范化数据</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a1d16a7c2dae2c38affcf9c2432f4af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nt_OWwvJbVKnnaC9Zok0Zg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@marcinjozwiak?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Marcin Jozwiak </a>在<a class="ae ky" href="https://unsplash.com/s/photos/distribution?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8fdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="bf6d" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="dc2f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">什么是正常化</li><li id="cc6f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">标准化示例</li><li id="0d12" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何在Python中规范化数据</li><li id="b79e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="af7e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="69d8" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">许多机器学习模型的特征工程的第一步是确保数据被适当地缩放。</p><p id="6ba8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些模型，如线性回归、KNN和SVM，会受到不同比例要素的严重影响。</p><p id="104d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">而诸如决策树、bagging和boosting算法之类的其他算法通常不需要任何数据缩放。</p><p id="faf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特征比例对上述模型的影响程度较高，并且具有较大范围值的特征将在算法决策中发挥更大的作用，因为它们产生的影响对输出具有更大的影响。</p><p id="42d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们转向特征缩放，以帮助我们找到所有这些特征的共同水平，以便在训练模型时平等地评估。</p><p id="ca18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两种最流行的特征缩放技术是:</p><ol class=""><li id="cc35" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nn mb mc md bi translated"><a class="ae ky" href="https://pyshark.com/how-to-standardize-data-in-python/" rel="noopener ugc nofollow" target="_blank"> Z分数标准化</a></li><li id="833c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nn mb mc md bi translated">最小-最大归一化</li></ol><p id="0af4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论如何使用Python执行数据的最小-最大规范化。</p><p id="df1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了继续学习本教程，我们需要以下两个Python库:sklearn和pandas。</p><p id="5d3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有安装它们，请打开“命令提示符”(在Windows上)并使用以下代码安装它们:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="ffec" class="nt mr it np b gy nu nv l nw nx">pip install sklearn<br/>pip install pandas</span></pre><h1 id="df43" class="mq mr it bd ms mt ny mv mw mx nz mz na jz oa ka nc kc ob kd ne kf oc kg ng nh bi translated">什么是正常化</h1><p id="a438" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在统计学和机器学习中，数据的最小-最大归一化是将原始数据范围转换为0到1之间的范围的过程。</p><p id="1f4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">产生的归一化值代表0-1范围内的原始数据。</p><p id="eb52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将允许我们一起比较多个特征，并获得更多相关信息，因为现在所有数据将处于相同的比例。</p><p id="8d79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在最小-最大归一化中，对于每个要素，其最小值被转换为0，最大值被转换为1。基于相对于要素的最小值和最大值的原始值，介于两者之间的所有值都被缩放到0-1范围内。</p><p id="2133" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设你有一个数字数组<em class="od"> A = [v_1，v_2，…，v_i] </em>。</p><p id="b1a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们先来求数组的最小值和最大值:<em class="od"> min(A) </em>和<em class="od"> max(A) </em>。</p><p id="08ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，使用最小值和最大值，我们将使用以下公式将每个原始值<em class="od"> v_i </em>转换为最小-最大归一化值<em class="od">v’_ I</em>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/d536965cde1cf1a81c60967d237a17b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*8ctZEdKttePmU-2EisqH2Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图像由</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="0e31" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">标准化示例</h1><p id="bdf0" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在这一节中，我们将看一个简单的数据规范化的例子。</p><p id="1d09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑以下具有不同苹果价格的数据集:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/5449e30ae82d588e65e09e758946d7bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4KOi9_i90UYb09Cx.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5f18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制数据集应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/4d01b616b6f498fbee84fcd0459de5b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/0*w2lRAhlUuDVMpy-f.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="736a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们看到重量与价格相比有更大的变化，但看起来是这样，因为数据的不同尺度。</p><p id="fa5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">价格范围在2美元到5美元之间，而重量范围在250克到800克之间。</p><p id="eecd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们将这些数据正常化！</p><p id="f3ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从重量特征开始:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/16b912d881d175c07abbb92441c2f414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AKz7IHHX2BGRom5YPAC3gg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="71bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并对价格功能进行同样的操作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/bc1e358961484444c0c625e7d9ec26ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YG_h18nnINnFmtNaIaraJw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7206" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将这两个特征组合成一个数据集:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/d83e4996de1f2c7ba9740be87dbf9fea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C89rEv57183G_wlwdJv9OQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7a53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以看到，数据集中要素的比例非常相似，并且在可视化数据时，点之间的分布会更小:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/a9caf4c103a1b2cb7440fda3063732f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/0*flsQ8E4rDv1sILTd.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1e5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该图看起来几乎相同，唯一的区别是每个轴的比例。</p><p id="eb83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们看看如何使用Python重现这个例子！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e969" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">如何在Python中规范化数据</h1><p id="cc5e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们首先创建一个我们在上面的例子中使用的数据帧:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="05ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="169d" class="nt mr it np b gy nu nv l nw nx">   weight  price<br/>0     300      3<br/>1     250      2<br/>2     800      5</span></pre><p id="bfd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们准备好数据，我们就可以使用<strong class="lb iu"> MinMaxScaler() </strong>类及其方法(来自sklearn库)来规范化数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="b0e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="cc12" class="nt mr it np b gy nu nv l nw nx">[[0.09090909 0.33333333]<br/> [0.         0.        ]<br/> [1.         1.        ]]</span></pre><p id="4346" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，上面的代码返回了一个数组，所以最后一步是将其转换为dataframe:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="0f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="e1b5" class="nt mr it np b gy nu nv l nw nx">     weight     price<br/>0  0.090909  0.333333<br/>1  0.000000  0.000000<br/>2  1.000000  1.000000</span></pre><p id="344a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与我们手动计算的示例中的结果相同。</p><h1 id="9330" class="mq mr it bd ms mt ny mv mw mx nz mz na jz oa ka nc kc ob kd ne kf oc kg ng nh bi translated">结论</h1><p id="8109" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本教程中，我们讨论了如何在<a class="ae ky" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>中规范化数据。</p><p id="62da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据标准化是许多机器学习算法中数据预处理的重要步骤。</p><p id="5109" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这通常是一个必需的预处理步骤，用于缩放输入数据中要素的范围，以确保范围较大的要素不会通过影响距离度量来消除模型的所有可解释性。</p><p id="33ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是否对数据进行规范化的决定主要取决于您正在构建的模型，因为有些模型很容易受到数据范围的影响(OLS、SVM等)，而有些模型则不受影响(逻辑回归、基于树的模型等)。</p><p id="91aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看更多我的<a class="ae ky" href="http://pyshark.com/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>文章。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="ed30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="od">原载于2022年5月5日https://pyshark.com</em><em class="od">的</em> <a class="ae ky" href="https://pyshark.com/how-to-normalize-data-in-python/" rel="noopener ugc nofollow" target="_blank"> <em class="od">。</em></a></p></div></div>    
</body>
</html>