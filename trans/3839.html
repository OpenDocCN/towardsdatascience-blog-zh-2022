<html>
<head>
<title>Statistical Plotting with Julia: Gadfly.jl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Julia的统计绘图:牛虻. jl</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/statistical-plotting-with-julia-gadfly-jl-39582f91d7cc#2022-08-25">https://towardsdatascience.com/statistical-plotting-with-julia-gadfly-jl-39582f91d7cc#2022-08-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/7d549b4d7f76fc712eb2730525a0b35f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R35aYctauz5wyIxAgU_nnw.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">安妮·尼加德在<a class="ae jd" href="https://unsplash.com/s/photos/gadfly?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="5899" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何使用牛虻. jl包创建统计图</h2></div><p id="d942" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这是我比较不同的Julia图形包来创建统计图表的几篇文章中的第一篇。我从牛虻包开始这个系列。</p><p id="6bfd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在本系列的介绍中(<a class="ae jd" rel="noopener" target="_blank" href="/the-grammar-of-graphics-or-how-to-do-ggplot-style-plotting-in-julia-1b0ac2162c82">图形的语法或者如何在Julia </a>中进行ggplot风格的绘图)，我已经解释了图形的语法(GoG ),它是这些图形包的概念基础。在那篇文章中，我还介绍了将用于绘图示例的数据。</p><h1 id="4a3d" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">牛虻</h1><p id="80ec" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">牛虻是一个非常完整的图形语法的实现。它的原作者是Daniel C. Jones，但是这个包目前在GitHub上有100多个贡献者。首批版本出现在2014年。同时，它是一个非常成熟的软件包，每年只有几个新版本。</p><p id="905c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">它完全是用Julia编写的，并且与Julia生态系统的其他部分配合得很好。例如，它与<em class="mo"> DataFrames.jl </em>紧密集成，并通过<em class="mo"> IJulia </em>包直接用于<em class="mo"> Jupyter </em>笔记本电脑。</p><p id="0933" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于出版物质量图形的渲染，它能够开箱即用地渲染SVG，使用<em class="mo"> Cairo.jl </em>和<em class="mo"> Fontconfig.jl </em>它还可以生成PNG、PDF、PS和PGF等格式。</p><p id="8828" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">牛虻制作的情节提供了一些交互性，如平移、缩放和切换。</p><h1 id="a437" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">示例图</h1><p id="8265" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">为了进行比较，我将使用数据科学中常用的几种图表类型(或GoG称之为<em class="mo">几何图形</em>),即:</p><ul class=""><li id="a199" class="mp mq jg kx b ky kz lb lc le mr li ms lm mt lq mu mv mw mx bi translated">条形图</li><li id="d74e" class="mp mq jg kx b ky my lb mz le na li nb lm nc lq mu mv mw mx bi translated">散点图</li><li id="a5b1" class="mp mq jg kx b ky my lb mz le na li nb lm nc lq mu mv mw mx bi translated">直方图</li><li id="3a3d" class="mp mq jg kx b ky my lb mz le na li nb lm nc lq mu mv mw mx bi translated">箱线图</li><li id="c60e" class="mp mq jg kx b ky my lb mz le na li nb lm nc lq mu mv mw mx bi translated">小提琴情节</li></ul><p id="9866" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">牛虻当然提供了更多的种类，正如你在这个<a class="ae jd" href="http://gadflyjl.org/stable/gallery/geometries/" rel="noopener ugc nofollow" target="_blank">画廊</a>中看到的。但是为了获得所有包之间1:1的比较，我坚持使用上面列出的类型。</p><p id="56f1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">示例中的数据假设在本系列的介绍文章中给出的数据帧结构<code class="fe nd ne nf ng b">countries</code>、<code class="fe nd ne nf ng b">subregions_cum</code>和<code class="fe nd ne nf ng b">regions_cum</code>中已经准备好。</p><p id="daa1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">大多数绘图首先以基本版本呈现，使用图形包的默认设置，然后使用定制属性(标签、背景颜色等)进行优化。).</p><h1 id="89eb" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">条形图</h1><h2 id="9eee" class="nh ls jg bd lt ni nj dn lx nk nl dp mb le nm nn md li no np mf lm nq nr mh ns bi translated">各地区人口</h2><p id="d51b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我们从一个简单的条形图开始，它按地区显示了人口规模(2019年)。这是通过使用下面的<code class="fe nd ne nf ng b">plot</code>-命令将数据映射到美学，并使用我们在关于图形语法的介绍文章中了解到的条形几何图形来完成的:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="0391" class="nh ls jg ng b gy ob oc l od oe">plot(regions_cum, <br/>        x = :Region, y = :Pop2019, color = :Region, <br/>        Geom.bar)</span></pre><p id="d8d0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…产生以下条形图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/4b6a7cf30aa22290f8249c15967b647e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EXIDxhmByOOBTOXkZ-cnKg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">按人口划分的地区(1)[图片由作者提供]</p></figure><p id="8bfe" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在第二个版本中，我们不依赖默认值，而是手动设置轴标签、标题和背景颜色。除此之外，我们不希望y轴上的数字采用科学的格式，并且条形之间应该有一些空间(以符合条形图的定义)。这导致了下面的代码，其中<code class="fe nd ne nf ng b">Guide</code>-元素用于标签，一个<code class="fe nd ne nf ng b">Scale</code>用于更改y轴上的数字，一个<code class="fe nd ne nf ng b">Theme</code>用于一般属性，如背景颜色或条间距。</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="1714" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…创建以下经过美化的条形图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/19d568e6298de718de3965763ff188e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1kthYIj1IgCLJGGe3c-KOw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">按人口划分的地区(2)[图片由作者提供]</p></figure><h2 id="2a12" class="nh ls jg bd lt ni nj dn lx nk nl dp mb le nm nn md li no np mf lm nq nr mh ns bi translated">分区域人口</h2><p id="3267" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">下一个柱状图使用下面的<code class="fe nd ne nf ng b">plot</code>命令描述了分区域的人口:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="ff2b" class="nh ls jg ng b gy ob oc l od oe">plot(subregions_cum, <br/>        x = :Subregion, y = :Pop2019, color = :Region, <br/>        Geom.bar)</span></pre><p id="9731" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…产生以下条形图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/10b75018c03076f922acab6273a82fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZ91WwDrJIJGDS96kWzEMw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">分区域人口(1)[图片由作者提供]</p></figure><p id="6f49" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们可以看到有改进的余地:由于有相当多的次区域，而且它们的名称相对较长，一个水平条形图可能更易读。除此之外，我们再次适应标签，标题，背景颜色等。导致下面的代码，其中我们使用bar几何上的参数<code class="fe nd ne nf ng b">orientation</code>切换到水平布局:</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="0d44" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…最终形成可读性更强的条形图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/293b52892e627157f5c5d00446693b7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PhK0mw6cs3GpKYmWfkRqEQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">分区域人口(2)[图片由作者提供]</p></figure><p id="6dc8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们在使用下面的命令呈现图表之前，按照人口数量(<code class="fe nd ne nf ng b">Pop2019)</code>对子区域<code class="fe nd ne nf ng b">subregions_cum</code>进行排序，可读性会更好:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="d4bb" class="nh ls jg ng b gy ob oc l od oe">subregions_cum_sorted = sort(subregions_cum, :Pop2019)</span></pre><p id="af47" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果我们将上面的<code class="fe nd ne nf ng b">plot</code>命令应用于排序后的数据<code class="fe nd ne nf ng b">subregions_cum_sorted</code>，我们最终会得到:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/c5b7cb61d8ceb787415b34faee0acfff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lqd6NZnYx53aJ5QxprlAeA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">分区域人口(3)[图片由作者提供]</p></figure><h1 id="4808" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">散点图</h1><p id="668a" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在下一步中，我们来看看国家一级的人口与增长率的关系。散点图是可视化这种关系的好方法。我们使用点几何得到一个，如下所示:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="db1d" class="nh ls jg ng b gy ob oc l od oe">plot(countries,<br/>        x = :Pop2019, y = :PopChangePct, color = :Region,<br/>        Geom.point)</span></pre><p id="c07c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…产生了这个散点图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/0b25063ef2041faf8fdc29369b54aef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*15BE4VSI0z2MP54eaRdAwA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">人口与增长率的关系(1)[图片由作者提供]</p></figure><p id="54e1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">由于我们也将区域映射到颜色美学，所以我们得到了一个更有差别的图片，它还包含了区域信息。</p><p id="cba4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是数据的分布是相当不均衡的——大多数国家的人口不到2亿。因此，x轴上的对数刻度可能会更好地洞察数据。再次，我们添加一些标签，背景颜色等。导致以下代码:</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="8603" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…为我们提供了以下改进的散点图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/f99021dfbcb701ccd30edf7d64ddd07a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DNpIxd_cAEbknsRijsAN-g.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">人口与增长率的关系(2)[图片由作者提供]</p></figure><p id="173c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对数标度的<code class="fe nd ne nf ng b">labels</code>-参数需要一点解释:如果没有这个规范，我们将得到x轴上的对数(以10为底)，这对许多人来说是难以理解的。相反，我们只需要人口数量(例如，100.0而不是2)。因此，我们将一个函数传递给<code class="fe nd ne nf ng b">labels</code>,它计算“正确”的标签。对数值<code class="fe nd ne nf ng b">x</code>被转换成10^x以得到一个“可读”的数字，然后四舍五入到两位数，最后转换成一个字符串(这是标签的预期类型)。</p><h1 id="65c1" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">直方图</h1><p id="c104" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">条形图和直方图具有相同的几何结构(在“图形语法”的意义上)。但是为了获得x轴上的分类数据，用于直方图的数据必须在一个称为“宁滨”的过程中映射到(人工)类别。在GoG中，这是使用所谓的<em class="mo"> bin统计完成的。</em></p><p id="8956" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">牛虻在这个地方没有遵循(或者至少没有表现出)这个理论。相反，它为直方图引入了一个单独的几何图形(这对于日常使用可能更实用)。</p><p id="78e1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，我们使用下面的<code class="fe nd ne nf ng b">plot</code>-命令得到一个直方图，显示不同国家的人均GDP分布，命令使用直方图几何:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="de99" class="nh ls jg ng b gy ob oc l od oe">plot(countries, x = :GDPperCapita, Geom.histogram)</span></pre><p id="5898" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…产生了这个直方图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/0b50e77e57f39ac950051aedc02c3d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4sbTD0H5OqpZaMoDrurEzg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">人均GDP分布(1)[图片由作者提供]</p></figure><p id="2857" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用的仓数量可由直方图几何图形的<code class="fe nd ne nf ng b">bincount</code>参数控制。同样，我们可以添加标签等。产生以下代码:</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="9de1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…产生以下改进的直方图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/659042c326a4108c780558fa0778859e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5dVragrrfFWQQ_RnCD1OZw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">人均国内生产总值的分布(2)[图片由作者提供]</p></figure><h1 id="cbc7" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">盒子情节和小提琴情节</h1><p id="c468" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">为了深入了解一些数值数据的分布，通常使用箱线图或小提琴图。每种图表类型都有其独特的优点。让我们用这些图来看一下每个地区的人均GDP的分布。</p><h2 id="2c6d" class="nh ls jg bd lt ni nj dn lx nk nl dp mb le nm nn md li no np mf lm nq nr mh ns bi translated">箱形图</h2><p id="1a8f" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">让我们立即使用使用<code class="fe nd ne nf ng b">boxplot</code>-几何图形的“美化”版本:</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="cf18" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…为我们提供了以下箱线图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/f30a01f0f4e422f0486d067451e771e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H9WRGEsn6vlzTGxmsyWqGg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">各地区人均GDP分布(1)[图片由作者提供]</p></figure><h2 id="f165" class="nh ls jg bd lt ni nj dn lx nk nl dp mb le nm nn md li no np mf lm nq nr mh ns bi translated">小提琴情节</h2><p id="ffc9" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这个可视化的小提琴图的代码看起来非常相似。唯一的区别是使用了<code class="fe nd ne nf ng b">violin</code>-几何形状(而不是<code class="fe nd ne nf ng b">boxplot</code>):</p><figure class="nt nu nv nw gt is"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="1945" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…引出下面的小提琴情节:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/216844a4ed20cb41c4cf71ed548f5028.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f3oYJjz3kMzWL9oE46Ipew.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">各地区人均GDP分布情况(2)[图片由作者提供]</p></figure><p id="fe2f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这里我们注意到y轴缩放的默认设置不如盒状图那样好。除此之外，分布中真正有趣的部分在0到100，000的范围内。因此，我们希望将图限制在y轴上的范围内，进行放大。</p><h2 id="b3e4" class="nh ls jg bd lt ni nj dn lx nk nl dp mb le nm nn md li no np mf lm nq nr mh ns bi translated">放大</h2><p id="dbbc" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">这可以通过在<code class="fe nd ne nf ng b">plot</code>-参数列表中添加以下行来轻松实现:</p><pre class="nt nu nv nw gt nx ng ny nz aw oa bi"><span id="2242" class="nh ls jg ng b gy ob oc l od oe">Coord.cartesian(ymin = 0, ymax = 100000),</span></pre><p id="3ab1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">…导致以下小提琴图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/fa9dedac634b61e35e09321c36d735cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egw0Km5y-ZBAtMZ7SnRORw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">各地区人均GDP分布情况(3)[图片由作者提供]</p></figure><p id="deb7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对y轴的相同限制可以应用于箱线图:</p><figure class="nt nu nv nw gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi of"><img src="../Images/6e48ed33630b2ad7c252f436f2268fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LHlttlW4w8ypd_wn_Zrxmg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">各地区人均GDP分布(4)[图片由作者提供]</p></figure><p id="4cb7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，这些图的读者应该被告知应用于y轴的限制，以便正确地解释该图。</p><h1 id="4c65" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">结论</h1><p id="3ee8" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">正如我们所看到的，牛虻大部分时间都非常紧密地遵循图形语法的概念。这就是为什么情节规范如此一致(同样的事情总是以同样的方式被指定，与上下文无关)并且容易学习和记忆的原因之一。</p><p id="1d66" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当涉及到边缘情况时，你只能达到一些极限。例如，如果您指定一个散点图，其中只有到x轴的映射，而没有到y轴的映射。根据GoG，你应该得到分布在一条线上的点(x轴)。这对牛虻不起作用。并且例如没有实现极坐标系统(但是将来可以实现)。</p><p id="195f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但是，如果您的可视化需求集中在牛虻中实现的(大量)几何图形列表上，并且您不需要对这些图表进行非常奇特的定制，那么您将会对牛虻非常满意。</p><p id="4b26" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想自己尝试这些例子，你可以从我的GitHub库中得到一个<a class="ae jd" href="https://raw.githubusercontent.com/roland-KA/StatisticalPlotsWithJulia/868da23610483e50d7c1b470a4d3b1c8f4f18da8/notebooks/DV-Basics-Gadfly.jl" rel="noopener ugc nofollow" target="_blank">冥王星笔记本</a>，它是这篇文章的一个可执行变体。</p></div></div>    
</body>
</html>