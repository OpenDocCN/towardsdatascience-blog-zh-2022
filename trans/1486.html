<html>
<head>
<title>MLOps or How to Deploy Data Science at Scale</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">MLOps或如何大规模部署数据科学</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mlops-or-how-to-deploy-data-science-at-scale-b33921b4f17f#2022-04-12">https://towardsdatascience.com/mlops-or-how-to-deploy-data-science-at-scale-b33921b4f17f#2022-04-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/605b0bdc27484c04ceeb5bc65bcec436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*61OOlHmepY38k9QbsYg0FA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图1 —由<a class="ae jg" href="https://unsplash.com/@go_pol" rel="noopener ugc nofollow" target="_blank">戈汗·波拉特</a>在<a class="ae jg" href="https://unsplash.com/photos/qyC7DTbWJJk" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="5d31" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">在行业中扩展人工智能和人工智能</h2></div><p id="d1e9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几年来，我们一直听到很多关于人工智能(AI)和机器学习(ML)的说法。这通常与数学和模型化有关。因此，由于数据的炒作，公司雇佣了如此多的数据科学家，导致了行业中无数的概念证明(POC)或最低可行产品(MVP)。</p><p id="da9f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些公司现在面临着一个新的挑战:如何将这些人工智能POC和MVP部署到生产中？最重要的是，如何以低成本高效地制造出<strong class="la jk">？</strong></p><p id="07a4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于ML实验涉及代码和数据，经典的DevOps达到了它的极限，MLOps作为一种新的范例被引入。<strong class="la jk"> MLOps </strong>或许可以理解为“机器学习”、“开发”和“运营”之间的缩写。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="452b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本帖中，我们将试着从三个方面来理解隐藏在这个词背后的需求和概念:</p><ul class=""><li id="1e4b" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated">MLOps动机—部署PuzzleNet的示例</li><li id="11eb" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">MLOps理论——主要概念</li><li id="c8e8" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">MLOps成熟度级别—公司和项目的立场</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="15e5" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">1.MLOps动机</h1><p id="8a6f" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">你见过艾米丽吗？Emily是一位出色的数据科学家！她处理数据，创建机器学习和深度学习模型！</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/067effe1b07281f7b5fa32607f8967ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*xjN3t8OVk3RFK5KN9FtBvQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图二——你见过艾米丽吗？</p></figure><p id="bb5c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，艾米丽在亚特兰大Puzzle&amp;Co的总部工作！她正在训练一个用于质量目的的分类模型:给定一条拼图生产线的图片，她必须找出生产质量低的图片！</p><p id="43c2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于工厂团队的合作，她设法收集了许多拼图中正确和错误部分的图片。因此，她可以训练一个有效的深度神经网络，她现在有一个很棒的模型在她的笔记本上运行:<strong class="la jk"> PuzzleNet </strong></p><blockquote class="nr"><p id="d570" class="ns nt jj bd nu nv nw nx ny nz oa lt dk translated">是时候投入生产了！</p></blockquote><h2 id="f4ba" class="ob mq jj bd mr oc od dn mv oe of dp mz lh og oh nb ll oi oj nd lp ok ol nf om bi translated">首次部署</h2><p id="9b3a" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">Emily将她的数据准备和评分笔记本保存为python文件，并将她的模型导出为pickle。她把这些都存在她的u盘里。她去机场，乘飞机，飞往工厂所在地波特兰。</p><p id="191d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不出所料，当她到达时，摄像机已经在生产线上的正确位置，并且Python已经安装在与之相连的计算机上。精彩！她解压她的文件，保存在本地计算机上，做一些测试，然后…它工作了！太好了！</p><p id="918d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">安装成功后，她飞回亚特兰大！</p><p id="85cb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在接下来的一周，她收到了经理和工厂团队的祝贺，他们对预测的质量非常满意，并且有更多的时间专注于生产流程的另一部分。</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/7fa8dbfa54869332b6709bb67b73025c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U5KNFGeM44lgSe_xrAFBag.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图3<a class="ae jg" href="https://unsplash.com/@krakenimages" rel="noopener ugc nofollow" target="_blank">克拉肯images </a>在<a class="ae jg" href="https://unsplash.com/photos/376KN_ISplE" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h2 id="f74c" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">两周后</h2><p id="2a2a" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">既然模型的准确性已经被证明是真实的，Paul，工厂经理决定将质量预测应用到第二条生产线上，生产更大尺寸的婴儿拼图。你猜怎么着？这真是一场灾难！</p><p id="9eab" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">他立即打电话给艾米丽:“嘿！我们在我们的第二条生产线上试用了你们的型号，但是根本不能用！我给你发了一组图片，请你<strong class="la jk">重新培训你的模型并重新部署</strong>？”</p><p id="565c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">经过几天的努力工作，Emily在她的新数据上获得了正确的结果！她重新压缩它，把它放在她的u盘上，带上飞机，安装她的模型，它就可以正常工作了！</p><p id="4316" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">她回到家，在飞机上她想着<strong class="la jk">这个小小的改变有多痛苦</strong>！</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/eed39d87825596c253a1d7068ac82dfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1X1wHWlLrhbMkG6KIumcw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图4—Elisa Ventur在<a class="ae jg" href="https://unsplash.com/photos/bmJAXAz6ads" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="nr"><p id="71a9" class="ns nt jj bd nu nv ou ov ow ox oy lt dk translated">“这是多么讲究和复杂啊！”—艾米莉</p></blockquote><h1 id="3b12" class="mp mq jj bd mr ms oz mu mv mw pa my mz kp pb kq nb ks pc kt nd kv pd kw nf ng bi translated">2.MLOps理论</h1><p id="7a61" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">艾米丽的情况有点夸张，但也不算夸张。在现实中，将机器学习模型投入生产需要许多技能。幸运的是，在过去的几年中，这些已经被理论化，许多公司正在创造工具来缓解这一痛苦的步骤。</p><h2 id="254c" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">什么是MLOps？</h2><p id="44a0" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">我们可以找到不同的定义，但我绝对喜欢维基百科的措辞:</p><blockquote class="nr"><p id="e765" class="ns nt jj bd nu nv nw nx ny nz oa lt dk translated">“MLOps是一套工具和实践，旨在可靠有效地在生产中部署和维护机器学习模型”。</p></blockquote><p id="cdff" class="pw-post-body-paragraph ky kz jj la b lb pe kk ld le pf kn lg lh pg lj lk ll ph ln lo lp pi lr ls lt im bi translated">AWS将其定义为随着时间的推移不断进化人工智能模型的迭代和重复过程。我也认为非常准确。</p><p id="c3fc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当谈到数据科学的可操作性时，有3个组件需要考虑和关注:</p><ul class=""><li id="8adc" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated"><strong class="la jk">代码</strong>:不考虑数据科学部分，任何代码都需要测试，版本&amp;打包。因为我们是用Python工作的，所以我们必须处理这个问题。</li><li id="f276" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">数据</strong>:数据的质量可能会随时间而变化。然后，有必要确保数据源不被延迟，以不同的容量或格式。数据质量评估非常重要。</li><li id="4764" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">模型</strong>:处理数据的方式必须非常谨慎地定义，不能有有偏差的模型。一旦经过训练，预测的质量可能会随着时间的推移而变化。</li></ul><p id="dfb9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当你想要实现一个ML项目时，你将不得不并行地管理这3个组件。正如在介绍中提到的，MLOps可以被认为是DevOps到ML的扩展。</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/0ab7687a200ed5d8338acda6e35b6755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*6j-Wf7BXFDNXscOByApYMw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图5 —来自<a class="ae jg" href="https://blogs.nvidia.com/blog/2020/09/03/what-is-mlops/" rel="noopener ugc nofollow" target="_blank"> Nvidia博客</a>的MLOps/DevOps方案</p></figure><p id="a39e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目的是在合理的上市时间内将<strong class="la jk">可靠的代码、数据和模型</strong>部署到产品中。</p><p id="7005" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在生产过程中，关于数据处理的不同阶段，必须考虑许多因素。除其他事项外，我们还将关注:</p><ul class=""><li id="a41f" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated"><strong class="la jk">数据</strong>:它是ML流程的核心。为了进行准确的预测，数据必须是高质量的、可用的和持续的。如何确保这一点？</li><li id="7f57" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">培训</strong>:如何连接数据流？如何训练、验证和存储模型以便进一步重用？如何记住哪个模型是用哪个代码和哪个数据集创建的？</li><li id="0e79" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">预测</strong>:你会批量给你的数据打分还是把你的模型公开为API？您将如何运行该服务，并让具有适当需求的适当人员可以使用该服务？</li><li id="f657" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">评价</strong>:你的数据或者你的预测有漂移吗？你如何发现它？</li><li id="59e1" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">编排</strong>:如何处理这些不同的服务？如何考虑到可能随时间发生的变化？</li><li id="1498" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">本地基础设施</strong>:如何确保环境保持稳定？它涉及与建模没有直接关系但与环境相关的一切。例如照相机、生产线、服务器、路由器等。</li></ul><p id="3cf8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所有这些因素都是至关重要的，必须在ML项目的一开始就考虑到。</p><p id="1115" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">的确，如果一个完美的模型不能在现实生活中被真实的用户部署和使用，那么创建它还有什么意义呢？</p><h1 id="bad9" class="mp mq jj bd mr ms oz mu mv mw pa my mz kp pl kq nb ks pm kt nd kv pn kw nf ng bi translated">3.MLOps到期</h1><p id="aef7" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">在一个机器学习项目的开始，我们做手工。这是探索阶段。模型在笔记本中进行本地训练和验证。然后是部署阶段。</p><p id="17fe" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以根据3个成熟度级别划分项目或公司，如下所述:</p><ul class=""><li id="9a76" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated"><strong class="la jk">初学者</strong>，<em class="pk"> ML无操作</em>:一切都是手动管理。产品在生产，但每一步都很痛苦。这是Emily与PuzzleNet的案例。</li><li id="2f44" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">中级</strong>，<em class="pk"> ML OOops </em>:已经有了意识，正在努力。代码被打包。数据访问和模型训练是自动化的。它们可以通过CI/CD链跨多个环境部署。部署方法更加健壮。</li><li id="ba0d" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated"><strong class="la jk">高级</strong>、<em class="pk"> ML op-Bo-ss </em> : MLOps大佬。随着时间的推移，对数据和预测进行评估，从而发出警报并开始自动重新训练。这被称为连续训练(CT)。最后，对模型进行比较，选择最佳模型进行部署。</li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="e369" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">成熟度等级1/3: ML无操作🐣</h2><p id="7ab0" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">当艾米丽开始为Puzzle&amp;Co .工作时，她首先收集数据。经过短暂的探索，她很快联系了一位商业专家。他向她解释如何找出有瑕疵的部分，并给一些图片贴上标签。然后她能够准备数据——经过几周的工作——并创造出第一个成功的模型。这几乎是数据科学家的工作。然后，她带着她的u盘飞去部署她的模型。</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/9f8892f21c64aa68b9d3183f7501e1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYUq0zN17plujdQeknG0Wg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图6 —成熟度等级1(作者图片)</p></figure><p id="20f8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">优点:</strong>她的模型在生产中运行，最终用户可以用它来改进拼图的生产！</p><p id="3adc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">缺点:</strong>使一个新版本可用的时间非常高。由于服务器的配置与她的不同，她经常遇到部署困难。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="c0de" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">成熟度等级2/3: ML OOops🐒</h2><p id="4959" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">缩短ML产品上市时间的第一步是<strong class="la jk">认知</strong>。当你对自己说:“哦，妈的，我得给自己找个更好的解决方案”的时候。</p><p id="6744" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，有必要从DevOps标准开始。使用代码<strong class="la jk">版本控制工具</strong> (git)和安装<strong class="la jk"> CI/CD </strong>(持续集成&amp;持续部署)。管道。通过使用这样的服务，可以随时监控代码中的修改、数据准备和建模步骤。</p><figure class="nn no np nq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/968b0c7e1ccd787a02f02246c8cde56b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yUWjN0ipIftxi5YkqxYzuA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图7 —成熟度等级2(作者图片)</p></figure><p id="5a24" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">创建<strong class="la jk">单元测试</strong>和<strong class="la jk">集成测试</strong>也是重要的一步。尽管这是软件工程中的标准，但在数据科学项目中，这种类型的实践仍然很少遵循。为了保证适当的质量，可以使用linter或代码覆盖率等指标。如果测试没有通过验证，或者代码质量不够好，应用程序的构建将被阻止，报告将被发送给数据科学家。</p><p id="21b4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了方便应用程序的部署，推荐使用容器化解决方案，比如docker。这将允许复制模型运行的环境，从而方便在新机器上的安装，以及随后在工厂的服务器上的安装。</p><p id="de70" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">优势:</strong>在这个成熟度级别，数据科学家已经集成了DevOps部署的最佳实践。代码被打包，进化更加健壮，部署可以远程自动化。<strong class="la jk">上市时间大大缩短。</strong></p><p id="824f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">缺点</strong> : <strong class="la jk"> </strong>然而，一些至关重要的砖块还是不见了。例如，在这里，Emily能够以自动化的方式部署PuzzleNet，但是对她的模型的性能没有反馈。她不可能评价它的可靠性。在漂移的情况下，只有当用户发现预测毫无意义时，她才会被警告。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="2de8" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">成熟度等级3/3: ML op-Bo-ss🦁</h2><p id="9e3f" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">既然Emily能够在眨眼之间重新部署新模型，她想知道应该多长时间重新训练一次。的确，虽然"<em class="pk">我如何部署？</em>“问题解决了，首要问题依然存在:</p><blockquote class="nr"><p id="4f68" class="ns nt jj bd nu nv nw nx ny nz oa lt dk translated">随着时间的推移，我如何保持我的模型的性能？</p></blockquote><p id="9447" class="pw-post-body-paragraph ky kz jj la b lb pe kk ld le pf kn lg lh pg lj lk ll ph ln lo lp pi lr ls lt im bi translated">她越想越是告诉自己，在度假的时候，一切自己管理自己，还有很长的路要走！</p><p id="c8ae" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">思考的下一个重要步骤如下:</p><ul class=""><li id="edea" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated">如何测量模型的漂移？</li><li id="4ab1" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">如何提高我的模型的性能？或者至少如何确保不会变得更糟？</li><li id="b5c2" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">我如何自动化这种监控？</li><li id="af27" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">在新模型性能不佳的情况下，如何确保回滚？</li></ul><figure class="nn no np nq gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/22859ea7cd8793195b21132887e69e60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NZBNgZRI6gapCrwNOOIILw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图8 —成熟度等级3(作者图片)</p></figure><blockquote class="pr ps pt"><p id="5db0" class="ky kz pk la b lb lc kk ld le lf kn lg pu li lj lk pv lm ln lo pw lq lr ls lt im bi translated"><strong class="la jk"> 1。监控</strong></p></blockquote><p id="8bba" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是关于超越预测:我们现在将保留预测的历史，以便能够用实际发生的真实值来评估预测。</p><p id="1dd6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在受监督的项目中，这个过程可以自动化，而不会带来业务复杂性。在无人监管的项目环境中，经常会要求应用程序的用户或业务专家不时地进行标记。这就是反馈概念发挥作用的地方。</p><p id="29c9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在任何情况下，预测、实际值和反馈都可以存储在数据库中，并允许使用评分标准来评估模型性能。这被称为<strong class="la jk">可观察性</strong>。</p><blockquote class="pr ps pt"><p id="19b0" class="ky kz pk la b lb lc kk ld le lf kn lg pu li lj lk pv lm ln lo pw lq lr ls lt im bi translated">2.<strong class="la jk">连续训练</strong></p></blockquote><p id="4c98" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了完全专注于她的下一个项目，Emily使用她所掌握的所有信息来触发<strong class="la jk">自动再训练</strong>。这些可以由不同的触发器触发:</p><ul class=""><li id="f37f" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated">模型退化。如果性能下降，请使用最新的信息来重新训练模型。</li><li id="380b" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">一个时间段。每周或每月的新数据。</li><li id="3444" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">大量新数据。每5GB的数据，或者业务专家的每1000个注释。</li><li id="05b1" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">任何外部事件。</li></ul><p id="0504" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当重新训练自动进行时，Emily还需要对她的输入数据(图像大小、像素颜色分布)进行自动质量和合规性测试。</p><p id="c238" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果一些数据在短时间内遭到破坏，并且新模型的性能不如以前的模型，会发生什么情况呢？最后一步是<strong class="la jk">模型追溯和回滚</strong>！</p><blockquote class="pr ps pt"><p id="cf59" class="ky kz pk la b lb lc kk ld le lf kn lg pu li lj lk pv lm ln lo pw lq lr ls lt im bi translated"><strong class="la jk"> 3。模型注册表</strong></p></blockquote><p id="27fe" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">与我们在git中发布代码的方式一样，我们希望在训练模型时跟踪模型及其元数据。诸如相应代码的提交、训练数据集的元数据或输出度量之类的信息都是允许您做出明智选择并对训练过程的自动化有信心的信息。</p><p id="1b7e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，比较评估指标将允许自动决定该模型是否应该替换先前的模型。很有可能想象一个保持不变的评分API，其后端模型会随着数据的发展而改变为更好的版本。</p><p id="3ecf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">优点:</strong>结果是良性循环，可观察性高，几乎自主行动。艾米丽将可以去享受阳光假期，而不用再担心她的模特☀️了</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h2 id="6649" class="ob mq jj bd mr oc oo dn mv oe op dp mz lh oq oh nb ll or oj nd lp os ol nf om bi translated">关于成熟度级别</h2><p id="70e8" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">当然，那些实践只是指导方针，应该适应你的成熟度和你的项目。</p><ul class=""><li id="3fcf" class="mb mc jj la b lb lc le lf lh md ll me lp mf lt mg mh mi mj bi translated">如果您处于第1级，从版本控制和设置CI/CD和单元测试管道开始。想要从第一级快速升到第三级不会带来任何好处</li><li id="5698" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">这也取决于项目:注意不要设置在不满足项目需求的情况下使项目更加复杂的工具。如果每月一次批量处理，就没有必要部署过于高级的监控。始终对好的实践保持批判的眼光，只保留你需要的。</li></ul><blockquote class="nr"><p id="6bd8" class="ns nt jj bd nu nv ou ov ow ox oy lt dk translated"><strong class="ak">“吸收有用的，拒绝无用的，加入本质上属于自己的”——李小龙</strong></p></blockquote></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><h1 id="1d31" class="mp mq jj bd mr ms mt mu mv mw mx my mz kp na kq nb ks nc kt nd kv ne kw nf ng bi translated">结论</h1><p id="8fb9" class="pw-post-body-paragraph ky kz jj la b lb nh kk ld le ni kn lg lh nj lj lk ll nk ln lo lp nl lr ls lt im bi translated">MLOps是一套工具和实践，旨在尽可能快地将代码、数据和模型变更引入生产。它继承了其老大哥DevOps的概念，构建了人工智能产品特性的集成，如模型性能进化和持续培训。</p><p id="7405" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在数据科学的后POC时代，MLOps正在发挥关键作用，许多公司都对它感兴趣。这些公司仍然有不同的成熟度级别，从在生产服务器上以pickle格式存放模型到监控、自动化和自主的再培训。</p><p id="b51d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">特斯拉人工智能高级总监安德烈·卡帕西(Andrej Karpathy)谈到了“度假行动”(Operation Vacation):如果他的所有数据科学家都去度假，人工智能系统就会不断自我完善。这有点极端，但我们可以把这种理想视为一种趋势。</p><h1 id="cb73" class="mp mq jj bd mr ms oz mu mv mw pa my mz kp pl kq nb ks pm kt nd kv pn kw nf ng bi translated">资源</h1><ul class=""><li id="1e68" class="mb mc jj la b lb nh le ni lh px ll py lp pz lt mg mh mi mj bi translated">MLOps <a class="ae jg" href="https://www.youtube.com/watch?v=9sdWh6T6t-8" rel="noopener ugc nofollow" target="_blank"> Youtube视频</a>由<a class="qa qb ep" href="https://medium.com/u/1566b89045d?source=post_page-----b33921b4f17f--------------------------------" rel="noopener" target="_blank"> Aurélien Massiot </a>、<a class="qa qb ep" href="https://medium.com/u/f7f35cf69e84?source=post_page-----b33921b4f17f--------------------------------" rel="noopener" target="_blank"> Pierre Baonla Bassom </a>和<a class="qa qb ep" href="https://medium.com/u/c42105bc8b36?source=post_page-----b33921b4f17f--------------------------------" rel="noopener" target="_blank">来自<a class="ae jg" href="https://www.octo.com/" rel="noopener ugc nofollow" target="_blank"> Octo Technology </a>的Baptiste Saintot </a>(法属🇫🇷)</li><li id="b586" class="mb mc jj la b lb mk le ml lh mm ll mn lp mo lt mg mh mi mj bi translated">关于<a class="ae jg" href="https://seekingalpha.com/article/4305856-tesla-operation-vacation" rel="noopener ugc nofollow" target="_blank">在特斯拉的运营假期</a></li></ul></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><blockquote class="pr ps pt"><p id="a6f3" class="ky kz pk la b lb lc kk ld le lf kn lg pu li lj lk pv lm ln lo pw lq lr ls lt im bi translated"><em class="jj">如果你喜欢这篇文章并想了解更多，你可以在</em> <a class="ae jg" href="https://medium.etomal.com/" rel="noopener ugc nofollow" target="_blank"> <em class="jj">中</em> </a> <em class="jj">关注我，成为</em> <a class="ae jg" href="https://medium.etomal.com/membership" rel="noopener ugc nofollow" target="_blank"> <em class="jj">会员</em> </a> <em class="jj">，在</em><a class="ae jg" href="https://www.linkedin.com/in/thibaud-lamothe/" rel="noopener ugc nofollow" target="_blank"><em class="jj">LinkedIn</em></a><em class="jj">上与我联系，或者访问我的</em> <a class="ae jg" href="https://etomal.com/" rel="noopener ugc nofollow" target="_blank"> <em class="jj">网站</em> </a> <em class="jj">。</em></p></blockquote></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><blockquote class="nr"><p id="dcca" class="ns nt jj bd nu nv nw nx ny nz oa lt dk translated">希望你喜欢它，再见🤠</p></blockquote></div></div>    
</body>
</html>