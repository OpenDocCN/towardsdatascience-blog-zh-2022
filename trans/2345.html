<html>
<head>
<title>8 Cool Dplyr Functions to Learn in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在R中学习8个很酷的Dplyr函数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/8-cool-dplyr-function-to-learn-in-r-8736d7fa899c#2022-05-23">https://towardsdatascience.com/8-cool-dplyr-function-to-learn-in-r-8736d7fa899c#2022-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0316" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本帖中，我们将检查一些最酷的R数据争论库中可用的重要函数——dplyr</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d82a1cb35eb55a4d2e620c25c9fd6ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xmF-yRaUGvziL4Pe"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/@alesnesetril" rel="noopener ugc nofollow" target="_blank">Ales Nesetril</a>@ unsplash . com</p></figure><p id="6320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> D </span> plyr是一个非常方便的库，你可以在R中使用。<a class="ae ky" href="https://dplyr.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"><em class="me">DP lyr</em></a><em class="me"/>是一个数据操作包，它是<a class="ae ky" href="https://www.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"><em class="me">tidy verse</em></a><em class="me"/>universe的一部分，universe是一个库集合，目标是使R更快、更简单、更容易。</p><p id="6fda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了可以通过安装包来访问的很酷的功能之外，<em class="me"> Dplyr </em>利用了管道(<code class="fe mf mg mh mi b">%&gt;%</code>)结构，这是<a class="ae ky" href="https://style.tidyverse.org/pipes.html" rel="noopener ugc nofollow" target="_blank">封装功能的更好方式</a>。可以说，管道使你的R代码更容易调试和理解——有时，以牺牲一些速度为代价。</p><p id="15dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该库有几十个函数可用于执行数据操作和争论——在本文中，我们将探讨以下几个:</p><ul class=""><li id="78ed" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">filter</code> —过滤行；</li><li id="d92f" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">arrange</code> —对数据帧进行排序；</li><li id="c256" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">mutate</code> —创建新列；</li><li id="0b1e" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">sample_n</code>—从数据帧中取样<em class="me"> n </em>行；</li><li id="ace2" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">sample_frac</code> —从数据帧中抽取一定百分比的行；</li><li id="0e20" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">summarize</code> —执行聚合功能；</li><li id="832b" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">group_by</code> —按特定关键字对数据进行分组；</li><li id="9f46" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">inner, left and right_join</code>—通过键组合多个数据帧；</li></ul><p id="f1a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，对于一些函数，我们还将比较如何使用<em class="me"> R </em>基本代码实现相同的目标——在大多数情况下，这将帮助我们理解在一些R操作中使用<em class="me"> dplyr </em>的好处。</p><p id="2993" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将使用<code class="fe mf mg mh mi b">starwars</code> dataframe来执行我们的示例，这是一个内置的数据集，您可以在运行<code class="fe mf mg mh mi b">library(dplyr)</code>后立即使用。</p><p id="ed2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们开始之前，不要忘记在R:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="33e3" class="nb nc it mi b gy nd ne l nf ng"># Installing the dplyr Package<br/>install.packages('dplyr')</span><span id="1e22" class="nb nc it mi b gy nh ne l nf ng"># Loading the library<br/>library(dplyr)</span></pre><p id="a9b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">预览我们的<code class="fe mf mg mh mi b">starwars</code>数据帧:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/890c86f1821b7e4b640928be58e1b67e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*js7-_z6vyHaJkAZ7oOhGog.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">星球大战数据帧预览——作者图片</p></figure><p id="be7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据帧包含87行和14个与《星球大战》系列中不同角色相关的变量。这个数据帧是一个可以用来玩<code class="fe mf mg mh mi b">dplyr</code>库的玩具数据帧——我们将使用它来理解我们的<code class="fe mf mg mh mi b">dplyr</code>函数的行为，并用一些例子来玩。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="069c" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">过滤器</h1><p id="9e81" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated">我们将学习的第一个<code class="fe mf mg mh mi b">dplyr</code>函数是<code class="fe mf mg mh mi b">filter</code>。该函数广泛用于使用一个或多个条件从数据帧中过滤行。</p><p id="45bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Filter是一个非常酷的功能，可以从数据帧中筛选出行——例如，让我们过滤掉所有在<code class="fe mf mg mh mi b">starwars</code>表中属于<code class="fe mf mg mh mi b">Droid</code>的物种:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="9e3e" class="nb nc it mi b gy nd ne l nf ng">filter_droids &lt;- starwars %&gt;%<br/>  filter(species == 'Droid')</span></pre><p id="4500" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码输出了星球大战系列数据中的7个字符:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/be79db44021d02c39da5c465e73f9c2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*yr93ptJJ45nrjCrWwQPT1w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从《星球大战》数据帧中过滤机器人——图片由作者提供</p></figure><p id="daf9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用base R中的索引来实现完全相同的事情——有一个很大的警告:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="670c" class="nb nc it mi b gy nd ne l nf ng">starwars[starwars$species == ‘Droid’,]</span></pre><p id="abcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的代码会产生一些<code class="fe mf mg mh mi b">NA’s</code>——你必须添加一个额外的条件到<code class="fe mf mg mh mi b">Droid</code>物种的<strong class="lb iu"> only </strong>子集。这是使用<code class="fe mf mg mh mi b">filter</code>功能的主要优势之一(自动删除NA)——而不是通过<code class="fe mf mg mh mi b">%&gt;%</code>访问。</p><p id="f48d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mf mg mh mi b">filter</code>功能的另一个很酷的特性是我们可以灵活地添加更多的条件——例如，让我们只选择金色“皮肤”颜色的<code class="fe mf mg mh mi b">Droids</code>:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="695f" class="nb nc it mi b gy nd ne l nf ng">filter_droids_gold &lt;- starwars %&gt;%<br/> filter(species == ‘Droid’, skin_color == ‘gold’)</span></pre><p id="b534" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这只输出一个droid — C3PO！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/af50010bb666324b3b0399e9a7c44112.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RAjzVUZpIqbKTAefDRpvyw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从《星球大战》数据帧中过滤金色皮肤的机器人——图片由作者提供</p></figure><p id="3b78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过给函数添加新的参数，我们提供了更多的条件。<code class="fe mf mg mh mi b">filter</code>函数的这一特性使得您的代码更易于阅读和调试——尤其是当您有复杂的过滤器时。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="3221" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">安排</h1><p id="8d1f" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated"><code class="fe mf mg mh mi b">arrange</code>根据特定列对表格进行排序。例如，如果我们想按高度排序我们的<code class="fe mf mg mh mi b">starwars</code>数据帧，我们只需键入:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="418f" class="nb nc it mi b gy nd ne l nf ng">sorted_height &lt;- starwars %&gt;%<br/> arrange(height)</span></pre><p id="81f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">表格输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/0858b04d979fb4b0a310a387bb59757b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2nIMmwHDfebxccMuOqSGUw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按照人物高度对星球大战数据帧进行排序——图片由作者提供</p></figure><p id="5aa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们按照高度列对表格进行排序，从最短的字符到最高的字符。</p><p id="bb12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们如何颠倒身高顺序？超级简单，我们只需要在列前加一个<code class="fe mf mg mh mi b">-</code>:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="94ad" class="nb nc it mi b gy nd ne l nf ng">reverse_sorted_height &lt;- starwars %&gt;%<br/> arrange(-height)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/f22959af4cb26eccbed1c4af377b274e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yaOpKWEvOw9a-OqIcSJlow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按人物高度降序排列《星球大战》数据帧——图片按作者排序</p></figure><p id="7821" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们获得降序排列的数据—在输出中，我们可以看到<a class="ae ky" href="https://starwars.fandom.com/wiki/Yarael_Poof" rel="noopener ugc nofollow" target="_blank">亚雷尔·普夫</a>是最高的一个，这是有意义的！</p><p id="0cf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在base R中，您可以使用<code class="fe mf mg mh mi b">order</code>和索引来模拟表排序:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="86d4" class="nb nc it mi b gy nd ne l nf ng">starwars[order(starwars$height),]</span></pre><p id="0092" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用base R的一个警告是，当我们想要按多列排序时，我们的代码会很快变得混乱。</p><p id="829a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe mf mg mh mi b">dplyr</code>中，这很简单，你可能已经猜到了——我们只是给<code class="fe mf mg mh mi b">arrange</code>函数添加了一个新的参数！</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="958b" class="nb nc it mi b gy nd ne l nf ng">sorted_hair_height &lt;- starwars %&gt;%<br/> arrange(hair_color, height)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/5fdf035df7484c03565c6210ae0099dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3LaJdubYnTF8fX3voPqt1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按多列排序星球大战数据帧——按作者排序图片</p></figure><p id="4e04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们按以下顺序输出字符:</p><ul class=""><li id="c566" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">首先，我们按字母顺序将角色按<code class="fe mf mg mh mi b">hair_color</code>排序。</li><li id="85b9" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">通过每个<code class="fe mf mg mh mi b">hair_color</code>，排序由<code class="fe mf mg mh mi b">height</code>应用。</li></ul><p id="8bee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很酷，因为我们可以用一个简单的函数方便地对表格进行排序。此外，我们可以通过简单地添加新的参数向排序顺序添加更多的列，这一事实使得<code class="fe mf mg mh mi b">arrange</code>成为您想要执行排序操作时的首选函数。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="a3e3" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">使突变</h1><p id="ead3" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated"><code class="fe mf mg mh mi b">mutate</code>是一个很酷的向表格添加新列的功能。</p><p id="30fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设我想在星球大战表中添加一个新列，其中包含两列的乘积——<code class="fe mf mg mh mi b">height</code>和<code class="fe mf mg mh mi b">mass</code>。让我们称这个列为<code class="fe mf mg mh mi b">height_x_mass</code>:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="d1cf" class="nb nc it mi b gy nd ne l nf ng">starwars_df &lt;- starwars %&gt;%<br/>  mutate(height_x_mass = height*mass)</span></pre><p id="c0f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的例子中，我将结果写入一个新表<code class="fe mf mg mh mi b">starwars_df</code>，因为现有的列保留在<code class="fe mf mg mh mi b">mutate</code>函数中。<code class="fe mf mg mh mi b">mutate</code>所做的只是向现有数据帧添加一个新列。</p><p id="99ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看上面代码的结果对象——滚动到R预览器的最后一列:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/66376c18eddc018ecf87f13c99deb1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkubuFOgJ6BC2o5kxhtA0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在《星球大战》数据帧上用Mutate创建的新列——图片由作者提供</p></figure><p id="f2e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您滚动到R数据帧预览器的末尾，您可以看到我们的新列已创建！</p><p id="e60e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此栏是<code class="fe mf mg mh mi b">height</code>乘以<code class="fe mf mg mh mi b">mass</code>的计算结果。让我们检查一个例子，第一行包含关于特许经营主角的数据— <code class="fe mf mg mh mi b">Luke Skywalker</code>。</p><p id="675e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">卢克身高172厘米，体重77公斤:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/ede9a91c14792e9a76545828b52c42b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*AG7i6u3Zx_l0ghUUkfHoYg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卢克·天行者数据来自斯塔沃斯数据框架——图片由作者提供</p></figure><p id="410e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们期望<code class="fe mf mg mh mi b">Luke</code>的<code class="fe mf mg mh mi b">height_x_mass</code>是<strong class="lb iu"> 172*77，13.244。这是我们在第一行最后一列获得的值吗？让我们再检查一遍:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/66376c18eddc018ecf87f13c99deb1e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tkubuFOgJ6BC2o5kxhtA0g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在《星球大战》数据帧上用Mutate创建的新列——图片由作者提供</p></figure><p id="1240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确实是！</p><p id="81c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<code class="fe mf mg mh mi b">mutate</code>,我们可以基于现有信息或全新的值创建新列。还有，你认为我们可以同时添加多个列吗？</p><p id="9399" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看！</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="3105" class="nb nc it mi b gy nd ne l nf ng">starwars_df &lt;- starwars %&gt;%<br/> mutate(height_x_mass = height*mass,<br/> franchise = ‘Star Wars’)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/814b4702308192c4469a1fe2e354cc05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YXW7WROz42eQUQyx5RuoXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在星球大战数据帧上用Mutate创建的新列——图片由作者提供</p></figure><p id="45f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不错！我们可以通过向函数添加一个新的参数来同时添加多个列——听起来很熟悉吧？这就是<code class="fe mf mg mh mi b">dplyr</code>如此灵活的原因！</p><p id="02c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，在上面的示例中，我们添加了两个新列:</p><ul class=""><li id="25e6" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">正如我们已经讨论过的，带有<code class="fe mf mg mh mi b">height_x_mass</code>的列。</li><li id="2baa" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated">名为<code class="fe mf mg mh mi b">franchise</code>的新列包含所有行的字符串“星球大战”。</li></ul></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="7dc9" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">样本N和样本分数</h1><p id="d42a" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated">当您使用R执行一些数据科学、统计或分析项目时，您可能需要在整个管道中进行某种类型的采样。</p><p id="6dbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用R base时，必须处理索引，这有点容易出错。</p><p id="d4b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，<code class="fe mf mg mh mi b">dplyr</code>有两个非常酷的函数来执行样本:</p><ul class=""><li id="5e7d" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">sample_n</code>根据大量元素从数据帧中随机抽取行。</li><li id="4145" class="mj mk it lb b lc ms lf mt li mu lm mv lq mw lu mo mp mq mr bi translated"><code class="fe mf mg mh mi b">sample_frac</code>根据数据帧原始行的百分比从数据帧中随机抽取行。</li></ul><p id="de39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看！</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="6282" class="nb nc it mi b gy nd ne l nf ng">starwars_sample_n &lt;- starwars %&gt;%<br/>  sample_n(size=5)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/0a07ee98e02e72a58aa7e9ad8b230fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1394/format:webp/1*AzbIxNoLLCtCWflck3nIXw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">《星球大战》数据帧中的5行样本——作者图片</p></figure><p id="ad4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，<code class="fe mf mg mh mi b">sample_n</code>函数的输出给了我们5行——参数<code class="fe mf mg mh mi b">size</code>的编号。使用<code class="fe mf mg mh mi b">sample_frac</code>，我们不是检索“整数行”,而是检索原始行的百分比——例如，如果我们想获得1%的行，我们可以提供:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="8a20" class="nb nc it mi b gy nd ne l nf ng">starwars_sample_frac &lt;- starwars %&gt;%<br/> sample_frac(0.01)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/287e5a736aae656e82435b26bbd9bbe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*G7AB27k__uNt8ZmM50RbmQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">《星球大战》数据帧中1%的行样本——作者图片</p></figure><p id="2fb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为什么我们在输出中只看到一行？</p><p id="0c49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">原始的<code class="fe mf mg mh mi b">starwars</code>数据帧包含87行。87的1%是多少？0.87.这个数字被向上取整，我们最终只从表中检索到1行。</p><p id="82cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们给<code class="fe mf mg mh mi b">sample_n</code>函数0.02，你能猜出我们将检索多少行吗？</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="6184" class="nb nc it mi b gy nd ne l nf ng">starwars_sample_frac &lt;- starwars %&gt;%<br/> sample_frac(0.02)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/51da43fe5a6f5b3b57dde9dfd35d40e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sPI4f2XUY8ZDhQ7D_8vdJA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">《星球大战》数据帧中2%的行样本——作者图片</p></figure><p id="efec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">0.02 * 87等于1.74 <strong class="lb iu">所以我们从表中抽取2行！</strong></p><p id="88dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mf mg mh mi b">sample_n</code>和<code class="fe mf mg mh mi b">sample_frac</code>非常酷，因为只需修改一小部分代码，就可以在采样方法之间轻松切换。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="83c7" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">概括</h1><p id="282d" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated"><code class="fe mf mg mh mi b">summarise</code>是一个非常方便的编写汇总函数的包装器。例如，假设我们想要获得<code class="fe mf mg mh mi b">height</code>变量的平均值——使用基数R，我们可以:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="4701" class="nb nc it mi b gy nd ne l nf ng">mean(starwars$height, na.rm=TRUE)</span></pre><p id="da9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这在技术上是正确的——我们使用<code class="fe mf mg mh mi b">na.rm</code>从列值中移除NA，然后将平均值应用于向量。在<code class="fe mf mg mh mi b">summarise</code>中，我们可以进行以下操作:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="51a5" class="nb nc it mi b gy nd ne l nf ng">starwars %&gt;%<br/> summarise(height_mean = mean(height, na.rm = TRUE))</span></pre><p id="5130" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这也输出大约174，即<code class="fe mf mg mh mi b">height</code>列的平均值。使用<code class="fe mf mg mh mi b">summarise</code>相对于基数R有两个很酷的特性:</p><ul class=""><li id="68d3" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated"><strong class="lb iu"/>的第一个特点是我们可以在不同的功能之间跳转:</li></ul><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="d0f2" class="nb nc it mi b gy nd ne l nf ng">starwars %&gt;%<br/> summarise(height_max = max(height, na.rm = TRUE))</span></pre><p id="4720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我修改了函数来计算列的<code class="fe mf mg mh mi b">max</code>，而不是<code class="fe mf mg mh mi b">mean</code>。你可以在这里查看<a class="ae ky" href="https://www.rdocumentation.org/packages/dplyr/versions/0.7.8/topics/summarise" rel="noopener ugc nofollow" target="_blank">T4</a>支持的一些内置功能</p><ul class=""><li id="b4ee" class="mj mk it lb b lc ld lf lg li ml lm mm lq mn lu mo mp mq mr bi translated">第二个很酷的特性，可能也是最有用的，是你可以用<code class="fe mf mg mh mi b">group_by</code>封装汇总函数来产生每组的值。例如，如果我想通过<code class="fe mf mg mh mi b">Species</code>检查<code class="fe mf mg mh mi b">mean</code>，我只需要:</li></ul><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="953f" class="nb nc it mi b gy nd ne l nf ng">mean_height_by_species &lt;- starwars %&gt;%<br/> group_by(species) %&gt;%<br/> summarise(height_mean = mean(height, na.rm = TRUE))</span></pre><p id="ced1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷！我可以在我的<code class="fe mf mg mh mi b">summarise</code>之前执行一个<code class="fe mf mg mh mi b">group_by</code>，输出每个<code class="fe mf mg mh mi b">species</code>字符的平均高度。让我们看看输出数据帧:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/595ea63281716fa31d082179d679cf2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*3LNA_6tLrWZOHnoJhQkBlQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">通过小组示例进行总结—图片由作者提供</p></figure><p id="645d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每个<code class="fe mf mg mh mi b">species</code>，我们都有一个<code class="fe mf mg mh mi b">height_mean</code>。这为我们提供了数据帧中每个特定<code class="fe mf mg mh mi b">species</code>的所有字符的平均值<code class="fe mf mg mh mi b">height</code>的概述。例如，从预告来看，<a class="ae ky" href="https://starwars.fandom.com/pt/wiki/Categoria:Ewoks" rel="noopener ugc nofollow" target="_blank">伊渥克</a>和<a class="ae ky" href="https://starwars.fandom.com/pt/wiki/Legends:Aleena" rel="noopener ugc nofollow" target="_blank">阿列纳斯</a>是平均身高最短的物种，这是有道理的！</p><p id="af1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在构建数据管道时，结合使用summarise和其他<code class="fe mf mg mh mi b">dplyr</code>指令是很常见的。</p><p id="b697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你熟悉SQL，在上面的例子中，我们用3行代码模拟了<code class="fe mf mg mh mi b">GROUP BY</code>子句的行为。这是一个比基数r更容易使用的例子。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="5013" class="nq nc it bd nr ns nt nu nv nw nx ny nz jz oa ka ob kc oc kd od kf oe kg of og bi translated">内部、左侧和右侧连接</h1><p id="7f6c" class="pw-post-body-paragraph kz la it lb b lc oh ju le lf oi jx lh li oj lk ll lm ok lo lp lq ol ls lt lu im bi translated">说到<code class="fe mf mg mh mi b">SQL</code> , <code class="fe mf mg mh mi b">dplyr</code>有一些有趣的函数来执行数据帧连接。</p><p id="13d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个辅助数据框架，其中包含每个物种的虚拟起源，数据如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/ab6fd6e46f3856ecd65ef518de1889b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:468/format:webp/1*MRE7Y40FjKuxlaNckxs87g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">物种起源示例—作者图片</p></figure><p id="71eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据帧包含关于《星球大战》系列中一个物种的虚构起源的信息。我们可以使用连接将这个数据帧和<code class="fe mf mg mh mi b">starwars</code>数据帧结合起来吗？</p><p id="9067" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用<code class="fe mf mg mh mi b">dplyr</code>中的<code class="fe mf mg mh mi b">join</code>功能来完成！先说一个<code class="fe mf mg mh mi b">inner_join</code>:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="7ce9" class="nb nc it mi b gy nd ne l nf ng">starwars_inner &lt;- starwars %&gt;%<br/> inner_join(species_origin, on=’Species’)</span></pre><p id="41cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mf mg mh mi b">inner_join</code>函数在<code class="fe mf mg mh mi b">%&gt;%</code>之前的表和函数的第一个参数之间执行连接。在这种情况下，我们通过<code class="fe mf mg mh mi b">Species</code>列连接<code class="fe mf mg mh mi b">starwars</code>和<code class="fe mf mg mh mi b">species_origin</code>数据帧。</p><p id="3c9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该连接输出36个观察值和一个额外添加的列:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/355fbbcb268a4c4421bfd759467f1a50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*0DGVd06y6ggnqX9ZJyYpTQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">《星球大战》和《物种起源》数据框架内部连接的结果——图片由作者提供</p></figure><p id="1e0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意，我们已经将<code class="fe mf mg mh mi b">origin</code>列添加到了<code class="fe mf mg mh mi b">starwars</code>数据帧中。自然，内连接只返回两个物种:<code class="fe mf mg mh mi b">Human</code>和<code class="fe mf mg mh mi b">Ewok</code>。由于我们正在执行一个<code class="fe mf mg mh mi b">inner_join</code>，我们只返回键在两个数据帧中的行。</p><p id="ff8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们执行<code class="fe mf mg mh mi b">left_join</code>，我们的数据帧的域会改变:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="8d9b" class="nb nc it mi b gy nd ne l nf ng">starwars_left &lt;- starwars %&gt;%<br/> left_join(species_origin, on=’Species’)</span></pre><p id="93e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，返回的数据帧包含87行和附加列。当我们在<code class="fe mf mg mh mi b">species_origin</code>中找不到该信息时,<code class="fe mf mg mh mi b">origin</code>列会发生什么情况？让我们看看:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/17c8c0249d9aea9ddde67cc3e9192697.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*Xd_-xsL0nDJUj9Dr-gC3fw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">《星球大战》和《物种起源》数据帧左连接的结果——图片由作者提供</p></figure><p id="2f23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它被赋值给一个<code class="fe mf mg mh mi b">NA</code>值！虽然我们从左边的表中取出所有的行(在<code class="fe mf mg mh mi b">%&gt;%</code>之前的数据帧)，但是在<code class="fe mf mg mh mi b">species_origin</code>数据帧上没有匹配的<code class="fe mf mg mh mi b">species</code>在<code class="fe mf mg mh mi b">origin</code>上有一个<code class="fe mf mg mh mi b">NA</code>值。</p><p id="f68e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<code class="fe mf mg mh mi b">inner_join</code>和<code class="fe mf mg mh mi b">left_join</code>类似，我们在<code class="fe mf mg mh mi b">dplyr</code>中也有一个<code class="fe mf mg mh mi b">right_join</code>:</p><pre class="kj kk kl km gt mx mi my mz aw na bi"><span id="1e93" class="nb nc it mi b gy nd ne l nf ng">starwars_right &lt;- starwars %&gt;%<br/> right_join(species_origin, on=’Species’)</span></pre><p id="d129" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在右连接中，主表是在函数的第一个参数中指定的表— <code class="fe mf mg mh mi b">species_origin</code>。</p><p id="b9f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于SQL用户来说，这些<code class="fe mf mg mh mi b">dplyr</code>函数将使他们向R的过渡更加容易，因为他们可以使用与大多数SQL实现相似的逻辑来执行连接。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><p id="5e72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完了！感谢你花时间阅读这篇文章，我希望你喜欢在<code class="fe mf mg mh mi b">dplyr</code>世界中导航。可以说，在你的代码中使用<code class="fe mf mg mh mi b">dplyr</code>会使你的代码更容易阅读和使用——这是在你的项目中消除代码债务的一个小小的推动。</p><p id="b332" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="me">我在Udemy上建立了一个</em></strong><a class="ae ky" href="https://www.udemy.com/course/r-for-absolute-beginners/?referralCode=F839A741D06F0200F312" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="me">R</em></strong></a><strong class="lb iu"><em class="me">入门和一个</em> </strong> <a class="ae ky" href="https://www.udemy.com/course/r-for-data-science-first-step-data-scientist/?referralCode=6D1757B5E619B89FA064" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="me">学习数据科学的训练营</em> </strong> </a> <strong class="lb iu"> <em class="me">。这两个课程都是为初学者量身定做的，我希望你能在我身边！</em>T25】</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/210dd6b4b8f5a19d02097c5a5ede14f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/0*QG2MGbr9WcX4-bH6.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.udemy.com/course/r-for-data-science-first-step-data-scientist/?referralCode=6D1757B5E619B89FA064" rel="noopener ugc nofollow" target="_blank">数据科学训练营:你成为数据科学家的第一步</a> —图片由作者提供</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/ff465d36470468ed2ce0c727d7fbaadc.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*-7zlDolRt1YsjnOazXGXYA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绝对初学者的R编程 —图片作者</p></figure><div class="pb pc gp gr pd pe"><a href="https://ivopbernardo.medium.com/membership" rel="noopener follow" target="_blank"><div class="pf ab fo"><div class="pg ab ph cl cj pi"><h2 class="bd iu gy z fp pj fr fs pk fu fw is bi translated">通过我的推荐链接加入Medium-Ivo Bernardo</h2><div class="pl l"><h3 class="bd b gy z fp pj fr fs pk fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pm l"><p class="bd b dl z fp pj fr fs pk fu fw dk translated">ivopbernardo.medium.com</p></div></div><div class="pn l"><div class="po l pp pq pr pn ps ks pe"/></div></div></a></div><p id="b29e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是这篇文章中例子的一个小要点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pt pu l"/></div></figure></div></div>    
</body>
</html>