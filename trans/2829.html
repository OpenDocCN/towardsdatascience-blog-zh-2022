<html>
<head>
<title>How to Perform Data Augmentation in NLP Projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在NLP项目中执行数据扩充</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-perform-data-augmentation-in-nlp-projects-5c4b86c25035#2022-06-20">https://towardsdatascience.com/how-to-perform-data-augmentation-in-nlp-projects-5c4b86c25035#2022-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2b2d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">利用文本攻击库进行数据扩充的简单方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1e43e0e3b43de239b56495f18cc3f938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eproIleJllsp0enh6HA2Hw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://pixabay.com/users/geralt-9301/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1989152" rel="noopener ugc nofollow" target="_blank"> Gerd Altmann </a>从<a class="ae kv" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1989152" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>拍摄</p></figure><p id="25a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在机器学习中，为了实现强大的模型性能，拥有大量数据是至关重要的。使用一种称为数据扩充的方法，您可以为您的机器学习项目创建更多数据。数据扩充是一组技术，用于管理在现有数据基础上自动生成高质量数据的过程。</p><p id="f8cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在计算机视觉应用中，增强方法非常普遍。例如，如果你正在做一个计算机视觉项目(例如图像分类)，你可以对每张图像应用许多技术:移动、修改颜色强度、缩放、旋转、裁剪等等。</p><p id="3fb1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您的ML项目有一个很小的数据集，或者希望减少机器学习模型中的过度拟合，建议您可以应用数据扩充方法。</p><blockquote class="ls lt lu"><p id="c8e2" class="kw kx lv ky b kz la jr lb lc ld ju le lw lg lh li lx lk ll lm ly lo lp lq lr ij bi translated">“我们没有更好的算法。我们只是有更多的数据。”-彼得<a class="ae kv" href="https://research.google/people/author205/?ref=hackernoon.com" rel="noopener ugc nofollow" target="_blank">诺威格</a></p></blockquote><p id="14b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在自然语言处理(NLP)领域，语言所具有的高度复杂性使得扩充文本变得困难。扩充文本数据的过程更具挑战性，不像有些人预期的那样简单。</p><p id="f06d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，您将学习如何使用名为<a class="ae kv" href="https://github.com/QData/TextAttack?ref=hackernoon.com" rel="noopener ugc nofollow" target="_blank"> TextAttack </a>的库来改进自然语言处理的数据。</p><h1 id="cee9" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">什么是TextAttack？</h1><p id="cf7a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">TextAttack是一个Python框架，由<a class="ae kv" href="https://qdata.github.io/qdata-page/?ref=hackernoon.com" rel="noopener ugc nofollow" target="_blank"> QData团队</a>构建，目的是在自然语言处理中进行对抗性攻击、对抗性训练和数据扩充。TextAttack具有可独立用于各种基本自然语言处理任务的组件，包括句子编码、语法检查和单词替换。</p><p id="3fca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">TextAttack擅长执行以下三个功能:</p><ol class=""><li id="04c0" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr nb nc nd ne bi translated">对抗性攻击(Python: <code class="fe nf ng nh ni b"><strong class="ky ir">textattack.Attack</strong></code>，Bash: <code class="fe nf ng nh ni b"><strong class="ky ir">textattack attack</strong></code>)。</li><li id="cd01" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">数据增强(Python: <code class="fe nf ng nh ni b"><strong class="ky ir">textattack.augmentation.Augmenter</strong></code>，Bash: <strong class="ky ir"> </strong> <code class="fe nf ng nh ni b"><strong class="ky ir">textattack augment</strong></code>)。</li><li id="b976" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr nb nc nd ne bi translated">模型训练(Python: <code class="fe nf ng nh ni b"><strong class="ky ir">textattack.Trainer</strong></code>，Bash: <code class="fe nf ng nh ni b"><strong class="ky ir">textattack train</strong></code>)。</li></ol><p id="c3ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>对于本文，我们将关注如何使用TextAttack库进行数据扩充。</p><h1 id="7012" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">如何安装TexAttack</h1><p id="22e5" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">要使用这个库，请确保您的环境中有python 3.6或更高版本。</p><p id="b820" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">运行以下命令安装textAttack。</p><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="6525" class="ns ma iq ni b gy nt nu l nv nw">pip install textattack</span></pre><p id="1be9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">注意:</strong>一旦安装了TexAttack，就可以通过python模块或命令行运行它。</p><h1 id="b0cc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">文本数据的数据扩充技术</h1><p id="eed8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">TextAttack库有各种增强技术，您可以在NLP项目中使用这些技术来添加更多的文本数据。以下是您可以应用的一些技巧:</p><p id="8d07" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 1。它通过将字符替换成其他字符来扩充单词。</strong></p><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="04c5" class="ns ma iq ni b gy nt nu l nv nw">from textattack.augmentation import CharSwapAugmenter</span><span id="915e" class="ns ma iq ni b gy nx nu l nv nw">text = "I have enjoyed watching that movie, it was amazing."</span><span id="a16e" class="ns ma iq ni b gy nx nu l nv nw">charswap_aug = CharSwapAugmenter()</span><span id="f82f" class="ns ma iq ni b gy nx nu l nv nw">charswap_aug.augment(text)</span></pre><p id="2fd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[“我很喜欢看那部电影，太棒了。”]</p><p id="d50e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">增强器将单词<strong class="ky ir">“电影”</strong>换成了<strong class="ky ir">“om vie”</strong>。</p><p id="dd25" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 2。DeletionAugmenter <br/> </strong>它通过删除文本的某些部分来扩充文本，以生成新的文本。</p><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="5d4a" class="ns ma iq ni b gy nt nu l nv nw">from textattack.augmentation import DeletionAugmenter</span><span id="eedf" class="ns ma iq ni b gy nx nu l nv nw">text = "I have enjoyed watching that movie, it was amazing."</span><span id="35d1" class="ns ma iq ni b gy nx nu l nv nw">deletion_aug = DeletionAugmenter()</span><span id="5bb1" class="ns ma iq ni b gy nx nu l nv nw">deletion_aug.augment(text)</span></pre><p id="167d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[“我看过了，太棒了。”]</p><p id="17c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种方法删除了单词<strong class="ky ir">“享受”</strong>来创建新的扩充文本。</p><p id="e74c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 3。EasyDataAugmenter <br/> </strong>这是用不同方法的组合来扩充文本，例如</p><ul class=""><li id="14e0" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr ny nc nd ne bi translated">随机交换单词在句子中的位置。</li><li id="b000" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr ny nc nd ne bi translated">从句子中随机删除单词。</li><li id="f715" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr ny nc nd ne bi translated">在随机位置随机插入随机单词的随机同义词。</li><li id="31d3" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr ny nc nd ne bi translated">随机用同义词替换单词。</li></ul><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="6a2a" class="ns ma iq ni b gy nt nu l nv nw">from textattack.augmentation import EasyDataAugmenter</span><span id="5e90" class="ns ma iq ni b gy nx nu l nv nw">text = "I was billed twice for the service and this is the second time it has happened"</span><span id="171d" class="ns ma iq ni b gy nx nu l nv nw">eda_aug = EasyDataAugmenter()</span><span id="1565" class="ns ma iq ni b gy nx nu l nv nw">eda_aug.augment(text)</span></pre><p id="fe2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">['我为这项服务开了两次账单，这是第二次'，T25'我为一项服务开了两次账单，这是第二次'，T26'我为这项服务开了两次账单，这是第二次'，T27'我为这项服务开了两次账单，这是第二次']</p><p id="b9cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如您从增强文本中看到的，它根据应用的方法显示了不同的结果。例如，在第一个扩充文本中，最后一个单词已经从<strong class="ky ir">“发生”</strong>修改为<strong class="ky ir">“发生”</strong>。</p><p id="5388" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 4。它可以通过用WordNet词库中的同义词替换文本来扩充文本。</strong></p><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="8284" class="ns ma iq ni b gy nt nu l nv nw">from textattack.augmentation import WordNetAugmenter</span><span id="3282" class="ns ma iq ni b gy nx nu l nv nw">text = "I was billed twice for the service and this is the second time it has happened"</span><span id="f550" class="ns ma iq ni b gy nx nu l nv nw">wordnet_aug = WordNetAugmenter()</span><span id="b232" class="ns ma iq ni b gy nx nu l nv nw">wordnet_aug.augment(text)</span></pre><p id="f1ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">['我为这项服务开了两次账单，这是第二次了']</p><p id="8612" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该方法将单词<strong class="ky ir">“发生”</strong>改为<strong class="ky ir">“经过”</strong>，以创建新的增强文本。</p><p id="3c01" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> 5。创建自己的增强器<br/> </strong>从<code class="fe nf ng nh ni b">textattack.transformations </code>和<code class="fe nf ng nh ni b">textattack.constraints</code>导入变换和约束允许你从头开始构建自己的增强器。以下是使用<code class="fe nf ng nh ni b">WordSwapRandomCharacterDeletion</code>算法<strong class="ky ir"> </strong>生成字符串扩充的示例:</p><pre class="kg kh ki kj gt no ni np nq aw nr bi"><span id="5776" class="ns ma iq ni b gy nt nu l nv nw">from textattack.transformations import WordSwapRandomCharacterDeletion<br/>from textattack.transformations import CompositeTransformation<br/>from textattack.augmentation import Augmenter</span><span id="6fd6" class="ns ma iq ni b gy nx nu l nv nw">my_transformation = CompositeTransformation([WordSwapRandomCharacterDeletion()])<br/>augmenter = Augmenter(transformation=my_transformation, transformations_per_example=3)</span><span id="996b" class="ns ma iq ni b gy nx nu l nv nw">text = 'Siri became confused when we reused to follow her directions.'</span><span id="2f93" class="ns ma iq ni b gy nx nu l nv nw">augmenter.augment(text)</span></pre><p id="abe4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">[“当我们再次听从她的指示时，Siri变得困惑起来。”当e重复使用她的指示时，Siri变得很困惑，<br/>“当我们重复使用Siri来遵循hr的指示时，它变得很困惑。”]</p><p id="b8a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实施<code class="fe nf ng nh ni b">WordSwapRandomCharacterDeletion</code>方法后，输出显示不同的增强文本。例如，在第一个扩充文本中，该方法随机移除单词“<strong class="ky ir"> confused”中的字符“<strong class="ky ir">o”</strong>。</strong></p><h1 id="6a95" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="cc81" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在本文中，您已经了解了数据扩充对于您的机器学习项目的重要性。此外，您还学习了如何使用TextAttack库对文本数据执行数据扩充。</p><p id="bdb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">据我所知，这些技术是完成NLP项目任务的最有效的方法。希望它们能对你的工作有所帮助。</p><p id="5265" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以尝试使用TextAttack库中其他可用的增强技术，例如:</p><ul class=""><li id="5865" class="mw mx iq ky b kz la lc ld lf my lj mz ln na lr ny nc nd ne bi translated">嵌入增强器</li><li id="8bc7" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr ny nc nd ne bi translated">检查表增强器</li><li id="69e9" class="mw mx iq ky b kz nj lc nk lf nl lj nm ln nn lr ny nc nd ne bi translated">克莱尔增强器</li></ul><p id="c8be" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你学到了新的东西或者喜欢阅读这篇文章，请分享给其他人看。在那之前，下期帖子再见！</p><p id="669f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你也可以在Twitter <a class="ae kv" href="https://twitter.com/Davis_McDavid?ref=hackernoon.com" rel="noopener ugc nofollow" target="_blank"> @Davis_McDavid </a>上找到我。</p><p id="9655" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">最后一件事:在以下链接中阅读更多类似的文章</em></p><div class="nz oa gp gr ob oc"><a href="https://medium.com/geekculture/how-to-speed-up-model-training-with-snapml-b2e24b546fe5" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">如何用Snapml加速模型训练</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">用更少的时间训练机器学习模型</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="om l on oo op ol oq kp oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/geekculture/top-5-cloud-migration-strategies-you-need-to-know-fb1d92ed3c8a" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">您需要知道的五大云迁移策略</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">如何将您的数据和系统平稳地迁移到云中</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="or l on oo op ol oq kp oc"/></div></div></a></div><div class="nz oa gp gr ob oc"><a href="https://medium.com/geekculture/top-5-reasons-why-companies-are-moving-to-the-cloud-c3a609332125" rel="noopener follow" target="_blank"><div class="od ab fo"><div class="oe ab of cl cj og"><h2 class="bd ir gy z fp oh fr fs oi fu fw ip bi translated">公司迁移到云的五大原因</h2><div class="oj l"><h3 class="bd b gy z fp oh fr fs oi fu fw dk translated">为什么企业对云的采用增加到了90%</h3></div><div class="ok l"><p class="bd b dl z fp oh fr fs oi fu fw dk translated">medium.com</p></div></div><div class="ol l"><div class="os l on oo op ol oq kp oc"/></div></div></a></div><p id="99e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="lv">本文首发于</em> <a class="ae kv" href="https://hackernoon.com/how-to-perform-data-augmentation-in-nlp-projects" rel="noopener ugc nofollow" target="_blank"> <em class="lv">此处</em> </a> <em class="lv">。</em></p></div></div>    
</body>
</html>