<html>
<head>
<title>How To Load Data From Text File into Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将文本文件中的数据加载到Pandas</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/txt-to-pandas-df3aeaf92548#2022-10-05">https://towardsdatascience.com/txt-to-pandas-df3aeaf92548#2022-10-05</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="c539" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">用Python将文本文件中存储的数据加载到pandas数据帧中</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/91ac68bd20031b83022f7ac84c4ff32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8AZAqmfNu-MIn5w096WKIA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@hongqi?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">布鲁斯洪</a>在<a class="ae kz" href="https://unsplash.com/s/photos/pandas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="946a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Pandas是事实上的Python包，允许用户在内存中执行数据转换和分析。在许多情况下，这些数据最初驻留在外部源中，如文本文件。通过其强大的API，pandas允许用户通过各种方法从这些来源加载数据。</p><p id="c485" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的文章中，我们将演示如何使用这些方法将文本文件中的数据加载到pandas数据帧中。此外，我们将讨论如何处理分隔符和列名(也称为标题)。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="0a7e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，让我们创建一个名为<code class="fe md me mf mg b">employees.txt</code>的示例文本文件，我们将在今天的简短教程中使用它来演示一些概念。请注意，字段由单个空格字符分隔，第一行对应于标题。</p><pre class="kk kl km kn gu mh mg mi mj aw mk bi"><span id="8d7e" class="ml mm iu mg b gz mn mo l mp mq">name surname dob department<br/>George Brown 12/02/1993 Engineering<br/>Andrew Black 15/04/1975 HR<br/>Maria Green 12/02/1989 Engineering<br/>Helen Fox 21/10/2000 Marketing<br/>Joe Xiu 10/11/1998 Engineering<br/>Ben Simsons 01/12/1987 Engineering<br/>Jess Middleton 12/12/1997 Marketing</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="dae3" class="ml mm iu bd mr ms mt dn mu mv mw dp mx lj my mz na ln nb nc nd lr ne nf ng nh bi translated">使用read_csv()</h2><p id="d6ec" class="pw-post-body-paragraph la lb iu lc b ld ni jv lf lg nj jy li lj nk ll lm ln nl lp lq lr nm lt lu lv in bi translated">a<strong class="lc iv">c</strong>omma<strong class="lc iv">s</strong>separated<strong class="lc iv">f</strong>file(CSV)实际上是一个文本文件，它使用逗号作为分隔符来分隔每个字段的记录值。因此，使用<code class="fe md me mf mg b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank">pandas.read_csv()</a></code>方法从文本文件加载数据是有意义的，即使文件本身没有<code class="fe md me mf mg b">.csv</code>扩展名。</p><p id="98eb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">为了读取我们的文本文件并将其加载到pandas DataFrame中，我们只需要向<code class="fe md me mf mg b">read_csv()</code>方法提供文件名、分隔符/定界符(在我们的例子中是一个空格)和包含列名的行，这似乎是第一行。</p><pre class="kk kl km kn gu mh mg mi mj aw mk bi"><span id="b643" class="ml mm iu mg b gz mn mo l mp mq">import pandas as pd</span><span id="67f5" class="ml mm iu mg b gz nn mo l mp mq">df = pd.read_csv('employees.txt', sep=' ', header=0)</span><span id="08c6" class="ml mm iu mg b gz nn mo l mp mq">print(df)<br/><strong class="mg iv"><em class="no">     name    surname         dob   department<br/></em></strong><em class="no">0  George      Brown  12/02/1993  Engineering<br/>1  Andrew      Black  15/04/1975           HR<br/>2   Maria      Green  12/02/1989  Engineering<br/>3   Helen        Fox  21/10/2000    Marketing<br/>4     Joe        Xiu  10/11/1998  Engineering<br/>5     Ben    Simsons  01/12/1987  Engineering<br/>6    Jess  Middleton  12/12/1997    Marketing</em></span></pre><p id="b60c" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，如果您要加载为pandas DataFrame的文件有不同的分隔符，比如逗号<code class="fe md me mf mg b">,</code>、冒号<code class="fe md me mf mg b">:</code>或制表符<code class="fe md me mf mg b">\t</code>，那么您需要做的就是在调用<code class="fe md me mf mg b">read_csv()</code>时在<code class="fe md me mf mg b">sep</code>或<code class="fe md me mf mg b">delimiter</code>参数中指定该字符。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="0635" class="ml mm iu bd mr ms mt dn mu mv mw dp mx lj my mz na ln nb nc nd lr ne nf ng nh bi translated">使用read_table()</h2><p id="cd4e" class="pw-post-body-paragraph la lb iu lc b ld ni jv lf lg nj jy li lj nk ll lm ln nl lp lq lr nm lt lu lv in bi translated">或者，您可以利用<code class="fe md me mf mg b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.read_table.html" rel="noopener ugc nofollow" target="_blank">pandas.read_table()</a></code>方法将通用分隔文件读入pandas数据帧。</p><pre class="kk kl km kn gu mh mg mi mj aw mk bi"><span id="8d32" class="ml mm iu mg b gz mn mo l mp mq">import pandas as pd </span><span id="c11e" class="ml mm iu mg b gz nn mo l mp mq">df = pd.read_table('employees.txt', sep=' ', header=0)</span><span id="2602" class="ml mm iu mg b gz nn mo l mp mq">print(df)<br/><strong class="mg iv"><em class="no">     name    surname         dob   department<br/></em></strong><em class="no">0  George      Brown  12/02/1993  Engineering<br/>1  Andrew      Black  15/04/1975           HR<br/>2   Maria      Green  12/02/1989  Engineering<br/>3   Helen        Fox  21/10/2000    Marketing<br/>4     Joe        Xiu  10/11/1998  Engineering<br/>5     Ben    Simsons  01/12/1987  Engineering<br/>6    Jess  Middleton  12/12/1997    Marketing</em></span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="78f3" class="ml mm iu bd mr ms mt dn mu mv mw dp mx lj my mz na ln nb nc nd lr ne nf ng nh bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph la lb iu lc b ld ni jv lf lg nj jy li lj nk ll lm ln nl lp lq lr nm lt lu lv in bi translated">创建pandas数据框架的最常见方法之一是加载存储在外部源中的数据，如文本或csv文件。在今天的简短教程中，我们一步一步地完成了一个过程，通过从一个文本文件中加载数据，最终可以帮助您构建一个熊猫数据框架，其中每个字段都由一个特定的字符(制表符、空格或其他字符)分隔。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a> <strong class="lc iv">阅读媒体上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="np nq gq gs nr ns"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">相关文章你可能也喜欢</strong></p><div class="np nq gq gs nr ns"><a rel="noopener follow" target="_blank" href="/diagrams-as-code-python-d9cbaa959ed5"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">Python中作为代码的图</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">用Python创建云系统架构图</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oh l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a rel="noopener follow" target="_blank" href="/args-kwargs-python-d9c71b220970"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">* Python中的args和**kwargs</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">讨论位置参数和关键字参数之间的区别，以及如何在Python中使用*args和**kwargs</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oi l od oe of ob og kt ns"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a rel="noopener follow" target="_blank" href="/python-poetry-83f184ac9ed1"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">用诗歌管理Python依赖关系</h2><div class="nz l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">依赖性管理和用诗歌打包</h3></div><div class="oa l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oj l od oe of ob og kt ns"/></div></div></a></div></div></div>    
</body>
</html>