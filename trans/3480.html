<html>
<head>
<title>4 Types of SQL JOIN Every Data Scientist Should Know: Visual Representation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">每个数据科学家都应该知道的4种SQL连接类型:可视化表示</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-types-of-sql-join-any-data-scientists-should-know-hands-on-practice-4a1d119c00ad#2022-08-02">https://towardsdatascience.com/4-types-of-sql-join-any-data-scientists-should-know-hands-on-practice-4a1d119c00ad#2022-08-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0947" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建表和运行所有四种SQL连接的完整指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d51219f927add9fc1d9b0f1d32bda9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DcaZOU4PJa2xP-a7"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡斯帕·卡米尔·鲁宾在<a class="ae ky" href="https://unsplash.com/photos/fPkvU7RDmCo" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="92bc" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">动机</h1><p id="5e61" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">关系数据库试图对现实生活中的实体及其关系进行建模。但是，作为一名数据从业者，在与这些数据库交互时，您将会处理不止一个表。与这些表的有效交互需要对联合语句有更好的理解，因为每个表给出不同的结果。</p><p id="86c7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文将首先帮助您理解每个<code class="fe ms mt mu mv b"><strong class="lt iu">JOIN</strong></code>条款，然后带您进行实际操作。在此之前，我们将从头开始创建相关的表。</p><h1 id="9384" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">输入数据</h1><p id="3095" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了更好地理解这个过程，我们需要下面两个表:<code class="fe ms mt mu mv b"><strong class="lt iu">StudentTable</strong></code>和<code class="fe ms mt mu mv b"><strong class="lt iu">TeachingAssistantTable.</strong></code>本节的目的是创建这些表，并用一些示例数据填充它们。</p><h2 id="dbf5" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated">创建表格</h2><p id="b76a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">创建一个表很简单，在我们的数据库中，两个表都是按如下方式创建的。这一部分对于理解本文的其余部分不是强制性的。</p><p id="2ef0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">→ <strong class="lt iu">学生桌</strong></p><ul class=""><li id="a1ea" class="ni nj it lt b lu mn lx mo ma nk me nl mi nm mm nn no np nq bi translated">每一行<code class="fe ms mt mu mv b"><strong class="lt iu">StudentTable</strong></code>将代表单个学生的信息。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建学生表的SQL脚本</p></figure><p id="9ab1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">→ <strong class="lt iu">助教表</strong></p><p id="8405" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe ms mt mu mv b"><strong class="lt iu">TeachingAssistantTable</strong></code>的每一行将代表一个教师的信息。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建教学助理表的SQL脚本</p></figure><h2 id="1557" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated">填充表格</h2><p id="3578" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在我们的表已经创建好了，我们最终可以使用INSERT INTO [table name] VALUES语句用新数据填充它们。</p><p id="9804" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">→ <strong class="lt iu">学生桌</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将数据上传到学生表的SQL脚本</p></figure><p id="ec86" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">→ <strong class="lt iu">助教表</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="d22a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面是这两个表的最终表示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/23e375211c67a1fe9997a6d649edb1e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8JMQJx5cJmbi1FjzeCXA5w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">学生(学生表格)和助教(助教表格)表格(图片由作者提供)</p></figure><h1 id="a722" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">我们为什么要连接表</h1><p id="b7e2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果您已经踏上了SQL之旅，您可能已经听说过联接，但是我们为什么要使用它们呢？<code class="fe ms mt mu mv b"><strong class="lt iu">JOIN</strong></code>语句是Oracle、Microsoft SQL、MySQL、PostgreSQL等关系数据库中的重要子句。它用于创建单个表，该表是两个或多个表的组合，基于这些表之间的一些逻辑关系。</p><h1 id="ea4c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">联接有哪些不同的类型？</h1><p id="2ac0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在您已经知道了它的用途，让我们来探索一下[X]类型的连接。</p><h2 id="1658" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated">1.内部连接</h2><p id="729c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们从这个简单的例子开始。我们想知道哪些学生也是老师。换句话说，学生表和教师表中匹配的行在哪里，这意味着它们的交集。我们可以看到我们的两个表都包含<strong class="lt iu"> Ibrahim </strong>、<strong class="lt iu"> Mamadou </strong>和<strong class="lt iu"> Fatim </strong>。</p><p id="ab72" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这就是<code class="fe ms mt mu mv b"><strong class="lt iu">INNER JOIN</strong></code>派上用场的地方。它只查看基于在<code class="fe ms mt mu mv b"><strong class="lt iu">ON</strong></code>子句中指定的列的两个表之间的交集。例如，下面的指令根据Email列获取所有相交的行。</p><pre class="kj kk kl km gt nv mv nw nx aw ny bi"><span id="5214" class="mw la it mv b gy nz oa l ob oc"><strong class="mv iu">SELECT</strong> * <br/><strong class="mv iu">FROM</strong> StudentTable st <br/><strong class="mv iu">JOIN</strong> TeachingAssistantTable tat <strong class="mv iu">ON</strong> st.Email = tat.Email;</span></pre><ul class=""><li id="0b24" class="ni nj it lt b lu mn lx mo ma nk me nl mi nm mm nn no np nq bi translated"><code class="fe ms mt mu mv b"><strong class="lt iu">SELECT</strong></code> <strong class="lt iu"> * </strong>表示从所有表中“获取所有列”。</li><li id="0ff4" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated"><code class="fe ms mt mu mv b"><strong class="lt iu">FROM </strong>StudentTable st</code>创建st作为StudentTable的别名，这意味着无论何时我们想要使用TeacherTable，都可以使用<code class="fe ms mt mu mv b">st</code>来代替。这同样适用于<code class="fe ms mt mu mv b">TeachingAssistantTable tat</code></li><li id="266c" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated"><code class="fe ms mt mu mv b"><strong class="lt iu">JOIN </strong>TeachingAssistantTable tat <strong class="lt iu">ON st.Email = tat.Email</strong></code>表示仅从两个表中获取具有相同电子邮件的行。</li></ul><p id="2f60" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是我们从前面的SQL命令中得到的图形结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/bb1694140aaf82a36b89dffb6f138224.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6cgUOBr3UEJV2Sh8D36srA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">应用于StudentTable和教学辅助表的内部连接(图片由作者提供)</p></figure><p id="b099" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">该连接不仅适用于电子邮件中的关键列，还适用于用户决定在<code class="fe ms mt mu mv b"><strong class="lt iu">ON</strong></code>子句中使用的任何列。例如，它可能是:<code class="fe ms mt mu mv b"><strong class="lt iu">ON st.Student = tat.Teacher</strong></code>，这将生成表<strong class="lt iu">，其中学生姓名等于教师姓名</strong>。</p><h2 id="c8a5" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated"><strong class="ak">2<em class="oj">2。左外连接</em> </strong> /左连接</h2><p id="7511" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这种类型的连接处理两种类型的表的连接:主表和辅助表。<strong class="lt iu">主表是等号左边</strong>的表。它是这样工作的:</p><ul class=""><li id="b95a" class="ni nj it lt b lu mn lx mo ma nk me nl mi nm mm nn no np nq bi translated">识别在条款的<strong class="lt iu">中指定的列。</strong></li><li id="f6dc" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated">从主表中取出所有行，没有任何区别。</li><li id="3b8e" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated">基于on子句中的列，二级表中与主表<strong class="lt iu">不匹配的所有行都被丢弃(替换为NULL)。</strong></li></ul><pre class="kj kk kl km gt nv mv nw nx aw ny bi"><span id="8faf" class="mw la it mv b gy nz oa l ob oc"><strong class="mv iu">SELECT</strong> * <br/><strong class="mv iu">FROM</strong> StudentTable st <strong class="mv iu">LEFT JOIN</strong> TeachingAssistantTable tat <br/><strong class="mv iu">ON</strong> st.Email = tat.Email;</span></pre><p id="6c0a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是我们从左连接得到的图形结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/9b79d5877908961a78f1971e89c79f0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*asxotr5xDaIsVAA0PPJi9Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">左连接应用于StudentTable和教学辅助表(图片由作者提供)</p></figure><h2 id="b00e" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated"><strong class="ak"> <em class="oj"> 3。</em>右外连接/</strong>右外连接</h2><p id="3553" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这个连接与上一个非常相似。唯一的区别是，它认为右边的表是主表，左边的表是次表。</p><pre class="kj kk kl km gt nv mv nw nx aw ny bi"><span id="8f53" class="mw la it mv b gy nz oa l ob oc"><strong class="mv iu">SELECT</strong> * <br/><strong class="mv iu">FROM</strong> StudentTable st <strong class="mv iu">RIGHT JOIN</strong> TeachingAssistantTable tat <br/><strong class="mv iu">ON</strong> st.Email = tat.Email;</span></pre><p id="5470" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这是我们从正确的连接中得到的图形结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/8ff45b9c869a89ed340bf3087b39a269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lx-vPXZWogX5MKUDlngYEA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">应用于学生表和教学辅助表的右连接(图片由作者提供)</p></figure><h2 id="8c9d" class="mw la it bd lb mx my dn lf mz na dp lj ma nb nc ll me nd ne ln mi nf ng lp nh bi translated"><strong class="ak"> <em class="oj"> 4。全外连接</em> </strong></h2><p id="3495" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">完全外连接是左连接和右连接的组合。在该语句中，没有丢弃两个表中任何一个表的行的余地，它们都被考虑在内。它的工作原理如下:</p><ul class=""><li id="9068" class="ni nj it lt b lu mn lx mo ma nk me nl mi nm mm nn no np nq bi translated">对原始表执行右外连接，并将结果视为临时表1。</li><li id="fbd5" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated">对原始表运行左外连接，并将结果视为临时表2。</li><li id="38c3" class="ni nj it lt b lu od lx oe ma of me og mi oh mm nn no np nq bi translated">连接临时表1和2作为最终结果。</li></ul><pre class="kj kk kl km gt nv mv nw nx aw ny bi"><span id="3c00" class="mw la it mv b gy nz oa l ob oc"><strong class="mv iu">SELECT</strong> * <br/><strong class="mv iu">FROM</strong> StudentTable st <strong class="mv iu">FULL OUTER JOIN</strong> TeachingAssistantTable tat <br/><strong class="mv iu">ON</strong> st.Email = tat.Email;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/ff65b9e3f16721f3b37e2976feee4e15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UCKJdb7Z_0CHlrHJUYv9mw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">应用于StudentTable和TeachingAssistantTable的完全外部连接(图片由作者提供)</p></figure><p id="2275" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">从前面所有的最终结果中，我们注意到我们选择了所有表中的所有列，这为诸如Email、Student和Teacher等列创建了重复的值。然而，我们可以在<code class="fe ms mt mu mv b"><strong class="lt iu">SELECT</strong></code>子句中指定我们希望在最终结果中出现的列。例如，以下指令返回学生姓名、电子邮件、性别、年龄和学位中的所有列。</p><pre class="kj kk kl km gt nv mv nw nx aw ny bi"><span id="a808" class="mw la it mv b gy nz oa l ob oc"><strong class="mv iu">SELECT</strong> st.Student, st.Gender, st.Email, st.Age, tat.Degree<br/><strong class="mv iu">FROM</strong> StudentTable st <strong class="mv iu">INNER</strong> <strong class="mv iu">JOIN</strong> TeachingAssistantTable tat <br/><strong class="mv iu">ON</strong> st.Email = tat.Email;</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/a1c5d7949e4904bbcfe31f305712830e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FrPY8vh_8JxCKDlfMvuwWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">内部联接应用于StudentTable和带列选择的教学辅助表(图片由作者提供)</p></figure><h1 id="cbb0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="2acc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">本文介绍了SQL中的四种主要连接情况。SQL的多功能性可以为您提供帮助企业分析数据和做出明智决策的技能。</p><p id="73bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你喜欢阅读我的故事，并希望支持我的写作，考虑<a class="ae ky" href="https://zoumanakeita.medium.com/membership" rel="noopener">成为一个媒体成员</a>解锁无限制访问媒体上的故事。</p><p id="c261" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在<a class="ae ky" href="https://zoumanakeita.medium.com/" rel="noopener"> Medium </a>、<a class="ae ky" href="https://twitter.com/zoumana_keita_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>和<a class="ae ky" href="https://www.youtube.com/channel/UC9xKdy8cz6ZuJU5FTNtM_pQ" rel="noopener ugc nofollow" target="_blank"> YouTube </a>上随意关注我，或者在<a class="ae ky" href="https://www.linkedin.com/in/zoumana-keita/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上问好。讨论人工智能、人工智能、数据科学、自然语言处理和人工智能是一种乐趣！</p></div></div>    
</body>
</html>