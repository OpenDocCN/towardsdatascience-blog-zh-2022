<html>
<head>
<title>The notebook-induced regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">笔记本引发的回归</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-notebook-induced-regression-fc46b0e7f1dd#2022-03-16">https://towardsdatascience.com/the-notebook-induced-regression-fc46b0e7f1dd#2022-03-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="4a26" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">意见</h2><div class=""/><div class=""><h2 id="f1d0" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">笔记本的大量采用如何对数据科学中的代码质量产生负面影响</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/e4ecbebe2f0d36460d1a07d7e5c3cd35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nOcUhBLyGxaaDSLtmXUmgQ.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">洛伦佐·埃雷拉在<a class="ae le" href="https://unsplash.com/s/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="2e9f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">每个数据科学家都熟悉<strong class="lh ja">笔记本</strong>的定义:一个用于以交互方式编写和运行计算机程序的网络界面。笔记本可以连接到几个被称为<strong class="lh ja">内核</strong>的计算后端:它们提供了运行诸如<em class="mb"> Python </em>、<em class="mb"> R </em>、<em class="mb"> Julia </em>等许多其他语言所需的 API。</p><blockquote class="mc md me"><p id="93d2" class="lf lg mb lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">如今，笔记本电脑在很大程度上被社区所使用，特别是用于技术科学计算，如数据处理、机器学习和人工智能/深度学习任务。</p></blockquote></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="fde8" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">笔记本有很多优点</h2><p id="aa79" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">笔记本为用户提供了一个完全交互式的环境，用户可以在其中写笔记和文档(即使有 Latex 支持)，编写和运行特定部分的代码(即<strong class="lh ja">笔记本单元</strong>)，并以数字或图形形式显示结果(如数据帧和图表)。因此，笔记本电脑丰富了基于控制台的方法，提供了身临其境的基于网络的编码体验。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c4c6947fa976bc725e19b2e87a260c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/1*ep8b95wzPpvMFnO0M5YsBQ.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">JupyterLab 会话中的运行单元格-作者图片</p></figure><p id="88de" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">事实上，我认为笔记本在很多方面都是一个很好的工具。它们允许<strong class="lh ja">快速开发和测试</strong>代码。它们也非常适合教学和演示。</p><p id="1a75" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我碰巧参加的任何基于代码的课程都是基于笔记本的。每当我教授包含代码的课程时，我也会使用笔记本，以便在课堂上演示和讨论例子和练习。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/5afaa4e6a68d5904465464ef03212173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xtl-SaETk-QupRtN9BkcNQ.jpeg"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">马修·奥斯本在<a class="ae le" href="https://unsplash.com/s/photos/presentation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="68e1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后但并非最不重要的是，笔记本可以无缝地用来创建漂亮的演示文稿，因为它们允许显示代码和开发过程中遵循的工作流程所获得的结果(并且根据 T2 文化编程的概念)。为此，笔记本可以导出并保存为<strong class="lh ja"> PDF、Latex 或 HTML 文档</strong>。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="c7bc" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">相同的概念，许多产品</h2><p id="50d5" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">鉴于这一工具的广泛流行，在过去几年中已经开发了许多不同的笔记本电脑解决方案。一些最著名的包括<em class="mb"> Jupyter </em>、<em class="mb"> Amazon SageMaker </em>(作为 AWS 工具的一部分)和<em class="mb"> Google Colab </em>，但是还有许多其他的存在。你可以在这个网站上找到一个相当详尽的概述<a class="ae le" href="https://datasciencenotebook.org/" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nn"><img src="../Images/5f48b67c5219452a5042a941888f0bd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jkJWoDgcbuE9oIhS8e_GqA.png"/></div></div><p class="la lb gj gh gi lc ld bd b be z dk translated">Jupyter 徽标，来自<a class="ae le" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter 主页</a>——根据记名使用规则允许复制</p></figure><p id="94c4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从历史上看，<a class="ae le" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter </a>是 2014 年作为<a class="ae le" href="https://ipython.org/" rel="noopener ugc nofollow" target="_blank"> IPython </a>项目的副产品开发的第一款笔记本电脑。它是基于 Python 的完全免费的产品。它可以通过<em class="mb"> pip </em>轻松安装，笔记本网络服务可以在本地运行(例如，在用于访问笔记本的同一台机器上)或通过网络运行。最近还推出了<strong class="lh ja"> JupyterLab </strong>，它带有更高级的界面和附加功能。</p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="d3b1" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">又快又脏？</h2><p id="a852" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">现在我们来看痛苦的音符。出于同样的原因，笔记本能够快速编写代码，笔记本用户的方法通常都是由良好的编程实践激发的。</p><p id="edde" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">以我的经验来看，主要是 Python，笔记本经常被糟糕的代码组织所困扰。例如，包的导入，在任何代码的开始都应该是<em class="mb">总是</em>的，被沿着单元传播，因为它们只是被插入到需要它们的地方。</p><p id="1dab" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因为笔记本并不鼓励创建像类和函数这样的结构，所以大部分代码都是由脚本和代码片段来表示的，但是当有类和函数时，它们也会沿着单元格分布，这符合已经提到的“我在需要时放置它”的原则。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi no"><img src="../Images/49db4a4cdf0ab964745df98d8656f782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*E5RqdWs_5uhyRbX9Yakw3w.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">互联网上常见笔记本电脑的典型结构—作者图片</p></figure></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="4831" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">对笔记本进行版本控制是有问题的</h2><p id="969e" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">笔记本的另一个相关问题是代码版本。基本上，笔记本是 JSON 文件，表示单元格的输入(即代码或文本)、输出(即计算结果)和格式化元数据。当涉及到用<strong class="lh ja">版本控制系统</strong>组织笔记本的代码时，处理拉取请求和代码审查变成了一项复杂而令人沮丧的任务。</p><p id="9ec4" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">忘记清除输出使得比较一个文件的不同版本变得非常不切实际。但是即使没有输出，逐行比较仍然需要很大的耐心，因为我们必须处理格式化元数据带来的大量样板文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi np"><img src="../Images/9465b310821030f782fa12f52ac2665c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*btKG4Ai4XdlK_jOJ1U7Euw.png"/></div><p class="la lb gj gh gi lc ld bd b be z dk translated">祝代码审查好运！—作者图片</p></figure></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="e7af" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">协作也有问题</h2><p id="93a2" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">版本问题的直接后果是，开发人员之间的有效协作变得很难完成。我必须承认，有几次<strong class="lh ja">我发现自己通过电子邮件发送和接收笔记本</strong>，因为，尽管这是一种可悲的做法，但它仍然比试图使用 git 更方便。</p><p id="993b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">有了这种(不好的)做法，同事之间交换困惑的问题是很常见的。</p><blockquote class="mc md me"><p id="096b" class="lf lg mb lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">脚本的最新版本是什么？我可以用你一小时前寄给我的这个吗？你知道我昨天对这个函数的修改在哪里吗？</p></blockquote><p id="d737" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">最后，难怪你会发现自己重复做同样的工作两次，也许是因为在这个“协作过程”中出了问题。毕竟，<strong class="lh ja"> VCS 正是为了避免这些恼人的情况而被创造出来的。</strong></p></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="346d" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">原型与生产</h2><p id="89ce" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">许多数据科学家没有强大的 IT 背景，因此笔记本对他们来说是一个方便的工具。只需很少的努力，他们就可以处理数据，建立复杂的计算管道，开发尖端技术。从这个意义上来说，今天的笔记本电脑与多年前的<strong class="lh ja"> Matlab </strong>非常相似(尽管程度较轻，但仍然如此):一个为工程师、研究人员和科学家设计的<strong class="lh ja">易用 IDE </strong>。</p><p id="246e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然而，虽然像 Matlab 这样的工具很自然地在原型和生产级代码之间带来了清晰的界限，但是像 Python 这样的语言使得这一界限更加模糊。Python 生态系统足够灵活，可以容纳原型和生产系统。数据科学代码通常被设计为处于这些领域的中间，因为通常:</p><ul class=""><li id="db8a" class="nq nr iq lh b li lj ll lm lo ns ls nt lw nu ma nv nw nx ny bi translated">它托管在公司服务器上，<em class="mb">但</em></li><li id="7e06" class="nq nr iq lh b li nz ll oa lo ob ls oc lw od ma nv nw nx ny bi translated">它的执行是用户触发的，<em class="mb">然而</em></li><li id="d7e7" class="nq nr iq lh b li nz ll oa lo ob ls oc lw od ma nv nw nx ny bi translated">它通常以一定的周期运行，<em class="mb">和</em></li><li id="3c23" class="nq nr iq lh b li nz ll oa lo ob ls oc lw od ma nv nw nx ny bi translated">有时，它必须在很短的时间内频繁运行(例如，由于项目的截止日期)。</li></ul></div><div class="ab cl mi mj hu mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="ij ik il im in"><h2 id="0771" class="mp mq iq bd mr ms mt dn mu mv mw dp mx lo my mz na ls nb nc nd lw ne nf ng iw bi translated">底线</h2><p id="61e8" class="pw-post-body-paragraph lf lg iq lh b li nh ka lk ll ni kd ln lo nj lq lr ls nk lu lv lw nl ly lz ma ij bi translated">长话短说，笔记本是快速代码开发和测试的伟大工具。他们对于<strong class="lh ja">教学、</strong>以及<strong class="lh ja">展示和讨论用例</strong>也非常有用。</p><blockquote class="mc md me"><p id="d10c" class="lf lg mb lh b li lj ka lk ll lm kd ln mf lp lq lr mg lt lu lv mh lx ly lz ma ij bi translated">然而，在这些情况之外，特别是当目标是开发一个<strong class="lh ja">高质量的协作代码</strong>，<strong class="lh ja">笔记本应该尽可能少地使用</strong><strong class="lh ja"/>。</p></blockquote><p id="a55c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">当它们存在时，在代码经过测试和验证之后，它们应该根据所用语言的<strong class="lh ja">最佳实践</strong>进行翻译和重新安排。</p></div></div>    
</body>
</html>