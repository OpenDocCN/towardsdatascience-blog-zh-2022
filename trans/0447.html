<html>
<head>
<title>pur — the easiest way to keep your requirements file up to date</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pur——保持您的需求文件最新的最简单的方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pur-the-easiest-way-to-keep-your-requirements-file-up-to-date-22d835279348#2022-02-17">https://towardsdatascience.com/pur-the-easiest-way-to-keep-your-requirements-file-up-to-date-22d835279348#2022-02-17</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/e1674cb3736f34a1818aac137b81c530.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AEW-e1lz3Ss9-I1pDdAqRA.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">米哈伊尔·瓦西里耶夫在<a class="ae ji" href="https://unsplash.com/s/photos/cat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class=""/><div class=""><h2 id="e801" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">用一行代码更新您的<code class="fe la lb lc ld b">requirements.txt</code>中的所有库</h2></div><p id="0cdd" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">我不认为我需要让你相信保持你的 Python 库(或者事实上其他软件)最新的好处:随着时间的推移，错误被修复，潜在的安全漏洞被修补，兼容性问题可能出现，等等。这样的例子不胜枚举。</p><p id="6555" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">在 Python 项目中，我们经常使用一个<code class="fe la lb lc ld b">requirements.txt</code>文件作为在我们的 Python 环境中应该使用哪些库(以及它们的哪个版本)的信息来源。当我们想要更新库的时候，我们经常在我们的环境中更新它们，然后相应地修改需求文件。</p><p id="a3b5" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">但是，有一个更简单的方法。我最近发现了一个小的 Python 库，它对于保持一个干净的<code class="fe la lb lc ld b">requirements.txt</code>文件和加速更新过程非常有帮助，尤其是对于有大量依赖项的项目。</p><figure class="mb mc md me gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi ma"><img src="../Images/f5047ab799d40c5f3249417969a84287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VQpQafv07g28CSIztqHdsg.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">照片由<a class="ae ji" href="https://unsplash.com/@tranmautritam?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Tran Mau Tri Tam </a>在<a class="ae ji" href="https://unsplash.com/s/photos/kitten?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="96f1" class="mf mg jl bd mh mi mj mk ml mm mn mo mp kr mq ks mr ku ms kv mt kx mu ky mv mw bi translated"><code class="fe la lb lc ld b">pur</code>在行动</h1><p id="7c72" class="pw-post-body-paragraph le lf jl lg b lh mx km lj lk my kp lm ln mz lp lq lr na lt lu lv nb lx ly lz io bi translated"><code class="fe la lb lc ld b">pur</code>代表<em class="nc"> pip 更新需求</em>，是一个小的 Python 库，可以用一个命令更新需求文件。它的基本用法非常简单，我们将用一个例子来说明它。</p><p id="9e4a" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">首先，我们需要安装<code class="fe la lb lc ld b">pur</code>:</p><pre class="mb mc md me gt nd ld ne nf aw ng bi"><span id="0b2a" class="nh mg jl ld b gy ni nj l nk nl">pip install pur</span></pre><p id="9f9e" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">让我们假设我们在一个虚拟环境中，我们有项目的<code class="fe la lb lc ld b">requirements.txt</code>文件，它包含以下内容:</p><pre class="mb mc md me gt nd ld ne nf aw ng bi"><span id="7f01" class="nh mg jl ld b gy ni nj l nk nl">pandas==1.2.4<br/>yfinance==0.1.63</span></pre><p id="d26d" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">这是一个非常简单的例子，但它符合我们的目的。此外，我们知道这两个库都过时了。在这种情况下，我们可以通过在终端中运行以下命令来使用<code class="fe la lb lc ld b">pur</code>库:</p><pre class="mb mc md me gt nd ld ne nf aw ng bi"><span id="479b" class="nh mg jl ld b gy ni nj l nk nl">pur -r requirements.txt</span></pre><p id="b383" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">它用文件中列出的库的最新版本修改了<code class="fe la lb lc ld b">requirements.txt</code>。执行此操作时，它会打印以下内容:</p><pre class="mb mc md me gt nd ld ne nf aw ng bi"><span id="8576" class="nh mg jl ld b gy ni nj l nk nl">Updated pandas: 1.2.4 -&gt; 1.4.1<br/>Updated yfinance: 0.1.63 -&gt; 0.1.70<br/>All requirements up-to-date</span></pre><p id="eae8" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">在这一点上，强调一个关键的事情是很重要的:库从不修改环境本身，也就是说，它既不安装也不更新任何库。它只做一件事——更新需求文件。话虽如此，现在我们实际上需要安装库的更新，例如，通过运行以下命令:</p><pre class="mb mc md me gt nd ld ne nf aw ng bi"><span id="f363" class="nh mg jl ld b gy ni nj l nk nl">pip install -r requirements.txt</span></pre><p id="fb01" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">它安装了最新版本的库——<code class="fe la lb lc ld b">yfinance</code>的 0.1.70 和<code class="fe la lb lc ld b">pandas</code>的 1.4.1。此时，如果依赖项的版本发生冲突，安装将会失败。</p><p id="4568" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated"><code class="fe la lb lc ld b">pur</code>还提供了额外的选项，例如，迭代地询问需求文件中每个库的更新。在我们知道一些库实际上需要被固定到某些版本的情况下，这可能是有用的，否则事情将会崩溃。</p><h1 id="a28e" class="mf mg jl bd mh mi mj mk ml mm mn mo mp kr mq ks mr ku ms kv mt kx mu ky mv mw bi translated">外卖食品</h1><ul class=""><li id="c002" class="nm nn jl lg b lh mx lk my ln no lr np lv nq lz nr ns nt nu bi translated"><code class="fe la lb lc ld b">pur</code>是一个方便的轻量级库，它负责用库的最新版本更新<code class="fe la lb lc ld b">requirements.txt</code>文件，</li><li id="d9ba" class="nm nn jl lg b lh nv lk nw ln nx lr ny lv nz lz nr ns nt nu bi translated">库从不安装/更新库，它只修改需求文件，</li><li id="ee1e" class="nm nn jl lg b lh nv lk nw ln nx lr ny lv nz lz nr ns nt nu bi translated">当一些版本需要保持固定以使我们的代码正常工作时，应该谨慎使用这个库。</li></ul><p id="4a0e" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">此外，欢迎任何建设性的反馈。你可以在推特<a class="ae ji" href="https://twitter.com/erykml1?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">或评论中联系我。</a></p><p id="126d" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">喜欢这篇文章吗？成为一个媒介成员，通过无限制的阅读继续学习。如果你使用<a class="ae ji" href="https://eryk-lewinson.medium.com/membership" rel="noopener">这个链接</a>成为会员，你将支持我，不需要你额外付费。提前感谢，再见！</p><p id="ce90" class="pw-post-body-paragraph le lf jl lg b lh li km lj lk ll kp lm ln lo lp lq lr ls lt lu lv lw lx ly lz io bi translated">您可能还会对以下内容感兴趣:</p><div class="iu iv gp gr iw oa"><a href="https://eryk-lewinson.medium.com/my-2021-medium-recap-650326b2832a" rel="noopener follow" target="_blank"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jm gy z fp of fr fs og fu fw jk bi translated">我的 2021 年中期回顾</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">2021 年的简要回顾和 2022 年的计划</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">eryk-lewinson.medium.com</p></div></div><div class="oj l"><div class="ok l ol om on oj oo jc oa"/></div></div></a></div><div class="iu iv gp gr iw oa"><a rel="noopener follow" target="_blank" href="/a-step-by-step-guide-to-calculating-autocorrelation-and-partial-autocorrelation-8c4342b784e8"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jm gy z fp of fr fs og fu fw jk bi translated">计算自相关和偏自相关的分步指南</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">如何在 Python 中从头开始计算 ACF 和 PACF 值</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="op l ol om on oj oo jc oa"/></div></div></a></div><div class="iu iv gp gr iw oa"><a rel="noopener follow" target="_blank" href="/5-free-tools-that-increase-my-productivity-c0fafbbbdd42"><div class="ob ab fo"><div class="oc ab od cl cj oe"><h2 class="bd jm gy z fp of fr fs og fu fw jk bi translated">5 个提高我工作效率的免费工具</h2><div class="oh l"><h3 class="bd b gy z fp of fr fs og fu fw dk translated">这不是一个好的 IDE，尽管它很有帮助！</h3></div><div class="oi l"><p class="bd b dl z fp of fr fs og fu fw dk translated">towardsdatascience.com</p></div></div><div class="oj l"><div class="oq l ol om on oj oo jc oa"/></div></div></a></div><h1 id="2138" class="mf mg jl bd mh mi mj mk ml mm mn mo mp kr mq ks mr ku ms kv mt kx mu ky mv mw bi translated">参考</h1><ul class=""><li id="ca33" class="nm nn jl lg b lh mx lk my ln no lr np lv nq lz nr ns nt nu bi translated"><a class="ae ji" href="https://github.com/alanhamlett/pip-update-requirements" rel="noopener ugc nofollow" target="_blank">https://github.com/alanhamlett/pip-update-requirements</a></li></ul></div></div>    
</body>
</html>