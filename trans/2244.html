<html>
<head>
<title>A Guide to Model Selection For Survival Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">生存分析模型选择指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-guide-to-model-selection-for-survival-analysis-2500b211c733#2022-05-18">https://towardsdatascience.com/a-guide-to-model-selection-for-survival-analysis-2500b211c733#2022-05-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9ff8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何检查和评估事件时间数据的模型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/adc561ccedc37945a2a18c6828b18668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AcPFBsk_7I565flm"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@m_____me?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> m. </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="0cbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为感兴趣的事件时间数据选择合适的模型是生存分析中的重要步骤。</p><p id="7985" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，由于生存分析可用的模型数量庞大，很容易被所有可用的信息淹没。</p><p id="44aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然仔细研究每一种建模方法可能很有诱惑力，但让自己沉浸在统计术语中只会妨碍找到最佳模型的努力。</p><p id="13ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们探讨了生存分析中的一些流行模型，然后讨论了在确定感兴趣的事件时间数据的最佳模型时应该考虑的因素。</p><h2 id="e311" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">关键术语</h2><p id="65ce" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在介绍任何模型之前，熟悉一些在生存分析中感兴趣的指标是很重要的。</p><ol class=""><li id="ad5e" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated"><strong class="lb iu">生存功能</strong></li></ol><p id="d05b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生存函数由S(t)表示，其中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/de9cb80ef82cfe9fa177e4317db21a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/1*i_M0z2SZyR2Tp-UUeu8TKA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生存功能(由作者创建)</p></figure><p id="f59f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它显示了受试者存活(即未经历该事件)超过时间t的概率。这是一个非递增函数。</p><p id="c6da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。危险功能</strong></p><p id="d69d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">风险函数，也称为风险率，用h(t)表示，其中</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/c3e1b107acc13e921221b81a35ff6879.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/1*eRX2buawJcrC9QyvZnUNTg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">危险函数(由作者创建)</p></figure><p id="8b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它显示了事件在时间t发生的<em class="ne">瞬时</em>概率，假设该事件尚未发生。危险函数可以从生存函数中导出，反之亦然。</p><p id="9621" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3。累积危险函数</strong></p><p id="2ab4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">累积风险函数是一个非递减函数，它显示在时间t发生的事件的总累积风险。在数学术语中，它是风险函数下的面积。</p><p id="fcd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4。危险比率</strong></p><p id="5d2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">危险比是两组之间危险率的比率。这是对协变量如何影响研究中受试者生存期的量化测量。</p><h2 id="cd6e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">选择正确的模型</h2><p id="eaa3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">有许多模型可以用于生存分析。</p><p id="d71f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，每种型号在以下方面都是独一无二的:</p><ul class=""><li id="5898" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu nf mz na nb bi translated">他们做出的假设</li><li id="1140" class="mt mu it lb b lc ng lf nh li ni lm nj lq nk lu nf mz na nb bi translated">他们提供的信息</li></ul><p id="c574" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，选择正确的模型可以归结为确定一个模型，该模型做出适合事件发生时间数据的假设，并使用户能够通过后续分析获得所需的信息。</p><h2 id="8d1f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">生存分析中的流行模型</h2><p id="7e9f" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在可用于分析事件发生时间数据的众多模型中，有4个模型最为突出:Kaplan Meier模型、指数模型、Weibull模型和Cox比例风险模型。</p><p id="d07f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的演示中，将使用Python的<a class="ae ky" href="https://lifelines.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">生命线</a>模块探索每种建模方法。这些模型将用于检查内置数据集中的事件发生时间数据。</p><p id="0d30" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是数据集的预览:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/197c0204470f6fb26c715744b37f7d10.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*WIb5A0kxqt0jwqqQwSyouQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="4576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe no np nq nr b">week</code>栏显示存活持续时间，而<code class="fe no np nq nr b">arrest</code>栏显示事件(即停搏)是否已经发生。</p><h2 id="3dbc" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated"><strong class="ak"> 1 -卡普兰迈耶模型</strong></h2><p id="c132" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">Kaplan-Meier模型可以说是生存分析中最著名的模型。</p><p id="6352" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它被归类为<em class="ne">非参数</em>模型，这意味着它不假设数据的分布。它只利用<em class="ne">提供的</em>信息生成一个生存函数。</p><p id="db0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Kaplan Meier模型使用以下公式计算生存函数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/39c26b9e8b91fe33dbee80ca6516d8c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:360/1*bp-FZyIs1WlqYgQMWn9Obw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生存功能(由作者创建)</p></figure><p id="d567" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是根据事件发生时间数据构建的卡普兰·迈耶曲线:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/f6194c9c062f4db3487eebe775d2dcb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*lcxZhvU_E2d2TzvfIUMKAQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="fa1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不同组的生存函数可以用<em class="ne">对数秩检验</em>进行比较，这是一种非参数假设检验。</p><p id="59da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个例子，我们可以使用<code class="fe no np nq nr b">logrank_test</code>方法比较有和没有经济援助的受试者的生存功能，以查看经济援助是否影响生存持续时间。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/e867d8bd9d26d8e64339680b55a681df.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*1Tbyvxp07TMQk70_cORmFw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="b2a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">卡普兰迈耶模型的好处是直观，易于解释。由于它很少做潜在的假设，这个模型经常被用作生存分析的基线。</p><p id="eeab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，由于模型的最小复杂性，很难从中得出有意义的见解。它不能用于比较不同组之间的风险，也不能用于计算风险比等指标。</p><h2 id="7eb3" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">双指数模型</h2><p id="f307" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">指数模型是生存分析中另一个流行的模型。与Kaplan Meier模型不同，它是一个<em class="ne">参数</em>模型，这意味着它假设数据符合特定的分布。</p><p id="7be7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指数模型的生存函数由以下公式导出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/01d3a5f6864089690d179754b1223bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:296/1*2ntIkKasAy0brpQVQn5G-w.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生存功能(由作者创建)</p></figure><p id="ef04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指数模型的风险率由以下公式得出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/71bec23d695c43fae9b1a5a1805b0e11.png" data-original-src="https://miro.medium.com/v2/resize:fit:160/1*IrMPAxcARRv3jXtg396ibg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">危险函数(由作者创建)</p></figure><p id="dcfe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指数模型假设风险率为常数。换句话说，在整个观察期内，相关事件发生的风险保持不变。</p><p id="a9ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是根据指数模型绘制的生存曲线:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="7b6c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了确定危险度量，可以计算该分布中的λ值:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/0c49f76311cb1e8c13f65aeaeb1e52fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*utSsk6fzi798txmhHy_hOw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="b9b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户还可以直接获得具有生命线程序包中提供的属性的风险度量，该程序包在数据框中报告风险率和累积风险函数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/5f9367fe1e2853fb1b7fd5c7f8b6e61b.png" data-original-src="https://miro.medium.com/v2/resize:fit:696/format:webp/1*khzm0mgUwbWjt35k4B_FMQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="9ea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于输出，危险率保持不变，这符合指数模型的性质。</p><p id="b1e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，指数模型提供了生存函数和风险函数的大量信息。此外，它还可以用来比较不同群体的风险率。</p><p id="0185" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，它强烈假设风险率在任何给定时间都是恒定的，这可能不适合感兴趣的事件发生时间数据。</p><h2 id="c7aa" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">3 -威布尔模型</h2><p id="91ea" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">另一个可以考虑的参数模型是威布尔模型。</p><p id="382f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">威布尔模型中的存活率由以下公式确定:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/23a96fe507e1ff52851b321703ab4db9.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/1*xF_27mSbJgJzIvMId4doAQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生存功能(由作者创建)</p></figure><p id="ea1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">威布尔模型中的危险率由以下公式确定:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/355353eb35c8609c8113861f7c48a061.png" data-original-src="https://miro.medium.com/v2/resize:fit:282/1*dcSj1tJC1TEzo_xsdSNHIA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">危险率(由作者创建)</p></figure><p id="d68b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">威布尔模型中的数据分布由两个参数决定:λ和ρ。</p><p id="8ace" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">λ参数表示63.2%的受试者经历该事件所需的时间。</p><p id="cd76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">ρ参数表示危险率是增加、减少还是保持不变。如果ρ大于1，则危险率不断增加。如果ρ小于1，则危险率不断降低。</p><p id="6920" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">换句话说，威布尔模型假设危险率的变化是线性的。危险率可以总是增加，总是减少，或者保持不变。但是，危险率不能波动。</p><p id="cd2b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是根据威布尔模型绘制的生存曲线:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/b2a8c971302f92ac4850b12d2ed1d36c.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*qBQ3y90LXrsew6rZGCmZpw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="69e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生命线程序包可用于获取λ和ρ参数:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/78ffc2caa7a52ea2e75a44e4bab16231.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*3AbSuYysJP7GXiAmRmKybg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="3555" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于ρ值大于1，所以该模型中的危险率总是增加的。</p><p id="0d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以通过推导风险率和累积风险函数来证实这一点。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/a53c546a0fffa3f2c72fc7e74b40e7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*GluS6V3NDxiohp3JkN5M6Q.png"/></div></figure><p id="2269" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与指数模型相似，威布尔模型能够计算生存分析中的许多相关指标。</p><p id="1996" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，其结果是基于一个强有力的假设，即风险率随时间呈线性变化，这可能不适合所讨论的事件时间数据。</p><h2 id="40ec" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">4 - Cox比例风险模型</h2><p id="3051" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">虽然指数模型和威布尔模型可以评估协变量，但它们只能单独检查每个协变量。</p><p id="877f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果目标是进行生存分析，一次检查多个变量的事件发生时间数据，Cox比例风险模型(也称为Cox模型)可能是更好的选择。</p><p id="7dfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Cox模型实现了生存回归，这是一种针对生存期回归协变量的技术，以深入了解协变量如何影响生存期。</p><p id="7e93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该模型被归类为<em class="ne">半参数</em>，因为它结合了参数和非参数元素。</p><p id="21e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它基于以下危险率公式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/15eb6db0495b1dcc968471dd10c2a086.png" data-original-src="https://miro.medium.com/v2/resize:fit:570/1*4SGNAMBXdnPEtAOW1ekK3A.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">危险率公式(由作者创建)</p></figure><p id="b659" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与风险率遵循固定模式的参数模型相反，Cox模型允许风险率波动。</p><p id="19e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，该模型依赖于比例风险假设。它假设各组之间的危险比保持不变。换句话说，无论受试者的风险率在观察期间如何变化，一组相对于另一组的风险率将始终保持不变。</p><p id="0edb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">生命线模块允许用户可视化基线生存曲线，该曲线说明了当所有协变量都设置为中值时的生存函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/8ed98e08563b1231f281b63f9847e176.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/1*yMHKkKob1XoApmO-xoEf7A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="986e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，Cox模型可以用生存回归来量化协变量和受试者生存持续时间之间的关系强度。生命线模块中的<code class="fe no np nq nr b">summary</code>方法显示了回归的结果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/0cf5f9889df7d0177419827d86eff6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZNyBMOu5WmXa7YrI_s76Ow.png"/></div></div></figure><p id="2ea5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出提供了很多信息，但是最深刻的见解可以从<code class="fe no np nq nr b">exp(coef)</code>列和<code class="fe no np nq nr b">p</code>列(p值)中获得。</p><p id="0030" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">p值表示哪些协变量对生存期有显著影响。基于这些结果，<code class="fe no np nq nr b">fin</code>、<code class="fe no np nq nr b">age</code>和<code class="fe no np nq nr b">prio</code>协变量是决定生存期的统计显著预测因子，因为它们的系数的p值很小。</p><p id="c435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，每个协变量的风险比相当于e的协变量系数(eᶜᵒᵉᶠ)的幂，这已经在<code class="fe no np nq nr b">exp(coef)</code>栏中提供。</p><p id="4d43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，代表财政援助的<code class="fe no np nq nr b">fin</code>协变量的eᶜᵒᵉᶠ值是0.68。</p><p id="9466" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从数学上讲，这可以解释如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/deddd98381775f235774b897fe6bf360.png" data-original-src="https://miro.medium.com/v2/resize:fit:298/1*eoA8KVirQvN8NuFjep4CEQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">鳍的危险比率(由作者创建)</p></figure><p id="2768" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着获得经济援助会使风险率降低0.68倍(即降低32%)。</p><p id="0915" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，只有当Cox模型的比例风险假设符合事件发生时间数据时，它才适用。为了证明模型的使用，可以使用<code class="fe no np nq nr b">check_assumptions</code>方法来测试这个假设。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><h2 id="96ca" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">如何挑选合适的型号</h2><p id="00b0" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">当然，除了这四个模型之外，还有许多其他模型值得考虑，例如对数逻辑模型和加速故障时间模型(AFT)。因此，您可能会发现自己有太多的型号可供选择。</p><p id="e9b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了简化对最佳模型的搜索，请考虑以下因素:</p><ol class=""><li id="ac8a" class="mt mu it lb b lc ld lf lg li mv lm mw lq mx lu my mz na nb bi translated"><strong class="lb iu">目标</strong></li></ol><p id="5b16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该决定的第一件事是你想从你的生存分析中获得什么信息。有了明确的目标，就更容易找到理想的模式。</p><p id="3c89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。领域知识</strong></p><p id="5ccc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可能有多个模型可用于导出所讨论的事件时间数据的期望指标。在这种情况下，利用主题的领域知识可以帮助过滤掉不合适的模型。</p><p id="94ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果你正在进行一项生存分析来研究机器故障，你应该考虑到机器容易磨损的事实。由于磨损，机器故障的风险会随着时间的推移而增加。在这种情况下，假设风险率始终不变的指数模型是不合适的，应该不予考虑。</p><p id="bb73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3。模型性能</strong></p><p id="942c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您发现有多个模型有助于实现研究的目标，并且符合主题的领域知识，您可以通过使用评估指标来衡量模型的性能，从而确定理想的模型。</p><p id="320a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个合适的度量标准是赤池信息标准(AIC)，它是对模型预测误差的估计。较低的AIC分数对应于较好的模型。</p><p id="8578" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，如果我们在指数模型和威布尔模型之间进行选择来分析事件发生时间数据，我们可以通过计算这两个模型的AIC分数来确定更优的模型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/b5b05be9d2e6612cdeb7faed20026f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*l7jWtb-MIGbAbnNZG49IKQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="279d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于AIC度量，威布尔模型更适合于分析事件时间数据。</p><h2 id="017f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b41ccafbd36e51162b6d337bf2f9e0fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GubsovhnMQDqGuzl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ky" href="https://unsplash.com/@prateekkatyal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Prateek Katyal </a>拍摄的照片</p></figure><p id="b91c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总而言之，每一个模型在它所做的假设和提供的信息方面都是独一无二的。</p><p id="b906" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您了解感兴趣的事件时间数据的性质，并且知道您希望从生存分析中获得什么，那么找到理想的模型应该是一项相对简单的任务。</p><p id="2b98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您熟悉生存分析的方法，但想知道为什么它能在时间-事件数据上胜过其他类型的分析，请查看下面的文章:</p><div class="oi oj gp gr ok ol"><a rel="noopener follow" target="_blank" href="/survival-analysis-a-brief-introduction-bdba3a275b5f"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd iu gy z fp oq fr fs or fu fw is bi translated">生存分析:简介</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">最适合检查事件时间数据的方法初探</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">towardsdatascience.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ks ol"/></div></div></a></div><p id="1217" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我祝你在数据科学的努力中好运！</p></div></div>    
</body>
</html>