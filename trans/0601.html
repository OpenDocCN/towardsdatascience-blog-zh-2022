<html>
<head>
<title>Rfviz V2: An Interactive Visualization Package for Interpreting Random Forests in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Rfviz V2:一个交互式可视化软件包，用于解释 R</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/rfviz-part-2-5dfa5964c638#2022-02-23">https://towardsdatascience.com/rfviz-part-2-5dfa5964c638#2022-02-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="767d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从随机森林的创造者的原始工作来看，R</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e2a06c1e95d6aba481d403d6ee33d60f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LiepZXcLfBWddUj7kC2BVg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片通过<a class="ae kv" href="https://unsplash.com/@whale" rel="noopener ugc nofollow" target="_blank">马修·史密斯</a>上的<a class="ae kv" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="5aab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">去年九月我写了<a class="ae kv" rel="noopener" target="_blank" href="/rfviz-an-interactive-visualization-package-for-random-forests-in-r-8fb71709c8bf">这篇文章</a>。它引入了 Rfviz:一个用于解释 R 中的<a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm" rel="noopener ugc nofollow" target="_blank">随机森林</a>的交互式可视化包。它是 Leo Breiman 和 Adele Cutler 的基于 Java 的<a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm#cluster" rel="noopener ugc nofollow" target="_blank">原始可视化包</a>到 R 的翻译(Breiman 和 Cutler，2004)。这个包的后端是使用 R 包<a class="ae kv" href="https://github.com/cran/loon" rel="noopener ugc nofollow" target="_blank"> loon </a>和为探索性可视化设计的可扩展交互式数据可视化系统构建的。(奥尔德福德和沃德尔，2018 年)。</p><p id="8fb5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此 R 包中使用的三个图之一，<a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm#prox" rel="noopener ugc nofollow" target="_blank">经典度量多维标度近似度</a>二维散点图已更新为三维。本文将尝试展示三维散点图的新功能。</p><p id="e2f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此升级的主要功能是可视化随机森林模型如何在树中对数据进行分组。</p><p id="be7d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里将展示的技术可以应用于一系列问题，如无监督聚类和聚类识别。</p><p id="6794" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数据</strong></p><p id="57fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本指南中，我们将使用<a class="ae kv" href="https://archive.ics.uci.edu/ml/datasets/iris" rel="noopener ugc nofollow" target="_blank">虹膜数据集</a>和<a class="ae kv" href="https://www.kaggle.com/aungpyaeap/fish-market" rel="noopener ugc nofollow" target="_blank">鱼市场数据集</a>。这两者都是多类分类数据集。</p><p id="0a68" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Iris 数据集在<a class="ae kv" href="https://creativecommons.org/licenses/by/4.0/legalcode" rel="noopener ugc nofollow" target="_blank">知识共享署名 4.0 国际</a> (CC BY 4.0)许可下获得许可。这允许为任何目的共享和改编数据集，只要给予适当的信用。鱼市场数据集是免费的，在 GPL2 许可下发布。</p><p id="3a55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Iris 数据集在 R 内自动可用，而 Fish 数据集可在这里下载<a class="ae kv" href="https://www.kaggle.com/aungpyaeap/fish-market" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6fed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">虹膜数据</strong></p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="8ede" class="lx ly iq lt b gy lz ma l mb mc">library(rfviz)<br/>library(tidyverse)<br/>head(iris)<br/>unique(iris$Species)</span></pre><p id="25a9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Iris 数据集有 3 种花以及关于萼片和花瓣测量的相应特征。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi md"><img src="../Images/d955f898b87d5b0212d134457a909e0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r0GDiEHpraHmh_nnZ47HMw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi me"><img src="../Images/1531b425992216cb90cbfd8c4f88d34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*Lr5dzxiMvSuf2jjgb2DHiA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="cf60" class="lx ly iq lt b gy lz ma l mb mc">Fish &lt;- read_csv('Fish.csv')<br/>head(Fish)<br/>unique(Fish$Species)</span></pre><p id="63bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">鱼数据集有 7 种鱼，以及相应的重量、长度、高度和宽度测量值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/46d4b62b34d6f2a0f627d45370623400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d3zCN2PkN6nHxIuQbDnsKw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mg"><img src="../Images/84ba655ec8e61cf4e991dae9621fa186.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z86JFz3cWiSYMsWxjq1ssQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="b41a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这些数据集，让我们使用随机森林在 R 中进行无监督的聚类，并使用 Rfviz 将其可视化。</p><p id="8550" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">随机森林</strong> </a> <strong class="ky ir"> </strong> <a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_home.htm#prox" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">邻近性</strong> </a> <strong class="ky ir"> +PCA </strong></p><p id="a724" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">流程如下:</p><ol class=""><li id="1087" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">建造 n 个随机的森林树木。</li><li id="45a6" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">构建树后，将所有数据(包括训练数据和 oob 数据)沿树向下传递，并记录两个观察值在所有树的同一个终端节点中结束的次数。</li><li id="7d93" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">将两个观察结果出现在同一终端节点的次数除以树的总数。这是这两个观察值之间的接近分数。</li><li id="6b01" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">对所有观测值对重复此操作，以获得邻近矩阵。</li><li id="cc90" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">对邻近矩阵应用主成分分析，并取前 3 个主成分。</li></ol><p id="074e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">R 中的 Rfviz 包完成这些步骤，然后在可视化工具中绘制数据。</p><p id="b6e0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">虹膜数据示例</strong></p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="d1a8" class="lx ly iq lt b gy lz ma l mb mc">set.seed(123)<br/>#Run unsupervised Random Forests and calculate the proximity matrix<br/>rfprep &lt;- rf_prep(x=iris[,1:4], y=NULL)<br/>#Plot the data in the visualization tool<br/>myrfplots &lt;- rf_viz(rfprep, input=TRUE, imp=FALSE, cmd=TRUE)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/fab662fe787659d447a9fcd3dab2b3df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cpNSWF2JtxhblEKysE9eoQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e51e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个可视化工具实例由一个 Loon Inspector 工具和两个绘图组成。Rfviz 中还有第三个图，即重要性分数图，但它在这里不用于无监督的随机森林。</p><ol class=""><li id="1e69" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated"><strong class="ky ir"> Loon Inspector 工具:</strong>一个帮助与数据交互的实用工具。</li><li id="df4d" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated"><strong class="ky ir">输入数据图:</strong>一个<strong class="ky ir"> </strong>输入数据的平行坐标图。</li><li id="5f90" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated"><strong class="ky ir">度量多维标度邻近图:</strong>邻近矩阵的前 3 个主要分量的图。</li></ol><p id="1bc6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，按照以下步骤操作:</p><ol class=""><li id="b0cb" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">单击度量多维标度邻近度图。</li><li id="588c" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">按键盘上的“r”进入旋转模式。一个带有“旋转模式”的小文本框将出现在图的顶部。</li><li id="ca48" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">单击并拖动鼠标以改变图中的位置。</li><li id="92eb" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">再次按“r”退出旋转模式。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/9301478d240256eef0a00e0f0fd10d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CfHPG3EjoM-jnwAOw8EVXg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="70e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.通过单击并拖动鼠标，选择接近度图顶部的数据分组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/5d1a21de9a90c30fd7570ec37fd5668f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pjzbn07scZ3BdCbO4fQnJA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="6bcb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">7.回到休息状态，运行:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="f4bc" class="lx ly iq lt b gy lz ma l mb mc">group1 &lt;- iris[myplots$cmd['selected'],]<br/>head(group1)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/7b6a3a4e8859821dfc08214129ace347.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IhiyLuyf1Pn7tqcwJSlXg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="7ebc" class="lx ly iq lt b gy lz ma l mb mc">summary(iris[myplots$cmd['selected'],]) <br/>#or<br/>summary(group1)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/da41f97e7c95d98a18caf05f18b90b4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*klwqRpcwhpxKo6C0Q0LCXw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="65c3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在事先不知道它是什么物种的情况下，随机森林将 Setosa 物种分组在一起。</p><p id="5245" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">8.选中该分组后，单击“修改”部分下的蓝色。</p><p id="a41d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">9.再次旋转绘图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/c6debe39be4f7a8709990302c36590d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LsQtEK8SlerYBmMcB5Hw3w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="f6ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">10.选择另一个分组。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/2d2fdaaad00deb1d2e31ece2a0c30af5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*flnpyVCezLgd5SUQnvjjPg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7be2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">11.查看 R 内选定的数据:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="ff43" class="lx ly iq lt b gy lz ma l mb mc">group2 &lt;- iris[myplots$cmd['selected'],]<br/>summary(group2)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/96129ffb472cb49a279ab5a58f6eeb77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abuiVj5joq41AKGbiB1seA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="11d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以第二组主要是海滨种类。</p><p id="299e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">12.重新着色并选择最后一部分数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/f0f39c4a0c99986608ee461ca08cd2dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8Heh_PMNhi6x0-akuqcX_g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="6a2b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:要将图形恢复到原始位置，请单击“移动”部分下检查器工具中最右边的按钮。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/a175bb0c5e386ab94fa704452850257d.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*u2G4l1Xkp7h_zPCy3zE-xQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/885907c632af4327d781c3be7c11d6e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q1sEQgsAY9QqfxrA8rPnuw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0825" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">13.查看 R 内选定的数据:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="7340" class="lx ly iq lt b gy lz ma l mb mc">group3 &lt;- iris[myplots$cmd['selected'],]<br/>summary(group3)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/19a43cab837bfc9f6d5330f2adf56d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JvjHivNnPWhKv8FLL-FHQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="40f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一组数据主要是杂色的。</p><p id="f2d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后我们可以比较这三个分组。查看组 1、2 和 3 的汇总，我们可以看到在输入数据图中直观看到的数据值的确切差异。</p><p id="5959" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第一组:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/0f65f37d75ce889995575ceb6bbe5796.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rkb7w4rXEuMUtpMEjJhN7g.png"/></div></div></figure><p id="c262" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第二组:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/96129ffb472cb49a279ab5a58f6eeb77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abuiVj5joq41AKGbiB1seA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="718b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第三组:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/19a43cab837bfc9f6d5330f2adf56d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3JvjHivNnPWhKv8FLL-FHQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="72f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4 个组别的独特之处:</p><p id="9b0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第 1 组:</strong>刚毛种，花瓣值较低。长度，花瓣。宽度和萼片。长度和萼片宽度的较高值</p><p id="7ee3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第 2 组:</strong>多为海滨锦鸡儿属植物，花瓣价值较高。长度，花瓣。宽度和萼片长度</p><p id="251b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">第 3 组:</strong>多数为杂色种，萼片值较低。萼片的宽度和中值。长度，花瓣。长度和花瓣宽度</p><p id="9c51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">虹膜示例结论</strong></p><p id="6c9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据无监督随机森林模型对数据进行分组的方式，我们可以直观地识别 Iris 数据集中的三个分组。这些分组最终大多是不同种类的花。在大多数随机森林模型中，我们可以期待相同类型的结果。同样，我们能够在输入数据图上直观地看到三个分组之间的差异。然后我们研究了 r 中这些差异的精确值。</p><p id="9010" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，并非每个案例都如此简单。让我们试试鱼的数据集，它有 7 种不同的鱼。</p><p id="c95e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">鱼类数据示例</strong></p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="f7e0" class="lx ly iq lt b gy lz ma l mb mc">set.seed(123)<br/>#Calculate Proximity Matrix and prepare for visualization<br/>rfprep &lt;- rf_prep(x=Fish %&gt;% select(-Species), y=NULL)<br/>myrfplots &lt;- rf_viz(rfprep, input=TRUE, imp=FALSE, cmd=TRUE)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/52e7cc7bb9a59f0548babd05dfb7a29b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VhvV8LKfknMUEj8cxk5N7g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="3110" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">旋转邻近图，我们可以看到它看起来像一个螺旋。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/6353cbd2b344505850ea738cac7e034f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qiiDz9mOijBZpI1gDXjC7Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7e43" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们从哪里开始？让我们在输入数据图上挑选一些明显的分组。</p><ol class=""><li id="b5ed" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">拖动并选择输入数据图上高度数据的较高值</li><li id="6ef0" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">将数据重新涂成绿色。</li><li id="bc6f" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">通过单击 Loon Inspector 的“按颜色”部分下的绿色方块再次选择数据。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mz"><img src="../Images/bc43617d9c2a7a4135811847aaba0529.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iClotse_pVrwtvSsg8gAsg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="5d36" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到，在一些额外的旋转之后，在邻近度图上，数据是如何与其他数据分开分组的。</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="e190" class="lx ly iq lt b gy lz ma l mb mc">group1 &lt;- Fish[myplots$cmd['selected'],]<br/>summary(Fish[myplots$cmd['selected'],])</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/6b6490bf3ffb441ff59543eec37fa5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6tuRUBqsDyfNZ-RhIyHIwQ.png"/></div></div></figure><p id="415c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所选的鱼都是单一品种，鳊鱼。</p><p id="5714" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">4.在 Loon Inspector 的“修改”部分点击“停用”。这将暂时忽略图中的数据。在任何时候，您都可以点击“重新激活”,数据将再次出现在图上。</p><p id="0ace" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">5.选择输入数据图上左侧“宽度”的较高值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/43ed89db3a11760a531c38b17749a878.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WnlKswwTjUfj6CruFxElmg.png"/></div></div></figure><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="8ec8" class="lx ly iq lt b gy lz ma l mb mc">group2 &lt;- Fish[myplots$cmd['selected'],]<br/>summary(group2)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/865fe02cffe8d1389ccc934eda53cb98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eVWF1bVHuaU8fpjy5L3J9g.png"/></div></div></figure><p id="e9f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">鱼数据结论</strong></p><p id="e3bb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过使用输入数据图选择数据，我们能够识别另一种鱼类。我们不会去分离和查看所有的数据。那将由你自己去尝试。但是，我们可以看到，我们可以很快地从视觉上识别鱼的种类。</p><p id="a806" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">总体结论</strong></p><p id="4d54" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过使用 Rfviz 和无监督随机森林，我们可以直观地查看数据和随机森林模型的输出，以识别数据中的重要分组。</p><p id="3068" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样的方法可以应用于各种问题，例如:</p><ol class=""><li id="1516" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">根据分组方式直观地确定最佳聚类数。这可以与其他标准的无监督聚类方法一起使用。</li></ol><p id="58d9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">2.通过识别客户群来创建用于营销目的的人物角色。</p><p id="f995" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">3.快速识别数据集中数据的类或组之间的关键差异。</p><p id="2d93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">总体结论</strong></p><p id="8d66" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总的来说，我希望你能看到这个工具在可视化随机森林方面的价值。幸运的是，利奥·布雷曼和阿黛尔·卡特勒参与了创造随机森林的工作，因为这是一个我们都喜欢的无价模型。感谢你的阅读！</p><p id="bb0a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你有兴趣的话，这里的<a class="ae kv" rel="noopener" target="_blank" href="/using-local-importance-scores-from-random-forests-to-help-explain-why-mlb-players-make-the-hall-of-aa1d42649db2">是这个 R 包的另一个用例。</a></p><p id="0e94" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">参考文献:</strong></p><p id="8436" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">布雷曼，2001 年。“随机森林。”<em class="ng">机器学习</em>。<a class="ae kv" href="http://www.springerlink.com/index/u0p06167n6173512.pdf" rel="noopener ugc nofollow" target="_blank">http://www.springerlink.com/index/u0p06167n6173512.pdf</a></p><p id="8ee5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">布雷曼，我，和一个卡特勒。2004.<em class="ng">随机森林</em>。<a class="ae kv" href="https://www.stat.berkeley.edu/~breiman/RandomForests/cc_graphics.htm" rel="noopener ugc nofollow" target="_blank">https://www . stat . Berkeley . edu/~ brei man/random forests/cc _ graphics . htm</a>。</p><p id="28a4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">C Beckett，<em class="ng">Rfviz:R 中随机森林的交互式可视化包</em>，2018，<a class="ae kv" href="https://chrisbeckett8.github.io/Rfviz." rel="noopener ugc nofollow" target="_blank">https://chriskuchar.github.io/Rfviz.</a></p><p id="3fe8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">费希尔河..(1988).艾瑞斯。UCI 机器学习知识库。</p><p id="c2bf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">奥尔德福德和沃德尔出版社(2018 年)。Cran/Loon:这是 cran R 软件包仓库的只读镜像。loon——交互式统计数据可视化。首页:<a class="ae kv" href="http://Https://great-northern-diver.github.io/loon/" rel="noopener ugc nofollow" target="_blank"><em class="ng"/></a><em class="ng">报告此包的 bug:</em><a class="ae kv" href="http://Https://github.com/great-northern-diver/loon/issues." rel="noopener ugc nofollow" target="_blank"><em class="ng">Https://github.com/great-northern-diver/loon/issues</em>。</a> GitHub。检索于 2022 年 2 月 23 日，来自<a class="ae kv" href="https://github.com/cran/loon" rel="noopener ugc nofollow" target="_blank">https://github.com/cran/loon</a></p><p id="cea0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pyae，A. (2019 年 6 月 13 日)。<em class="ng">鱼市场</em>。卡格尔。检索于 2022 年 2 月 21 日，来自<a class="ae kv" href="https://www.kaggle.com/aungpyaeap/fish-market" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/aungpyaeap/fish-market</a></p></div></div>    
</body>
</html>