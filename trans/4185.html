<html>
<head>
<title>Python Loops: A Complete Guide On How To Iterate in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python循环:如何在Python中迭代的完整指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-loops-a-complete-guide-on-how-to-iterate-in-python-b29e0d12211d#2022-09-16">https://towardsdatascience.com/python-loops-a-complete-guide-on-how-to-iterate-in-python-b29e0d12211d#2022-09-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0e79" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用Python中循环的力量</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9ccaffc64dd03d8ac156d1b25782a6fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2cKX4PqiXxlCaiZm445ULA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@cdd20?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">愚木混株 cdd20</a> on <a class="ae ky" href="https://unsplash.com/s/photos/loop?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></p></figure><p id="24d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">几个月前，我给T2写了一篇关于Python中的循环和语句的文章。这篇文章是为了让你理解循环和语句。</p><p id="c2f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，在本文中，我想通过一些练习更深入地讨论使用循环的一些不同的可能性。</p><h1 id="91cd" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">1.列表理解</h1><p id="79bd" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我想给你看的第一件事是列表理解，以及为什么和什么时候使用它。首先，我建议你阅读我的<a class="ae ky" rel="noopener" target="_blank" href="/loops-and-statements-in-python-a-deep-understanding-with-examples-2099fc6e37d7">上一篇关于循环和语句的文章</a>，因为你需要深入理解这些主题。</p><p id="92eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们想要基于列表中已经存在的值创建新的列表时，我们使用列表理解。举个例子吧。</p><p id="d0e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们有一个包含10个数字的列表:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="ee10" class="ng mf it nc b gy nh ni l nj nk">#creating alist of 10 numbers<br/>a = list(range(10))</span></pre><p id="e7ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望两个创建两个新列表:</p><ul class=""><li id="4c45" class="nl nm it lb b lc ld lf lg li nn lm no lq np lu nq nr ns nt bi translated">值小于3的一个</li><li id="af76" class="nl nm it lb b lc nu lf nv li nw lm nx lq ny lu nq nr ns nt bi translated">另一个值大于3</li></ul><p id="bd08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于传统的方法，我们必须编写一个for循环，它遍历列表“a ”,并将小于3的值附加到一个新列表中，将大于3的值附加到另一个新列表中；下面的代码可以做到这一点:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="b31e" class="ng mf it nc b gy nh ni l nj nk">#creating a list of 10 numbers<br/>a = list(range(10))</span><span id="487c" class="ng mf it nc b gy nz ni l nj nk">#creating two new and empty new lists<br/>y_1, y_2 = [], []</span><span id="edb7" class="ng mf it nc b gy nz ni l nj nk">#creating the cycle<br/>for y in a:<br/>    if y&gt;3:<br/>        y_1.append(y)<br/>    else:<br/>        y_2.append(y)</span><span id="85d5" class="ng mf it nc b gy nz ni l nj nk">#printing the new lists        <br/>print(y_1)<br/>print(y_2)</span><span id="2b76" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="af0a" class="ng mf it nc b gy nz ni l nj nk">  [4, 5, 6, 7, 8, 9]<br/>  [0, 1, 2, 3]</span></pre><p id="6f4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用列表理解方法，我们可以简单地在一行代码中声明一个新列表；就这样:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="e674" class="ng mf it nc b gy nh ni l nj nk">#creating a list of 10 numbers<br/>a = list(range(10))</span><span id="a0cc" class="ng mf it nc b gy nz ni l nj nk">#creating a new list with a condition<br/>c = [x for x in a if x&gt;3]</span><span id="f825" class="ng mf it nc b gy nz ni l nj nk">#creating another new list with a condition<br/>d = [x for x in a if x&lt;=3]</span><span id="8739" class="ng mf it nc b gy nz ni l nj nk">#printing the new lists<br/>print(c)<br/>print(d)</span><span id="88be" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;<br/> <br/>  [4, 5, 6, 7, 8, 9]<br/>  [0, 1, 2, 3]</span></pre><p id="a320" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我相信这个例子很好地展示了当我们想要基于现有的列表创建新的列表时，使用列表理解是多么容易。现在，想一个你可能有两个以上条件的情况；例如，您可能想要基于现有的列表创建5个列表…您可以真正了解使用列表理解比使用带有“if”、“elif”、“else”的经典for循环节省了多少时间和代码。</p><p id="8700" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">抱歉，现在我意识到我还没有引入‘elif’结构。让我们快速看一下:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="0701" class="ng mf it nc b gy nh ni l nj nk">#creating a list in a range<br/>a = list(range(30))</span><span id="8fa4" class="ng mf it nc b gy nz ni l nj nk">#creating 3 empty lists<br/>y_1, y_2, y_3 = [], [], []</span><span id="66c2" class="ng mf it nc b gy nz ni l nj nk">#creating the cycle<br/>for y in a:<br/>    if y&gt;=0 and y&lt;10:<br/>        y_1.append(y)<br/>    elif y&gt;=10 and y&lt;20:<br/>         y_2.append(y)<br/>    else:<br/>        y_3.append(y)</span><span id="9519" class="ng mf it nc b gy nz ni l nj nk">#printing the lists        <br/>print(y_1)<br/>print(y_2)<br/>print(y_3)</span><span id="aa6d" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="85e1" class="ng mf it nc b gy nz ni l nj nk">  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]<br/>  [10, 11, 12, 13, 14, 15, 16, 17, 18, 19]<br/>  [20, 21, 22, 23, 24, 25, 26, 27, 28, 29]</span></pre><p id="318a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此,“elif”构造允许我们在第一个“if”构造之后获取数据。</p><h1 id="0632" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">2.对于字典中的循环</h1><p id="8faf" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">字典是一个非常有用的“数据容器”，因为每个元素都有一个“键”和一个“值”。例如，假设我们想要存储一些房屋的价格。我们可以创建一个这样的字典:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="6127" class="ng mf it nc b gy nh ni l nj nk">#my dictionary<br/>house_prices = {'house_1':100000, 'house_2':250000, 'house_3':125000}</span></pre><p id="de90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里,“key”是字符串部分,“value”是数字。例如，在这些情况下，我们可以遍历键或值。例如，假设我们想打印所有的值，我们可以这样做:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="4166" class="ng mf it nc b gy nh ni l nj nk">#accessing ant printing the values<br/>for values in house_prices.values():<br/>    print(values)</span><span id="3398" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="b2fb" class="ng mf it nc b gy nz ni l nj nk">  100000<br/>  250000<br/>  125000</span></pre><p id="c38e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，在字典中,“值”甚至可以是字符串。比如，假设我们要存储一些人的名字和姓氏；然后，我们希望将姓名保存在一个列表中并打印该列表:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="0869" class="ng mf it nc b gy nh ni l nj nk">#creating the dictionary<br/>people = {'Jhon':'Doe', 'Mick':'Brown', 'James':'White'}</span><span id="7430" class="ng mf it nc b gy nz ni l nj nk">#creaitng an empty list<br/>my_list = []</span><span id="f283" class="ng mf it nc b gy nz ni l nj nk">#accessing the values and appending to the list<br/>for keys in people:<br/>    my_list.append(keys)<br/>    </span><span id="209f" class="ng mf it nc b gy nz ni l nj nk">#printing the list<br/>print(f'people names are:{my_list}')</span><span id="d7d1" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;<br/>  people names are:['Jhon', 'Mick', 'James']</span></pre><p id="c981" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你能猜到如何简化这个符号吗？哦，太好了！使用列表理解！</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="d80c" class="ng mf it nc b gy nh ni l nj nk">names = [name for name in people]</span><span id="5c40" class="ng mf it nc b gy nz ni l nj nk">print(names)</span><span id="4997" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="e882" class="ng mf it nc b gy nz ni l nj nk">  ['Jhon', 'Mick', 'James']</span></pre><p id="137d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，字典的值也是如此:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="46d9" class="ng mf it nc b gy nh ni l nj nk">surnames = [surname for surname in people.values()]</span><span id="2a0e" class="ng mf it nc b gy nz ni l nj nk">print(surnames)</span><span id="6e03" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="033c" class="ng mf it nc b gy nz ni l nj nk">  ['Doe', 'Brown', 'White']</span></pre><p id="4f0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，有了字典，我们可以创造许多美丽的记录。假设我们已经记录了一些房屋的数据，并且我们知道房屋的坐标、范围、价格以及它是否有一些土地。我们可以将所有这些数据存储在字典中，并根据它们创建一个列表，如下所示:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="f5f3" class="ng mf it nc b gy nh ni l nj nk">#creating an empty list<br/>estates = []</span><span id="fc79" class="ng mf it nc b gy nz ni l nj nk">#storing the house data and appending to the list<br/>e1 = {'coordinates':[12.3456, -56.7890], 'extension':2000,  'has_land':False, 'price':10}</span><span id="ff8a" class="ng mf it nc b gy nz ni l nj nk">estates += [e1] #appending to the list</span><span id="630e" class="ng mf it nc b gy nz ni l nj nk">#storing the house data and appending to the list<br/>e2 = {'coordinates':[-8.9101,  60.1234], 'extension':12000, 'has_land':False, 'price':125}</span><span id="39d2" class="ng mf it nc b gy nz ni l nj nk">estates += [e2] #appending to the list</span><span id="6c44" class="ng mf it nc b gy nz ni l nj nk">#storing the house data and appending to the list<br/>e3 = {'coordinates':[45.6789,  10.3456], 'extension':100,   'has_land':True,  'price':350}</span><span id="3898" class="ng mf it nc b gy nz ni l nj nk">estates += [e3] #appending to the list</span></pre><p id="5f5e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，在我们将字典添加到“estates”列表后，我们可以遍历它并打印如下信息:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="c0ea" class="ng mf it nc b gy nh ni l nj nk">for i, e in enumerate(estates):<br/>    print(f'\nHouse #:{i}')<br/>    print(f"Coordinates: {e['coordinates']}")<br/>    print(f"Extension (mq): {e['extension']}")<br/>    print(f"Has land?:{'Yes' if e['has_land']==True else 'No'}")<br/>    print(f"Price: {e['price']}K $")</span><span id="c1e2" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;&gt;</span><span id="6e07" class="ng mf it nc b gy nz ni l nj nk">  House #:0<br/>  Coordinates: [12.3456, -56.789]<br/>  Extension (mq): 2000<br/>  Has land?:No<br/>  Price: 10K $<br/><br/>  House #:1<br/>  Coordinates: [-8.9101, 60.1234]<br/>  Extension (mq): 12000<br/>  Has land?:No<br/>  Price: 125K $<br/><br/>  House #:2<br/>  Coordinates: [45.6789, 10.3456]<br/>  Extension (mq): 100<br/>  Has land?:Yes<br/>  Price: 350K $</span></pre><p id="20d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，你不能写<code class="fe oa ob oc nc b">print(f'Coordinates:{e['coordinates']}')</code>，否则会产生一个<code class="fe oa ob oc nc b">f-string:unmatched '['</code>错误。这是因为，在这种情况下，我在“f”后面和“坐标”中都使用了一个“”。如果像上面的代码一样在“f”后面使用双“，”就不会有任何问题(请参考<a class="ae ky" href="https://stackoverflow.com/questions/67540413/f-string-unmatched-in-line-with-function-call" rel="noopener ugc nofollow" target="_blank">关于栈溢出的讨论</a>)。</p><h1 id="0c68" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">3.while循环</h1><p id="06b3" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我发现虽然周期很容易理解，但可能很难看到它们的真正用途。</p><p id="50a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顾名思义，当某个特定的条件被满足时，一个while循环起作用。一个典型的例子是这样的:</p><blockquote class="od oe of"><p id="0bf0" class="kz la og lb b lc ld ju le lf lg jx lh oh lj lk ll oi ln lo lp oj lr ls lt lu im bi translated">打印<code class="fe oa ob oc nc b">i</code>只要<code class="fe oa ob oc nc b">i</code>小于6</p></blockquote><p id="2388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用下面的代码来做这件事:</p><pre class="kj kk kl km gt nb nc nd ne aw nf bi"><span id="01d1" class="ng mf it nc b gy nh ni l nj nk">i = 1<br/>while i &lt; 6:<br/>    print(i)<br/>    i += 1</span><span id="9fd1" class="ng mf it nc b gy nz ni l nj nk">&gt;&gt;</span><span id="c462" class="ng mf it nc b gy nz ni l nj nk"> 1<br/> 2<br/> 3<br/> 4<br/> 5<br/> 6</span></pre><p id="942f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我认为这个例子可能有点令人困惑，因为我们将“I”设置为等于1，所以人们可以说:“嗯，而“i &lt;6” is obvious since we set i=6; so, what’s the point?”</p><p id="14a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">While loops are very useful when we have a condition that dynamically changes, for example over time, and I believe that it can be better understood with a practical example.</p><p id="c106" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Consider for example the website “<a class="ae ky" href="https://www.worldometers.info/" rel="noopener ugc nofollow" target="_blank"> worldometers </a>”。这个网站实时收集世界统计数据。</p><p id="a55b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们假设你想得到世界人口的数据；所以你写一个机器人来获取这些数据。分析家说，世界人口很快将达到80亿；所以，你的bot可以有一个<code class="fe oa ob oc nc b">while</code>周期，门槛80亿；虽然世界人口比这个门槛要少，但我们可以越过它；当人口达到80亿时，我们可以<code class="fe oa ob oc nc b">print(f'we are 8 billions in the world!!')</code></p><h1 id="42f4" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">结论</h1><p id="7bc9" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我希望我给了你一个很好的指导，让你在不同的情况下深刻理解循环。现在是你做一些循环练习和迷你项目的时候了！</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="d861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">剧透提示</strong>:如果你是一个新手或者你想学习数据科学，并且你喜欢这篇文章，那么考虑一下在接下来的几个月里<strong class="lb iu">我将开始辅导像你一样有抱负的数据科学家</strong>。我会在接下来的几周告诉你我什么时候开始辅导，如果你想预订座位……<a class="ae ky" href="https://federicotrotta.medium.com/subscribe" rel="noopener"><em class="og">订阅我的邮件列表</em> </a> <em class="og">:我会通过它和在接下来的文章中传达我辅导之旅的开始。</em></p><p id="95a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑成为会员:你可以免费支持我和其他像我一样的作家。点击 <a class="ae ky" href="https://federicotrotta.medium.com/membership" rel="noopener"> <em class="og">这里</em> </a> <em class="og">成为会员。</em></p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><p id="c67f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="og">我们一起连线吧！</em></p><p id="6c42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://federicotrotta.medium.com/" rel="noopener"> <em class="og">中等</em> </a></p><p id="7870" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.linkedin.com/in/federico-trotta/" rel="noopener ugc nofollow" target="_blank"><em class="og">LINKEDIN</em></a><em class="og">(给我发送连接请求)</em></p><p id="d076" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://twitter.com/F_Trotta90" rel="noopener ugc nofollow" target="_blank">推特</a></p></div></div>    
</body>
</html>