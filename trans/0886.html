<html>
<head>
<title>DASH101 — Part 2: Prettify Dash dashboard with CSS and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DASH101 —第 2 部分:用 CSS 和 Python 美化 DASH 仪表板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dash101-part-2-prettify-dash-dashboard-with-css-and-python-3866c069a3b6#2022-03-10">https://towardsdatascience.com/dash101-part-2-prettify-dash-dashboard-with-css-and-python-3866c069a3b6#2022-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e972" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据可视化</h2><div class=""/><div class=""><h2 id="88f6" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">学习用 Python 设计漂亮的仪表盘</h2></div><p id="26cf" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">级联样式表，通常称为 CSS，用于格式化和样式化网页。Dash 应用程序完全可以用 CSS 定制，因为 dashboard 是一个 web 应用程序。在这篇文章中，我们将学习熟悉 CSS 的基本知识，以及如何使用它来设计 Dash dashboard。此外，我们将简要地看一下用 Python 定制 Plotly 图形。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/477b97ca1c8757c2b5d080fc3340e661.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Q2AjhsM6El3HBXX"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">照片由<a class="ae md" href="https://unsplash.com/@dancristianp?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹-克里斯蒂安·pădureț</a>在<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="68a6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在<a class="ae md" rel="noopener" target="_blank" href="/dash101-part-1-introduction-to-dash-layout-810ec449ad43">上一篇</a>中，我们完成了布局的结构。在这篇文章中，我们将继续上一篇文章的内容，并设计出最终的布局。</p><p id="e938" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">📌<em class="me">请注意，本文中显示的代码不是独立的。参考前一篇文章的代码片段是这篇文章的先决条件。为了避免重复，这些片段被省略了。</em></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="81a1" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">🔤造型基础</h1><p id="0d15" class="pw-post-body-paragraph kr ks it kt b ku ne kd kw kx nf kg kz la ng lc ld le nh lg lh li ni lk ll lm im bi translated">现在让我们学习造型的基础知识。我们将从布局中选取更新按钮作为示例，并将其样式化为如下所示:</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/4e736513eef611ad188e9fb4d20d4122.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*SOWbR7eeCyvu3v0N2_Sb3w.png"/></div></figure><p id="2bbd" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果我们将样式表(即<code class="fe nk nl nm nn b">.css</code>文件)保存在与<code class="fe nk nl nm nn b">app.py</code>相同目录下的一个名为<code class="fe nk nl nm nn b">assets</code>的文件夹中，Dash (v0.22 及以上版本)会自动获取它们。我们将把 CSS 代码保存在一个名为<code class="fe nk nl nm nn b">style.css</code>的样式表中，这是样式表的一个常见命名约定。该目录将如下所示:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="92e9" class="ns mn it nn b gy nt nu l nv nw">titanic_dashboard<br/>│   app.py<br/>└───assets<br/>│   │   left_pane.png<br/>│   │   style.css</span></pre><p id="956f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在，简单介绍一下 CSS。下面是 CSS 语法的基本结构:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="6e7c" class="ns mn it nn b gy nt nu l nv nw">selector {<br/>  property: value;<br/>  property: value;<br/>}</span></pre><p id="396a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">选择器决定选择哪个组件进行样式设计。我们将使用三种类型的选择器:<br/> ◼ ️ <strong class="kt jd">类型选择器</strong>由 HTML 标签的名称给出，例如<code class="fe nk nl nm nn b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" rel="noopener ugc nofollow" target="_blank">button</a></code>。它适用于该类型的所有 HTML 组件。如果我们希望所有按钮的样式一致，使用类型选择器会很有帮助。<br/> ◼ <strong class="kt jd">类选择器</strong>由以<code class="fe nk nl nm nn b">.</code>为前缀的类的名称给出，例如<code class="fe nk nl nm nn b">.dropdown</code>。在 Dash 中，您可以使用名为<code class="fe nk nl nm nn b">className</code>的参数为任何组件指定类名。这允许我们有选择地将特定的组件组合在一起，以便我们可以一起设计它们的样式。<br/> ◼ <strong class="kt jd"> Id 选择器</strong>由 Id 名称加上前缀<code class="fe nk nl nm nn b">#</code>给出，例如<code class="fe nk nl nm nn b">#update-button</code>。使用 Dash 时，可以使用<code class="fe nk nl nm nn b">id</code>参数指定组件的 id 名称。与<code class="fe nk nl nm nn b">className</code>不同，<code class="fe nk nl nm nn b">id</code>在整个应用程序的所有组件中必须是唯一的。</p><p id="4798" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><code class="fe nk nl nm nn b">{}</code>中的语法称为声明块，它定义了我们想要的样式。如果你想学习更多关于 CSS 的知识，<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Syntax" rel="noopener ugc nofollow" target="_blank">这个</a>和<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors" rel="noopener ugc nofollow" target="_blank">这个</a>对初学者来说是很棒的额外资源。</p><p id="2b60" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们把我们刚刚学到的东西付诸实践，并设计按钮。通过在<code class="fe nk nl nm nn b">style.css</code>中包含下面的代码，button 将得到它的 after look。</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="1bd3" class="ns mn it nn b gy nt nu l nv nw">button {<br/>  width: 240px;<br/>  height: 40px;<br/>  cursor: pointer;<br/>  border: 0px;<br/>  border-radius: 5px;<br/>  background-color: black;<br/>  color: white;<br/>  text-transform: uppercase;<br/>  font-size: 15px<br/>}</span></pre><p id="7545" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里，我们使用了类型选择器。让我们来分解一下代码:<br/> ◼ <code class="fe nk nl nm nn b">width</code>和<code class="fe nk nl nm nn b">height</code>调整按钮的大小<br/> ◼ <code class="fe nk nl nm nn b">cursor: pointer;</code>当光标悬停在<br/>上时将光标变为指针◼ <code class="fe nk nl nm nn b">border: 0px;</code>移除边框线<br/> ◼ <code class="fe nk nl nm nn b">border-radius: 5px;</code>圆角<br/> ◼ <code class="fe nk nl nm nn b">background-color</code>和<code class="fe nk nl nm nn b">color</code>改变背景和文本颜色<br/> ◼ <code class="fe nk nl nm nn b">text-transform</code>将文本转换为大写<br/> ◼ <code class="fe nk nl nm nn b">font-size</code>增加文本的字体大小</p><p id="3ede" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">由于按钮有<code class="fe nk nl nm nn b">id</code>，如果我们想:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="4c8c" class="ns mn it nn b gy nt nu l nv nw">#update-button {<br/>  width: 240px;<br/>  height: 40px;<br/>  cursor: pointer;<br/>  border: 0px;<br/>  border-radius: 5px;<br/>  background-color: black;<br/>  color: white;<br/>  text-transform: uppercase;<br/>  font-size: 15px<br/>}</span></pre><p id="d91e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">除了使用单独的样式表，CSS 样式也可以通过 Python 脚本中的<code class="fe nk nl nm nn b">style</code>属性进行内联。当在 Python 中以内联方式指定 CSS 语法时，每个属性和值都需要用引号括起来，并在字典中提供。下面是我们的代码如何适应这种格式:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="3b57" class="ns mn it nn b gy nt nu l nv nw">html.Button(id='update-button', children="Update", <br/>            style={'width': '240px', 'height': '40px', <br/>                   'cursor': 'pointer', 'border': '0px', <br/>                   'border-radius': '5px', 'background-color': <br/>                   'black', 'color': 'white', 'text-transform': <br/>                   'uppercase', 'font-size': '15px'})</span></pre><p id="5195" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">将字典键转换为 camel case 也是可行的:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="818a" class="ns mn it nn b gy nt nu l nv nw">html.Button(id='update-button', children="Update", <br/>            style={'width': '240px', 'height': '40px', <br/>                   'cursor': 'pointer', 'border': '0px', <br/>                   'borderRadius': '5px', 'backgroundColor': <br/>                   'black', 'color': 'white', 'textTransform': <br/>                   'uppercase', 'fontSize': '15px'})</span></pre><p id="cbdb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们不会在这篇文章中使用这种格式，但是如果你愿意，你知道如何使用这种格式。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="18eb" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">🎨用 CSS 设计仪表板样式</h1><p id="ef04" class="pw-post-body-paragraph kr ks it kt b ku ne kd kw kx nf kg kz la ng lc ld le nh lg lh li ni lk ll lm im bi translated">学习了基础知识后，我们现在要给我们的布局改头换面。让我们从调整区域大小和设置背景颜色开始。我们将从<code class="fe nk nl nm nn b">style.css</code>中删除之前的练习语法，并添加以下内容:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="7dfb" class="ns mn it nn b gy nt nu l nv nw">body {<br/>  background-color:#FFF2CC;<br/>  margin: 0;<br/>  padding: 0;<br/>}<br/>img {<br/>  width: 320px;<br/>  margin-bottom: 30px;<br/>}<br/>#container {<br/>  width: 100%; <br/>  overflow: hidden;<br/>}<br/>#left-container {<br/>  height: 937px;<br/>  width: 320px;<br/>  background-color:#3BA27A;  <br/>  float: left;<br/>  margin: 0;<br/>}<br/>#right-container {<br/>  margin-left: 340px;<br/>}<br/>#visualisation {<br/>  margin-top: 30px;<br/>  width: 100%; <br/>  overflow: hidden;<br/>  height: 430px;<br/>}<br/>#histogram {<br/>  width: 700px; <br/>  height: 430px;<br/>  margin-left: 35px;<br/>  float: left; <br/>}<br/>#barplot {<br/>  width: 700px; <br/>  height: 430px;<br/>  margin-left: 800px;<br/>  margin-right: 20px;<br/>}<br/>#data-extract {<br/>  margin-top: 30px;<br/>  width: 100%; <br/>  overflow: hidden;<br/>  height: 400px;<br/>}<br/>#table {<br/>  height: 420px;<br/>  width: 800px; <br/>  float: left;<br/>  margin-left: 35px;<br/>  margin-top: 15px;<br/>}<br/>#table-side {<br/>  width: 400px;<br/>  margin-left: 900px;<br/>  margin-top: 60px;<br/>  background-color: white;<br/>  border-radius: 10px;<br/>  padding: 20px;<br/>}</span></pre><p id="c9fe" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">哇，太久了！但是如果我们仔细观察，我们只使用了少数属性。◼ <code class="fe nk nl nm nn b">background-color</code>:改变背景颜色。我们可以使用颜色名称(如<code class="fe nk nl nm nn b">black</code>)、RGB 颜色(如<code class="fe nk nl nm nn b">rgb(0,0,0)</code>)或十六进制颜色(<code class="fe nk nl nm nn b">#000</code>或<code class="fe nk nl nm nn b">#000000</code>)。<a class="ae md" href="https://coolors.co/" rel="noopener ugc nofollow" target="_blank">这个</a>是生成调色板的绝佳工具。<br/> ◼ <code class="fe nk nl nm nn b">margin</code>及其变化，<code class="fe nk nl nm nn b">padding</code>:改变截面间距。<a class="ae md" href="https://blog.hubspot.com/website/css-margin-vs-padding" rel="noopener ugc nofollow" target="_blank">本帖</a>解释了<code class="fe nk nl nm nn b">margin</code>和<code class="fe nk nl nm nn b">padding</code>的区别。<br/> ◼ <code class="fe nk nl nm nn b">height</code> &amp; <code class="fe nk nl nm nn b">width</code>:调整小节大小。<br/> ◼ <code class="fe nk nl nm nn b">overflow</code>:决定一个元素被溢出时如何处理。<br/> ◼ <code class="fe nk nl nm nn b">float</code>:决定如何定位截面。◼把边缘弄圆。</p><p id="b592" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">大多数属性名称可能是不言自明的，但如果不是，或者只是想了解更多，可以在<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/CSS" rel="noopener ugc nofollow" target="_blank"> MDN Web Docs </a>上查找。例如，如果你查找<code class="fe nk nl nm nn b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/CSS/overflow" rel="noopener ugc nofollow" target="_blank">overflow</a></code>作为例子，你可以看到不同的<code class="fe nk nl nm nn b">overflow</code>行为，比如<code class="fe nk nl nm nn b">visible</code>和<code class="fe nk nl nm nn b">hidden</code>如何处理样本文本上的溢出元素。或者，你可以尝试在谷歌中搜索“CSS &lt;属性名&gt;”。</p><p id="01f6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当您在样式表中进行更改并保存它们时，Dash 会自动刷新您的 web 应用程序。这叫<a class="ae md" href="https://dash.plotly.com/devtools#:~:text=Hot%20Reloading%20%2D%20Dash%20automatically%20refreshes,your%20app%20and%20your%20code." rel="noopener ugc nofollow" target="_blank">热重装</a>。理解 CSS 代码的一个好方法是观察添加或删除(注释掉)CSS 代码的小部分如何影响应用程序的外观。</p><p id="7d5a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">你已经学习了一些不同的方法来理解 CSS 代码片段做什么，为了保持这篇文章的简洁，我们将不会详细讨论 CSS 语法的其余部分。</p><p id="f0d9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在让我们格式化文本。我们将从上面开始向车身类型选择器(即<code class="fe nk nl nm nn b">body {}</code>)添加以下内容:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="eddf" class="ns mn it nn b gy nt nu l nv nw">font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;</span></pre><p id="30f8" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">此外，我们将把这些额外的 CSS 语法添加到<code class="fe nk nl nm nn b">style.css</code>:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="4f36" class="ns mn it nn b gy nt nu l nv nw">h1 {<br/>  margin-top: 50px;<br/>  text-transform: uppercase;<br/>  font-size: 40px;<br/>  color: white;<br/>  text-align: center;<br/>}<br/>p {<br/>  margin-left: 20px;<br/>  color: white;<br/>}<br/>.dropdown-labels {<br/>  margin-left: 20px;<br/>  color: white;<br/>  font-weight: bold;<br/>}<br/>.other-labels {<br/>  margin-left: 20px;<br/>  color: #FFBD59;<br/>  font-weight: bold;<br/>}</span></pre><p id="882c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">是时候设计按钮了。这一次我们将全面展示它的风格:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="5d4e" class="ns mn it nn b gy nt nu l nv nw">#update-button {<br/>  width: 240px;<br/>  height: 40px;<br/>  border-radius: 5px;<br/>  margin-left: 38px;<br/>  margin-top: 30px;<br/>  border: 0px;<br/>  cursor: pointer;<br/>  background-color: black;<br/>  color: white;<br/>  font-weight: bold;<br/>  font-family: inherit;<br/>  text-transform: uppercase;<br/>  font-size: 15px;<br/>}<br/>#update-button:hover {<br/>  background-color: #FFBD59;<br/>  color: white;<br/>}</span></pre><p id="e810" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">有两件事值得强调:<br/> ◼️首先是价值:<code class="fe nk nl nm nn b"><a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/CSS/inherit" rel="noopener ugc nofollow" target="_blank">inherit</a></code>。当我们使用这个值时，我们让选择器从它的父元素继承属性值。◼ ️Another 是第二个选择者。看起来和我们目前看到的选择器略有不同:<code class="fe nk nl nm nn b">#update-button:hover</code>。这些被称为<a class="ae md" href="https://developer.mozilla.org/en-US/docs/Web/CSS/Pseudo-classes" rel="noopener ugc nofollow" target="_blank">伪类</a>，只在指定的状态下设计选择器。在这个例子中，它只在鼠标悬停在按钮上时设置样式。</p><p id="c4a7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将设计下拉菜单，让它们看起来与整体色调更加协调:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="f0c8" class="ns mn it nn b gy nt nu l nv nw">.dropdown {<br/>  margin-left: 20px;<br/>  margin-right: 20px;<br/>  margin-top: 5px;<br/>}<br/>.dropdown .Select-control{<br/>  background-color: white;<br/>}<br/>.dropdown .Select-menu-outer{<br/>  background-color: white;<br/>}<br/>.dropdown .Select-value{<br/>  background-color: #3BA27A;<br/>  color: white;<br/>  font-size: 14px;  <br/>}<br/>.dropdown .VirtualizedSelectFocusedOption {<br/>  background-color: #a5ecd1;<br/>  color: black;<br/>}<br/>.dropdown .VirtualizedSelectOption  {<br/>  font-size: 14px;<br/>}</span></pre><p id="4c34" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在这里，我们看到选择器后面跟着另一个选择器。这是为了样式化元素的某些部分。如果您想知道如何首先找到这些选择器值，答案是搜索。如果你搜索下拉样式资源，你会找到有用的资源，比如<a class="ae md" href="https://stackoverflow.com/a/59234366/9724079" rel="noopener ugc nofollow" target="_blank">这个堆栈溢出答案</a>和<a class="ae md" href="https://community.plotly.com/t/i-cant-change-color-of-dropdown-menu/28174/5" rel="noopener ugc nofollow" target="_blank">这个 Plotly 社区帖子</a>。</p><p id="005c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在，我们将格式化切换:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="7c02" class="ns mn it nn b gy nt nu l nv nw">.toggle {<br/>  margin-top: 8px;<br/>}</span></pre><p id="a170" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在<code class="fe nk nl nm nn b">app.py</code>中使用颜色参数更容易改变切换的颜色。我们将不得不对另一个开关重复这一过程。</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="2a14" class="ns mn it nn b gy nt nu l nv nw">daq.BooleanSwitch(id='target_toggle', className='toggle', on=True,<br/>                  color="#FFBD59")</span></pre><p id="ee7b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，让我们来设计滑块的样式:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="6794" class="ns mn it nn b gy nt nu l nv nw">#n-slider {<br/>  margin-top: 8px;<br/>}<br/>#n-slider .rc-slider-handle  {<br/>  background-color: #FFBD59;<br/>  border: 0px;<br/>}<br/>#n-slider .rc-slider-track {<br/>  background-color: #E6E6E6;<br/>}<br/>#n-slider .rc-slider-dot-active {  <br/>  border-color: #E6E6E6;<br/>}</span></pre><p id="2045" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们在这篇文章中所做的设计仅仅触及了 CSS 的皮毛，但是希望它能帮助你建立基本的直觉，让你知道如何使用它来定制和美化你的仪表盘。</p><p id="9989" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">下面是我们最终的定制样式表内容:</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nx ny l"/></div></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="dd0e" class="mm mn it bd mo mp mq mr ms mt mu mv mw ki mx kj my kl mz km na ko nb kp nc nd bi translated">📊绘制图形的样式</h1><p id="7c97" class="pw-post-body-paragraph kr ks it kt b ku ne kd kw kx nf kg kz la ng lc ld le nh lg lh li ni lk ll lm im bi translated">现在，我们将致力于定制 Plotly 图形的外观。用 Python 比用 CSS 更容易设计 Plotly 图形的样式。我们将从直方图开始，改变不透明度，并在<code class="fe nk nl nm nn b">app.py</code>中应用调色板:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="9788" class="ns mn it nn b gy nt nu l nv nw">histogram = px.histogram(test, x='Probability', color=TARGET, <br/>                         marginal="box", nbins=30, opacity=0.6, <br/>                         color_discrete_sequence=['#FFBD59', <br/>                                                  '#3BA27A'])</span></pre><p id="aebd" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来，我们将添加标题，更改字体和背景颜色:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="d0e1" class="ns mn it nn b gy nt nu l nv nw">histogram.update_layout(title_text=f'Distribution of probabilities by class (n={len(test)})', font_family='Tahoma', plot_bgcolor='rgba(255,242,204,100)')</span></pre><p id="0a06" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们还将更新 y 轴的标签:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="676a" class="ns mn it nn b gy nt nu l nv nw">histogram.update_yaxes(title_text="Count")</span></pre><p id="1f58" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">同样，让我们美化柱状图:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="5e15" class="ns mn it nn b gy nt nu l nv nw">barplot = px.bar(test.groupby('Binned probability', as_index=False)['Target'].mean(), x='Binned probability', y='Target', color_discrete_sequence=['#3BA27A'])</span><span id="5859" class="ns mn it nn b gy nz nu l nv nw">barplot.update_layout(title_text=f'Survival rate by binned probabilities (n={len(test)})', font_family='Tahoma', xaxis = {'categoryarray': labels}, plot_bgcolor='rgba(255,242,204,100)')</span><span id="5f40" class="ns mn it nn b gy nz nu l nv nw">barplot.update_yaxes(title_text="Percentage survived")</span></pre><p id="e534" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后，让我们修饰一下桌子:</p><pre class="lo lp lq lr gt no nn np nq aw nr bi"><span id="03c5" class="ns mn it nn b gy nt nu l nv nw">table = go.Figure(data=[go.Table(<br/>    header=dict(values=columns, fill_color='#FFBD59', <br/>                line_color='white', align='center',<br/>                font=dict(color='white', size=13)),<br/>    cells=dict(values=[test[c] for c in columns], <br/>               format=["d", "", "", "", "", ".2%"],<br/>               fill_color=[['white', '#FFF2CC']*(len(test)-1)], <br/>               align='center'))<br/>])<br/>table.update_layout(title_text=f'Sample records (n={len(test)})', <br/>                    font_family='Tahoma')</span></pre><p id="e6d7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们使用<a class="ae md" href="https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format." rel="noopener ugc nofollow" target="_blank"> d3 格式</a>格式化带有<a class="ae md" href="https://dash.plotly.com/datatable/data-formatting" rel="noopener ugc nofollow" target="_blank">格式参数</a>的列。我们用<code class="fe nk nl nm nn b">fill_color</code>添加了交替的行颜色。</p><p id="2831" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这是帖子修改后的最终布局:</p><figure class="lo lp lq lr gt ls"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="0ee2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当查找定制 Plotly 图形外观的不同方法时，您可能会发现<a class="ae md" href="https://plotly.com/python/reference/layout/#layout-font" rel="noopener ugc nofollow" target="_blank"> Python 图形参考</a>很有帮助。</p><p id="c01d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">希望这篇文章向你展示了 CSS 的威力，以及它在设计 dashboard 时的高度灵活性。完成了仪表板的前端，现在是时候学习添加交互性来为我们的仪表板增压了:<em class="me"><br/></em>◼<em class="me"/><a class="ae md" rel="noopener" target="_blank" href="/dash101-part-3-add-interactivity-with-dash-callback-420f564ad622"><em class="me">DASH 101—第三部分:添加与 dash 回调的交互性</em> </a></p><p id="1c5d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">使用 Dash 时，了解一些 HTML 和 CSS 会非常有用。如果你想学习 HTML 和 CSS 的基础知识，请查看由 Udacity 提供的这个简短的免费课程。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi oa"><img src="../Images/a2eca6f15d0970cb3decf6144e8fefe9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9XfD2lYHF304x0nK"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">佛罗里达州本土民间艺术家朗达克在<a class="ae md" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c3e0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">您想要访问更多这样的内容吗？媒体会员可以无限制地访问媒体上的任何文章。如果你使用 <a class="ae md" href="https://zluvsand.medium.com/membership" rel="noopener"> <em class="me">我的推荐链接</em></a><em class="me">成为会员，你的一部分会费会直接去支持我。</em></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="b6f6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">谢谢你看我的帖子。如果你感兴趣，这里有我的一些帖子的链接:<br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/enrich-your-github-profile-with-these-tips-272fa1eafe05">用这些技巧丰富你的 GitHub 个人资料</a> <br/> ◼️️ <a class="ae md" rel="noopener" target="_blank" href="/enrich-your-jupyter-notebook-with-these-tips-55c8ead25255">用这些技巧丰富你的 Jupyter 笔记本</a> <br/> ◼️ <a class="ae md" rel="noopener" target="_blank" href="/organise-your-jupyter-notebook-with-these-tips-d164d5dcd51f">用这些技巧组织你的 Jupyter 笔记本</a> <br/> ◼️ <a class="ae md" rel="noopener" target="_blank" href="/simple-data-visualisations-in-python-that-you-will-find-useful-5e42c92df51e">用 Python 实现简单的数据可视化，你会发现有用的</a> <br/> ◼️ <a class="ae md" rel="noopener" target="_blank" href="/6-simple-tips-for-prettier-and-customised-plots-in-seaborn-python-22f02ecc2393"> 6 个简单的技巧，让你在 Seaborn (Python)中有更漂亮和定制的情节</a></p><p id="09b6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">再见🏃💨</p></div></div>    
</body>
</html>