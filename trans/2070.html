<html>
<head>
<title>Unzip Files using Python — Python Programming — PyShark</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python-Python编程PyShark解压缩文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/unzip-files-using-python-python-programming-pyshark-3f8ae7f9efd5#2022-05-09">https://towardsdatascience.com/unzip-files-using-python-python-programming-pyshark-3f8ae7f9efd5#2022-05-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3ce7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本教程中，我们将探索如何使用Python解压文件</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a6067a4adc836001d1028333f57580e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nTes3BRs1JkWm6hVfdnXFA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">托马斯·索贝克在<a class="ae ky" href="https://unsplash.com/s/photos/zip?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="757d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="9afa" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="cd66" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">创建一个示例ZIP文件</li><li id="7c54" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用Python从一个ZIP文件中提取所有文件</li><li id="4832" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用Python从ZIP文件中提取单个文件</li><li id="a4b6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用Python基于条件从ZIP文件中提取文件</li><li id="36cf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="d2ab" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">介绍</h1><p id="4107" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">ZIP文件是我们经常看到的东西。它只是一个包含多个压缩文件的文件(存档)。</p><p id="07a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这对于高效的数据传输以及通过减小文件大小来存储较大的文件非常有用。</p><p id="5639" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一次处理许多ZIP文件可能是一项非常手动的任务，但是Python允许我们高效地处理多个ZIP文件，并非常快速地从中提取数据。</p><p id="d289" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了继续学习本教程，我们需要以下Python库:<strong class="lb iu">zip file</strong>(Python中内置的)。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="6bef" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">创建一个示例ZIP文件</h1><p id="5033" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">为了继续学习本教程，我们需要一个ZIP文件。</p><p id="3fed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你已经有了，那就太好了。如果你没有，那么请随意下载一个我创建并上传到<a class="ae ky" href="https://drive.google.com/file/d/1MvTVGvMqMKdQ9Ab5KKVIi_yx4Aoq1XHN/view?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Google Drive </a>的示例ZIP文件(<em class="np"> my_files.zip </em>)。</p><p id="f919" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个ZIP文件包含三个文件:</p><ul class=""><li id="0212" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><em class="np"> customers.csv </em></li><li id="53cd" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="np"> products.csv </em></li><li id="52ea" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="np"> code_snippet.png </em></li></ul><p id="e3c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载完成后，将它放在Python代码文件所在的目录中。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="32b5" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">使用Python从一个ZIP文件中提取所有文件</h1><p id="e3bc" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">我们手动对ZIP文件执行的最常见的任务之一是从其中提取所有文件。</p><p id="2641" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Python中的zipfile库，我们可以用几行代码来实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq mr l"/></div></figure><p id="cc56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要做的就是创建一个ZipFile类的实例，并将ZIP文件的位置和“读取”模式作为参数传递给它，然后使用<strong class="lb iu">提取所有文件。</strong>extract all()方法。</p><p id="2267" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是编写相同代码的另一种方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq mr l"/></div></figure><p id="f439" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这两种情况下，这三个文件都将从ZIP文件中提取出来。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="53d5" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">使用Python从ZIP文件中提取单个文件</h1><p id="de10" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">我们可能有的另一个任务是使用Python从ZIP文件中提取特定的单个文件。</p><p id="23db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们找到在ZIP文件中归档的文件列表:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq mr l"/></div></figure><p id="dc33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="8bc5" class="nw mt it ns b gy nx ny l nz oa">['code_snippet.png', 'customers.csv', 'products.csv']</span></pre><p id="7050" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们只想提取<strong class="lb iu"> customers.csv </strong>和<strong class="lb iu"> products.csv </strong>文件。</p><p id="8e69" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因为我们知道文件名，所以在使用Python从ZIP文件中提取文件时，我们可以使用它们作为标识符:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq mr l"/></div></figure><p id="0deb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该看看这两个。csv文件被提取到Python代码所在的文件夹中。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="ad52" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">使用Python基于条件从ZIP文件中提取文件</h1><p id="2b7f" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在上面的例子中，我们提取了两个。使用Python将ZIP文件转换为csv文件。</p><p id="5588" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个接一个地提取单个文件只在我们处理几个文件时有效。</p><p id="f808" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们现在有一个包含数百个文件的大型ZIP文件，我们只想提取CSV文件。</p><p id="83c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以根据文件名中的某些条件提取这些文件。</p><p id="121c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于CSV文件，它们的名称以“.”结尾。csv”，我们可以在使用Python从ZIP文件中提取文件时使用它作为过滤条件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nq mr l"/></div></figure><p id="6e40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该会看到从ZIP文件中提取的两个CSV文件，这与上一节中的结果相同。</p><h1 id="d156" class="ms mt it bd mu mv ob mx my mz oc nb nc jz od ka ne kc oe kd ng kf of kg ni nj bi translated">结论</h1><p id="fe3c" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在本文中，我们探讨了如何使用Python从ZIP文件中提取文件。</p><p id="2f00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看我的更多<a class="ae ky" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank"> Python编程</a>教程。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8358" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="np">原载于2022年5月9日</em><a class="ae ky" href="https://pyshark.com/unzip-files-using-python/" rel="noopener ugc nofollow" target="_blank"><em class="np">【https://pyshark.com】</em></a><em class="np">。</em></p></div></div>    
</body>
</html>