<html>
<head>
<title>How Not To Make Spaghetti Out Of Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何不用 Python 做意大利面</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-not-to-make-spaghetti-out-of-python-7f4d96d4000b#2022-02-08">https://towardsdatascience.com/how-not-to-make-spaghetti-out-of-python-7f4d96d4000b#2022-02-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8c9a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">遵循这些简单的准则，避免让你的 Python 代码看起来像一盘热意大利面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c2a1a4428e1e0ba3fe734100fc2b00df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cCGHu6L6mmZT03eHSxfeRQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由<a class="ae ky" href="https://pixabay.com/images/id-781795/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>上的<a class="ae ky" href="https://pixabay.com/users/tantetati-77004/" rel="noopener ugc nofollow" target="_blank"> TanteTati </a>提供)</p></figure><h1 id="c24f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="2e6c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di"> P </span> ython 是你梦想中的编程语言；它很容易写，使用简单，并且有一个生态系统，甚至可以把一条鲸鱼炸出水面。考虑到这一点，很容易理解为什么许多初学者和希望自学编程的有抱负的程序员选择 Python 作为他们学习的第一语言。如此易于理解，如此具有宣示性的一大好处是，许多人可以不费吹灰之力就能接触到这种语言并尝试使用它。</p><p id="ef68" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">然而，可访问性是一把双刃剑。此外，自学成才的程序员是一把双刃剑，作为一个自学成才的程序员，我可以证实，这些问题中的一些肯定在早期适用于我，甚至在我学习 Python 的时候，那是在我开始编写计算机程序之后。参与技术的好处之一是每天都有变化，或者你可以从旧的事物中学到新的东西。虽然学习如何以最容易理解和一致的方式格式化 Python 代码的最好方法可能是通读 PEP8 指南，但这个列表可能对那些想让自己的 Python 看起来更好的人也有帮助。此外，还有一些有用的提示没有包含在 pep 8 compliance 中，但无论如何都可能会改进代码的某些方面，以使其更具可读性。事不宜迟，让我们来看看一些简单的准则，您可以在 Python 团队中利用它们来相应地组织和呈现代码。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="37a0" class="kz la it bd lb lc ni le lf lg nj li lj jz nk ka ll kc nl kd ln kf nm kg lp lq bi translated">最小参数</h1><p id="d40c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我想分享的第一个好建议就是在编写函数时少用参数。功能通常应该有一个单一的逻辑目标。在某些情况下，这可能是一个多步骤的过程，这就是一种称为提取的技术真正可以派上用场的地方，这种技术将在本文中进一步讨论。函数确实不应该有一个扩展的参数列表，除非这对函数来说是完全必要的。例如，绘图就是一个很好的例子。</p><p id="08dc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">参数实际上会大大降低函数调用的速度，尤其是在使用关键字参数时。相反，尽量减少这些争论当然是个好主意。它不仅会消除这样的代码</p><pre class="kj kk kl km gt nn no np nq aw nr bi"><span id="6f3b" class="ns la it no b gy nt nu l nv nw">def hello(x, y, anexample, anotherargument, anothername,   anothername, anothername, anothername):<br/>    return(nothing)</span></pre><p id="48cf" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">但是它也将帮助我们函数的用户更容易地调用这些函数。在这方面，另一个可以利用的优势是不同类型的论点。在某些情况下，使用关键字或默认的位置参数是有意义的，而在某些情况下，它没有多大意义。</p><h1 id="af84" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">逻辑分离</h1><p id="34a7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">你可以做的一件事就是在你的代码中使用逻辑分离，这样可以让你的代码更容易阅读，同时也更有意义。这适用于多种不同的方式，例如定义之间的空白。没有文档字符串或任何使用空白进行逻辑分隔的堆叠在一起的函数的问题是，很难区分函数的开始和结束位置。当然，缩进肯定会对此有所帮助，但通过在函数和类之间创建更多的分离，它肯定会使您的代码更加易读和简单。</p><p id="f30a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">逻辑分离代码的另一个可能更重要的方面是通过函数。相关代码，以及直接依赖于另一个方法的代码可能应该用那个方法和它一起定义。这使得人们更容易理解正在发生的事情。相信我，当到处都是纠缠不清的方法定义时，很难弄清楚到底发生了什么，并且您需要不断地找出发生了什么。当函数没有恰当地命名时，这变得更加困难。</p><h1 id="0286" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">提取，血统</h1><p id="da37" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我推荐用来清理 Python 代码的下一项技术是抽取。在这个列表的所有选项中，我想说拔牙可能是最有价值的。提取是我在自己的代码中经常使用的一种技术。在许多情况下，您可能有一个解决特定问题的函数的想法，当您有了这个想法并想要测试您的方法时，在担心代码的细节之前，先放下您的想法是最有意义的。</p><p id="a286" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在这种情况下，提取技术适合你！使用提取，您可以最小化特定函数中的所有调用，以使该函数更具可读性。这是一个类似这样的多阶段过程。</p><ul class=""><li id="7b4e" class="nx ny it lt b lu mw lx mx ma nz me oa mi ob mm oc od oe of bi translated">首先，命名你的部分代码，并通过子程序定义你的目标。换句话说，我需要采取步骤 1、2 和 3 来得到结果，所以 1、2 和 3 都是我们函数的子程序。在我们对代码的哪些部分可以并且应该被提取有了一个好的想法之后，我们进入第二步。</li><li id="3670" class="nx ny it lt b lu og lx oh ma oi me oj mi ok mm oc od oe of bi translated">第二步是提取这些代码部分。为此，请从函数中移除相应的代码。</li><li id="1bde" class="nx ny it lt b lu og lx oh ma oi me oj mi ok mm oc od oe of bi translated">提取的最后一步是将所有这些代码片段包装到它们各自的方法中，最后从我们提取的原始函数中调用这些方法。</li></ul><p id="3cfb" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">如果您想更深入地分析和演示如何在代码中使用抽取技术来改进代码，我实际上有一整篇文章专门讨论这个主题。如果你想了解更多，你可以在这里阅读:</p><div class="ol om gp gr on oo"><a rel="noopener follow" target="_blank" href="/more-methods-means-better-code-1d3b237f6cf2"><div class="op ab fo"><div class="oq ab or cl cj os"><h2 class="bd iu gy z fp ot fr fs ou fu fw is bi translated">更多的方法意味着更好的代码</h2><div class="ov l"><p class="bd b dl z fp ot fr fs ou fu fw dk translated">towardsdatascience.com</p></div></div><div class="ow l"><div class="ox l oy oz pa ow pb ks oo"/></div></div></a></div><h1 id="c2c8" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">键入您的参数</h1><p id="f94d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下一个技巧是我在 Python 中忽略的一个长类型技巧。这是键入要提供给函数的参数。很明显为什么 Python 程序员经常忽略这一点。除非正在使用一些很酷的魔法(例如<a class="ae ky" rel="noopener" target="_blank" href="/flawless-parametric-polymorphism-in-python-with-multipledispatch-f26b75d69c5f"> multiple dispatch </a>)，否则键入参数在语法上对语言没有任何作用。然而，在两种特定情况下，它肯定会有所帮助。首先是简单地分析你的代码。知道一个论点的细节，什么方法可以用于一个论点，等等，要容易得多。当你看一个函数的时候，如果类型是指定的。</p><p id="32db" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">此外，这种类型规范非常适合 Python 支持的文档系统。也就是说，虽然对于创建伟大的、可工作的代码来说并不完全必要，但它确实提供了相当多的好处，而且除了多花几秒钟来输入冒号和类名之外，不会花费任何成本。</p><h1 id="e467" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">命名约定很重要！</h1><p id="bd8a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">学习一门新语言时的一个新手错误是没有意识到这门语言特有的命名惯例。作为程序员，我们为什么要使用命名约定？命名惯例允许我们仅仅通过观察事物来区分它们是什么，而不是实际上需要找出它们是这个还是那个。您可能已经注意到，因为使用了大写，所以很容易区分 Python 包中的方法、类和命名别名。在 Python 中，</p><ul class=""><li id="1a5e" class="nx ny it lt b lu mw lx mx ma nz me oa mi ob mm oc od oe of bi translated">所有大写字母通常是为诸如 mime 和解释器之类的东西保留的，但它可能最常用于表示全局或环境变量。</li><li id="0e7e" class="nx ny it lt b lu og lx oh ma oi me oj mi ok mm oc od oe of bi translated">第一个大写字母代表一个构造函数。</li><li id="9e44" class="nx ny it lt b lu og lx oh ma oi me oj mi ok mm oc od oe of bi translated">所有小写字母都表示定义的变量，除非小写字母后面有括号，否则它们表示函数调用。</li><li id="d618" class="nx ny it lt b lu og lx oh ma oi me oj mi ok mm oc od oe of bi translated">在 Python 中，模块通常也用小写字母表示。</li></ul><h1 id="f49f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="9642" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">计算机编程这个错综复杂的网络是不断增长和持续的，因此我们的学习过程也必须是持续的。代码约定以及任何个人或组织编写代码的方式总有改进的空间。也就是说，如果有人想让自己的 Python 代码更加平易近人、更加漂亮，这些技巧中的一些肯定会派上用场。</p><p id="84a4" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在这个列表所涵盖的主题中，我可以肯定地说，关键的焦点应该是你将方法放在哪里，以及你如何定义你的方法。虽然这并不是所有软件的情况，当然，甚至不是很接近，我喜欢考虑引入标准元语言或 SML 的方法论。这种语言的核心思想是，每个函数只做一件事，并接受一个参数来做这件事。虽然这可能不是关于通用编程规模的最恰当的建议，但肯定可以从这个想法中吸取一些教训。希望这些建议就像意大利面中的橄榄油，你再也不用担心为你的意大利面代码找到番茄酱了！</p></div></div>    
</body>
</html>