<html>
<head>
<title>4 Things to Know to Have a Better Understanding of Matplotlib</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">更好地理解Matplotlib需要知道的4件事</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-things-to-know-to-have-a-better-understanding-of-matplotlib-a84ed54b3b2c#2022-09-16">https://towardsdatascience.com/4-things-to-know-to-have-a-better-understanding-of-matplotlib-a84ed54b3b2c#2022-09-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ccc0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">熟悉一个原始的Python数据可视化库</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/5a614cb2f6a18c25afb837ae461cf648.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*moiOMSwQeQrECGM6I_xv7g.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">托尔加·乌尔坎在<a class="ae ky" href="https://unsplash.com/s/photos/detailed?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="9434" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib是我在数据科学之旅中了解的第一批工具之一。我惊讶于它如何允许定制数据可视化的几乎每一个小部分。</p><p id="f555" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，它的语法似乎很复杂，很难理解。我知道我可以做一些事情，但需要一段时间来找出如何去做。一旦我了解了Matplotlib的结构和情节是如何创建的，我就觉得使用它更舒服了。</p><p id="45c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将学习四件事，帮助您更好地理解Matplotlib。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="7b2d" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.图形和轴</h1><p id="5c0d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">由于Python是一种面向对象的编程语言，所以我们在Matplotlib图上看到的一切都是具有类型的对象就不足为奇了。</p><p id="09cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形和轴是主要的对象类型，是绘图的基础。它们也被称为复合对象类型。需要注意的是，Axes不是Axis的复数形式。因此，轴对象与x轴或y轴没有任何关系。</p><p id="9cb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图形可以被认为是容纳所有东西的最外层容器。所有其他对象在该容器中保持活动状态。一个图形可以有一个或多个轴对象。事实上，我们需要一个Axes对象来绘制一些东西。</p><p id="c10c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用matplotlib.pyplot接口的Figure方法创建图形。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="cac6" class="ne md it na b gy nf ng l nh ni">import matplotlib.pyplot as plt</span><span id="58e1" class="ne md it na b gy nj ng l nh ni">plt.figure()<br/>plt.show()</span><span id="47e8" class="ne md it na b gy nj ng l nh ni"><strong class="na iu"># output</strong><br/>&lt;Figure size 432x288 with 0 Axes&gt;</span></pre><p id="10bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经创建了一个默认大小的人物对象。因为它没有任何轴对象，所以没有显示任何内容。</p><p id="1cbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们也给Figure对象添加一个轴，看看它看起来怎么样。我们还将使用figsize参数来自定义人物对象的大小。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="627b" class="ne md it na b gy nf ng l nh ni">fig = plt.figure(figsize=(8,5))<br/>ax1 = fig.add_axes([0.1, 0.1, 0.6, 0.3])<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/97e9d43d0b8eb8ee6258945fb8c6135b.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*5nqTn-BsglBEhVxH4VEj6g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="869b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">add_axes方法中使用的参数定义了axes对象的位置和大小。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6ac2" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2.有些事情可以是含蓄的</h1><p id="1fc9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在前面的例子中，我们使用add_axes方法向一个图形对象添加一个轴。您不必在每次需要添加轴时都这样做。事实上，您很少会看到使用add_axes方法。</p><p id="f991" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">像创建一个图形对象或添加一个轴这样的事情有时是显而易见的。不要让这个迷惑你。例如，在下面的例子中，我们将创建一个DataFrame的price列的直方图。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c1c0" class="ne md it na b gy nf ng l nh ni">plt.hist(df["Price"])<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/c0568fe3aa733ef85b661014291585f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*_wHH3HPh6rF_RyDCOAEq3Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="fef0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们刚刚使用hist函数创建了上面的直方图。我们不必显式创建图形和轴，因为一旦调用绘图功能(如hist，plot ),这些会自动完成。</p><p id="5667" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，我们可以先创造一个人物，然后才是情节。假设我们想要更改该直方图的图形大小:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="9ea9" class="ne md it na b gy nf ng l nh ni">plt.figure(figsize=(8,4))<br/>plt.hist(df["Price"])<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/1dbf7812dd2cbb4845d04c11b32f8c76.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*eoQwhsYBbCPCn3NrTjMOhw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="13bb" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3.图形和轴上的标签</h1><p id="d061" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">没有标题和轴标签的图是没有用的。我们应该在不增加阅读难度的前提下，尽可能地增加情节的信息量。但是，标题和标签是必备的。</p><p id="0f95" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Matplotlib中，可以使用不同的方法为图形和轴对象添加标题和标签。</p><p id="4b45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在处理Figure对象时，我们可以使用title、xlabel和ylabel方法。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="0b28" class="ne md it na b gy nf ng l nh ni"># create a Figure<br/>plt.figure(figsize=(8,4))</span><span id="eefd" class="ne md it na b gy nj ng l nh ni">plt.hist(df["Price"])</span><span id="9adc" class="ne md it na b gy nj ng l nh ni">plt.title("Histogram of Price", fontsize=15)<br/>plt.xlabel("Value", fontsize=14)<br/>plt.ylabel("Frequency", fontsize=14)</span><span id="6cea" class="ne md it na b gy nj ng l nh ni">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/d93b827b3ea68891b20ef4fe701fe683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*irky0tfP92C4LZsUOeW4jw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="efde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理Axes对象时，相应的方法是set_ti</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="f209" class="ne md it na b gy nf ng l nh ni"># create a Figure with an Axes<br/>fig, ax = plt.subplots(figsize=(8,4))</span><span id="dc8c" class="ne md it na b gy nj ng l nh ni">ax.hist(df["Price"])</span><span id="7c57" class="ne md it na b gy nj ng l nh ni">ax.set_title("Histogram of Price", fontsize=15)<br/>ax.set_xlabel("Value", fontsize=14)<br/>ax.set_ylabel("Frequency", fontsize=14)</span><span id="aa82" class="ne md it na b gy nj ng l nh ni">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/d93b827b3ea68891b20ef4fe701fe683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*irky0tfP92C4LZsUOeW4jw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="42d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管我们使用不同的方法添加标题和标签，但输出是相同的。因为我们做了一个只有一个轴的图形。我们可以在一个有多个轴的图形上观察到不同。我们将在下一节讨论这个问题。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="95a4" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">4.多轴图形</h1><p id="bcee" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">一个图形对象可以包含多个轴对象。我们可以使用支线剧情功能来安排图上的布局。例如，下面的代码片段创建了一个图形，其中2个Axes对象作为行放置。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="ada1" class="ne md it na b gy nf ng l nh ni">fig, (ax1, ax2) = plt.subplots(nrows=2, figsize=(8,5))</span><span id="ed3c" class="ne md it na b gy nj ng l nh ni">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/6594522fcf4ba8eb70b9a75f22e292be.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/1*nZMq01n81ja1H9WtNLaCQQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="46f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它是空的，因为我们没有绘制任何内容。让我们绘制直方图，并设置图形和轴对象的标题。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="c075" class="ne md it na b gy nf ng l nh ni">fig, (ax1, ax2) = plt.subplots(nrows=2, figsize=(8,5))</span><span id="80b5" class="ne md it na b gy nj ng l nh ni"># figure title<br/>fig.suptitle("Histogram of Price and SalesQty", fontsize=15)</span><span id="9a31" class="ne md it na b gy nj ng l nh ni"># plot on the first Axes<br/>ax1.hist(df["Price"])<br/>ax1.set_title("Price", fontsize=14)</span><span id="7bda" class="ne md it na b gy nj ng l nh ni"># plot on the second Axes<br/>ax2.hist(df["SalesQty"])<br/>ax2.set_title("SalesQty", fontsize=14)</span><span id="92b1" class="ne md it na b gy nj ng l nh ni"># adjust the spacing between subplots<br/>fig.tight_layout(pad=1)</span><span id="8f66" class="ne md it na b gy nj ng l nh ni">plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/bd306ff196f8230469f634d91a6b542c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*A9ZjcKojOIHFHmfCb9PhPg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="1674" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当处理带有支线剧情的人物时，我们使用suptitle方法给整个人物添加一个标题(不是title方法)。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="daec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与Seaborn和Plotly等其他流行的替代库相比，Matplotlib是一个低级库。因此，我们应该编写更多的代码来创建数据可视化，这样做的好处是可以完全控制我们绘制的内容。</p><p id="df71" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">了解图的结构以及Matplotlib如何处理这些定制是充分利用这个惊人的库的必要步骤。</p><p id="6997" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在本文中介绍的内容将帮助您更好地理解Matplotlib的工作原理。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="da96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq">你可以成为</em> <a class="ae ky" href="https://sonery.medium.com/membership" rel="noopener"> <em class="nq">媒介会员</em> </a> <em class="nq">解锁我的全部写作权限，外加其余媒介。如果你已经是了，别忘了订阅</em><a class="ae ky" href="https://sonery.medium.com/subscribe" rel="noopener"><em class="nq"/></a><em class="nq">如果你想在我发表新文章时收到电子邮件。</em></p><p id="c21f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>