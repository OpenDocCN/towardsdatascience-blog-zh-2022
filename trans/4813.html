<html>
<head>
<title>3 easy hypothesis tests for the mean value</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">平均值的3个简单假设检验</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-easy-hypothesis-tests-for-the-mean-value-2d8a06177042#2022-10-25">https://towardsdatascience.com/3-easy-hypothesis-tests-for-the-mean-value-2d8a06177042#2022-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0453" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">将样本的平均值与其他预期值进行比较的3种简单方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1cf35915e98f4aad8ebf60c63db104f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7-FH2JUayOi4h47K"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@edge2edgemedia?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Edge2Edge媒体</a>拍摄</p></figure><p id="aff2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据科学家和分析师经常需要处理平均值，需要将一个样本的平均值与已知的期望值或另一个样本的平均值进行比较。统计学帮助我们进行一系列强有力的假设检验来完成这些任务。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="afb3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">问题是</h1><p id="78cc" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">比方说，我们测量类似珠穆朗玛峰的高度。我们知道它是8848米。我们测量后，得到8840米，标准误差为20米。我们的平均值和已知身高有统计学差异吗？</p><p id="2239" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设另一个研究小组使用不同的工具进行了相同的测量，并获得了8850米，标准误差等于10米。他们的结果在统计学上和我们的不同吗？</p><p id="92c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是处理平均值时的两个常见问题。我们经常需要将我们的平均值与一个已知的期望值或别人得到的平均值进行比较。</p><p id="74ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将事物相互比较是统计学中的一个常见问题，我们可以从<a class="ae ky" href="https://www.yourdatateacher.com/2022/10/17/a-beginners-guide-to-statistical-hypothesis-tests/" rel="noopener ugc nofollow" target="_blank">假设检验</a>的理论中获益，以评估这种比较的统计学意义。在这篇文章中，我将讨论学生对平均值的t检验。它们是最常见的假设检验类型，非常有用。</p><p id="fb3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它们都依赖于一个基本假设:样本是从正态分布中产生的。</p><p id="3e09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些使用Python编程语言的例子。所有这些例子都是基于NumPy的，所以我们首先要导入它并设置随机数生成器的种子。让我们也为直方图计算导入matplotlib。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="7f1f" class="nf md it nb b gy ng nh l ni nj">import numpy as np <br/>import matplotlib.pyplot as plt <br/>np.random.seed(0)</span></pre><h1 id="6abc" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">将平均值与已知的期望值进行比较</h1><p id="16e9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最简单的t检验形式是将样本的平均值与已知的期望值进行比较。</p><p id="394e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们使用NumPy在Python中创建一个30个正态分布随机数的样本，其均值等于100，标准差等于10。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="281b" class="nf md it nb b gy ng nh l ni nj">x = np.random.normal(size=30,loc=100,scale=10)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/c50473aec300cd5faef2a6356b855676.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/0*xqlrVNKBYh3JNjgk.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的x. Image直方图</p></figure><p id="0324" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个样本的平均值是104.43。我们想知道它在统计上是否不同于100。</p><p id="48aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种均值t检验的零假设是:均值等于100。所以，我们正在进行一个双尾检验。</p><p id="0f9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使用它，我们必须从Scipy导入适当的函数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="d1d7" class="nf md it nb b gy ng nh l ni nj">from scipy.stats import ttest_1samp</span></pre><p id="81cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以使用“ttest_1samp”函数，它给出了这种双尾检验的p值:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="57ea" class="nf md it nb b gy ng nh l ni nj">ttest_1samp(x,100) <br/># Ttest_1sampResult(statistic=2.2044551627605693, pvalue=0.035580270712695275)</span></pre><p id="5837" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们想使用1尾检验，无效假设将是以下之一:</p><ul class=""><li id="bf47" class="nq nr it lb b lc ld lf lg li ns lm nt lq nu lu nv nw nx ny bi translated">平均值大于100</li><li id="248a" class="nq nr it lb b lc nz lf oa li ob lm oc lq od lu nv nw nx ny bi translated">平均值小于100</li></ul><p id="eee5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过陈述替代假设，我们可以计算这两个检验的p值。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="5aa6" class="nf md it nb b gy ng nh l ni nj"># Null hypothesis: x.mean() is greater than 100 <br/># (alternative hypothesis, it's less than 100) </span><span id="1f53" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_1samp(x,100,alternative='less') <br/></strong># Ttest_1sampResult(statistic=2.2044551627605693, pvalue=0.9822098646436523) <br/>######################## <br/># Null hypothesis: x.mean() is less than 100 <br/># (alternative hypothesis, it's greater than 100) </span><span id="bf96" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_1samp(x,100,alternative='greater') <br/></strong># Ttest_1sampResult(statistic=2.2044551627605693, pvalue=0.017790135356347637)</span></pre><p id="4a37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个学生对单一样本进行t检验的例子。请记住，样本必须是根据正态分布创建的。</p><h1 id="d0aa" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">比较具有相同方差的两个样本的平均值</h1><p id="e53d" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">现在让我们从上一个样本的正态分布开始创建一个新样本。我们可以把尺码从30号改成50号。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2f04" class="nf md it nb b gy ng nh l ni nj">y = np.random.normal(size=50,loc=100,scale=10)</span></pre><p id="0e81" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其平均值为96.85。</p><p id="f1db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们已经知道两个样本来自两个方差相同的正态分布。我们可以使用双样本t检验来比较它们的平均值。我们必须使用“ttest_ind”函数。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="6f4d" class="nf md it nb b gy ng nh l ni nj">from scipy.stats import ttest_ind</span></pre><p id="0305" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以计算我们需要的所有测试的p值(两个尾部或一个尾部)。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="8d1f" class="nf md it nb b gy ng nh l ni nj"># Null hypothesis: x.mean() is equal to y.mean() </span><span id="801b" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,y) <br/></strong># Ttest_indResult(statistic=3.4565852447894163, pvalue=0.0008885072426696321) <br/>###################### <br/># Null hypothesis: x.mean() is greater than y.mean() <br/># (alternative hypothesis: it's less than y.mean()) </span><span id="1c1a" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,y,alternative='less') </strong><br/># Ttest_indResult(statistic=3.4565852447894163, pvalue=0.9995557463786652) <br/>###################### <br/># Null hypothesis: x.mean() is less than y.mean() <br/># (alternative hypothesis: it's greater than y.mean()) </span><span id="2508" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,y,alternative='greater') <br/></strong># Ttest_indResult(statistic=3.4565852447894163, pvalue=0.00044425362133481604)</span></pre><h1 id="777f" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">比较方差不同的两个样本的平均值</h1><p id="90ed" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">最后，最常见的情况:两个样本来自具有不同方差的正态分布。</p><p id="8a4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们创建一个来自标准偏差等于5的正态分布的新变量:</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="1f94" class="nf md it nb b gy ng nh l ni nj">z = np.random.normal(size=50,loc=100,scale=5)</span></pre><p id="33da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">执行所谓的韦尔奇检验(即学生t检验的这种特殊情况)的函数又是“ttest_ind”，但我们必须将equal_var参数设置为等于False。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="2e02" class="nf md it nb b gy ng nh l ni nj"># Null hypothesis: x.mean() is equal to z.mean()</span><span id="2c05" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,z,equal_var=False) </strong><br/># Ttest_indResult(statistic=1.094819002420836, pvalue=0.2807390405295771) <br/>###################### <br/># Null hypothesis: x.mean() is greater than z.mean() <br/># (alternative hypothesis: it's less than z.mean()) </span><span id="6ee6" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,z,alternative='less',equal_var=False) </strong><br/># Ttest_indResult(statistic=1.094819002420836, pvalue=0.8596304797352115) <br/>###################### <br/># Null hypothesis: x.mean() is less than z.mean() <br/># (alternative hypothesis: it's greater than z.mean()) </span><span id="e9c2" class="nf md it nb b gy oe nh l ni nj"><strong class="nb iu">ttest_ind(x,z,alternative='greater',equal_var=False) </strong><br/># Ttest_indResult(statistic=1.094819002420836, pvalue=0.14036952026478855)</span></pre><h1 id="a31e" class="mc md it bd me mf nk mh mi mj nl ml mm jz nm ka mo kc nn kd mq kf no kg ms mt bi translated">结论</h1><p id="076e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在本文中，我解释了3种基于平均值的假设检验:单样本t检验，将样本的平均值与已知的期望值进行比较；等方差双样本t检验；异方差双样本t检验(也称为Welch检验)。最后两个测试比较两个样本的平均值。尽管这种测试非常强大，但必须记住，它们强烈要求样本是从高斯分布中生成的。如果满足这一要求，就可以安全地进行这些测试。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="d472" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz">原载于2022年10月25日</em><a class="ae ky" href="https://www.yourdatateacher.com/2022/10/25/3-easy-hypothesis-tests-for-the-mean-value/" rel="noopener ugc nofollow" target="_blank"><em class="mz">【https://www.yourdatateacher.com】</em></a><em class="mz">。</em></p></div></div>    
</body>
</html>