<html>
<head>
<title>3 Tips to reduce OpenAI GPT-3's costs by Smart Prompting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过智能提示降低OpenAI GPT-3成本的3个技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-tips-to-reduce-openai-gpt-3s-costs-by-smart-prompting-53c457229cfc#2022-04-22">https://towardsdatascience.com/3-tips-to-reduce-openai-gpt-3s-costs-by-smart-prompting-53c457229cfc#2022-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="441d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">减少GPT-3提示令牌并节省资金</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8e6b8ccd6a70fae45c34b9d29593711e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tPlCfHCRdzYyMLdhLA2QXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3cfe" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">GPT-3的最高和最准确的模型达芬奇成本为每1000代币6美分。因此，在生产应用中进行大规模运营并不便宜。</p><p id="9d91" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以除了设计提示之外，掌握智能提示的技巧也很重要，那就是减少输入提示中的标记数量。</p><p id="1e57" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本教程中，我们将看到一些技术来减少给定提示中的令牌数量，这些技术来自我构建<a class="ae lu" href="https://supermeme.ai/" rel="noopener ugc nofollow" target="_blank">superme . ai</a>的经验，这是一个基于GPT 3的应用程序，目前正在生产中。请记住，每减少1000个代币可以节省6美分(0.06美元)，因此从规模上来看，这是巨大的。</p><h1 id="a213" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.迅速解释</h1><p id="531d" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">所以让我们从OpenAI的<a class="ae lu" href="https://beta.openai.com/playground" rel="noopener ugc nofollow" target="_blank">游乐场</a>本身提供的一个例子开始，叫做<strong class="la iu">“来自产品描述的广告”。</strong></p><p id="bcd9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下图中，输入是黑色文本，输出是GPT-3生成的绿色高亮文本。</p><p id="2f0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了在生产应用程序中运行，第一行<strong class="la iu">“在脸书上为以下产品写一个创意广告给rn，目标是父母:“，</strong>总是保持不变，只有产品描述是从用户输入中动态获取的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/255800ed3ba45aaa1c34d37fed3d7849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iXpuhYYV6y1rZwZ_ShkXWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GPT 3号游乐场广告描述示例</p></figure><p id="20b8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下图中，您可以看到第一行输入来自<a class="ae lu" href="https://beta.openai.com/tokenizer" rel="noopener ugc nofollow" target="_blank"> GPT-3令牌估计器的16个令牌。</a></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/c8d7c7ef519487c21b8ed365e11057bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fw6x2rZJOKLR2vEqLJQLDg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有16个令牌的原始提示</p></figure><p id="83b2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是我们可以使用类似于<a class="ae lu" href="https://quillbot.com/" rel="noopener ugc nofollow" target="_blank"> Quillbot </a>的解释工具来缩短提示，然后在GPT-3令牌估计器中测试修改后的提示的令牌总数。请注意，字数的减少并不一定意味着标记的减少，因为GPT-3标记器是根据自己的数据训练的，并不直接与单词相关。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/f182406ecc154f0b84c1bb937e0eaf19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j071eCHUn1qUj_9XTxAyPg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用Quillbot解释提示</p></figure><p id="fc0f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">新的转述提示“为以下针对父母的产品创建一个聪明的脸书广告”，只需要13个令牌，而原来的提示需要16个令牌。这是一个3令牌减少！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/7fb4c0cb593ce39dce47020940ff8528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OisbeicTovT8G9GIrSyfsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">只有13个标记的解释提示</p></figure><p id="842b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过在操场上再次测试，你可以看到转述提示在为脸书生成一个好的广告文案方面也很有效。</p><p id="e860" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您对转述提示符生成的文本感到满意，那么您可以继续使用转述提示符，它的令牌数更少，生产成本也更低。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/35bcd0c8fee4354321ae7e911c0a398c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1jVTnddqunSKJgU8WxfGzw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">生成的带有解释提示的广告</p></figure><h1 id="fa82" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.NER替换提示</h1><p id="1ec4" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">让我们考虑另一个例子，你试图对一个给定的句子进行情感分析。在下图中，你可以看到输入的句子是<strong class="la iu">“rams ri喜欢在Supermeme的办公室工作”</strong>。在这里，Ramsri是一家<strong class="la iu">公司的名字</strong>，Supermeme是一家<strong class="la iu">公司的名字</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/f50710d414b0cf3405d772d1a7dacc28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sv49UQShLc_q0LNUhRcV7g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始提示情绪</p></figure><p id="431d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您查找该提示消耗的令牌数，您可以看到“Ramsri喜欢在Supermeme的办公室工作”总共有11个令牌。这是因为Ramsri对于GPT-3记号赋予器来说不是一个已知单词，所以它将Ramsri拆分为“R”+“AMS”+“ri”(3个记号)，如下图中的彩色编码文本所示。</p><p id="3ae5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是有趣的部分来了！能不能把<strong class="la iu"> Ramsri </strong> (3个令牌字)换成一个像‘约翰’这样的令牌字，省两个令牌？答案是肯定的！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/81dcd4a9add6c1fdf4c57dd455d29e1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k9xawcynv-RWqvpFObK_9Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始句子标记计数</p></figure><p id="cb7e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，您可以用“John”替换“Ramsri ”,用“Google”替换类似的“Supermeme ”,并将句子的令牌从11个减少到7个！</p><p id="e7bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，本质上，您可以进行NER(命名实体识别)来识别命名实体，如名称、组织、地点等，并用相应的一个替代令牌来替换它们。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/f8eae195799b3956d281978d19cd305f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A1I_WmjM8yJ9pmXYDmd8pQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NER修改令牌计数</p></figure><p id="fbc0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">就句子的情感而言，不管你有“约翰快乐”还是“拉姆斯里快乐”！对于这种情况，它总是产生积极的正确情绪。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/e7ea74ff6c87cbb9b6d827d4c2b90c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zHXoDQzIEGWHGgbWTl1PyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NER取代了即时情绪</p></figure><h1 id="0a1d" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.多任务提示</h1><p id="e307" class="pw-post-body-paragraph ky kz it la b lb mn ju ld le mo jx lg lh mp lj lk ll mq ln lo lp mr lr ls lt im bi translated">与多次调用GPT-3引擎并为每个单独的任务消耗令牌相比，您可以在一个提示中组合多个任务。</p><p id="a5d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，你可以看到，在一个提示中，我们能够将句子<strong class="la iu">“埃隆·马斯克再次表明，他可以通过他的推文影响数字货币市场”</strong>修改为1。较短的版本2。更长的版本和a 3。正式版。</p><p id="1f9a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果单独完成，您将需要3次调用GPT-3 API，并且您将因句子<strong class="la iu">中的令牌数量而被计费3次,“埃隆·马斯克再次表明，他仅通过他的推文就可以影响数字货币市场”</strong></p><p id="fbb2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是通过一些仔细的提示，我们能够将多个任务批处理到一个提示中！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/7770dccb5cdfe7d44e72c45dc08200cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sBC0z8wEnSGqX1jtzL7KDQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多任务提示</p></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="0910" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">祝NLP探索愉快，如果你喜欢它的内容，请随时在<a class="ae lu" href="https://twitter.com/ramsri_goutham" rel="noopener ugc nofollow" target="_blank"> Twitter上找到我。</a></p><p id="5ade" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想以实用的方式学习NLP，请查看我的课程<a class="ae lu" href="https://www.learnnlp.academy/practical-introduction-to-natural-language-processing" rel="noopener ugc nofollow" target="_blank">自然语言处理实用介绍</a></p></div></div>    
</body>
</html>