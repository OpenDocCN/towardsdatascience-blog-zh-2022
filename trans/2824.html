<html>
<head>
<title>Dynamic Axes with Field Parameters in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Power BI中带场参数的动态轴</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dynamic-axes-with-field-parameters-in-power-bi-fc3403d7dcf2#2022-06-20">https://towardsdatascience.com/dynamic-axes-with-field-parameters-in-power-bi-fc3403d7dcf2#2022-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="036b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">没有其他方法可以在度量之间切换</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/911d34cde35051b0e1c59c28d67d13a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Poh_D6CC5XQ-Lk8d"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自<a class="ae ky" href="https://unsplash.com/@diane_soko" rel="noopener ugc nofollow" target="_blank">黛安·皮凯蒂诺</a></p></figure><p id="17fc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">直到最近，还很少有方法可以让用户更改度量或权力的轴心BI可视化。</p><p id="6d8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们要么受困于复制图表和创建大量书签，要么不得不采取变通办法，用汇总表格预先计算度量值，在模型中创建冗余或笨拙的新维度。它们都不容易维护或修改。</p><p id="df92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不再是了！在5月份的更新中，PBI获得了一个名为字段参数的新功能。</p><p id="bf29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将探讨如何使用它们，什么时候它能拯救世界，什么时候它能让我们期待更多。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/61927d89fcaac830563a0bfc42b5bea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*S3Al1cZaEtdeHh2ci_uJyg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">X轴和Y轴的场参数可视化—图片由作者提供</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="fd40" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">要求</h2><p id="95f0" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">在我们开始之前，您可能需要更新您的Power BI桌面并启用现场参数。</p><p id="63b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要启用此功能，您需要进入:<br/>文件—选项和设置—预览功能—字段参数</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nb"><img src="../Images/b57a937aaa9ca43bf1251ab7d03d6b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbBvHRch1tcnObsrT3gauA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选项菜单—作者图片</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="e432" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">添加字段参数</h2><p id="f9e7" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">选中复选框并重新启动应用程序后，我们应该会在Home-Modeling-New parameter上看到新的字段选项。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nc"><img src="../Images/b44ce045fbc17d4c59cca80fc264f034.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-HKwKiWR60eF3KwpWM41A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">“新参数”下拉菜单-作者图片</p></figure><p id="1694" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">单击它后，会出现一个窗口提示我们选择想要使用的度量或字段。</p><p id="8535" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该操作将在我们的模型中创建一个新的计算表，该表将保存参数的显示名称、对字段/度量值的引用以及带有显示顺序的整数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nd"><img src="../Images/2eec35dd5ca05292ae88ac21809c9c5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qdPqPm7GxeWj7ybihkBUg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">添加参数窗口-作者提供的图像</p></figure><p id="9a62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了选择度量之外，我们还可以为新表设置一个名称，重命名我们的参数，并选择是否要为它们自动创建一个切片器。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/c96c33524b279ae505ac33d55262bb40.png" data-original-src="https://miro.medium.com/v2/resize:fit:516/format:webp/1*g6uRZBOWNYUDZLAR84QPow.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带参数的切片器—图片由作者提供</p></figure><p id="fc75" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">酷，我们有一个带有参数的计算表，现在我们需要将它们添加到一个可视化中，这与任何其他度量或字段的工作方式相同。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/5f55bed44807462e57c1c559aa3b8219.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*djBr7jrw2_Eajseun_qrPQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">y轴上有字段参数的视觉图像—作者提供的图像</p></figure><p id="f011" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">厉害！现在，我们的用户可以动态地选择他们想要看到的度量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/ab7ca2ac8f5ec9e6d786e9ee01003776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Vx8dl3scWKMVcINRs7q6zA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">切换图表y轴的字段参数—图片由作者提供</p></figure><p id="08e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用相同的步骤，我们还可以创建一个参数来更改X轴:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/621e815109d8141791dfe29b91fff683.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*1GqUouiD5yRBYXi_J01vIw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">切换图表x轴和y轴的字段参数—图片由作者提供</p></figure><p id="ac2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于某种原因，默认情况下，条形图使用y轴的值进行排序。我找不到禁止这种行为的方法；即使您更正了排序，当我们更改选择时，它也会回到默认状态。</p><p id="15e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这有点令人沮丧，因为我们的约会被打乱了。</p><p id="44a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我也错过了过滤器控制。当我们在x轴上的不同字段之间切换时，我们可能会发现没有完全填充的类别。在这个数据集中，“Promotion”有空值，我不想显示这些值。</p><p id="238b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我使用书签，我可以过滤掉促销画面中的空白，继续我的一天。有了参数，我需要向DAX公式添加一个条件，检查Promotion是否在范围内，如果是，则过滤掉空白。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="9614" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">编辑参数表</h2><p id="bfa8" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">我们看到字段参数存储在一个计算表中，这意味着我们可以编辑它的DAX并添加新列。</p><p id="22a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看代码，我们可以单击参数字段。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/4adc808da4957fdbc33394ea7e11e1af.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/1*ZpXHy4m-ytlE48Y7r9FjJA.png"/></div></div></figure><p id="ccf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该公式包含一个用括号括起来的列表；这个列表中的每一行都代表我们表中的一行。我们看到每条记录有三个值，一个字符串、一个函数和一个整数。</p><p id="d782" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一个值对应于我们的第一列name，第二个值是检索我们的度量的函数，第三个值定义排序顺序。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="9620" class="md me it ni b gy nm nn l no np">Parameter = {</span><span id="2f84" class="md me it ni b gy nq nn l no np">("Sales", NAMEOF('Sales'[.SalesValue]), 0),<br/>("Costs", NAMEOF('Sales'[.CostsValue]), 1),<br/>("Profit", NAMEOF('Sales'[.ProfitValue]), 2),<br/>("Production", NAMEOF('Sales'[.ProductionTimeliness]), 3),<br/>("Packing", NAMEOF('Sales'[.PackingTimeliness]), 4),<br/>("Shipping", NAMEOF('Sales'[.ShippingTimeliness]), 5),<br/>("Delivery", NAMEOF('Sales'[.DeliveryTimeliness]), 6),<br/>("Order to Delivery", NAMEOF('Sales'[.TotalTimeliness]), 7)}</span></pre><p id="5234" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果需要更改任何名称、显示顺序、添加新参数或列，我们可以编辑这段代码。</p><p id="b900" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以添加一个字符串来定义参数组。</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="a6d4" class="md me it ni b gy nm nn l no np">Parameter = {</span><span id="ca69" class="md me it ni b gy nq nn l no np">("Sales", NAMEOF('Sales'[.SalesValue]), 0<strong class="ni iu">, "Financials"</strong>),<br/>("Costs", NAMEOF('Sales'[.CostsValue]), 1<strong class="ni iu">, "Financials"</strong>),<br/>("Profit", NAMEOF('Sales'[.ProfitValue]), 2<strong class="ni iu">, "Financials"</strong>),("Production", NAMEOF('Sales'[.ProductionTimeliness]), 3<strong class="ni iu">, "Timeliness"</strong>),<br/>("Packing", NAMEOF('Sales'[.PackingTimeliness]), 4<strong class="ni iu">, "Timeliness"</strong>),("Shipping", NAMEOF('Sales'[.ShippingTimeliness]), 5<strong class="ni iu">, "Timeliness"</strong>),("Delivery", NAMEOF('Sales'[.DeliveryTimeliness]), 6<strong class="ni iu">, "Timeliness"</strong>),("Order to Delivery", NAMEOF('Sales'[.TotalTimeliness]), 7<strong class="ni iu">, "Timeliness"</strong>)}</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/b3748125e8636b0c9baa91e34329f676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YaKSuYiViFIg18B9Ny9-MA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">具有层次级别的字段参数—作者提供的图像</p></figure><p id="fb9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总的来说，这张桌子和其他桌子一样好用。我们不仅可以编辑它的内容，还可以创建与其他表的关系。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/83ddb27cc49c1d71ecab206ae21dd717.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*t5EsOBtUaDQjxrEq21v7mw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">与参数表的关系—图片由作者提供。</p></figure><p id="9738" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除此之外，我们可以使用这些关系连接到一个带有定义的表，并动态地描述所选的度量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/3c830737f678358ee32316dcb9395fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TO8HiBY7gCS3wf1dDDx1fQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">带有动态测量描述的报告-图片由作者提供</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="9ac4" class="md me it bd mf mg mh dn mi mj mk dp ml li mm mn mo lm mp mq mr lq ms mt mu mv bi translated">最后的想法</h2><p id="82de" class="pw-post-body-paragraph kz la it lb b lc mw ju le lf mx jx lh li my lk ll lm mz lo lp lq na ls lt lu im bi translated">总的来说，字段参数为Power BI增加了很多功能；与以前的解决方案相比，重用可视化来显示不同的度量和字段使得开发速度更快，并且报表更易于维护。</p><p id="a90f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">综上所述，我认为还有改进的空间。在我看来，当我们需要更精确的可视化时，书签仍然是一个不错的选择。当我们需要一个特定的视觉配色方案，一个不同的排序，或者甚至当一些设计选择不能很好地与所有措施配合时，它们就非常有用。</p><p id="898d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power BI社区在提出变通办法或扩展工具的可用性时非常有创造力。我很兴奋地想看看场参数会带来什么样的可能性。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/fe130c2cc8aecbe156c139b1ae5f4ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QLaU6tFdGJcO0tDCoLdTqg.png"/></div></div></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="d2e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本例中使用的数据是用<a class="ae ky" href="https://www.mockaroo.com/" rel="noopener ugc nofollow" target="_blank"> Mockaroo </a>生成的，可在<a class="ae ky" href="https://gist.githubusercontent.com/Thiagobc23/0a6b03b0997640c67171c2e2058c8421/raw/213519e3f8e27e6685ed4de60f6830bc0030ee4b/dummy_data" rel="noopener ugc nofollow" target="_blank">这里</a>获得。</p><p id="367b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读我的文章！</p></div></div>    
</body>
</html>