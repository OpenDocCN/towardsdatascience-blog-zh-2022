<html>
<head>
<title>Let’s Talk About The Database You Wear In Your Pocket</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让我们来谈谈你放在口袋里的数据库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/lets-talk-about-the-database-you-wear-in-your-pocket-ab3cacb4d25f#2022-08-29">https://towardsdatascience.com/lets-talk-about-the-database-you-wear-in-your-pocket-ab3cacb4d25f#2022-08-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="a8f7" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">了解亿万人使用的未知数据库的更多信息</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/11eb43afd45c9e2c3300356e8fc8133c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3bkSJTP173LDS3awHsxXxg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片Saskia van Baaren</p></figure><p id="f4e6" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">当我们这个行业的人想到数据库时，很多人会想到Oracle、MySQL、Postgresql，也许？但是使用量超过所有其他数据库总和的数据库呢？再来说说SQLite！</p></div><div class="ab cl lv lw hy lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="in io ip iq ir"><h1 id="3138" class="mc md iu bd me mf mg mh mi mj mk ml mm ka mn kb mo kd mp ke mq kg mr kh ms mt bi translated">什么是SQLite？</h1><p id="d892" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">SQLite是一个实现SQL数据库引擎的库。它有几个吸引人的特性:</p><ul class=""><li id="44c1" class="mz na iu lb b lc ld lf lg li nb lm nc lq nd lu ne nf ng nh bi translated">用C写的:速度极快</li><li id="64ac" class="mz na iu lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">它很小:SQLite运行在小设备上(比如电话和微波炉)</li><li id="0b5e" class="mz na iu lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">可靠:这个库每天被数十亿人使用，因为几乎每个手机应用程序都以这样或那样的方式使用SQLite</li><li id="6a57" class="mz na iu lb b lc ni lf nj li nk lm nl lq nm lu ne nf ng nh bi translated">它功能齐全:尽管名为SQLite，但它有很多令人印象深刻的功能。</li></ul><h2 id="795c" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">这是一个图书馆</h2><p id="9848" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">与其他数据库不同，SQLite是无服务器的。毕竟是<em class="nz">库</em>！SQLite可以与您的代码一起提供，并将其数据存储在文件系统的文件中。</p><p id="3504" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">SQLite通常包含在其他语言中。<a class="ae oa" href="https://python.land/" rel="noopener ugc nofollow" target="_blank">比如Python </a>就提供了开箱即用。因此，您可以使用SQLite来存储和分析数据，而无需设置数据库，我认为人们应该更经常地使用它！</p><blockquote class="ob"><p id="b71c" class="oc od iu bd oe of og oh oi oj ok lu dk translated">您可以使用SQLite来存储和分析数据，而无需设置数据库，我认为人们应该更经常地使用它！</p></blockquote><h1 id="7b0d" class="mc md iu bd me mf ol mh mi mj om ml mm ka on kb mo kd oo ke mq kg op kh ms mt bi translated">SQLite怎么发音</h1><p id="2c0a" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">没有什么比发音错误更令人困惑，有时甚至尴尬的了。SQLite有两种发音方式，都被认为OK。</p><p id="ff08" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">SQL是结构化查询语言的缩写，通常读作“ess queue ell”或“sequel”因此，SQLite可以读作:</p><ol class=""><li id="8303" class="mz na iu lb b lc ld lf lg li nb lm nc lq nd lu oq nf ng nh bi translated">ess队列灯</li><li id="26e6" class="mz na iu lb b lc ni lf nj li nk lm nl lq nm lu oq nf ng nh bi translated">续集灯</li></ol><p id="b722" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">挑你喜欢的风格；我更喜欢最后一个。</p><h1 id="3988" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">浏览现有的SQLite数据库</h1><p id="ee08" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">我们可以使用SQLite shell来浏览SQLite数据库。要打开SQLite shell，我们必须在终端或命令提示符下输入<code class="fe ou ov ow ox b">sqlite3</code>命令。这在所有操作系统(Windows、MacOS、Linux)上都是一样的:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="35ce" class="nn md iu ox b gz pc pd l pe pf">C:\&gt; sqlite3<br/>SQLite version 3.35.5 2021-04-19 18:32:05 <br/>Enter ".help" <strong class="ox iv">for</strong> usage hints.<br/>Connected to a transient <strong class="ox iv">in</strong>-memory database.<br/>Use ".open FILENAME" to reopen on a persistent database. <br/>sqlite&gt;</span></pre><p id="9862" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">当不带任何参数打开SQLite时，它将创建一个内存数据库。正如SQLite指出的，我们可以通过使用<code class="fe ou ov ow ox b">.open FILENAME</code>命令打开一个现有的数据库。但是，如果您已经有了一个基于文件的SQLite数据库，那么直接打开它会更容易:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="9a91" class="nn md iu ox b gz pc pd l pe pf">C:\&gt; sqlite3 customers.db<br/>SQLite version 3.35.5 2021-04-19 18:32:05<br/>Enter ".help" <strong class="ox iv">for</strong> usage hints.<br/>sqlite&gt;</span></pre><h1 id="c438" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">从头开始创建SQLite数据库</h1><p id="a9dc" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">如果您没有数据库，让我们先从头创建一个，这样我们就有东西可以使用了。我们需要用<code class="fe ou ov ow ox b">sqlite3</code>命令再次启动SQLite来获得SQLite shell。我们可以通过将数据库作为第一个参数直接给它命名:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="7821" class="nn md iu ox b gz pc pd l pe pf">$ sqlite3 customers.db<br/>SQLite version 3.35.5 2021-04-19 18:32:05<br/>Enter ".help" <strong class="ox iv">for</strong> usage hints<br/>sqlite&gt;</span></pre><p id="b8a8" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">注意，我喜欢使用<code class="fe ou ov ow ox b">.db</code>文件扩展名。您可以选择任何您想要的文件名，但是我建议使用<code class="fe ou ov ow ox b">.db</code>扩展名来清楚地将它标记为数据库文件。</p><p id="3357" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在创建一个表，并通过输入以下行插入一些数据:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="8474" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">create</strong> <strong class="ox iv">table</strong> customers(<strong class="ox iv">name</strong> text, age int);<br/>sqlite&gt; <strong class="ox iv">insert</strong> <strong class="ox iv">into</strong> customers <strong class="ox iv">values</strong>('Erik', 40);<br/>sqlite&gt; <strong class="ox iv">insert</strong> <strong class="ox iv">into</strong> customers <strong class="ox iv">values</strong>('Mary', 53);</span></pre><p id="6120" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">我们可以通过一个简单的SELECT语句看到结果:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="732e" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> customers;<br/>Erik|40<br/>Mary|53</span><span id="6a75" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><p id="e0f0" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">要关闭外壳，请按<code class="fe ou ov ow ox b">control+D</code>，它会将文件尾字符发送到您的终端，或者键入。退出命令。</p><p id="10b5" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">如果您检查文件系统，您会看到SQLite已经为我们创建了<code class="fe ou ov ow ox b">customers.db</code>文件。</p><h1 id="99a8" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">SQLite浏览器:打开一个数据库</h1><p id="0b27" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">现在我们有一个现有的数据库可以使用。让我们首先在文件系统的一个文件中打开这个SQLite数据库。我们将使用之前的数据库<code class="fe ou ov ow ox b">customers.db</code>。我们可以像这样用<code class="fe ou ov ow ox b">sqlite3</code>命令打开它:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="644a" class="nn md iu ox b gz pc pd l pe pf">C:\&gt; sqlite3 customers.db<br/>SQLite version 3.35.5 2021-04-19 18:32:05<br/>Enter ".help" for usage hints.<br/>sqlite&gt;</span><span id="26f9" class="nn md iu ox b gz pg pd l pe pf">Code language: plaintext (plaintext)</span></pre><p id="39be" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">现在我们可以浏览我们的SQLite数据库了！</p><h1 id="c8b3" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">有用的SQLite命令</h1><p id="d84a" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">SQLite没有大张旗鼓地打开数据库，但是它在屏幕上显示了一条有用的消息。我们可以输入<code class="fe ou ov ow ox b">.help</code>来获得用法提示，但是它会输出一个很大的命令列表，其中大部分我们在这一点上并不关心。在下面的摘录中，我截取了输出的大部分内容，只包含了将SQLite用作浏览器时有用的命令:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="8616" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; .help<br/>...<br/>.databases          List names and files of attached databases<br/>...<br/>.mode MODE ?TABLE? Set output mode<br/>.schema ?PATTERN?  Show the CREATE statements matching PATTERN</span><span id="69f7" class="nn md iu ox b gz pg pd l pe pf">.show              Show the current values for various settings<br/>...<br/>.tables ?TABLE?    List names of tables matching LIKE pattern TABLE<br/>...</span><span id="158f" class="nn md iu ox b gz pg pd l pe pf">Code language: plaintext (plaintext)</span></pre><h2 id="1263" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">。数据库</h2><p id="b42d" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">使用<code class="fe ou ov ow ox b">.databases</code>,我们可以看到哪个数据库连接到这个会话。您可以一次打开多个数据库，将数据从一个数据库复制到另一个数据库，或者连接不同数据库中的表中的数据。</p><p id="83f1" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">当输入这个命令时，它将输出如下内容:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="f96c" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; .databases<br/>main: C:\customers.db r/w</span><span id="d697" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><h2 id="4b43" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">。桌子</h2><p id="67fe" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated"><code class="fe ou ov ow ox b">.tables</code>命令显示所有可用的表。在我们的例子中，这个命令的输出如下所示:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="e9d5" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; .tables<br/>customers</span><span id="ef82" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><h2 id="844f" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">。 (计划或理论的)纲要</h2><p id="f6bc" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated"><code class="fe ou ov ow ox b">.schema</code>命令打印用于创建表的CREATE语句。当不带参数运行时，它将打印所有表的模式。您可以通过提供特定表的名称来打印该表的模式:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="1264" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; .schema customers<br/><strong class="ox iv">CREATE</strong> <strong class="ox iv">TABLE</strong> customers(<strong class="ox iv">name</strong> text, age int);</span><span id="582f" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><h1 id="27f1" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">浏览SQLite表</h1><p id="bee7" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">此时，我们知道有哪些表，甚至查看了这些表背后的模式。如果您想查看这些表中的内容，您需要使用SQL语法。如果您不熟悉SQL语法，您可以使用并调整我下面提供的示例来安全地浏览数据。这些命令都不会改变数据库。</p><h2 id="afd7" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">SELECT * FROM table _ name</h2><p id="7b40" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">SELECT语句从表中“选择”数据。我们可以给它各种选项来过滤输出。最简单快捷的开始方式是选择表格中的所有内容。我们通过使用通配符符号<code class="fe ou ov ow ox b">*</code>来做到这一点:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="9dde" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> customers;<br/>Erik|40<br/>Mary|53</span><span id="594e" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><p id="6048" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">您在输出中看到的是表中的行。然而，输出并不清楚。我们可以用<code class="fe ou ov ow ox b">.mode column</code>命令来解决这个问题:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="e340" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; .mode column<br/>sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> customers;<br/>name  age<br/><em class="nz">----  ---</em><br/>Erik  40 <br/>Mary  53</span><span id="9396" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><h2 id="4ba6" class="nn md iu bd me no np dn mi nq nr dp mm li ns nt mo lm nu nv mq lq nw nx ms ny bi translated">限制行数</h2><p id="787a" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">如果表格中有大量数据，您可能想要限制您看到的行数。这很容易做到，只需在select语句的末尾添加一个限制:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="ddf5" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> customers <strong class="ox iv">limit</strong> 1;<br/>Erik|40</span><span id="a967" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><p id="2b01" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">LIMIT接受两个值，所以上面的命令是<code class="fe ou ov ow ox b">limit 0, 1</code>的简写。含义:限制行数，从第0行开始，返回1行。</p><p id="a18a" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">所以极限的语法是:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="332f" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> <strong class="ox iv">TABLE</strong> <strong class="ox iv">limit</strong> START_ROW, NUMBER_OF_ROWS;</span><span id="78ee" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><p id="f15c" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">记住计算机从零开始计数，所以如果我们只想看到第二行，我们可以用这个:</p><pre class="kk kl km kn gu oy ox oz pa aw pb bi"><span id="2ce7" class="nn md iu ox b gz pc pd l pe pf">sqlite&gt; <strong class="ox iv">select</strong> * <strong class="ox iv">from</strong> customers <strong class="ox iv">limit</strong> 1, 1;<br/>name  age<br/><em class="nz">----  ---</em><br/>Mary  53</span><span id="7ee0" class="nn md iu ox b gz pg pd l pe pf">Code language: SQL (Structured Query Language) (sql)</span></pre><h1 id="ee85" class="mc md iu bd me mf ol mh mi mj om ml mm ka or kb mo kd os ke mq kg ot kh ms mt bi translated">结论</h1><p id="32c1" class="pw-post-body-paragraph kz la iu lb b lc mu jv le lf mv jy lh li mw lk ll lm mx lo lp lq my ls lt lu in bi translated">您已经学习了如何创建、打开和浏览SQLite数据库。我们已经研究了一些SQLite命令，它们帮助我们检查数据库及其表。最后，您学习了使用SELECT语句查看表中的数据。</p><p id="57ab" class="pw-post-body-paragraph kz la iu lb b lc ld jv le lf lg jy lh li lj lk ll lm ln lo lp lq lr ls lt lu in bi translated">下次当您开始一个项目或需要分析一些关系数据时，请考虑SQLite！很有可能，对于你所需要的来说，这已经足够了，而且可能会为你节省一些麻烦和宝贵的时间！</p></div></div>    
</body>
</html>