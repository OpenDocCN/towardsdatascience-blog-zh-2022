<html>
<head>
<title>Predicting My Next Workout with Machine Learning | Part 1: The Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用机器学习预测我的下一次锻炼|第1部分:数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/predicting-my-next-workout-with-machine-learning-part-1-2fdb07f9ded2#2022-07-12">https://towardsdatascience.com/predicting-my-next-workout-with-machine-learning-part-1-2fdb07f9ded2#2022-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c55a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从数据收集到模型部署，端到端的phyton项目查看来自Apple Watch的锻炼数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7830082245ab250490919cb1d321980a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-kvjfEqW3rKMOuibxHJOUA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@blocksfletcher?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">布洛克斯弗莱彻</a>在<a class="ae kv" href="https://unsplash.com/s/photos/apple-watch-exercise?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="d68a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这一系列帖子中，我将经历一个端到端机器学习项目的所有步骤。从数据提取和准备，到使用API部署模型，最后到创建一个前端来实际解决帮助决策的问题。每一个的主题是:</p><ol class=""><li id="1b49" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">项目设置、数据处理和数据探索</li><li id="8d4b" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">模型实验</li><li id="e589" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">模型部署</li><li id="8e08" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">数据应用程序创建</li></ol><p id="8e88" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们从第一部分开始:</p><h1 id="9348" class="mg mh iq bd mi mj mk ml mm mn mo mp mq jw mr jx ms jz mt ka mu kc mv kd mw mx bi translated">项目设置、数据探索和数据处理</h1><p id="7fa5" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">任何项目的第一个也是最关键的部分是明确定义你要解决什么问题。如果你对它没有一个清晰的定义，你可能应该回去头脑风暴一下为什么你会有这个想法，如果这真的不仅仅是你的问题。在产品领域有很多方法，我不会在本文中介绍来帮助这一步。现在，我们将只专注于定义当前的问题。</p><h2 id="b7c7" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">问题是</h2><p id="ad18" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">我希望，就像大多数人一样，我很难保持每天锻炼的充分动力。一个有时对我有帮助的工具是有一个智能手表来跟踪我的进度，并帮助查看朋友的锻炼和比赛等功能。然而，这些还不够，我的动力仍然起伏不定。这就是为什么我作为一名数据科学家，想要研究我过去的锻炼，以找出过去激励我的主要变量是什么，并预测我未来达到锻炼目标的概率。</p><p id="e08e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">用一句话来定义它:</p><blockquote class="np nq nr"><p id="4eea" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated">我的问题是长期保持锻炼的动力</p></blockquote><p id="f493" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们已经定义了我们想要解决的问题，我们可以开始设置我们的项目和我们的解决方案。</p><h2 id="55bb" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">项目设置</h2><p id="d120" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">在常规的数据科学项目中，我们必须遵循几个初始步骤。</p><ol class=""><li id="3cd9" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">Git储存库设置</li><li id="01f4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">基础设施供应</li><li id="0efa" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">环境设置</li></ol><p id="1e9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在任何软件项目中，能够创建项目和代码的版本是非常重要的。因此，我们的第一步将是创建一个GitHub库，以便存储和创建您的代码版本。GitHub的另一个有趣的特性是共享和贡献他人代码的能力。</p><p id="b8d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我不会一步一步地讲述如何创建存储库；只需输入“如何创建Github库”就可以了。对于这个项目，我使用的是<a class="ae kv" href="https://github.com/gabrielcassimiro17/apple-health-project" rel="noopener ugc nofollow" target="_blank">这个库</a>。</p><p id="784d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二部分是在云上提供基础设施，以开发并随后部署您的解决方案。目前，我不需要云基础设施，因为我的笔记本电脑可以很好地容纳数据量来进行初步分析。当我们开始创建实验和调整我们的超级参数时，我将向您展示如何在谷歌云平台上完成这些工作，特别是使用Vertex AI。</p><p id="4133" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后一部分是创建一个虚拟的开发环境。我喜欢用pyenv做这项工作。要安装pyenv <a class="ae kv" href="https://github.com/pyenv/pyenv#installation" rel="noopener ugc nofollow" target="_blank">看这里</a>。最后，有很多操作系统可以使用，但我个人更喜欢使用基于Unix的，如MacOS，或者如果你有Windows，你可以为Linux安装一个<a class="ae kv" href="https://docs.microsoft.com/en-us/windows/wsl/install" rel="noopener ugc nofollow" target="_blank"> windows子系统</a>。环境的另一部分是通过requirements.txt文件跟踪您的库。项目的<a class="ae kv" href="https://github.com/gabrielcassimiro17/apple-health-project" rel="noopener ugc nofollow" target="_blank"> GitHub库中有一个例子。</a></p><h2 id="c6c0" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">数据</h2><p id="25d2" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在，为了获得我们需要的数据，我们必须从iPhone上的健康应用程序中导出数据。这真的很容易做到，所以只需<a class="ae kv" href="https://support.apple.com/guide/iphone/share-your-health-data-iph5ede58c3d/ios#:~:text=data%20between%20apps.-,Tap%20your%20profile%20picture%20or%20initials%20at%20the%20top%20right,method%20for%20sharing%20your%20data." rel="noopener ugc nofollow" target="_blank">看看这里</a>如何做到这一点。</p><p id="8bb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们可以(终于)开始编码了。</p><p id="12ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">导出文件是一个zip文件，其中包含一个文件夹，里面有路线、心电图和一个包含所有健康数据的XML。下面的代码将解压文件夹，解析XML并保存为CSV格式。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="e49f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我们数据处理管道的第一部分。如果我们希望共享这一功能或者只是添加新的数据，那么拥有一个结构化的代码来处理数据是必不可少的。请注意，代码是作为一个函数来构造的。这将给我们的管道带来灵活性和模块化。</p><p id="0969" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了下面的数据帧<strong class="ky ir">准备建模</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/57f610c4e2251cebabfd30a52c103c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDy8JTUNdgJNVAqiOfTYBQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="e833" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">哈哈，开个玩笑。</p><p id="1430" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在现实生活中，数据几乎永远不会像Kaggle数据集那样随时可用。在这种情况下，我们遇到了数据格式的问题，元数据条目存储在列表中，日期必须被转换，这只是我们必须首先处理的一些事情。</p><p id="5115" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">做了什么:</p><ol class=""><li id="9cb2" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">仅过滤锻炼时间数据</li><li id="dfc3" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将日期转换为日期时间格式</li><li id="af03" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将值转换为浮点型</li><li id="6639" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">创建不带时间的日期列，只带天数</li><li id="0019" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将每天锻炼分钟数分组</li></ol><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="3391" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们有了每天锻炼时间的时间序列。我选择了锻炼时间而不是消耗的卡路里，因为这衡量的是我锻炼的天数而不是消耗的卡路里。这就是我们所说的项目的一个前提。跟踪这些前提并将其与问题陈述一起记录下来是非常重要的。</p><p id="2d92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的，我们现在取得了一些进展。所以现在我们可以开始创建模型了，对吗？</p><p id="af7e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在那之前我们还有几件事要做。首先，我们需要检查数据的质量，然后我们将创建一些要素，并在建模之前做一些探索性的绘图以产生一些见解。</p><h2 id="5e2a" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">数据质量检查</h2><p id="31c7" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">当我们谈论数据质量时，我们应该深入到数据是如何收集的，并考虑在这个过程中可能发生的一些问题。由于这些数据是在我的Apple Watch上收集的，我们首先应该探索的是，在我不戴手表的日子里会发生什么？</p><p id="526b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这可以归结为我们在数据中必须检查的两件事:</p><ol class=""><li id="f656" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">缺失数据</li><li id="6e14" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">极端值</li></ol><p id="e15c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就NAs而言，没有丢失数据。然而，有167次观察以0作为锻炼分钟数，这似乎是他们记录没有手表的日子的方式。我们可以在这张直方图中清楚地看到:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/8782111bb002b78aafe2a039df4fd3f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*3B3-jBOSp0pLTqeSGnFKzA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="642f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">搜索异常值，我们可以看到有几个异常值，但我们会保留它们，因为它们与现实相符，而不是异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/99c0386692e129a8b3b0eb8435be8632.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*Sn6bBePdu9Fr_QwDbVJV-A.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7321" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们还可以做很多其他检查来验证数据质量，但是对于这个例子，我们不会深入讨论，因为这个数据源是标准化的，非常可靠。</p><p id="dcdc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们从数据中收集了一些重要信息:</p><ol class=""><li id="7640" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">有1.737个观测值(天)；</li><li id="c6e1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">167个观测值以0为当天的运动分钟；</li><li id="3cbf" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">日期从2017年9月25日到2022年6月27日；</li><li id="ae26" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">在此范围内没有遗漏的日期。</li></ol><h2 id="5975" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">特征工程</h2><p id="6e31" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在我们可以玩些有趣的东西了。特征工程步骤是我们创建对模型有用的特征的假设。这是一个迭代过程，所以我们将在这里创建一些，稍后验证它们，并添加或删除功能。</p><p id="8c0b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的一些猜测来自经典的时间序列特征。它们是:</p><ol class=""><li id="c882" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">日期属性(日、工作日、月、年、季)</li><li id="69a3" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">滞后特征(最近一段时间消耗了多少卡路里)</li><li id="d749" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">滚动窗口特征(移动平均值、标准偏差、最大值、最小值)</li></ol><p id="a0d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在下一部分，我们将添加一些其他数据，如睡眠质量。</p><p id="7ea4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nw nx l"/></div></figure><p id="1169" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个重要的转换是创建月份特性的循环编码。这是对具有周期的时间特征进行编码的一个很好的技巧。这是通过获取每个月的正弦和余弦来实现的，最后，我们会得到这样的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/1c6057598cff6caabb0e1c7594bb3029.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1uTAjR7eeP0Cnpa133qYSA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="bc62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到12月和1月彼此更接近，而不是相距更远的1和12。</p><h2 id="e6ff" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">探索性分析</h2><p id="ddb6" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">现在我们将进行一些简单但有力的分析。这一步可以并且经常应该在特征工程之前执行，但是在这种情况下，我需要一些特征用于绘图。</p><blockquote class="np nq nr"><p id="1805" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated">记住:这是一个反复的过程</p></blockquote><p id="ecef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在一个长期的项目中，在得到最终的解决方案之前，你会经历很多次这样的循环。</p><p id="3a9c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们已经在上一步中查看了数据的分布，因此现在我们可以看到锻炼时间是如何随着一些时间特征而变化的。</p><p id="715f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">先说年份:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/529dde89d102fb1d5697538c17c91026.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*YOiq-oSsub5p_2UHiDx6EA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="d5e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以看到，2020年停止了我的趋势，主要是因为科维德疫情的锁定。</p><p id="88ee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以比较每个月的数据分布。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/f82c253ec1c5bd333c210a9a5bec81db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aFoVWcvfY5-fFi7Mw1fzPQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="34f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里我们可以清楚地看到，十二月不是我最好的朋友。主要原因很容易识别:年终聚会、假期、圣诞节，我一般会去度假。</p><p id="b67c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一件值得注意的事情是我的锻炼在一周的不同日子里是如何变化的。在此分析中，我们认为周一为标签0，周日为标签6。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/334e928cfb68905b3c66d484c135ee39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZewKzAljBOTKQBBjuoncxA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="1274" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">锻炼时间的中位数与一周中的其他日子相差不远，然而，在周末进行大规模锻炼的情况更为罕见。</p><p id="b237" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以用你的数据创造出无限的可视化效果。现在，我们将停止在那些上面。这里重要的是理解您的数据、分布以及它在不同聚合中的表现。</p><p id="fc60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您还可以基于这些分析创建<strong class="ky ir">决策</strong>。这里的一个例子是看周末数据趋势更低。一个可能的决定是制定一条规则，规定我只有在周末锻炼时才能喝酒。</p><p id="398d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">建模前我们要做的最后一件事是分解我们的时间序列。哦，我忘了说了，我们这里有一个时间序列。定义如下:</p><blockquote class="np nq nr"><p id="946f" class="kw kx ns ky b kz la jr lb lc ld ju le nt lg lh li nu lk ll lm nv lo lp lq lr ij bi translated">时间序列是在一定时间间隔内，以相等(规则/均匀间隔)的时间间隔进行的一系列重复观测</p></blockquote><p id="4682" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以分解一个时间序列来理解两件非常有用的事情:</p><ol class=""><li id="cd80" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">趋势</li><li id="d00a" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">季节性</li></ol><p id="38e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个时间序列由这两者的结合和一些残差组成。有几种方法来分解它，这里我们将使用加法。时间序列是一个庞大的主题，所以如果你想深入了解<a class="ae kv" href="https://www.machinelearningplus.com/time-series/time-series-analysis-python/" rel="noopener ugc nofollow" target="_blank">，请点击这里</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/3d3fded5f7655f187502a4063a712613.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q-Isy2Z2HFxjA5yVkui5uA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="4e03" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是大量的信息，让我们深入研究一下。</p><p id="cb17" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一个情节是原始时间序列。第二个是趋势成分，第三个是季节性，最后一个是残差。</p><p id="e400" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们从她那里得到的重要信息是:</p><ol class=""><li id="c6c7" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">我们可以确定一个与周相关的季节性，但在月与月之间没有太大关系；</li><li id="6844" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">残差似乎是均匀分布的。</li></ol><p id="9efd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这对我们有两点帮助。在特征工程步骤中，我们创建特征来捕捉正确的季节性，如果我们想要应用经典的时间序列模型，我们必须在参数中插入季节性。</p><p id="dd78" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">暂时就这样了。</p><h2 id="a92a" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">关键要点</h2><p id="d3f7" class="pw-post-body-paragraph kw kx iq ky b kz my jr lb lc mz ju le lf na lh li lj nb ll lm ln nc lp lq lr ij bi translated">这部分的主要要点是:</p><ol class=""><li id="0ed5" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated"><strong class="ky ir">定义问题</strong>；</li><li id="397c" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">设置您的环境，不要忘记记录您的软件包版本；</li><li id="29b1" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">记录你的项目<strong class="ky ir">前提</strong>；</li><li id="5a9e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">将您的数据处理组织成<strong class="ky ir">函数</strong>，这些函数可以在以后与新数据一起重用；</li><li id="f296" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">了解并清理您的数据；</li><li id="ebc4" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">如果可能的话，创建一些已经可以生成决策的描述性分析。</li></ol><h2 id="f73f" class="nd mh iq bd mi ne nf dn mm ng nh dp mq lf ni nj ms lj nk nl mu ln nm nn mw no bi translated">在下一部分:</h2><ol class=""><li id="b7bc" class="ls lt iq ky b kz my lc mz lf od lj oe ln of lr lx ly lz ma bi translated">我们将使用MLFlow建立一个实验框架来记录和比较我们的模型</li><li id="02aa" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们将创建多个模型并对它们进行比较</li><li id="dd10" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">我们将选择一个模型并优化其超参数</li></ol></div><div class="ab cl og oh hu oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="ij ik il im in"><p id="a7b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p><p id="050d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这篇文章，你可以看看我做的其他一些项目<a class="ae kv" href="https://gabrielcassimiro17.medium.com/" rel="noopener">这里</a>。</p><p id="aba3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，考虑订阅，以获得本系列的所有部分，当他们出来。</p></div></div>    
</body>
</html>