<html>
<head>
<title>Exploratory Data Analysis of Text Data - Do it Faster with TextData</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">文本数据的探索性数据分析——用Text Data做得更快</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/exploratory-data-analysis-of-text-data-do-it-faster-with-textdata-f7354dc72269#2022-04-14">https://towardsdatascience.com/exploratory-data-analysis-of-text-data-do-it-faster-with-textdata-f7354dc72269#2022-04-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="175d" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">TextData简化了文本数据的探索性数据分析，并节省了大量编码时间</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b9bbb93aa0b85617603dee1313996c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zRc13lEVbWBZEAnn"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="90cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据科学工作流程通常包括在第一阶段收集、预处理和清理数据。接下来是探索性数据分析(EDA ),千万不要跳过。通过查看数据、显示汇总统计数据和绘制图表，我们可以了解数据集的结构、发现异常值、观察变量的分布并做出初始假设。文本数据也不例外。</p><p id="55b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在python中执行文本数据的基本EDA，我们可以使用<code class="fe lv lw lx ly b">pandas,</code>描述数据，使用<code class="fe lv lw lx ly b">seaborn</code>或<code class="fe lv lw lx ly b">plotly</code>绘制直方图和热图，进行一些编程并接收术语频率，使用<code class="fe lv lw lx ly b">nltk</code>接收二元模型和三元模型。最后，术语频率可以用<code class="fe lv lw lx ly b">matpltlib</code>或<code class="fe lv lw lx ly b">plotly</code>显示在条形图中。有许多其他的方法可以做到这一点，虽然这很有趣，但它需要相当多的编码时间。</p><p id="fb93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://github.com/maxblee/text_data" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> TextData </strong> </a>是一个python库，旨在探索和分析文本数据。它提供了文本数据探索的主要方法，旨在用尽可能少的代码高效地完成基本的EDA任务。</p><p id="38a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，您将通过TextData了解基本的EDA方法:</p><ul class=""><li id="076b" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">文本语料库的数据总结</li><li id="3265" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">二元模型和三元模型计算</li><li id="8bb9" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">数据可视化(直方图和条形图)。</li></ul><p id="6983" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经典的<a class="ae ky" href="https://www.kaggle.com/datasets/atulanandjha/imdb-50k-movie-reviews-test-your-bert" rel="noopener ugc nofollow" target="_blank"> IMDb 50K电影评论</a>数据集非常适合我们的目的(数据许可在这里是<a class="ae ky" href="http://www.gnu.org/licenses/lgpl-3.0.html" rel="noopener ugc nofollow" target="_blank"/>)。已经清理了5000篇评论的子集(删除了数字、停用词和特殊字符)并用于语料库。</p><h1 id="ba8b" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">1.准备语料库</h1><p id="728c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">数据如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/b874c7c468f4df7918fcbc31fe08e355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQJRf-pQ-86OqExf5TRFqA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1: IMDb数据集</p></figure><p id="b9e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们从评论的文本中创建语料库如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="b18c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们也将语料库分成正面和负面情感子集，并设置它们的索引:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="fdb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们创建了语料库，我们就可以使用几个函数来搜索包含它们的特定单词、短语或文档。这里，我们在语料库中查询包含二元“优秀电影”的评论的数量和百分比:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="c2b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn"> IMDb数据集包括</em> 195 <em class="nn">条包含该短语的评论，这使得</em>占我们子集中所有评论的3.9 <em class="nn"> %。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/ac140720a58fc41279be57e3cea189b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UfmDuWo_RVSV0xfc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@designfuchs?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> max fuchs </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="3f1f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">2.总结数据</h1><p id="e6b3" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">我们现在将更仔细地研究语料库结构，总结数据并做一些基本的频率分析。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="7ab8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn">语料库中有</em> 49 539 <em class="nn">个独一无二的单词，总共有</em> 611 098 <em class="nn">个单词。</em></p><p id="b9cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">带有正面和负面情绪标签的评论中最常见的单词是这样打印的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/b514510bcfa5f532aac2213799a62857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GlMfUTM0vRfXIwaVquKcQw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:按情感标签排列的前10个最常出现的词</p></figure><p id="d0b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们打印10个最常见的正面评论。相应地，我们可以计算最频繁的三元模型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/cdfcb42e798b636c902bf2e505d74282.png" data-original-src="https://miro.medium.com/v2/resize:fit:784/format:webp/1*1GnpY2_HGAj0eB1IEHIPRg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:十大最常见的二元模型，积极情绪</p></figure><p id="fe08" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<code class="fe lv lw lx ly b">numpy</code>的帮助下，我们将绘制一个条形图，显示该子集中最常见的二元模型:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="b39b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常奇怪的是，条形图描绘了无序的短语。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/2361211c7fd9d588f13bdd10d3850088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X-UW_bA7I-sXaTwNIUBmQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4:十大双图条形图，积极情绪</p></figure><h1 id="6f0d" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">3.检查分布情况</h1><p id="ae9c" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">检查数据分布是EDA的必要部分。TextData提供易于实现的直方图，代码简单。</p><p id="4303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们按情感标签绘制评论长度的分布:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="d481" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，不开心的评论者(带有负面情绪的评论)倾向于写出他们的心声，而满意的评论者则写得稍微短一些。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/02fbb6daa4cf703c5472e5b336e81367.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VkxgrZ5dTHIzrNCqVC6HMg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5:按情感标签划分的评论长度直方图</p></figure><p id="a132" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn"> TextData还提供了一些其他的实用方法(热图、频数图、对数比值比等。).不要犹豫，自己去探索它们</em> <a class="ae ky" href="https://docs.maxblee.com/text_data/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="nn">这里</em> </a> <em class="nn">。</em></p><h1 id="2669" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated"><strong class="ak">结论</strong></h1><p id="ae71" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">TextData提高了人们处理文本数据的效率。一个很大的优势是与高质量数据可视化的强大库Altair的集成。它进一步加快了EDA研究，并使编码更短。</p><p id="3cae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不利的一面是，<em class="nn"> TextData </em>目前没有提供一个完整的文本分析工具所能提供的一些图形(例如，word cloud)。该库似乎仍在开发中，一些小问题(例如，图4中无序的条形图)应该在以后的版本中解决。</p><p id="8c44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完整的python代码可以在我的<a class="ae ky" href="https://github.com/PetrKorab/Exploratory-Data-Analysis-of-Text-Data---Do-it-Faster-with-TextData/blob/main/analysis_medium.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到，所以请放心使用。</p></div><div class="ab cl nt nu hx nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="im in io ip iq"><p id="5227" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nn"> PS:你可以订阅我的</em> <a class="ae ky" href="https://medium.com/subscribe/@petrkorab" rel="noopener"> <em class="nn">邮件列表</em> </a> <em class="nn">每次我写新文章都会收到通知。如果你还不是中等会员，你可以在这里加入</em><a class="ae ky" href="https://medium.com/@petrkorab/membership" rel="noopener"><em class="nn"/></a><em class="nn">。</em></p></div></div>    
</body>
</html>