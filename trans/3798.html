<html>
<head>
<title>Population versus Sample: Can We Really Look at Everything?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">总体与样本:我们真的能看到一切吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/population-versus-sample-b3199d6f1521#2022-08-23">https://towardsdatascience.com/population-versus-sample-b3199d6f1521#2022-08-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9fd9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Python中的统计实验</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/0b77d5a05eb60eff65e6dd87f572f700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rU2d-oBjaPw9sh2Q"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@ryoji__iwata?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">岩田良治</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a552" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们大多数人在学校或大学已经学过概率论和统计学。我发现这门学科的难点在于，尽管在实际应用中非常有用，但理论很难理解。其中一个原因是，更仔细地观察一些引入的概念会引出一些近乎哲学的问题。统计学中的人口是什么？基本上我们想看的所有东西。什么是一切？真的能什么都看吗？</p><p id="f28b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第二个挑战是概念的堆积。从随机实验中抽取样本本身就是随机实验。来自总体的样本也遵循概率分布，这与我们想要在总体中得到的统计分布无关。绕过背后苛刻理论的一个方法就是进行实验。这就是我们要做的，来更好地理解总体与样本。</p><h1 id="cb9b" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">填充我们的国家</h1><p id="7414" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们从产生100万居民开始。我们想看看不同的理论分布:</p><ul class=""><li id="c444" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">对于正态分布，我们以身高为例。我国人民的平均身高为176厘米，标准差为6厘米。</li><li id="db4b" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">为了均匀分布，我们所有的居民扔一个六面骰子，记住结果。</li><li id="0a1b" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">对于指数分布，我们假设下一条消息的平均等待时间为4分钟。</li></ul><p id="c01c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，我们只使用NumPy，这使得操作速度极快，内存开销很小。NumPy还提供了大量的统计功能，因此不需要使用像Pandas这样更复杂的结构。</p><p id="37e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以在一台简单的笔记本电脑上用几行NumPy代码轻松填充我们的国家。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="c61e" class="ni lt iq ne b gy nj nk l nl nm">population_size = 1000000</span><span id="09a6" class="ni lt iq ne b gy nn nk l nl nm">population_normal = np.random.normal(loc=176, scale=6, size=population_size)</span><span id="a61f" class="ni lt iq ne b gy nn nk l nl nm">population_uniform = np.random.choice(6, size=population_size) + 1</span><span id="97c6" class="ni lt iq ne b gy nn nk l nl nm">population_exp = np.random.exponential(4, size=population_size)</span></pre><h1 id="eecb" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">看看我们的国家</h1><p id="fe28" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">当我们的国家人口增加后，我们可以很容易地看到整个人口；我们甚至可以立即进行人口普查，从而获得真实的人口参数的平均值和方差。请注意，当谈论现实中的实际人口时，这实际上是不可能的。一般来说，做一次全面的人口普查既费时又费力。这就是为什么我们需要统计数据。</p><p id="5725" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请注意，尽管我们有一个相当大的百万人口，我们人口中的参数均值并不完全是我们在随机生成人口时指定的。随机发生器给了我们这些偏差。世界并不完美，即使在电脑里也是如此。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="0418" class="ni lt iq ne b gy nj nk l nl nm">print("Population Mean (normal): %.10f / Population Variance (normal): %.10f" % <br/>      (np.mean(population_normal), np.var(population_normal)))</span><span id="0fec" class="ni lt iq ne b gy nn nk l nl nm">print("Population Mean (uniform): %.10f / Population Variance (uniform): %.10f" % <br/>      (np.mean(population_uniform), np.var(population_uniform)))</span><span id="170d" class="ni lt iq ne b gy nn nk l nl nm">print("Population Mean (exponential): %.10f / Population Variance (exponential): %.10f" % <br/>      (np.mean(population_exp), np.var(population_exp)))</span><span id="b127" class="ni lt iq ne b gy nn nk l nl nm">Population Mean (normal): 175.9963010045 / Population Variance (normal): 35.9864004931<br/>Population Mean (uniform): 3.5020720000 / Population Variance (uniform): 2.9197437068<br/>Population Mean (exponential): 4.0014707139 / Population Variance (exponential): 15.9569737141</span></pre><h1 id="a885" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">大量的统计数据</h1><p id="943b" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在我们开始实际做统计。我们不是观察整个人口，而是取样。与挨家挨户询问100万人相比，这是获得大量人口信息的更现实的过程。</p><p id="7433" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最重要的是要明白，每个样本都是随机实验。理想情况下，样本是完全随机的，以避免任何偏差。在我们的随机实验中，情况就是这样。在现实生活中，这种情况更为罕见。除了如果不小心的话可能会引入偏差之外，这并不重要:每个样本都是随机实验。</p><h2 id="9d94" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">设计实验</h2><p id="3f36" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们实验的目的不在于获得人口统计数据，而主要是为了理解整个过程。因为我们有非常有效的方法来获得关于我们的人工种群的信息，所以我们可以做很多实验。</p><p id="19b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">首先，我们将使用三种不同的样本规模:10人、100人和1000人。请注意，即使是最大的样本也只占总人口的1%,这让我们节省了99%的精力。因为我们想了解我们的随机样本在统计上代表我们的总体有多好，所以我们将不止询问一个样本，而是每个样本大小的1，000个样本。</p><p id="c8aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在现实生活中，我们通常只取一个样本。这可能是我们一千个样本中的任何一个。如果我们观察1，000个样本的分布，我们可以得到一个提示，即选择具有特定统计结果的特定样本的概率。</p><h2 id="8b6f" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">实施实验</h2><p id="c771" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">想法是在Python中使用相对简单的结构。它也只是一个用来玩概念游戏的笔记本。使用函数重构代码并减少笔记本中的复制和粘贴重用将是一个值得做的练习，但我没有做。</p><p id="cb56" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在设定了实验次数和样本量之后，我们把我们所知道的关于总体的所有信息打包到一个叫做分布的列表中。为了存储我们的实验结果，我们准备了NumPy数组，有足够的空间来保存我们所有实验的结果。我们需要3个分布乘以3个样本大小的NumPy数组。现在我们感兴趣的是随机实验的均值和方差。</p><p id="95f4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在所有这些准备工作之后，它只是一组嵌套的for循环来完成所有的工作。再次使用NumPy的好处是代码非常快，因为我们可以通过调用NumPy函数来完成所有困难的工作。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="259d" class="ni lt iq ne b gy nj nk l nl nm">no_experiments = 1000<br/>sample_sizes = [10, 100, 1000]<br/>distributions = [population_normal, population_uniform, population_exp]<br/># initialize the lists of lists using np.zeros(no_experiments)<br/>sample_means = [...]<br/>sample_variances = [...]</span><span id="18bf" class="ni lt iq ne b gy nn nk l nl nm">s=0<br/>for sample_size in sample_sizes:<br/>    d=0<br/>    for distro in distributions:<br/>        for i in range(no_experiments):<br/>            sample_normal = np.random.choice(distro, sample_size)<br/>            sample_means[s][d][i] = np.mean(sample_normal)<br/>            sample_variances[s][d][i] = np.var(sample_normal)<br/>        d = d+1<br/>    s = s+1</span></pre><p id="8e28" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意，代码被缩短了。如果您想详细查看代码，可以在<a class="ae kv" href="https://github.com/Nop287/population_vs_sample" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得整个Python笔记本。</p><h1 id="f475" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">评估方法</h1><p id="1626" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在做了大量随机实验后，我们想看看结果。我们使用Matplotlib来处理我们的NumPy数据结构。请记住，我们有意对总体参数采用三种不同的分布。让我们看看我们得到的关于人口的均值和方差的统计数据。</p><h2 id="5e86" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">正态分布的平均值</h2><p id="a315" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">我们首先关注的是人口的高度。我们国家有100万人口，平均身高176厘米，标准偏差6厘米。但现在，我们正在查看分布在50个柱状图箱中的1000个随机实验的结果。我们查看所有样本大小的直方图。</p><p id="2ef9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们很容易看到我们的结果大致呈正态分布。这与身高在我们人群中也是正态分布的事实无关。正如我们将很快看到的，我们的随机实验将总是正态分布的。因此，从正态或其他分布的总体中抽取随机样本通常会给出正态分布的结果或统计值。</p><p id="456d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">观察三种样本大小，有一些更值得注意的观察结果:</p><ul class=""><li id="f07f" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">直方图箱将总是加起来有1000个实验。所以我们总是在柱状图中看到所有的实验。</li><li id="db54" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">样本越大，我们的直方图越接近正态分布。</li><li id="d8f8" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">样本量越大，我们的实验就越接近总体均值。</li><li id="7937" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">由于x轴的标度是绝对的，并且具有较大样本大小的实验的结果不是分散的，所以箱也较小。</li></ul><p id="00fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们再次看到，对1%的人口进行抽样，可以得到非常精确的总体均值结果。实际上所有的实验都在实际群体平均值的1厘米以内。由于正态分布不仅非常普遍，而且在数学上也很容易理解，所以你可以计算出在某个区间内你的实验次数。这里我们不做任何数学，只是用Python和NumPy做实验。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="8659" class="ni lt iq ne b gy nj nk l nl nm">fig, ax = plt.subplots(1, 1)<br/>plt.hist(sample_means[0][0], **kwargs, color='g', label=10)<br/>plt.hist(sample_means[1][0], **kwargs, color='b', label=100)<br/>plt.hist(sample_means[2][0], **kwargs, color='r', label=1000)<br/>plt.vlines(176, 0, 1, transform=ax.get_xaxis_transform(), <br/>           linestyles ="dotted", colors ="k")<br/>plt.gca().set(title='Histograms of Sample Means', <br/>              xlabel='Height', ylabel='Frequency')<br/>plt.legend()<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/69f57cf7b9ce45a671442e1d9e9a9301.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*PEFWFwyQwWHBc0duFku8bA.png"/></div></figure><p id="8bd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所有其他直方图的代码遵循相同的模式，将被省略。如果您想详细查看代码，可以在<a class="ae kv" href="https://github.com/Nop287/population_vs_sample" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得整个Python笔记本。</p><h2 id="0f60" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">离散均匀分布的平均值</h2><p id="bbe5" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">现在我们有了人口平均身高的统计数据。现在我们看看我们国家的每个居民扔的六面骰子。每个桌游玩家都应该知道，人口平均值是3.5。三种样本大小的1000次实验的直方图形状也大致呈正态。这是正态分布实际用途的另一个暗示。在这里，我们掷骰子的均匀分布和获得统计平均值的实验的正态分布之间显然没有直接联系。</p><p id="c298" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们掷骰子的离散性质只给了我们六种可能的结果，再加上大量的条块，给了我们一个样本大小为10的奇怪的直方图。原因是投掷六面骰子十次的结果数量有限，即10到60之间的所有自然数。这在直方图中给了我们一些间隙，但是形状仍然类似于正态分布。</p><p id="f91a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">同样，正态分布随着样本数量的增加而变得越来越窄，在1000个样本的情况下，我们实际上已经非常接近所有实验中的总体均值3.5。然而，正如曲线的锯齿状所显示的那样，仍然存在相当多的随机性，就像高度的连续正态分布一样。在我们的设置中，我们可以通过用不同的样本大小做10，000次甚至100，000次实验来减少这种情况。即使是旧笔记本电脑，这也很容易做到。这在真实人群中是不实际的，因为你最好采取大样本，而不是用小样本做大量的调查。如果你算一下，你会很容易发现，与其问1000个随机样本1000次，你还不如做一次全面的人口普查，问每个人。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/eec3085409166c5759684459009d48d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*r61mJhF2xncGFc7txt1DAw.png"/></div></figure><h2 id="1994" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">指数分布的平均值</h2><p id="cfa0" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">图片开始重复，我们得到了非常相似的结果，抽样指数分布的等待时间为下一个信使消息在我们的人口。但是，如果你仔细观察，你会发现10人的小样本并不倾向于以4人的总体均值为中心。原因是，与均匀分布和正态分布相反，指数分布是非对称的。如果我们在一个随机实验中得到其中一个，我们会得到一些很长的等待时间，这扭曲了我们的平均值。在小样本中，这些异常值会扭曲平均值。在较大的样本中，它是均匀的，我们来看看样本平均值的典型正态分布。</p><p id="cb41" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">认识到这些异常值实际上是我们数据的一部分是很重要的。我们人群中的一些人等待下一条消息等了40分钟，而平均等待时间只有4分钟。所以我们不是在处理错误的测量。然而，当处理小样本时，消除这些异常值以获得实际平均值的更精确的图像可能仍然是有益的。当我们不知道你们人口中的分布时，这个问题更难判断，因为我们知道我们正在处理一个指数分布。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/1a7c4bf65b7e8b68374503df5678c73a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*kPrLPCYnvxjpVXBZt5urrg.png"/></div></figure><h1 id="6f65" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">评估差异</h1><p id="9677" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">目前，我们正在研究人口平均值，这通常是最相关的信息。还有更多相关的统计参数。最大值或最小值在样本中对我们没有太大帮助，除了检查上面讨论的潜在异常值。我们在样本中获得实际人口最大值或最小值的机会非常小。为了理解我们人口中的分布，方差可能是有帮助的。样本方差是一个合理的计算值。</p><h2 id="5502" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">数学</h2><p id="361a" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">方差的公式为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d7fef243236a5dde148958f28b93d483.png" data-original-src="https://miro.medium.com/v2/resize:fit:344/format:webp/1*1e8ZJ-Kti_4QxMU9z8R4VA.png"/></div></figure><p id="6c1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可能还记得一些关于方差的事情:</p><ul class=""><li id="472d" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">标准差是方差的平方根。我们在这里不需要它，但重要的是要知道我们谈论的基本上是同一件事。</li><li id="ee42" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">样本方差的计算方式不同。我们使用1<em class="ob">/(𝑁</em>1)来计算样本方差。</li></ul><p id="51d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这实际上更复杂，因为我们需要在查看样本方差时考虑<a class="ae kv" href="https://onlinestatbook.com/2/estimation/df.html" rel="noopener ugc nofollow" target="_blank">自由度</a>。在我们的实验内，每个实验我们都可以用1，所以我们就不麻烦了。米歇尔·莱什在这个<a class="ae kv" href="https://www.youtube.com/watch?v=xJlwSkyeP0k" rel="noopener ugc nofollow" target="_blank">视频</a>中很好地解释了数学背景。</p><h2 id="5e1a" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">实验</h2><p id="1ed1" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">看看我们的实验，总结是:你可以忘记数学。除以1000或者999反正差别不大。理论上，样本量为10时，我们应该从总体方差中平均抽取10%的样本。但是，一旦我们观察样本均值的分布，以及在样本量为10的1000次实验中样本方差是如何分布的，我们的结论是，相差10%一点也不坏。我们大多数样本大小为10的实验都远远偏离了实际的总体方差。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/120693c733bf42be986aeacb02ff5ffe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*CKLKk7bhsAZ2Se5iDCIt_Q.png"/></div></figure><h2 id="4b5c" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">从不同的角度来看</h2><p id="29c2" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">在看到大量近似正态分布的直方图后，我们可以尝试另一种可视化。我们的方差实验结果类似于近似正态分布的均值，更接近于样本量较大时的总体方差。为了更好地理解样本大小对方差统计估计质量的影响，我们使用了<a class="ae kv" href="https://en.wikipedia.org/wiki/Box_plot" rel="noopener ugc nofollow" target="_blank">箱线图</a>。</p><p id="33e8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">箱线图给出了1000次实验的平均值，加上偏离统计平均值的标准偏差范围。虽然一切听起来都很自然，但更详细的观察是值得的:</p><ul class=""><li id="9e29" class="mp mq iq ky b kz la lc ld lf mr lj ms ln mt lr mu mv mw mx bi translated">我们正在使用样本估计方差。</li><li id="5884" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">对于每个样本量，我们进行1000次方差估计。</li><li id="d428" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">通过实验，我们得到了1000个估计值的统计方差的平均值。</li><li id="33c1" class="mp mq iq ky b kz my lc mz lf na lj nb ln nc lr mu mv mw mx bi translated">1000次实验也有一个方差，就是标准差的平方。</li></ul><p id="75a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以这个方框图显示了，在一定样本量下，我们对总体方差估计的方差。当进行实验时，这是很自然的。对正在发生的事情进行理论上的抽象思考并不会让它变得更容易。</p><p id="865a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">结果看起来是合理的:随着样本量的增加，我们得到的总体方差的统计估计值越来越小。有了1000个样本，我们非常接近总体方差。箱线图比重叠直方图更清楚地显示了这一点。然而，我们正在处理的近似正态分布随机实验的信息却丢失了。通常，尝试不同的可视化是值得的，因为它们往往会对数据给出不同的见解。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="1acf" class="ni lt iq ne b gy nj nk l nl nm">fig, ax = plt.subplots(1, 1)<br/>plt.boxplot([sample_variances[0][1], sample_variances[1][1],<br/>             sample_variances[2][1]])<br/>ax.set_xticklabels(['10', '100','1000'])<br/>plt.gca().set(title='Box Plots of Sample Variances', <br/>              xlabel='Sample size', <br/>              ylabel='Sample variance')<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/3798f8b71879a8d687dac0ee9a130638.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*DIQdqLBhJ0BNd-32uY34UA.png"/></div></figure><h2 id="f8ff" class="ni lt iq bd lu no np dn ly nq nr dp mc lf ns nt me lj nu nv mg ln nw nx mi ny bi translated">极端值</h2><p id="5075" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">正如我们在均匀分布的方差箱线图中已经看到的，在我们的实验中也有异常值。对于均匀分布，这是很少的，我们有一个大致相似的所有样本大小的数字。对于非常不对称的指数分布，这是非常不同的。同样，使用小样本量的平均值，我们也差得很远。</p><p id="ccc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们得到一个更极端的值，其他样本不能补偿它，我们得到平均值或方差的极端结果。这产生了大量的异常值。如果我们有更大的样本量，在计算均值或方差时，我们有更好的机会让其他样本补偿极值。箱线图明确显示了这一点，而在处理直方图时，尤其是离群值往往会被忽略。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/4bd5946f88fd4e48ddd195809f30f525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*dag4KHca85ngWn8LVLMQPA.png"/></div></figure><h1 id="ece3" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">结论</h1><p id="9717" class="pw-post-body-paragraph kw kx iq ky b kz mk jr lb lc ml ju le lf mm lh li lj mn ll lm ln mo lp lq lr ij bi translated">从这篇文章中要记住的是，当试图理解复杂的理论事物时，做一些实验是值得的。特别是在概率论和统计学中，这是很容易做到的。Python是一个很好的工具，因为有许多库可以覆盖甚至最高级的构造。但是即使Excel也支持相当大的一组统计函数，并且可以用于实验。</p><p id="daf6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">除了对理论有所了解，对实验所用工具的熟练程度也会提高。一旦你有了基本的要素，你就可以很容易地改变你的实验。例如，试着做100，000次实验，而不是1，000次。你仍然会做随机实验，但是结果的分布将会更接近理论分布。</p><p id="7ff4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">再次记住，你可以在<a class="ae kv" href="https://github.com/Nop287/population_vs_sample" rel="noopener ugc nofollow" target="_blank"> Github </a>上获得整个Python笔记本。</p></div></div>    
</body>
</html>