<html>
<head>
<title>5 Python Mistakes You Should Avoid</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该避免的5个Python错误</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-python-mistakes-you-should-avoid-12104e350030#2022-09-02">https://towardsdatascience.com/5-python-mistakes-you-should-avoid-12104e350030#2022-09-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7841" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一些最常见的错误很难找到</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2bdc0de5e698e83baacba72b05ce6366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cbFuQtttuqAwr8jE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Javier Allegue Barros 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b39c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python非常直观，是编程初学者的最爱。虽然语法简单明了，脚本也很简短，但还是需要注意一些细节。忽略它们可能会导致您的代码被破坏，让您头疼。</p><p id="9cce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将看看五个常见的Python编程新手错误以及如何防止它们。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9ef3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1.一遍又一遍地修改列表</h1><p id="e7a3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在迭代集合或列表时对其进行更改并不是一个好主意。在迭代过程中，许多程序员不小心从列表中删除了项目。这里有一个恰当的例子:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="8295" class="ne md it na b gy nf ng l nh ni">odd = lambda x : bool(x % 2)<br/>numbers = [i for i in range(10)]<br/>for i in range(len(numbers)):<br/>    if odd(numbers[i]):<br/>        del numbers[i]</span></pre><p id="7fcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具体来说，错误如下:</p><blockquote class="nj nk nl"><p id="8be4" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">索引错误:列表索引超出范围</p></blockquote><p id="32c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">解决方案:使用列表理解可以帮助我们。</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="4fc3" class="ne md it na b gy nf ng l nh ni">odd = lambda x : bool(x % 2)<br/>nums = [i for i in range(10)]<br/>nums[:] = [i for i in nums if not odd(I)]<br/>print(nums)</span></pre><h1 id="d10a" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">2.模块名称冲突</h1><p id="1b5f" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">可用Python包和库的数量和种类令人印象深刻。如果您为Python模块指定的名称与Python标准库中已有的名称相同，则可能会出现名称冲突。</p><p id="1bb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该注意代码中的模块和标准库中的模块之间的名称冲突，比如<strong class="lb iu"> math.py </strong>和<strong class="lb iu"> email.py </strong>。</p><p id="c60d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您导入一个库，并且该库试图从Python标准库中导入模块，您可能会遇到一些棘手的问题。因此，软件包可能会尝试从Python的标准库中导入您的复制模块，而不是正式模块。</p><p id="dead" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出于这个原因，您不应该使用与Python标准库中相同的模块名称。</p><h1 id="8879" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">3.不关闭已经打开的文件</h1><p id="a964" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Python建议在完成最后一个操作并且文件不再使用后关闭打开的文件。</p><p id="e220" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请务必记住，您打开的文件可能会占用系统资源，如果您在使用完这些文件后不关闭它们，它们会被锁定。</p><p id="fcb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在读取文件时，始终使用<strong class="lb iu">和</strong>将有助于防止这些问题。它会自动保存您的更改，并在您完成后关闭文件。</p><h1 id="ffb4" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">示例:</h1><p id="c798" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">而不是:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="baf9" class="ne md it na b gy nf ng l nh ni">file_1 = open(‘filename_demo.txt’, ‘w’)<br/>file_1.write(‘new_data’)<br/>file_1.close()</span></pre><p id="eb3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">方法如下:</p><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="d58d" class="ne md it na b gy nf ng l nh ni">with open(‘filename_demo.txt’, ‘w’) as file_1:<br/>    file_1.write(‘new_data’)</span></pre><h1 id="bba8" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">4.不了解Python函数是如何工作的</h1><p id="ad3e" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">Python预装了几个有用的工具。他们中的一些人可能做类似的任务；然而，它们的做法可能不同。如果我们，作为程序员，没有完全掌握某个函数是如何操作的，那么如果我们使用它，我们就冒着得到意想不到的后果的风险。</p><p id="0722" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python中，我们有两个不同的函数——<strong class="lb iu">sort()</strong>和sorted——用于以某种<strong class="lb iu"> sorted() </strong>排列集合中的项目。它们都服务于相同的目的——以一定的顺序排列一个集合。但是这两个功能是如何运作的是截然不同的。</p><h1 id="2d0c" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">示例:</h1><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="a54b" class="ne md it na b gy nf ng l nh ni">list1 = [6, 5, 7, 2, 9, 3]<br/>print(list1.sort())</span><span id="ed41" class="ne md it na b gy nv ng l nh ni">list2 = [6, 2, 8, 5, 3, 11]<br/>print(sorted(list2))</span></pre><h1 id="0b97" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">输出:</h1><pre class="kj kk kl km gt mz na nb nc aw nd bi"><span id="de73" class="ne md it na b gy nf ng l nh ni">None</span><span id="9793" class="ne md it na b gy nv ng l nh ni">[2, 3, 5, 6, 8, 11]</span></pre><p id="541c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到底发生了什么事？尽管sort()和sorted()都很有用，但排序后的列表是由后者打印的，而sort()返回None。</p><p id="70fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，<strong class="lb iu"> sort() </strong>在排序(就地排序)时修改原始序列，不返回任何内容。另外，<strong class="lb iu"> sorted() </strong>函数总是在不改变输入顺序的情况下生成一个排序列表。</p><h1 id="8485" class="mc md it bd me mf nq mh mi mj nr ml mm jz ns ka mo kc nt kd mq kf nu kg ms mt bi translated">5.误用_init_方法</h1><p id="db0b" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><strong class="lb iu"> _init_ </strong>函数是一个特殊的、保留的Python方法，用于创建对象。每当Python创建一个类的实例时都会调用它，让该实例为该类的属性和方法设置值。</p><p id="d7a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当一个类的对象被创建时，这个方法的工作是填充类的数据成员的值。然而，程序员经常因为让函数返回值而偏离了这个<strong class="lb iu"> _init_ </strong>函数的预期用途。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="cdc7" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论</h1><p id="5070" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们已经讨论了每个python开发人员最常犯的五个错误以及如何解决它们。</p><p id="d66d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您采用这些改进技巧，您可以使您的Python代码更加优化和无bug。这些技巧在某些时候对竞争性编程也很有帮助。</p><p id="77d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我希望你喜欢这篇文章。更多精彩文章敬请期待。</p><p id="8ad6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><blockquote class="nj nk nl"><p id="8749" class="kz la nm lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated"><em class="it">在你走之前……</em></p></blockquote><p id="33c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢这篇文章，并且想继续关注更多关于<strong class="lb iu"> Python &amp;数据科学</strong>的<strong class="lb iu">精彩文章</strong>——请考虑使用我的推荐链接<a class="ae ky" href="https://pranjalai.medium.com/membership" rel="noopener">https://pranjalai.medium.com/membership</a>成为中级会员。</p><p id="68e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，可以随时订阅我的免费简讯:<a class="ae ky" href="https://pranjalai.medium.com/subscribe" rel="noopener"> <strong class="lb iu"> Pranjal的简讯</strong> </a>。</p></div></div>    
</body>
</html>