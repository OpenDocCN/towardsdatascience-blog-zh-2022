<html>
<head>
<title>SQL to SARIMAX: How I navigate the first time-series analysis personal project for my portfolio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQL到SARIMAX:我如何为我的投资组合导航第一个时间序列分析个人项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sql-to-sarimax-how-i-navigate-the-first-time-series-analysis-personal-project-for-my-portfolio-1ed24cba2c52#2022-04-06">https://towardsdatascience.com/sql-to-sarimax-how-i-navigate-the-first-time-series-analysis-personal-project-for-my-portfolio-1ed24cba2c52#2022-04-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ef3f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">包括我在做这个项目时用来学习时间序列的资源(MySQL、ARIMA订单选择、Jupyter笔记本中的并行化等)</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e9d61788eb49780ad1e93d77cc6f164b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6CuN2zDFni6PWO48"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae kv" href="https://unsplash.com/@wonderlane?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Wonderlane </a>拍摄的照片</p></figure><h1 id="7f3a" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">头脑风暴</h1><p id="5905" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我创建个人项目的过程通常始于知道我想要学习或提高什么类型的技能或知识。对于这个项目，我心中有两个目标:(1)学习时间序列分析和(2)练习将SQL技能应用到实际项目中。</p><p id="746a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我从<a class="ae kv" href="https://www.kaggle.com/c/store-sales-time-series-forecasting/overview/description" rel="noopener ugc nofollow" target="_blank"> Kaggle </a> Knowledge找到了一个适合这个项目的数据集，其中包含了一家厄瓜多尔杂货零售商的销售信息。我快速看了一下这个问题和一些已经出版的笔记本，其中大部分解决了从这个数据集中的所有变量预测销售额的问题。通过更仔细地观察数据集中的变量，我脑海中出现了一个问题，这个问题在本次挑战的参与者中没有得到很好的解决:促销在增加销售额方面是否有效？这种知识对这家连锁商店是有益的，因为它有助于了解不同产品和地点对促销的不同反应，从而可以相应地调整营销策略。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/e0f86939cc9381ae6a6db0e310313155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*i_i05bxqrQHx0YNm"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Artem Beliaikin 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="9b24" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">从EDA和SQL开始</h1><p id="4372" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如上所述，我在这个过程的主要部分使用了SQL，因为这样我就不必在整个分析过程中重新加载多个大表并存储它们。相反，我在MySQL server中创建和存储了我的表，并且只查询了我想要可视化或进一步研究的相关数据子集。至于如何设置，你可以参考我的脚本<a class="ae kv" href="https://github.com/irenechang1510/sales-analysis/blob/main/mysql_connection.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>:</p><p id="6311" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从这里开始，我继续使用Python-SQL连接来实现我的EDA。下面是一个使用它来检查销售额和商店位置之间关系的示例:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="245a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">结果是一个组织良好的数据集，从中我们可以以各种方式过滤和可视化数据:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8748681d1e8279d8f8473a2bcfeeb473.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*as4Krm9A0x7s528HbWQf2Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="3026" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">总的来说，当我在这个数据集上做EDA时，我比以前更加强调讲故事的方面。我过去的大多数分析都没有明确的方向，也没有一个好的理由来支持我对变量的选择。简而言之，与其说我的分析有明确的目标，不如说是大海捞针。这一次，我采取了不同的方法，从<a class="mt mu ep" href="https://medium.com/u/e49ad09c9fd1?source=post_page-----1ed24cba2c52--------------------------------" rel="noopener" target="_blank"> Chaya Bakshi </a>那里得到建议，为我想通过我的数据(和我的潜在观众想听到的)精心制作的“叙述”想出一个连贯的大纲。这包括在直接进入Jupyter笔记本之前建立相关的假设和问题，选择相关的功能和可视化子集来支持您的主张，并在问题的背景下浓缩您的发现的关键要点和含义。这种以故事为中心的思维方式有助于我理解应该如何处理新的数据集以及如何进行更好的EDA，我鼓励你在进行EDA时记住自己的叙述。我的完整文章可以在<a class="ae kv" href="https://docs.google.com/document/d/17K_Orm-841ehCpNxM86i9xVOcd3ARoUdNV-BwFXaDFY/edit" rel="noopener ugc nofollow" target="_blank">这里</a>访问，而<a class="ae kv" href="https://github.com/irenechang1510/sales-analysis/blob/main/promotion_analysis.md" rel="noopener ugc nofollow" target="_blank">这里</a>是笔记本的链接(第1 — 4节)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/8acbc7e8fb44216916842ee21d852101.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wc7x3Cw1sX6ERkKy"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">克里斯·利维拉尼在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="b852" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">促销的时间序列分析</h1><p id="3973" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">EDA的最后一部分，提升，需要一些额外的模型构建步骤。我已经将离散的目标变量——on promotion——转换成一个二元变量，因为我的目标是比较两组:促销与不促销。由此，作为一个时间序列的初学者，我不确定应该使用什么样的模型或软件包。后来在这个项目中，我意识到pmdarima对于这个特定的任务是一个非常有用的工具，但当时，我不知道它如何适用于我的工作，或者我甚至不知道我是否需要arima(这本<a class="ae kv" href="https://otexts.com/fpp2/arima.html" rel="noopener ugc nofollow" target="_blank">电子书</a>包含了对ARIMA和其他关键时间序列知识的大量描述)。因此，我将我的分析范围缩小到一个更细粒度的级别，并试图首先为它找到一个正确的模型。我选择的数据子集包括基多市1号商店的杂货I产品的每日销售信息。最初的可视化显示了两组之间潜在的显著差异，这是我们正在挖掘的关系。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/04e9f5abb3e51edccdc46974240da03e.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*aMPxeiZ5SUwUh2Jue7t_7w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="ad56" class="mx kx iq bd ky my mz dn lc na nb dp lg lx nc nd li mb ne nf lk mf ng nh lm ni bi translated">2.1找到合适的模型</h2><p id="ad61" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在非时间序列问题中，解决方案可以是使用双样本t检验来查看销售额是否有任何显著差异。然而，这种类型的统计测试中的一个假设是数据点之间的独立性，这是时间序列数据通常无法实现的，除非该序列是平稳的(阅读更多<a class="ae kv" href="https://stats.stackexchange.com/questions/19715/why-does-a-time-series-have-to-be-stationary" rel="noopener ugc nofollow" target="_blank">此处</a>)。我一直在寻找一个替代方案，直到我偶然发现了<a class="ae kv" href="https://stats.stackexchange.com/questions/118425/using-2-sample-t-test-in-time-series-data" rel="noopener ugc nofollow" target="_blank">这个</a>讨论:我需要的是一种ARIMA模型，它包含一个<strong class="lq ir"><em class="nj"/></strong>外生变量，在我的例子中，就是二进制onpromotion特性。</p><p id="8005" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在确定合适的ARIMA模型时，我发现这篇文章非常有帮助。出于学习的目的，我从手动选择模型的阶数开始。以下是我从中学到的一些主要经验:</p><ul class=""><li id="dfcc" class="nk nl iq lq b lr mk lu ml lx nm mb nn mf no mj np nq nr ns bi translated">为了获得时间序列的<strong class="lq ir">趋势</strong>和<strong class="lq ir">季节性</strong>的总体感觉，我使用了statsmodel中一个流行的函数seasonal_decompose，以及plot_acf和plot_pacf来可视化数据。在这里，例如，季节性成分和ACF，PACF图表明一个非常明显的模式，似乎是一个周周期。在这种情况下，我们肯定需要一个<strong class="lq ir">季节性ARIMA</strong>——带有外生变量(<strong class="lq ir"> SARIMAX </strong>)。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/fa03859ec832ccc24411143ed194e660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5cikwmPJzpl6HOX6xl8SA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="1f3b" class="nk nl iq lq b lr mk lu ml lx nm mb nn mf no mj np nq nr ns bi translated">接下来是对数据进行更深入的技术性分析。对于<strong class="lq ir"> <em class="nj">平稳性</em> </strong>，这篇来自Heiko的<a class="ae kv" rel="noopener" target="_blank" href="/when-a-time-series-only-quacks-like-a-duck-10de9e165e">文章</a>提供了一个非常彻底的检查平稳性的过程，包括使用KPSS和阿德富勒测试(两个最常见的平稳性测试)。规则是，如果任何一个测试表明序列不是平稳的，就要区别对待。为了实现平稳性，我们可以使用pmdarima库中的函数<strong class="lq ir"> ndiffs() </strong>来帮助确定差值的阶数，并使用两个测试中的<strong class="lq ir"> max </strong>建议阶数来获得相应的差值。<em class="nj">注意</em>:如果差分后得到的ACF/PACF图下降到大的负值(像我下面的)，很可能我们过度差分了，我们应该恢复到较低的差分顺序，或者完全不做。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/cc6dfef0d7385b6aa3c176747f4272ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*sa9gs-08H7gcPEz72cWmOg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="0a33" class="nk nl iq lq b lr mk lu ml lx nm mb nn mf no mj np nq nr ns bi translated">对于<strong class="lq ir"> <em class="nj">季节性</em> </strong>，差分顺序主要基于ACF/PACF图。看上面的例子，ACF和PACF地块每隔7或8个滞后期就有一个尖峰，表明季节顺序为7(周模式)。Pandas的autocorrelation_plot()函数可用于检查差分序列是否成功去除了季节性。如果图中的模式在0线附近显示出小的下降的波动，你就可以开始了(这意味着季节性模式随着时间的推移正在快速消失)。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/f40126180b6eba394e2d8c9d782d41d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBfdQAIkpm-S8lHPxtj0Tw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><ul class=""><li id="1e42" class="nk nl iq lq b lr mk lu ml lx nm mb nn mf no mj np nq nr ns bi translated">接下来是为这个时间序列模型选择术语顺序的最重要部分！杜克大学精心列出的这套规则对于确定萨里玛的顺序和了解模型中每个术语背后的含义是一个很好的参考。</li></ul><p id="9ffe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">选择订单后，我开始使用statsmodel包构建SARIMAX模型并检查摘要:</p><pre class="kg kh ki kj gt nw nx ny nz aw oa bi"><span id="07b7" class="mx kx iq nx b gy ob oc l od oe">from statsmodels.tsa.statespace.sarimax import SARIMAX</span><span id="c500" class="mx kx iq nx b gy of oc l od oe"># fitting the model<br/>model = SARIMAX(continuous_date.sales, exog=continuous_date.bool_promotion, order=(1,0,2), seasonal_order=(1,1,1,7), enforce_invertibility=False, enforce_stationarity=False).fit(max_iter=50, method='powell')</span><span id="1261" class="mx kx iq nx b gy of oc l od oe"># model summary<br/>print(model.summary())</span></pre><p id="1a52" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这个特定模型的诊断图显示了相当好的拟合。用于预测时，它紧跟真实趋势。由于我们的重点是bool_promotion变量的估计值/系数，我认为这个模型足够好，可以用在我们的分析中。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/a183d25e4f0736ef25e4d33cb471f506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bCmU_ZHxI63lX9ljoQ0AbQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">模型摘要—作者图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/60fef95e883ab5ed51c15e54ac26b013.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Hxu0fXf8jtzbe755MUVCg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">诊断图-作者提供的图像</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/43325ed734e0a1404937c29b3c5c60b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*26GZPWR3nxmozaUaYBgseQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">预测-作者的图像</p></figure><p id="6f05" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">正如我们从模型摘要中看到的，我们的bool_promotion变量是显著的，这意味着它显示出对商店1中杂货I的销售有影响，在本例中，是积极的。促销活动为这一组合增加了500多套产品。</p><h2 id="da9f" class="mx kx iq bd ky my mz dn lc na nb dp lg lx nc nd li mb ne nf lk mf ng nh lm ni bi translated">自动化其他组合的流程</h2><p id="9651" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在弄清楚了这些步骤的流程之后，我使用auto_arima()为其他商店-城市-产品组合自动化了这个过程，这有助于我们确定最合适的订单集，记录这些订单以及系数。首先，我创建了一个助手函数来标识必要的参数并训练auto_arima()。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="f19a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">一个对我来说很棘手的参数是参数m，它是<a class="ae kv" href="https://robjhyndman.com/hyndsight/seasonal-periods/" rel="noopener ugc nofollow" target="_blank">季节差异</a>的周期。我(幸好！)找到了一个帮助我估计这个参数的函数，快速傅立叶变换季节性检测器(在这里阅读文档<a class="ae kv" href="https://facebookresearch.github.io/Kats/api/kats.detectors.seasonality.html" rel="noopener ugc nofollow" target="_blank">)。它返回一个或几个可能的季节周期值。我将m的值限制为不超过30(月模式)，因为它大大减少了训练时间，并且因为我只使用了过去一年半的数据(更近的数据)，任何数百的季节性周期(相当于数据集中只有2-3个周期)都可以被认为是非季节性的(模式不够强)。</a></p><p id="3df8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">为了检查数据集中可用的1597种组合，我制作了一个并行化脚本，显著加快了整个训练过程。该脚本做了几件事:(1)它在每次迭代中将训练的状态写入progress.txt，这包括拟合每个组合的数据的最佳SARIMAX模型的顺序；(2)跟踪促销对销售有统计上显著影响的模型；(3)将所有“重要”组合写入结果文件，用于将来的再现目的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mq mr l"/></div></figure><p id="3ec2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><em class="nj">注意:多处理包中的池方法将帮助你在多个处理器上同时完成相同的任务。通过使用apply_async，每个SARIMAX模型都被训练并在结束时写入文件。任务是连续排队的，所以它们不会等待对方开始，这大大加快了整个过程。</em></p><h2 id="2f0c" class="mx kx iq bd ky my mz dn lc na nb dp lg lx nc nd li mb ne nf lk mf ng nh lm ni bi translated">分析结果</h2><p id="2e31" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">有了这个模型，我可以用多种方式分析结果。首先，我选择分析重要的模型，以及它们是如何分布在各个位置的。我检查了不同地区所有组合中重要组合的数量和比例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/bd1dd5f763f140c9bc99f49ab90e49ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*pfWedgA71kRl0OiF0v-oGQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">重要组合计数-按作者分类的图像</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/3cfeb588d4a96e1ac3eb67ae831e563b.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*HALGWUJKAmRdJ9sMd-GK_g.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">重要组合的比例—按作者分类的图像</p></figure><p id="b55d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">基多和瓜亚基尔是组合最重要的城市，因为它们是厄瓜多尔最大的城市。然而，普拉亚斯、曼塔、埃尔卡门是促销活动最有效的城市，几乎80%的促销活动导致了销售额的显著变化。类似地，我还调查了跨产品的计数和比例(只有8个顶部和8个底部产品)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/fc724f9c89d8949592756a18a6924613.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*OPw3tMZGipCwt3I7-iykng.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/afc6f414b54a51f3efcd421bf0ec9145.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*3m6qcpShW2JPRwa2hx1JDg.png"/></div></figure><p id="8277" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">随着促销的出现，像美容和食品杂货这样的产品在100%的时间里有销售变化，而像五金和家用电器、婴儿护理等产品只在20%的时间里有这种变化。一直对促销做出反应的产品包括非常必要的产品，或者人们可能正在等待促销来购买的产品(最爱)。而且还发现这些都是积极的反应(导致销量增加)。</p><p id="ec8c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对这些系数分布的分析表明，大多数系数都非常积极，但有24个实例表明促销会降低销售额。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/b974829fd35c2f563b673a9adf8eae3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*GvRhRoUgykBY29iVmEuPVw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">系数分布-按作者分类的图片</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/25ac6ce1caa1d583201f2ea20b478859.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FC7q0hkYa80SYk_HyHQ8lw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">促销降低销售额的案例——作者图片</p></figure><p id="0336" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">对促销不良反应案例的进一步观察表明，它们大多是乳制品、肉类和预处理产品。这是有道理的，因为促销这些产品的目的是为了在到期日之前清理库存。正如之前指出的，这些产品接近保质期的事实解释了为什么销量整体下降。相反地，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/d8e21703f3390e59a7e48d2cfd371cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*ei05FqImyzxJ_mqdrV3jiA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">促销增加销售额的案例——作者图片</p></figure><p id="4876" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">食品杂货、饮料和几种农产品在促销时销量增加了5000多件。</p><h2 id="e116" class="mx kx iq bd ky my mz dn lc na nb dp lg lx nc nd li mb ne nf lk mf ng nh lm ni bi translated">结论</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/e09fb76cf4161449338a29575c233116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EnxOIckuENJAsDs3"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">佐伊·谢弗在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="3ad1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">超过70%的促销活动对销售有积极的影响，其中大部分会极大地提高某些产品的销售量。促销对销售的影响因地点和产品而异。有些产品在促销活动中销售额高达100%,而有些则略有下降。一些城市有更多但效果较小的促销活动，一些城市有更少但效果较大的促销活动。我们可以利用这种分析来调整即将到来的促销策略。建议包括:在曼塔、圣多明各、多乐等促销数量和质量都很好的城市开展更多的促销活动；饮料和美容产品的促销可以用来提高某些商店和城市的销售额，如里奥班巴，那里的销售额通常较低。</p><p id="03d8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这就是我的分析，非常感谢您的阅读！这部分的全部降价可以在<a class="ae kv" href="https://github.com/irenechang1510/sales-analysis/blob/main/promotion_analysis.md#4-analysis-of-the-results" rel="noopener ugc nofollow" target="_blank">这里</a>找到。下一步可能是利用这些信息建立一个模型，利用促销和其他变量来预测销售。除此之外，我希望这对那些开始着手时间序列项目的人有所帮助。欢迎通过我的<a class="ae kv" href="https://www.linkedin.com/in/irene-chang-4356a013a/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>在我的帖子上留下任何问题/反馈，我很乐意联系并回复他们！</p><h1 id="e8b7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考资料:</h1><p id="757d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">MySQL文档:【https://dev.mysql.com/doc/ T4】</p><p id="0795" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Kaggle Knowledge上的开源数据集:<a class="ae kv" href="https://www.kaggle.com/c/store-sales-time-series-forecasting/overview/description" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/c/store-sales-time-series-forecasting/overview/description</a></p><div class="or os gp gr ot ou"><a href="https://people.duke.edu/~rnau/arimrule.htm" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">识别ARIMA模型的规则</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">非季节性ARIMA模型说明(pdf文件)季节性和非季节性ARIMA模型幻灯片(pdf文件)介绍…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">people.duke.edu</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi kp ou"/></div></div></a></div><div class="or os gp gr ot ou"><a rel="noopener follow" target="_blank" href="/the-complete-guide-to-time-series-analysis-and-forecasting-70d476bfe775"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">时间序列分析和预测完全指南</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">理解移动平均线，指数平滑，平稳性，自相关，SARIMA，并应用这些技术在…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi kp ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://machinelearningmastery.com/arima-for-time-series-forecasting-with-python/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">如何在Python -机器学习掌握中创建用于时间序列预测的ARIMA模型</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">一个流行的和广泛使用的时间序列预测的统计方法是ARIMA模型。ARIMA是…的首字母缩写</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">machinelearningmastery.com</p></div></div><div class="pd l"><div class="pk l pf pg ph pd pi kp ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://www.machinelearningplus.com/time-series/arima-model-time-series-forecasting-python/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ir gy z fp oz fr fs pa fu fw ip bi translated">ARIMA模型Python中时间序列预测的完整指南| ML+</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">使用ARIMA模型，您可以使用序列的过去值来预测时间序列。在这篇文章中，我们建立了一个最优的ARIMA…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">www.machinelearningplus.com</p></div></div><div class="pd l"><div class="pl l pf pg ph pd pi kp ou"/></div></div></a></div></div></div>    
</body>
</html>