<html>
<head>
<title>How to Make Animated and Racing Bar Plots in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python制作动画和赛车条形图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-make-animated-and-racing-bar-plots-in-python-c5c7c3c648f7#2022-05-13">https://towardsdatascience.com/how-to-make-animated-and-racing-bar-plots-in-python-c5c7c3c648f7#2022-05-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a0fe2ee9d6c7acbda4614026b3a3abc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*PzjmkGJ-tGGI0nZ1"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae jg" href="https://unsplash.com/@cullansmith?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡兰·史密斯</a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="9022" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">完整的工作代码</h2></div><p id="66cb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">条形图是非常基本和常见的。所有的绘图库都有条形图选项。这篇文章将集中在动画酒吧情节。我将分享一些动画条形图的代码。如果你以前没看过，你可能会喜欢。</p><p id="8d76" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我试图简单地介绍它们，以便于理解。我总是喜欢从基本情节开始。在这里，我从受<a class="ae jg" href="https://holypython.com/python-visualization-tutorial/creating-bar-chart-animations/" rel="noopener ugc nofollow" target="_blank">这一页</a>启发的两个情节开始。</p><p id="b7a3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我不得不使用下面的命令在我的anaconda环境中安装“ImageMagick ”,因为我想保存这些图并上传到这里。你可能想保存你的动画情节，以便上传或在其他地方展示。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="a061" class="md me jj lz b gy mf mg l mh mi">conda install -c conda-forge imagemagick</span></pre><p id="795d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些是一些必要的进口:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="7920" class="md me jj lz b gy mf mg l mh mi">import pandas as pd<br/>import numpy as np<br/>from matplotlib import pyplot as plt<br/>import seaborn as sns<br/>from matplotlib.animation import FuncAnimation</span></pre><p id="ed66" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个基本的动画条形图的完整代码。我将在代码和可视化部分之后解释代码:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="5320" class="md me jj lz b gy mf mg l mh mi">%matplotlib qt<br/>fig = plt.figure(figsize=(8,6))<br/>axes = fig.add_subplot(1,1,1)<br/>axes.set_ylim(0, 120)<br/>plt.style.use("seaborn")lst1=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15 ]<br/>lst2=[0, 5, 10, 15, 20, 25, 30, 35, 40, 50, 60, 70, 80, 90, 100]def animate(i):<br/>    y1=lst1[i]<br/>    y2=lst2[i]<br/>    <br/>    plt.bar(["one", "two"], [y1,y2], color = ["red", "blue"])<br/>    <br/>plt.title("Intro to Animated Bar Plot", fontsize = 14)<br/>anim = FuncAnimation(fig, animate, frames = len(lst1)-1)<br/>anim.save("bar1.gif", writer="imagemagick")</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/7f4ea256ef948d3decb74c444a0fd65b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*60d-uMe47R801fS_.gif"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="b3d0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在让我们看看代码是如何工作的。首先，我为两个条形创建了两个列表。</p><p id="bbf6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的animate函数获取两个列表的元素，并使用两个列表y1和y2创建两个名为“one”和“two”的条形。</p><p id="6106" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">FuncAnimation函数实际上创建了动画。它采用动画函数和数据长度。</p><p id="b26a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了保存该图，我们需要为该图提供一个名称。这里我用了一个很普通的名字，‘bar 1 . gif’。它使用我们一开始安装的“imagemagick”来编写情节。</p><p id="3d5b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个和第一个差不多，这里有更多的小节。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="38bb" class="md me jj lz b gy mf mg l mh mi">%matplotlib qt<br/>fig = plt.figure(figsize=(8,6))<br/>plt.style.use("seaborn")<br/>axes = fig.add_subplot(1,1,1)<br/>axes.set_ylim(0, 100)l1=[i if i&lt;20 else 20 for i in range(100)]<br/>l2=[i if i&lt;85 else 85 for i in range(100)]<br/>l3=[i if i&lt;30 else 30 for i in range(100)]<br/>l4=[i if i&lt;65 else 65 for i in range(100)]palette = list(reversed(sns.color_palette("seismic", 4).as_hex()))y1, y2, y3, y4 = [], [], [], []<br/>def animate(i):<br/>    y1=l1[i]<br/>    y2=l2[i]<br/>    y3=l3[i]<br/>    y4=l4[i]<br/>    <br/>    plt.bar(["one", "two", "three", "four"], sorted([y1, y2, y3, y4]), color=palette)<br/>    <br/>plt.title("Animated Bars", color=("blue"))<br/>anim = FuncAnimation(fig, animate, frames = len(l1)-1, interval = 1)<br/>anim.save("bar2.gif", writer="imagemagick")</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mk"><img src="../Images/53dd6a140c403e3868004c6a1a840f2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*n1XQK0o3kWjH9U8m.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="3272" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">注意这里我在开头包含了axes.set_ylim。如果不设置y轴限制，绘图将如下所示:</p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mk"><img src="../Images/6c8f7677501cef38dd1d7b30fb7e1caa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*awpaYRMvaD-y8UaQ.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="a34b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">几个月前，我在社交媒体上看到了一个关于Covid死亡的动画条形图，并决定检查如何做到这一点。我在这里分享这个情节。</p><p id="3c5b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在接下来的图中，我将使用这个超市数据集。请随意从这里下载数据集:</p><div class="is it gp gr iu ml"><a href="https://www.kaggle.com/datasets/vivek468/superstore-dataset-final" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">超市数据集</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">包含超市销售额和利润的数据集</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">www.kaggle.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz ja ml"/></div></div></a></div><p id="0c6d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="na">作者在页面描述中提到，仅允许将该数据集用于教育目的。</em>T9】</strong></p><p id="4004" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们导入数据集并查看列:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="8ac0" class="md me jj lz b gy mf mg l mh mi">df = pd.read_csv("Superstore.csv", encoding='cp1252')<br/>df.columns</span></pre><p id="a7c9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">输出:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="88b6" class="md me jj lz b gy mf mg l mh mi">Index(['Row ID', 'Order ID', 'Order Date', 'Ship Date', 'Ship Mode',<br/>       'Customer ID', 'Customer Name', 'Segment', 'Country', 'City', 'State', 'Postal Code', 'Region', 'Product ID', 'Category', 'Sub-Category', 'Product Name', 'Sales', 'Quantity', 'Discount', 'Profit'], dtype='object')</span></pre><p id="c644" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如你所见，数据集相当大。但是在接下来的图中，我们将只使用“订单日期”、“利润”和“州”列。</p><blockquote class="nb nc nd"><p id="bb3b" class="ky kz na la b lb lc kk ld le lf kn lg ne li lj lk nf lm ln lo ng lq lr ls lt im bi translated"><strong class="la jk"> <em class="jj">地块将按每个州按月统计总销售额。</em>T13】</strong></p></blockquote><p id="9a3d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们需要为此进行一些数据准备。因为我们将为此使用bar_chart_race函数，并且该函数需要特定格式的数据用于绘图。</p><p id="34ee" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，“订单日期”列需要采用“日期时间”格式。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="2d38" class="md me jj lz b gy mf mg l mh mi">df['Order Date'] = pd.to_datetime(df['Order Date'])</span></pre><p id="b58d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将使用pivot_table函数将每个州的销售数据作为列:</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="489c" class="md me jj lz b gy mf mg l mh mi">pv = df.pivot_table("Sales", index = "Order Date", columns = ["State"], aggfunc = np.sum)</span></pre><p id="8b76" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是部分输出:</p><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/35c930daa15f2a0b939ba7df1b64ed73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*v6tj2JF-WBcZcuza.png"/></div></figure><p id="4cb9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它给了我们这么多空值，因为每天的销售数据是不可用的。请注意,“订单日期”列现在是索引。</p><p id="1dc1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将用零填充这些空值。此外，我按照“订单日期”对数据集进行排序</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="58f0" class="md me jj lz b gy mf mg l mh mi">pv.sort_index(inplace=True, ascending=True)<br/>pv = pv.fillna(0)</span></pre><p id="421c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们用零替换了所有的空值。</p><p id="420f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如我之前提到的，我想按月查看每个州的销售额。因此，我将省略日期部分，只保留“订单日期”中的月和年部分。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="ba72" class="md me jj lz b gy mf mg l mh mi">pv['month_year'] = pv.index.strftime('%Y-%m')<br/>pv_month = pv.set_index("month_year")</span></pre><p id="a654" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">稍后您将看到数据集。</p><p id="027e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想得到每月的数据，我们必须对month_year数据使用group by。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="e03f" class="md me jj lz b gy mf mg l mh mi">pv_month.reset_index()<br/>pv_monthgr = pv_month.groupby('month_year').sum()</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/55a1df12ccf6ed7749e86d926b597f44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qCDeS-wy4UQMlAFE.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="08c6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是数据集现在的样子。我们有每个州的月度销售数据。要使用bar_chart_race函数，需要有这种格式的数据集。</p><blockquote class="nb nc nd"><p id="24f4" class="ky kz na la b lb lc kk ld le lf kn lg ne li lj lk nf lm ln lo ng lq lr ls lt im bi translated">我应该提醒你，渲染这些图比渲染普通的条形图要花更多的时间。当我为这个教程做这些的时候，有时会卡住。我让我的电脑休息了一会儿，然后回来重启我的内核，然后它运行得更快了。但是，总的来说需要更长的时间。</p></blockquote><p id="5371" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是基本的柱状图。<strong class="la jk">我使用过滤器列颜色参数为真，这样它就不会重复酒吧的颜色。</strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d66e" class="md me jj lz b gy mf mg l mh mi">import bar_chart_race as bcr<br/>bcr.bar_chart_race(df = pv_monthgr, filename = "by_month.gif", filter_column_colors = True, <br/>cmap = "prism", <br/>title = "Sales By Months")</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nh"><img src="../Images/05de358143373a863d544c8773621b16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B0UP9QwHFIzNDw0c.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="42b3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以看到默认情况下是降序排列的。每个月各州的顺序都在变化。但它移动得如此之快，以至于你甚至很难看清美国的名字。在右下角，它显示月份。</p><p id="87af" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在接下来的剧情中，我们会看到一些改进。period_length参数控制速度。我用了2500，挺高的。因此，它将显示一个月，比默认时间长很多。</p><p id="e5da" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有一个n_bars参数来指定我们希望在一帧中看到多少条。我定在10点。因此，我们将看到基于每月销售额的前10个州。“fixed_max”参数将x轴固定为总的最大销售额。所以它不会在每一帧都改变。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="8156" class="md me jj lz b gy mf mg l mh mi">bcr.bar_chart_race(df=pv_monthgr,filename="bar_race3.gif", filter_column_colors=True, <br/>cmap='prism', <br/>sort = 'desc', <br/>n_bars = 10, <br/>fixed_max = True, <br/>period_length = 2500, <br/>title='Sales By Months', <br/>figsize=(10, 6)))</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nh"><img src="../Images/dd9deba3a5ec1e82c6bc30a5afc2d099.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YPD8VVD-jVz1R9kB.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="83a1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下一个情节中，我们将在情节中增加一条信息。每一帧都展示了一个月的情节。右下角会显示当月的销售总额。</p><p id="0641" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为此，我添加了一个名为summary的函数。我还包含了一些更多的样式参数。<strong class="la jk">酒吧标签大小，酒吧风格，使其有点透明，并给出一个边界。</strong>我们还添加了一个垂直条，显示每个月的平均销售额。每个月的平均销售额都不同。所以，垂直杆会继续移动。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="853e" class="md me jj lz b gy mf mg l mh mi">def summary(values, ranks):<br/>    total_sales = int(round(values.sum(), -2))<br/>    s = f'Total Sales - {total_sales:,.0f}'<br/>    return {'x': .99, 'y': .1, 's': s, 'ha': 'right', 'size': 8}</span><span id="4366" class="md me jj lz b gy ni mg l mh mi">bcr.bar_chart_race(df=pv_monthgr,<br/>filename="bar_race4.gif", filter_column_colors=True,<br/>                   cmap='prism', sort = 'desc', n_bars = 15,<br/>                   fixed_max = True, steps_per_period=3, period_length = 1500,<br/>                   bar_size = 0.8,<br/>                   period_label={'x': .99, 'y':.15, 'ha': 'right', 'color': 'coral'},<br/>                   bar_label_size = 6, tick_label_size = 10,<br/>                   bar_kwargs={'alpha':0.4, 'ec': 'black', 'lw': 2.5},<br/>                   title='Sales By Months',<br/>                   period_summary_func=summary,<br/>                   perpendicular_bar_func='mean',<br/>                   figsize=(7, 5)<br/>                  )</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nj"><img src="../Images/d81f3cc125584453b45411473398c18a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tuKmuiadAlLYM_OJ.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="5452" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这将是我添加另一个函数的最后一个图，该函数将添加一个自定义函数来添加条形中的第90个分位数。steps_per_period等于3意味着需要三个步骤才能转到下一帧。如果您注意到右下角标签中的月份发生了变化，那么条形移动了三次，您可以看到它们是如何重叠并慢慢改变位置的。</p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="49d2" class="md me jj lz b gy mf mg l mh mi">def func(values, ranks):<br/>    return values.quantile(0.9)</span><span id="58b1" class="md me jj lz b gy ni mg l mh mi">bcr.bar_chart_race(df=pv_monthgr,filename="bar_race5.gif", filter_column_colors=True,<br/>                   cmap='prism', sort = 'desc', n_bars = 15,<br/>                   steps_per_period=3, period_length = 2000,<br/>                   bar_size = 0.8,<br/>                   period_label={'x': .99, 'y':.15, 'ha': 'right', 'color': 'coral'},<br/>                   bar_label_size = 6, tick_label_size = 10,<br/>                   bar_kwargs={'alpha':0.4, 'ec': 'black', 'lw': 2.5},<br/>                   title='Sales By Months',<br/>                   period_summary_func=summary,<br/>                   perpendicular_bar_func=func,<br/>                   figsize=(7, 5)<br/>                  )</span></pre><figure class="lu lv lw lx gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nj"><img src="../Images/9653ec300edcf3b029a189e466d55d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9hZmbJRaiP_7mmsc.gif"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="cfa5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你喜欢竖条而不是横条，请使用orientation='v '。我更喜欢单杠。</p><p id="1b22" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要了解更多关于可用于修改图的不同参数的信息，<a class="ae jg" href="https://github.com/dexplo/bar_chart_race" rel="noopener ugc nofollow" target="_blank">请访问此链接</a>。</p><p id="3d10" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请随意为摘要或垂直栏尝试更多的样式选项或不同的功能。</p><p id="49cb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可能还想尝试标签和刻度的不同颜色、字体和字体大小</p><h2 id="cedb" class="md me jj bd nk nl nm dn nn no np dp nq lh nr ns nt ll nu nv nw lp nx ny nz oa bi translated">结论</h2><p id="2c28" class="pw-post-body-paragraph ky kz jj la b lb ob kk ld le oc kn lg lh od lj lk ll oe ln lo lp of lr ls lt im bi translated">尽管有些人可能会认为简单的条形图能更清楚地显示信息。我也同意这一点。但尽管如此，在收藏中有一些像这样有趣的情节还是不错的。你可以看到每个月各州的排名是如何根据销售数据变化的，以及平均销售额或第90个分位数是如何移动的。使用静止图无法感受到这种类型的变化。此外，如果你有一些有趣的情节，它抓住了注意力。</p><p id="e6ac" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请随时关注我在<a class="ae jg" href="https://twitter.com/rashida048" rel="noopener ugc nofollow" target="_blank">推特</a>，和<a class="ae jg" href="https://www.facebook.com/Regenerative-149425692134498" rel="noopener ugc nofollow" target="_blank">脸书页面</a>，并查看我的<a class="ae jg" href="https://www.youtube.com/channel/UCzJgOvsJJPCXWytXWuVSeXw" rel="noopener ugc nofollow" target="_blank"> YouTube频道</a>。</p><h2 id="9092" class="md me jj bd nk nl nm dn nn no np dp nq lh nr ns nt ll nu nv nw lp nx ny nz oa bi translated">更多阅读</h2><div class="is it gp gr iu ml"><a rel="noopener follow" target="_blank" href="/30-very-useful-pandas-functions-for-everyday-data-analysis-tasks-f1eae16409af"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">30个非常有用的熊猫函数，用于日常数据分析任务</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">熊猫小型张</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="og l mw mx my mu mz ja ml"/></div></div></a></div><div class="is it gp gr iu ml"><a rel="noopener follow" target="_blank" href="/regression-in-tensorflow-using-both-sequential-and-function-apis-314e74b537ca"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">TensorFlow中使用顺序API和函数API的回归</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">演示几种不同类型的模型结构</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="oh l mw mx my mu mz ja ml"/></div></div></a></div><div class="is it gp gr iu ml"><a rel="noopener follow" target="_blank" href="/20-very-commonly-used-functions-of-pyspark-rdd-90b8271c25b2"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">PySpark RDD的20个非常常用的功能</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">每个功能都用清晰的例子演示</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="oi l mw mx my mu mz ja ml"/></div></div></a></div><div class="is it gp gr iu ml"><a href="https://pub.towardsai.net/an-overview-of-the-major-sql-query-clauses-and-most-commonly-used-functions-60720e2a20d7" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">SQL查询子句和函数概述</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">可以用作SQL的备忘单</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">pub.towardsai.net</p></div></div><div class="mu l"><div class="oj l mw mx my mu mz ja ml"/></div></div></a></div><div class="is it gp gr iu ml"><a rel="noopener follow" target="_blank" href="/details-of-violinplot-and-relplot-in-seaborn-30c63de23a15"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">Seaborn的Violinplot和Relplot的细节</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">充分发挥潜力在Seaborn使用小提琴和Relplots</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="ok l mw mx my mu mz ja ml"/></div></div></a></div><div class="is it gp gr iu ml"><a rel="noopener follow" target="_blank" href="/what-is-a-recurrent-neural-network-and-implementation-of-simplernn-gru-and-lstm-models-in-keras-f7247e97c405"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd jk gy z fp mq fr fs mr fu fw ji bi translated">在Keras中实现SimpleRNN、GRU和LSTM模型</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">什么是递归神经网络以及三种递归神经网络在Tensorflow和</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="ol l mw mx my mu mz ja ml"/></div></div></a></div></div></div>    
</body>
</html>