<html>
<head>
<title>Bartlett’s Test for Equality of Variances Explained (with Python Examples)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释 Bartlett 的方差相等测试(用 Python 例子)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/bartletts-test-for-equality-of-variances-explained-with-python-examples-dcacf8a7d4db#2022-03-18">https://towardsdatascience.com/bartletts-test-for-equality-of-variances-explained-with-python-examples-dcacf8a7d4db#2022-03-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ef4b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本教程中，我们将探讨 Bartlett 的方差相等测试及其在 Python 中的应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/276f1a56e378cdd05bd1fa3b0bcb2442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5vNHuyL0pGa6ffkKsLAI8w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@vedranafilipovic?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">韦德拉纳·菲利波维奇</a>在<a class="ae ky" href="https://unsplash.com/s/photos/sequence?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="891a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="3598" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="6154" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">抽样资料</li><li id="9975" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">巴特利特的测试解释说</li><li id="2090" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">Bartlett 在 Python 中的测试示例</li><li id="883b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="da6c" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="24f7" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">许多统计测试和程序都假设数据的正态性和方差相等。</p><p id="b801" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Bartlett 检验是推断统计学中最流行的检验之一，它处理从正态分布中提取的数据。</p><p id="cd8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果数据遵循非正态分布，请考虑使用<a class="ae ky" href="https://pyshark.com/levenes-test-for-equality-of-variances-explained-with-python-examples/" rel="noopener ugc nofollow" target="_blank"> Levene 检验</a>(因为 Bartlett 检验对偏离正态非常敏感)。</p><h2 id="58d8" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">巴特利特测试是什么？</h2><p id="ff6d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Bartlett 检验用于检验两个或更多组(样本)计算的变量的方差是否相等。</p><h2 id="534a" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">你如何解读巴特利特的测试？</h2><p id="2f15" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">如果 Bartlett 检验的 p 值小于显著性水平(例如 0.05)，则至少两组的方差不相等。</p><p id="b96e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了继续学习本教程，我们需要以下 Python 库:pandas 和 scipy。</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="df09" class="nn mr it oa b gy oe of l og oh">pip install pandas<br/>pip install scipy</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2383" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">抽样资料</h1><p id="65cb" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">要执行本教程示例部分和 Python 实现部分中提到的计算，您将需要一些数据。</p><p id="7587" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程的所有示例中，来自。使用下面的 csv 文件。</p><p id="fed2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件:<a class="ae ky" href="https://pyshark.com/wp-content/uploads/2022/03/data_bartletts_test.csv" rel="noopener ugc nofollow" target="_blank">https://pyshark . com/WP-content/uploads/2022/03/data _ bartletts _ test . CSV</a></p><p id="a41a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该数据包含三组对新疗法反应的 80 次观察:“对照组”、“治疗 1 组”和“治疗 2 组”。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5733" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">巴特利特的测试解释说</h1><p id="0293" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">如前所述，方差相等的假设在统计分析中是很重要的，并且在测量实验和数据分析的结果时经常会影响研究者的工作程序。</p><h2 id="120d" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">巴特利特的检验假设</h2><p id="0833" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">Bartlett 检验的无效假设是所有组的方差相等。</p><p id="d074" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Bartlett 检验的另一个假设是，至少有一对组的方差不相等。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/358df15ac5d79138d61698798cde19c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:534/format:webp/1*QNR51pTm7HjA22nObc8edw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="160b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中:</p><ul class=""><li id="97ee" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><em class="oj"> k </em>:总组数(≥2)</li><li id="af05" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj">I</em>:<em class="oj">k</em>组之一</li><li id="7895" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj">j</em>:k 组中的一组</li><li id="566c" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">(<em class="oj"> i </em>，<em class="oj"> j </em>):来自<em class="oj"> k </em>组的一对组</li><li id="8b5e" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj">I</em>≦<em class="oj">j</em>:两组不是同一组</li></ul><h2 id="430a" class="nn mr it bd ms no np dn mw nq nr dp na li ns nt nc lm nu nv ne lq nw nx ng ny bi translated">巴特利特检验统计量</h2><p id="587e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">巴特利特检验统计量由下式给出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/bf3edd52d8a7626f8af9bb7e44acdb33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1xm3xLDYlZROaxyM.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="df91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中:</p><ul class=""><li id="d4f3" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><em class="oj"> N </em>:观察总数</li><li id="5b00" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj"> n_i </em>:第(I)组的观测数</li><li id="9fc1" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj"> k </em>:组数</li><li id="b746" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj"> s _i </em>:第<em class="oj"> i </em>组的方差</li><li id="d83a" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><em class="oj"> s _p </em>:汇总方差</li></ul><p id="888c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">计算 Bartlett 检验统计量(<em class="oj"> T </em>)后，应将其与下式给出的上临界值进行比较:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/9d0402b262353aec49a184ae0da594cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:316/format:webp/0*3ADyHmKf6qi4ezc8.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="07d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们拒绝等方差的零假设，当:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/4e478d3c911dd6a692fea7b5b68c4607.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/0*DhN6Wzuy_Egrr92b.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2aa7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">Bartlett 在 Python 中的测试示例</h1><p id="1018" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">为了在实践中看到 Bartlett 的测试及其在 Python 中的应用，我们将使用前面一节中提到的<a class="ae ky" href="https://pyshark.com/bartletts-test-for-equality-of-variances-explained-with-python-examples/#sample-data" rel="noopener ugc nofollow" target="_blank">样本数据文件</a>。</p><p id="8b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，导入所需的依赖项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="8da7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后阅读。csv 文件提供到 Pandas 数据框架中，并打印前几行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="91da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="e028" class="nn mr it oa b gy oe of l og oh">     group  before_treatment  after_treatment<br/>0  control              27.9             33.8<br/>1  control              16.8              9.3<br/>2  control              27.2             23.4<br/>3  control              12.5             19.9<br/>4  control              14.4             16.0</span></pre><p id="029f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以计算一些组摘要统计信息，以便更好地理解数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="24cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="60cd" class="nn mr it oa b gy oe of l og oh">        group  avg_bef_tr  var_bef_tr  avg_aft_tr  var_aft_tr<br/>0     control      20.145   18.878436      19.825   28.825513<br/>1  treatment1      19.210   17.007263      15.475    4.649342<br/>2  treatment2      21.510   19.673579      20.315   15.141458</span></pre><p id="ba26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里你可以清楚地看到 3 组之间的“<strong class="lb iu"> var_bef_tr </strong>”(治疗前方差)差异并没有那么大:18.88，17.01，19.67。</p><p id="10d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">三个组在治疗前的方差差异很小，足以让我们几乎可以肯定它没有显著差异，但是为了对其进行统计检查，我们将在 Python 中执行 Bartlett 测试！</p><p id="0049" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要创建变量来存储与特定组相关的观察结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="ba6e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后用 Python 执行 Bartlett 测试:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="52d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nz oa ob oc aw od bi"><span id="b65f" class="nn mr it oa b gy oe of l og oh">Bartlett's test statistic: 0.10660625260772809<br/>P-value: 0.9480925771212662</span></pre><p id="3cdf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于 p 值大于 0.05，我们无法拒绝零假设，并得出结论，3 组之间存在相等的方差。</p><p id="1cc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.bartlett.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>显示了如何更改测试中使用的功能。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="3c60" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="3957" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本文中，我们讨论了如何使用 scipy 库执行 Bartlett 的方差相等测试及其在 Python 中的应用。</p><p id="c6b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看更多我的<a class="ae ky" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank">统计</a>文章。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="6f03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oj">原载于 2022 年 3 月 18 日</em><a class="ae ky" href="https://pyshark.com/bartletts-test-for-equality-of-variances-explained-with-python-examples/" rel="noopener ugc nofollow" target="_blank"><em class="oj">【https://pyshark.com】</em></a><em class="oj">。</em></p></div></div>    
</body>
</html>