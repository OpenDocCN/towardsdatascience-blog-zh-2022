<html>
<head>
<title>Graph visualisation basics with Python Part I: Flowcharts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python图形可视化基础第一部分:流程图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/graph-visualisation-basics-with-python-part-i-flowcharts-6298c4f412e0#2022-04-18">https://towardsdatascience.com/graph-visualisation-basics-with-python-part-i-flowcharts-6298c4f412e0#2022-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5167" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用SchemDraw包创建流程图</h2></div><p id="a5d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最近，我被分配了一项任务，创建一个逻辑树形图来表示我工作中的问题解决过程。在逻辑树中，我必须表示各种方程来解决问题。显然，我可以用MS PowerPoint或Paint之类的程序创建一个逻辑树。但是使用这些程序将是一个手动的过程，这可能会导致在可视化的形状和大小方面的一些不一致。此外，手动修改这些图可能是一个乏味的过程。</p><p id="9b18" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想自动化这个过程。所以我从探索用Python创建逻辑树的可能性开始。我遇到了不同的可以满足我的目的的包，比如<code class="fe le lf lg lh b">networkx</code>和<code class="fe le lf lg lh b">graphviz</code>。我想进一步探索用Python来表示问题解决过程的可能性。在这个系列中，我将分享我关于使用Python实现图形可视化的不同可能性的发现。在本系列的第一部分中，我将分享一项我发现的使用<a class="ae li" href="https://schemdraw.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> SchemDraw </a>包用Python创建流程图的技术。在接下来的部分中，我将分享可视化树形结构的方法，比如逻辑树，以及使用其他包的组织图。让我们开始吧。</p></div><div class="ab cl lj lk hx ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="im in io ip iq"><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/e01244f1cc89c3c857ef9e1cde706fd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ANR7CDAFRGr_vskvdBnxBw.jpeg"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">图片来自<a class="ae li" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的<a class="ae li" href="https://unsplash.com/@kellysikkema" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a></p></figure><h1 id="7ced" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">该项目的虚拟环境</h1><p id="00b4" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">我首先为这个项目创建一个名为<code class="fe le lf lg lh b">graphs</code>的虚拟环境。Python虚拟环境为项目创建了一个隔离的环境。这意味着每个项目都有自己的依赖关系(Real Python，2018)。使用虚拟环境避免了全局安装Python包，这可能会破坏系统工具或其他项目(PyPA，2022)。</p><p id="1a51" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了创建虚拟环境，我创建了一个yml文件，如下所示。它由该项目所需的依赖项列表组成。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nd"><img src="../Images/ca7726cb417ca6f16c6a44c15424f2cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bOjKniN9uEYTQv732QvYOA.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">环境文件来创建名为graphs的虚拟环境。</p></figure><p id="6ef2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为了使用给定的yml文件创建名为<code class="fe le lf lg lh b">graphs</code>的虚拟环境，我在终端中运行以下命令:</p><pre class="lr ls lt lu gt ne lh nf ng aw nh bi"><span id="5949" class="ni mh it lh b gy nj nk l nl nm">conda env create -n graphs --file graphs-environment.yml</span></pre><p id="1820" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建环境后，我使用以下命令激活它:</p><pre class="lr ls lt lu gt ne lh nf ng aw nh bi"><span id="321a" class="ni mh it lh b gy nj nk l nl nm">conda activate graphs</span></pre><p id="cac4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还可以在jupyter notebook中为这个虚拟环境创建一个独特的内核，这是我在终端中使用以下命令创建的:</p><pre class="lr ls lt lu gt ne lh nf ng aw nh bi"><span id="21c7" class="ni mh it lh b gy nj nk l nl nm">python -m ipykernel install --user --name graphs --display-name "graphs"</span></pre><p id="26fb" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装内核后，要在给定的环境中运行笔记本，我只需进入内核，更改内核，然后选择图形。如果不再需要该环境，也可以使用以下方法轻松将其删除:</p><pre class="lr ls lt lu gt ne lh nf ng aw nh bi"><span id="836c" class="ni mh it lh b gy nj nk l nl nm">conda env remove -n graphs</span></pre><h1 id="ab64" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">流程图</h1><p id="24a5" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">流程图是按顺序表示流程中不同步骤的图片。流程图可以有不同的类型<a class="ae li" href="https://asq.org/quality-resources/flowchart" rel="noopener ugc nofollow" target="_blank"/>，但它们的主要目的是反映解决问题或实现目标的流程。我记得在我高中的计算机科学课上第一次学习流程图。用纸和笔画出流程图来解决简单的问题，例如计算n个数的总和或打印一系列数字，在当时是一个有趣的挑战。</p><p id="d5f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在下一节中，我将描述一种使用<a class="ae li" href="https://schemdraw.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> SchemDraw </a>包在Python中创建流程图的方法。我将考虑一个问题的例子，检测一个字符串是否是回文。</p><h2 id="c21c" class="ni mh it bd mi nn no dn mm np nq dp mq kr nr ns ms kv nt nu mu kz nv nw mw nx bi translated">流程图的要素</h2><p id="6002" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">由Colling J. Delker开发的S <a class="ae li" href="https://schemdraw.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank"> chemDraw </a>软件包允许创建高质量的电路原理图。然而，我发现这个软件包也可以用来创建定制的流程图。</p><p id="44b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">流程图中有六个主要元素。开始或结束节点由椭圆形表示。平行四边形代表用户定义的输入，而矩形代表一个过程。菱形说明了决策过程中的一个阶段。不同的形状由指向箭头连接，也称为连接符。使用SchemDraw，可以通过导入<code class="fe le lf lg lh b">schemdraw.Drawing()</code>并为每个元素传递相应的参数和标签来在Python中构造这些基本形状。此外，这个包允许用户控制元素的大小，如宽度和高度，以及箭头的方向，如下图所示。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi ny"><img src="../Images/3c3445cc4d2b42d6a157bd61702d6366.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zFqIvVSsJqBZrPHKmCsjQg.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">使用SchemDraw包构造流程图的基本元素。图片作者。</p></figure><h2 id="ccee" class="ni mh it bd mi nn no dn mm np nq dp mq kr nr ns ms kv nt nu mu kz nv nw mw nx bi translated">表示回文问题的流程图</h2><p id="2bca" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">回文是一个向前或向后读都一样的单词或序列。这个问题的算法很简单。首先，我要求用户输入一个字符串。接下来，我反转绳子。如果字符串和它的反码相同，那么字符串是一个回文，如果不相同，它就不是回文。这个问题在Python中可以表述为如下所示的几行代码:</p><pre class="lr ls lt lu gt ne lh nf ng aw nh bi"><span id="24cd" class="ni mh it lh b gy nj nk l nl nm">string = input(“Enter a string: “)</span><span id="fbd8" class="ni mh it lh b gy nz nk l nl nm">reverse_string = string[::-1]</span><span id="8a3f" class="ni mh it lh b gy nz nk l nl nm">if string == reverse_string:<br/> print (f”{string} is a palindrome.”)<br/> <br/>else:<br/> print (f”{string} is not a palindrome.”)</span></pre><p id="a0a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">下面的要点给出了使用SchemDraw获得这个问题的流程图的代码。它从一个开始节点开始，然后是一个输入框来输入字符串。接下来，有一个进程框来反转字符串，还有一个菱形框来检查字符串和它的反转是否相同。根据决策是对还是错，有两个不同的箭头从决策框中分叉出来。打印结果后，箭头最终到达结束节点。</p><figure class="lr ls lt lu gt lv"><div class="bz fp l di"><div class="oa ob l"/></div></figure><p id="e1be" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">结果我得到如下图的流程图，也可以保存为图片文件。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi oc"><img src="../Images/ced7f550f589680814305fd507b3f991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yG_J0Aqgn3w0gQ0v6mAntg.png"/></div></div><p class="mc md gj gh gi me mf bd b be z dk translated">解决使用SchemDraw创建的回文问题的流程图。图片作者。</p></figure><h1 id="1d5d" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">结论</h1><p id="d684" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">图形可视化是一个有趣的概念，用来表示网络、流程(如供应链或解决问题的流程)、树形结构(如决策树、组织树、逻辑树和文件夹树)。虽然Python中有复杂的数据可视化软件包，如matplotlib、seaborn、Bokeh、Plotly等。，现在有一些包可以用Python来表示图形和网络，尽管它们并不流行。</p><p id="27de" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我首先为这个项目创建了一个虚拟环境。然后我解释了使用SchemDraw包用Python创建简单流程图的方法。在本系列的后续部分中，我将分享我发现的一些使用networkx和graphviz之类的包来表示树结构(如组织图和逻辑树)的方法。</p><p id="c724" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您的阅读！</p><h1 id="d2ba" class="mg mh it bd mi mj mk ml mm mn mo mp mq jz mr ka ms kc mt kd mu kf mv kg mw mx bi translated">参考</h1><p id="24c9" class="pw-post-body-paragraph ki kj it kk b kl my ju kn ko mz jx kq kr na kt ku kv nb kx ky kz nc lb lc ld im bi translated">PyPA，2022。使用pip和虚拟环境安装软件包。</p><p id="6727" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">真正的Python，2018。<a class="ae li" href="https://realpython.com/python-virtual-environments-a-primer/#:~:text=At%20its%20core%2C%20the%20main,dependencies%20every%20other%20project%20has." rel="noopener ugc nofollow" target="_blank"> Python虚拟环境:初级读本。</a></p></div></div>    
</body>
</html>