<html>
<head>
<title>Building an OCR Native Application Tool with Tess4J — Extract Text from PDF in just 3 steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Tess4J构建OCR原生应用程序工具—只需3个步骤即可从PDF中提取文本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/building-an-ocr-native-application-tool-with-tess4j-extract-text-from-pdf-in-just-3-steps-a51d28e16084#2022-09-26">https://towardsdatascience.com/building-an-ocr-native-application-tool-with-tess4j-extract-text-from-pdf-in-just-3-steps-a51d28e16084#2022-09-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d1f2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索Tess4J的第二部分。完整的源代码(Java SDK 1.8)和应用程序链接包括在内。</h2></div><blockquote class="ki"><p id="ec65" class="kj kk it bd kl km kn ko kp kq kr ks dk translated">没有Digitisation❞就没有❝Digitilisation</p></blockquote><p id="64e1" class="pw-post-body-paragraph kt ku it kv b kw kx ju ky kz la jx lb lc ld le lf lg lh li lj lk ll lm ln ks im bi lo translated">随着越来越多的企业和政府实体接受更高效的信息交换概念，并利用其数据的内在价值进行建设性分析，这一说法变得越来越正确。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi lx"><img src="../Images/b311ca86253b130493287993402930fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rJE97NHKB5TPhBFMhN5rWQ.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者图片| OCR是一个文本提取工具，它将图形内容转换成计算机可读的格式</p></figure><p id="0507" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">降低数字化管理成本的最关键工具之一是<a class="ae ms" href="https://viso.ai/computer-vision/optical-character-recognition-ocr/" rel="noopener ugc nofollow" target="_blank"> <strong class="kv iu">光学字符识别</strong>(<strong class="kv iu">OCR)</strong></a><strong class="kv iu"/>——将图像、扫描文档和PDF文档等图形媒体转换为计算机可读格式。因此，我决定使用流行的开源OCR引擎<a class="ae ms" href="https://github.com/tesseract-ocr" rel="noopener ugc nofollow" target="_blank"> Tesseract-OCR </a>探索一系列可能性</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="0ba9" class="na nb it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">项目背景信息</h1><p id="0c70" class="pw-post-body-paragraph kt ku it kv b kw ns ju ky kz nt jx lb lc nu le lf lg nv li lj lk nw lm ln ks im bi translated">我过去在实现Tesseract OCR方面的一些尝试是以<a class="ae ms" href="https://tesseract.projectnaptha.com/" rel="noopener ugc nofollow" target="_blank"> TesseractJS </a>的形式出现的，这是OCR引擎的一个纯JavaScript端口<em class="nx">(请参考下面的文章了解完整的细节)</em>:</p><div class="ny nz gp gr oa ob"><a href="https://javascript.plainenglish.io/build-a-text-to-speech-app-using-client-side-javascript-98cd72df73bb" rel="noopener  ugc nofollow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">使用客户端JavaScript构建一个文本到语音的应用程序</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">OCR技术(Tesseract.js)和Web语音API的融合。包括完整的代码实现。</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">javascript.plainenglish.io</p></div></div><div class="ok l"><div class="ol l om on oo ok op mh ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/build-an-image-pdf-text-extraction-tool-with-tesseract-ocr-using-client-side-javascript-6126031001"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">使用客户端JavaScript通过Tesseract OCR构建图像和PDF文本提取工具</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">pdf . js+tessera CT . js—OCR和Web技术的融合。包括完整的代码实现。</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="oq l om on oo ok op mh ob"/></div></div></a></div><p id="bcd8" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">然而，最近我决定使用<a class="ae ms" href="http://tess4j.sourceforge.net/" rel="noopener ugc nofollow" target="_blank">Tess4J</a>(Java中的<a class="ae ms" href="https://github.com/tesseract-ocr" rel="noopener ugc nofollow" target="_blank"> Tesseract-OCR </a>)作为利用Tesseract的OCR引擎的替代方法。作为我最近尝试使用Tess4J进行图像到文本转换的后续工作，我的学习之旅的第二部分将展示Tess4J的内置组件来对PDF文档执行文本提取。此外，这也是对第一部分中开发的早期原型的补充:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/build-a-portable-ocr-tool-in-4-steps-with-tess4j-jar-a-tesseract-wrapper-for-java-6d1be3f0cb3d"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">使用Tess4J——一种用于Java的Tesseract包装器，通过4个步骤构建一个可移植的OCR工具</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">探索Tess4J |图像到文本提取(的第一部分。巴新和。仅jpg文件扩展名)</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="or l om on oo ok op mh ob"/></div></div></a></div></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="1590" class="na nb it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">用Tess4J构建PDF文本提取功能</h1><h2 id="0ea9" class="os nb it bd nc ot ou dn ng ov ow dp nk lc ox oy nm lg oz pa no lk pb pc nq pd bi translated">先决条件步骤</h2><p id="e198" class="pw-post-body-paragraph kt ku it kv b kw ns ju ky kz nt jx lb lc nu le lf lg nv li lj lk nw lm ln ks im bi translated">在深入研究其技术实现之前，请确保已经具备了使用Tesseract的Java应用程序的最小化设置。所有JAR依赖项与第一部分<strong class="kv iu">完全相同。</strong></p><p id="58ed" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">关于如何使用Tesseract设置Java应用项目的详细信息，请参考第一部分<a class="ae ms" rel="noopener" target="_blank" href="/build-a-portable-ocr-tool-in-4-steps-with-tess4j-jar-a-tesseract-wrapper-for-java-6d1be3f0cb3d"><strong class="kv iu"/></a><strong class="kv iu">。</strong></p><p id="8829" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">此后，Java项目应该如下所示:</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi pe"><img src="../Images/5d07c435cc0c0e8bc00e58f205f6d618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-jIeqZm8Y5-9SiR5CJW5nA.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者截图| JAR依赖项列表在上图中用黄色框突出显示。</p></figure><p id="0909" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">为了简单起见，这个Java项目的名称被指定为<strong class="kv iu"> Tess4jOcrApp </strong>。请注意，在上面的黄色框中，库:<code class="fe pf pg ph pi b">pdfbox-2.0.3.jar</code> <code class="fe pf pg ph pi b">pdfbox-tools-2.0.3.jar</code> <code class="fe pf pg ph pi b">fontbox-2.0.3.jar</code>是由OCR引擎读取和处理PDF文档页面所需的主要依赖项。</p><p id="9ae1" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">(<strong class="kv iu">注意:</strong> <a class="ae ms" href="https://github.com/incubated-geek-cc/Tess4JOcrApp/blob/main/app/lib/flatlaf-2.4.jar" rel="noopener ugc nofollow" target="_blank"> flatlaf-2.4.jar </a>是可选的，因为它是Java Swing GUI的实用程序，而不是OCR依赖项。)</p><h2 id="e581" class="os nb it bd nc ot ou dn ng ov ow dp nk lc ox oy nm lg oz pa no lk pb pc nq pd bi translated">技术实施步骤</h2><p id="fb6a" class="pw-post-body-paragraph kt ku it kv b kw ns ju ky kz nt jx lb lc nu le lf lg nv li lj lk nw lm ln ks im bi translated">为了更好地连接<strong class="kv iu">第一部分</strong>和当前实现之间的点，<strong class="kv iu">第二部分</strong>将从与<strong class="kv iu">第一部分</strong>完全相同的代码模板开始，如图所示:</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="pj pk l"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">Author | Template的代码片段类似于第一部分从文本中提取图像的代码片段。|在main方法中，应该实现从pdf文档中提取文本。</p></figure><blockquote class="pl pm pn"><p id="b1da" class="kt ku nx kv b kw mn ju ky kz mo jx lb po mp le lf pp mq li lj pq mr lm ln ks im bi translated">第一部分只展示了从图像中提取文本，而第二部分旨在读取PDF文档并输出从页面中提取的所有文本内容。</p></blockquote><p id="78b1" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">步骤一。</strong>设置好镶嵌实例的数据路径后，继续初始化类别<code class="fe pf pg ph pi b">PDDocument</code>和<code class="fe pf pg ph pi b">PDFRenderer</code>:</p><pre class="ly lz ma mb gt pr pi ps bn pt pu bi"><span id="b973" class="pv nb it pi b be pw px l py pz">PDDocument document = PDDocument.load(new File("sample.pdf"));<br/>PDFRenderer pdfRenderer = new PDFRenderer(document);</span></pre><p id="5ac7" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">第二步。</strong>通过调用<code class="fe pf pg ph pi b">getNumberOfPages()</code>获取PDF中总页数的值，并继续创建一个for循环，如下所示:</p><pre class="ly lz ma mb gt pr pi ps bn pt pu bi"><span id="96ae" class="pv nb it pi b be pw px l py pz">int totalNoOfPages = document.getNumberOfPages();<br/>int imageDPI = 300;<br/>for (int p = 0; p &lt; totalNoOfPages; p++) { // FOR-EACH PAGE<br/><br/>}</span></pre><p id="b034" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">注意要点:</strong></p><ul class=""><li id="53c3" class="qa qb it kv b kw mn kz mo lc qc lg qd lk qe ks qf qg qh qi bi translated">Tesseract OCR实现最佳性能的理想分辨率是<strong class="kv iu"> 300DPI — </strong> <code class="fe pf pg ph pi b"> imageDPI</code></li><li id="62e5" class="qa qb it kv b kw qj kz qk lc ql lg qm lk qn ks qf qg qh qi bi translated">由Tesseract类调用的<code class="fe pf pg ph pi b">doOCR()</code>方法接受不同类型的参数，例如— <code class="fe pf pg ph pi b">File</code>(在第一部分中)以及<code class="fe pf pg ph pi b"><strong class="kv iu">BufferedImage</strong></code>。在下一步中，每个PDF页面将被检索并转换为类型<code class="fe pf pg ph pi b"><strong class="kv iu">BufferedImage</strong></code>用于数据提取。</li></ul><p id="7c3d" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">第三步。</strong>最后，在初始化来自<strong class="kv iu">步骤1 </strong>和<strong class="kv iu">步骤2 </strong>的所需变量后，<code class="fe pf pg ph pi b">PDFRenderer</code>类继续调用函数<code class="fe pf pg ph pi b">renderImageWithDPI()</code>来提取PDF文件中位置<code class="fe pf pg ph pi b">p</code>处的文档页面。<code class="fe pf pg ph pi b">renderImageWithDPI()</code>的返回类型为<code class="fe pf pg ph pi b"><strong class="kv iu">BufferedImage</strong></code>(变量名为<code class="fe pf pg ph pi b"><strong class="kv iu">tempPageBimg</strong></code>)。<code class="fe pf pg ph pi b"><strong class="kv iu">tempPageBimg</strong></code> <strong class="kv iu"> </strong>然后被解析为<code class="fe pf pg ph pi b">doOCR()</code>，文件处理开始。在完成此页面的OCR提取后，将对其他页面分别进行相同的迭代，直到PDF文档中的所有文本内容都被输出以供显示。</p><p id="3512" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">仅供参考:这是所有3个步骤</strong>的完整代码片段(演示输入文件可在<a class="ae ms" href="https://github.com/incubated-geek-cc/Tess4JOcrApp/blob/main/app/sample_data/pdf_sample.pdf" rel="noopener ugc nofollow" target="_blank"> pdf_sample.pdf </a>中检索)<strong class="kv iu"> : </strong></p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="pj pk l"/></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者的代码片段|输入PDF文件<a class="ae ms" href="https://github.com/incubated-geek-cc/Tess4JOcrApp/raw/main/app/sample_data/sample.pdf" rel="noopener ugc nofollow" target="_blank">sample.pdf</a>总共有2页，每一页都是通过Tesseract实例作为BufferedImage提取的</p></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi qo"><img src="../Images/bafb60dfa18c50195d7997381639363d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1nNXhxjZLQanoVltgL6D6w.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者提供的图像|文档的第1页已由应用程序成功处理|右图:带有红色轮廓的图像指的是原始PDF页面内容</p></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi qp"><img src="../Images/329499a6a38b0f869c470b6bc619d0f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fr7t2IMJYagNBZc8axun_w.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者提供的图像|文档的第2页已由应用程序成功处理|右图:带有红色轮廓的图像指的是原始PDF页面内容</p></figure><blockquote class="pl pm pn"><p id="3f65" class="kt ku nx kv b kw mn ju ky kz mo jx lb po mp le lf pp mq li lj pq mr lm ln ks im bi translated">最后，PDF转文本提取工具已经成功创建并可以使用了！🤩</p></blockquote><h2 id="7f34" class="os nb it bd nc ot ou dn ng ov ow dp nk lc ox oy nm lg oz pa no lk pb pc nq pd bi translated">(可选)文本提取工具的用户界面</h2><p id="2936" class="pw-post-body-paragraph kt ku it kv b kw ns ju ky kz nt jx lb lc nu le lf lg nv li lj lk nw lm ln ks im bi translated">与第一部分类似，我选择用Java Swing的GUI工具包构建一个<a class="ae ms" href="https://www.britannica.com/technology/graphical-user-interface" rel="noopener ugc nofollow" target="_blank">图形用户界面(GUI) </a>，并添加了第二部分的功能:</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi qq"><img src="../Images/3ee99228b7fee359bc4d98d19814517a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYCQ76pDFlKZAd6CD01ibA.png"/></div></div><p class="mj mk gj gh gi ml mm bd b be z dk translated">作者截屏|展示文本提取工具的GUI和功能|请注意，此版本的应用程序支持每次上传多个图像。|每次上传只能处理1个PDF文档。</p></figure><p id="9bc9" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated"><strong class="kv iu">参考消息:</strong>完整的源代码可以从我在<a class="ae ms" href="https://github.com/incubated-geek-cc/Tess4JOcrApp" rel="noopener ugc nofollow" target="_blank"> Tess4JOcrApp </a>的Github repo中检索到。GUI应用程序的第1版和第2版都在同一个回购中提供，因此请随时到⭐和🔱它！</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="ca74" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">现在你知道了！非常感谢你坚持到这篇文章的结尾！❤如果你觉得这篇文章有用，那么请随时<a class="ae ms" href="https://medium.com/@geek-cc" rel="noopener">关注我的媒体</a>并继续关注我的另一个即将到来的宠物项目！会非常感激—😀</p><p id="0de5" class="pw-post-body-paragraph kt ku it kv b kw mn ju ky kz mo jx lb lc mp le lf lg mq li lj lk mr lm ln ks im bi translated">— 🌮请给我买一份玉米卷🎀˶❛◡❛)</p><div class="ny nz gp gr oa ob"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">geek-cc.medium.com</p></div></div><div class="ok l"><div class="qr l om on oo ok op mh ob"/></div></div></a></div></div></div>    
</body>
</html>