<html>
<head>
<title>PDFs to Word Cloud in 3 steps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pdf到Word Cloud只需3个步骤</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pdfs-to-word-cloud-in-3-steps-73ccbff6d835#2022-06-07">https://towardsdatascience.com/pdfs-to-word-cloud-in-3-steps-73ccbff6d835#2022-06-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2d3b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">从多个文档生成单词云的快速指南</h2></div><p id="6104" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">单词云是一种数据可视化工具，用于在图像中描绘单词。每个单词的大小不同，它代表了单词的重量。尺寸越大，其重要性越高。在大多数情况下，单词出现的频率被用作其权重。</p><p id="2d96" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">词云在数据科学领域有多种应用。它通常用于NLP任务的探索性数据分析阶段。它给出了大型文本语料库中频繁出现的术语的快速概览，并且还给出术语相对于语料库中其他术语的用法的指示。它应用于情感分析任务，其中可以可视化总体情感的快速摘要。它还应用于主题建模任务，其中主题术语可以在词云中快速发现。</p><p id="5dc6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里有一个词云的例子。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/eeaf40fcfc5bbe5dcb9a4458b8bc55df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-qaS9WPD9ocA9Ofr85v5g.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><strong class="bd lr">单词云示例</strong>(图片由作者提供)</p></figure><p id="67b3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">词云给出了创建它的文本语料库的快速摘要。查看上面的词云，很容易识别出文本语料库是关于使用强化学习的，特别是股票数据集上的深度q网络方法。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi ls"><img src="../Images/8639da73f6642fe46a18bd73fcdd2f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x1uwHZPp7qSXEVwdQgtU7w.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><strong class="bd lr"> <em class="lt">被几个PDF文件卡住了？？</em> </strong> <em class="lt"> </em>(图片由作者提供)</p></figure><p id="ff24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将学习如何阅读多个pdf文档，将它们拆分成关键词，并用最常用的关键词创建一个词云。</p><h1 id="2294" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">我们开始吧</h1><p id="b56d" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">这个过程包括三个简单直接的步骤。</p><ul class=""><li id="0c4f" class="mr ms iq kh b ki kj kl km ko mt ks mu kw mv la mw mx my mz bi translated"><strong class="kh ir">第一步:</strong>读取文件</li><li id="759c" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><strong class="kh ir">步骤2: </strong>确定关键词</li><li id="634f" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><strong class="kh ir">第三步:</strong>创建单词云</li></ul><h1 id="701e" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">必需的PYTHON包</h1><p id="1f01" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">在开始实现之前，这里是需要的包的列表。</p><pre class="lc ld le lf gt nf ng nh ni aw nj bi"><span id="bf80" class="nk lv iq ng b gy nl nm l nn no">pip install PyPDF2<br/>pip install textract<br/>pip install wordcloud<br/>pip install nltk<br/>pip install collection</span></pre><p id="ee24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是<em class="np">为什么</em>我们需要这些包:</p><ul class=""><li id="7443" class="mr ms iq kh b ki kj kl km ko mt ks mu kw mv la mw mx my mz bi translated"><em class="np"> PyPDF2 </em>:解析PDF文件(方法1)</li><li id="9f13" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><em class="np"> textract </em>:解析PDF文件(方法1)</li><li id="9df3" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><em class="np">文字云</em>:创建文字云图像</li><li id="a000" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><em class="np"> nltk </em>:获取停用词并将字符串标记为关键词</li><li id="c88f" class="mr ms iq kh b ki na kl nb ko nc ks nd kw ne la mw mx my mz bi translated"><em class="np">集合</em>:获取关键字到其出现次数的映射</li></ul><h1 id="ed28" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">第一步:阅读文件</h1><p id="b076" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">有多种方法可以将pdf文件的内容读入字符串。这里我们将研究两种这样的方法。</p><h2 id="f346" class="nk lv iq bd lw nq nr dn ma ns nt dp me ko nu nv mg ks nw nx mi kw ny nz mk oa bi translated">方法1:使用textract包</h2><p id="c0f6" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">除pdf文件外，textract包还支持多种文件类型。参考<a class="ae ob" href="https://textract.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank">官方文档</a>了解其他支持的文件类型。</p><p id="42a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里我们将使用基本的解析器来处理文件的内容，并将其作为字符串返回。默认情况下，返回类型是一个字节字符串，需要对其进行解码，以将其提取为一个字符串。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><h2 id="9f44" class="nk lv iq bd lw nq nr dn ma ns nt dp me ko nu nv mg ks nw nx mi kw ny nz mk oa bi translated">方法2:使用PyPDF2包</h2><p id="0e8e" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">PyPDF2是一个开源python包，专门用于执行PDF特定的功能，如读取、分割、合并、裁剪和转换PDF文件的页面。请参考<a class="ae ob" href="https://pypdf2.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">此链接</a>以获取关于PyPDF2包的更多详细信息。</p><p id="52d4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面的代码片段从文件路径中读取PDF并以字符串形式返回其内容。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="da5e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面提到的任何包都可以用来提取PDF文件的内容。就我个人而言，我觉得textract包的结果比PyPDF2的结果更好，因此将它设置为默认值。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><h1 id="111c" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">第二步:识别关键词</h1><p id="088c" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">阅读PDF文件的内容后，下一步是将它分割成关键字。为了实现这一点，我们使用nltk包中的<a class="ae ob" href="https://www.nltk.org/api/nltk.tokenize.html" rel="noopener ugc nofollow" target="_blank"> word_tokenize </a>。它接受一个字符串作为输入，并将它分成一系列子字符串。</p><p id="cad4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">标点符号将从最终的关键字列表中删除。nltk包中定义的常见单词(停用词)从关键字列表中删除。此外，如果这个列表中有一些额外的单词需要忽略，那么它可以作为一个列表传递给这个函数。</p><p id="ee43" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，函数返回一个关键字列表。默认情况下，数字从列表中删除，单词转换为小写。这可以通过参数设置来覆盖。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><h1 id="0e84" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">第三步:创建单词云</h1><p id="320c" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">提取关键词后的最后一步是根据每个词的出现频率绘制词云。出现频率较高的词在词云中会有较大的字号，突出其意义。</p><p id="bf61" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里我们使用的是<a class="ae ob" href="https://pypi.org/project/wordcloud/" rel="noopener ugc nofollow" target="_blank"> wordcloud包</a>中提供的WordCloud。单词云中显示的单词数量及其大小和颜色设置是可配置的。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><h1 id="65a8" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">把它们放在一起</h1><p id="485d" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">一旦这3个函数可用，我们就可以用3行代码为PDF文件生成单词云了。</p><h2 id="a516" class="nk lv iq bd lw nq nr dn ma ns nt dp me ko nu nv mg ks nw nx mi kw ny nz mk oa bi translated">单个文件的WORD CLOUD</h2><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi oe"><img src="../Images/92805ec3fa34312b76147270fd253ebf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BXPVYtEvt-Tde1dxbF-vGQ.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><strong class="bd lr">pdf文件中前200个单词的Wordcloud】(图片由作者提供)</strong></p></figure><h2 id="ceee" class="nk lv iq bd lw nq nr dn ma ns nt dp me ko nu nv mg ks nw nx mi kw ny nz mk oa bi translated">文件夹中所有文件的WORD CLOUD</h2><p id="d52c" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">同样的代码可以扩展为一个文件夹中的多个文档创建一个单词云。这将给出文档中常见单词的概述。</p><p id="455c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在下面的示例中，输出是从sample_files文件夹中的两个示例pdf文件中提取的(请参考git repo来访问这些文件)。</p><p id="ff6c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">文件夹中所有pdf文件的关键字合并列表被创建，该关键字列表用于生成单词云。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi of"><img src="../Images/0fa034717fe91271b767bb8e6b83c881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ryezQUq7NtSWpclaPsYsgA.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated"><strong class="bd lr"> Wordcloud，包含文件夹中所有文档的前100个单词</strong>(图片由作者提供)</p></figure><h1 id="b244" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">源代码</h1><p id="38df" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">从下面的链接下载Jupyter笔记本，用它来生成你自己的word cloud:<a class="ae ob" href="https://github.com/Lakshmi-1212/wordcloud_from_docs" rel="noopener ugc nofollow" target="_blank">word cloud _ from _ docs</a></p><h1 id="7a34" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">结论</h1><p id="1212" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">本文解释了从多个pdf文件中读取并创建单词云的多种可能方法之一。</p><p id="b08d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以探索其他方法来执行相同的任务，如使用不同的PDF解析器，使用TFIDF代替计数器，使用具有计数映射的字典/数据帧代替所有关键字列表，生成漂亮的单词云图像等。探索愉快！！</p><h1 id="c2f6" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated"><em class="lt">参考文献:</em></h1><p id="4843" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated"><em class="np"> PDF文档引用实例创建文字云:</em></p><p id="9376" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">杨，赵，黄和郑，2022。将区块链和人工智能与元宇宙融合:一项调查。arXiv预印本arXiv:2201.03201。</p><p id="df65" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="np"> Gadekallu，T.R .，Huynh-The，t .，Wang，w .，Yenduri，g .，Ranaweera，p .，Pham，Q.V .，da Costa，D.B .和Liyanage，m .，2022。元宇宙的区块链:综述。arXiv预印本arXiv:2203.09738。</em></p><p id="0608" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">南巴杰派，2021。深度强化学习在印度股票交易自动化中的应用。<em class="np"> arXiv预印本arXiv:2106.16088 </em>。</p></div></div>    
</body>
</html>