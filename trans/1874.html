<html>
<head>
<title>PyScript — unleash the power of Python in your browser</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyScript——在浏览器中释放Python的威力</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/pyscript-unleash-the-power-of-python-in-your-browser-6e0123c6dc3f#2022-05-02">https://towardsdatascience.com/pyscript-unleash-the-power-of-python-in-your-browser-6e0123c6dc3f#2022-05-02</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/00941142647a83f2b6368a014691307b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNbl_1riOiUbZvMTMrsEHA.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">来源:<a class="ae ji" href="https://pyscript.net/" rel="noopener ugc nofollow" target="_blank">来源:pyscript.net</a></p></figure><div class=""/><div class=""><h2 id="cbf6" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">如何从HTML代码中运行Python</h2></div><p id="f332" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在PyCon US 2022的主题演讲中，Anaconda的首席执行官王蒙杰公布了一个相当令人惊讶的项目——<a class="ae ji" href="https://pyscript.net/" rel="noopener ugc nofollow" target="_blank">py script</a>。它是一个JavaScript框架，允许用户在浏览器中混合使用Python和标准HTML来创建Python应用程序。该项目的最终目标是让更广泛的受众(例如前端开发人员)受益于Python及其各种库(statistical、ML/DL等)的强大功能。).</p><h2 id="64d9" class="lw lx jl bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">关于PyScript要知道的关键事情</h2><ul class=""><li id="7153" class="mp mq jl lc b ld mr lg ms lj mt ln mu lr mv lv mw mx my mz bi translated">允许我们在浏览器中使用Python及其庞大的库生态系统(包括<code class="fe na nb nc nd b">numpy</code>、<code class="fe na nb nc nd b">pandas</code>、<code class="fe na nb nc nd b">scikit-learn</code>)。</li><li id="ca87" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">通过使用环境管理<strong class="lc jm"> </strong>用户可以决定在运行页面代码时哪些包和文件是可用的。</li><li id="0b0c" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">我们可以使用一些现成的精选UI组件，例如:按钮、容器、文本框等。</li><li id="14e0" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">我们不必担心部署，因为有了PyScript，一切都会在我们的web浏览器中发生。作为数据科学家，我们可以与我们的利益相关者共享包含仪表板和/或模型的HTML文件，他们将能够在他们的浏览器中运行这些文件，而无需任何复杂的设置。</li></ul><h2 id="0037" class="lw lx jl bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">它是如何工作的？</h2><p id="807c" class="pw-post-body-paragraph la lb jl lc b ld mr km lf lg ms kp li lj nj ll lm ln nk lp lq lr nl lt lu lv io bi translated">PyScript建立在<a class="ae ji" href="https://pyodide.org/en/stable/" rel="noopener ugc nofollow" target="_blank"> Pyodide </a>之上。我希望我不是那种不太了解Pyodide到底是什么的数据科学家。所以是基于WebAssembly的浏览器和Node.js的Python发行版(CPython的端口)。这就带来了下一个问题:什么是WebAssembly？</p><p id="0049" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><strong class="lc jm"> WebAssembly </strong>是让用Python写网站成为可能的技术。它使用人类可读的文本格式语言，然后被转换成浏览器可以运行的二进制T4格式。得益于此，我们可以用任何语言编写代码，编译成WebAssembly，然后在web浏览器中运行。</p><p id="bbe9" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在下面展示技术堆栈的图片中，我们还可以看到<a class="ae ji" href="https://emscripten.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="lc jm"> Emscripten </strong> </a>，这是一个开源的编译器工具链。它允许将任何可移植的C/C++代码库编译成WebAssembly。</p><p id="4fad" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">值得庆幸的是，作为最终用户，我们不需要完全理解到底发生了什么。然而，它肯定是重要的，例如，出于安全原因。</p><figure class="nn no np nq gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nm"><img src="../Images/638e7c582b3152b552ff08b73f578f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UCcZYRB6nqayqIfB_110Qg.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">来源:<a class="ae ji" href="https://anaconda.cloud/pyscript-python-in-the-browser" rel="noopener ugc nofollow" target="_blank">https://anaconda.cloud/pyscript-python-in-the-browser</a></p></figure><p id="fc5d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">目前，PyScript支持在浏览器中编写和运行Python代码。未来的目标是它也将提供对其他语言的支持。</p><p id="68ba" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">这也是潜在限制发挥作用的地方。目前，当使用PyScript时，我们只能使用Pyodide支持的库。你可以在这里找到整个列表<a class="ae ji" href="https://github.com/pyodide/pyodide/tree/main/packages" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="f67e" class="lw lx jl bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">带它去兜风</h2><p id="a8f3" class="pw-post-body-paragraph la lb jl lc b ld mr km lf lg ms kp li lj nj ll lm ln nk lp lq lr nl lt lu lv io bi translated">PyScript目前处于alpha阶段，但我们已经可以尝试一下，并可能对其<a class="ae ji" href="https://github.com/pyscript/pyscript" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>提出任何改进建议。我们可以直接从<a class="ae ji" href="https://pyscript.net/" rel="noopener ugc nofollow" target="_blank"> PyScript的网站</a>下载包含所有代码和资产的压缩文件夹。</p><p id="04bd" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">PyScript网站上提供的最基本的示例如下:</p><figure class="nn no np nq gt ix"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="c02c" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">正如我们所见，Python代码嵌入在<code class="fe na nb nc nd b">&lt;py-script&gt;</code>块中。在浏览器中打开文件(或使用VS代码的Life Saver扩展)会产生以下输出:</p><figure class="nn no np nq gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nt"><img src="../Images/7228c0f88306e65d1ea48d0314ffd230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t6LKreo694VqHUfvoopEuA.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="1c14" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在第二个例子中，我们将做得更多一点。我们将使用<code class="fe na nb nc nd b">numpy</code>生成来自标准正态分布的数字，然后使用<code class="fe na nb nc nd b">matplotlib</code>绘制它们。我们使用以下代码来实现这一点:</p><figure class="nn no np nq gt ix"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="65d5" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">这一次，我们还做了以下工作:</p><ul class=""><li id="58eb" class="mp mq jl lc b ld le lg lh lj nu ln nv lr nw lv mw mx my mz bi translated">我们通过在<code class="fe na nb nc nd b">&lt;py-env&gt;</code>块中列出想要在Python环境中使用的库来定义它们，</li><li id="5cc4" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">我们通过在<code class="fe na nb nc nd b">&lt;py-script&gt;</code>块:<code class="fe na nb nc nd b">&lt;py-script output=”plot”&gt;</code>中指定来表示我们将输出一个图。</li></ul><figure class="nn no np nq gt ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi nx"><img src="../Images/c16184930520ce2c13b5c9cb545335d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EmAbw6whRSYRxbBC7JtVdQ.png"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="a72d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">自然，随着我们的代码库变得越来越大，我们不需要将它完全嵌入到HTML文件中。我们可以使用下面的块结构来加载任何<code class="fe na nb nc nd b">.py</code>脚本:</p><pre class="nn no np nq gt ny nd nz oa aw ob bi"><span id="962b" class="lw lx jl nd b gy oc od l oe of">&lt;py-script src="/our_script.py"&gt; &lt;/py-script&gt;</span></pre><p id="3d9e" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在这里(已经在浏览器中运行)和这里<a class="ae ji" href="https://github.com/pyscript/pyscript/tree/main/pyscriptjs/examples" rel="noopener ugc nofollow" target="_blank"/>(GitHub上的代码)可以找到相当多使用PyScript <a class="ae ji" href="https://pyscript.net/examples/" rel="noopener ugc nofollow" target="_blank">的例子。</a></p><h2 id="ac5c" class="lw lx jl bd ly lz ma dn mb mc md dp me lj mf mg mh ln mi mj mk lr ml mm mn mo bi translated">包扎</h2><ul class=""><li id="98aa" class="mp mq jl lc b ld mr lg ms lj mt ln mu lr mv lv mw mx my mz bi translated">有了PyScript，我们将能够直接从浏览器上运行Python代码，</li><li id="34b3" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">该项目由Anaconda开发，</li><li id="905b" class="mp mq jl lc b ld ne lg nf lj ng ln nh lr ni lv mw mx my mz bi translated">该项目仍处于alpha阶段，但我们已经可以使用Pyodide支持的一些库了。</li></ul><p id="3db9" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">就我个人而言，我不确定此时该如何看待PyScript。这看起来很有希望，但是它可能会带来很多新的安全问题。此时，我们还可以看到，即使运行一些简单的脚本，在执行时间方面也已经产生了很大的开销。所以我不确定在浏览器中运行大块代码有多实际。</p><p id="93bd" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我很想知道你对这项新技术有什么想法！请在评论中或在<a class="ae ji" href="https://twitter.com/erykml1?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上让我知道。</p><p id="cb0a" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><em class="og">喜欢这篇文章吗？成为一个媒介成员，通过无限制的阅读继续学习。如果您使用</em> <a class="ae ji" href="https://eryk-lewinson.medium.com/membership" rel="noopener"> <em class="og">这个链接</em> </a> <em class="og">成为会员，您将支持我，无需您额外付费。提前感谢，再见！</em></p><p id="e603" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可能还会对以下内容感兴趣:</p><div class="iu iv gp gr iw oh"><a rel="noopener follow" target="_blank" href="/pandas-is-not-enough-a-comprehensive-guide-to-alternative-data-wrangling-solutions-a4730ba8d0e4"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd jm gy z fp om fr fs on fu fw jk bi translated">熊猫还不够？替代数据争论解决方案的全面指南</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">包括达斯克、摩丁、polars、Vaex、Terality等6人</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">towardsdatascience.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov jc oh"/></div></div></a></div><div class="iu iv gp gr iw oh"><a rel="noopener follow" target="_blank" href="/preview-your-jupyter-notebooks-in-the-terminal-with-nbpreview-87601a92d0d1"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd jm gy z fp om fr fs on fu fw jk bi translated">使用nbpreview在终端中预览您的Jupyter笔记本</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">有了nbpreview，你不用离开终端就可以阅读和检查笔记本！</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">towardsdatascience.com</p></div></div><div class="oq l"><div class="ow l os ot ou oq ov jc oh"/></div></div></a></div><div class="iu iv gp gr iw oh"><a rel="noopener follow" target="_blank" href="/pur-the-easiest-way-to-keep-your-requirements-file-up-to-date-22d835279348"><div class="oi ab fo"><div class="oj ab ok cl cj ol"><h2 class="bd jm gy z fp om fr fs on fu fw jk bi translated">pur——保持您的需求文件最新的最简单的方法</h2><div class="oo l"><h3 class="bd b gy z fp om fr fs on fu fw dk translated">用一行代码更新requirements.txt中的所有库</h3></div><div class="op l"><p class="bd b dl z fp om fr fs on fu fw dk translated">towardsdatascience.com</p></div></div><div class="oq l"><div class="ox l os ot ou oq ov jc oh"/></div></div></a></div></div></div>    
</body>
</html>