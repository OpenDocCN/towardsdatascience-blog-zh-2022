<html>
<head>
<title>Using AI to make my own Smart Assistant App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用AI做自己的智能助手App</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/using-ai-to-make-my-own-smart-assistant-app-5ad015449447#2022-05-10">https://towardsdatascience.com/using-ai-to-make-my-own-smart-assistant-app-5ad015449447#2022-05-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="1d3f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">应用机器学习</h2><div class=""/><div class=""><h2 id="94b1" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Python和GPT-3制作的智能助理应用程序</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/f5183c00cbbcc592b25dbb8dcedf7d06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nGE3AXYm2wS_8mnBd55SfA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">图片由<a class="ae lh" href="https://www.shutterstock.com/image-illustration/robotic-hand-cylinder-shape-sorting-toy-650430337" rel="noopener ugc nofollow" target="_blank">摄影盒</a>中的<a class="ae lh" href="https://www.shutterstock.com/g/maxuser" rel="noopener ugc nofollow" target="_blank"> maxuser </a>拍摄</p></figure><p id="882f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated">随着苹果的Siri、亚马逊的Alexa和谷歌Home等产品的出现，购物助手变得越来越受欢迎。在本文中，我用Python制作了自己的智能助手。</p><h1 id="f5d3" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">介绍</h1><p id="cc9e" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">智能助手允许你通过语音交互从网络上快速收集信息。在制作智能助手时，我想制作一个具有图形用户界面的web应用程序，在那里我可以使用我的语音与智能助手进行交互。在这篇文章中，我详细介绍了我是如何制作这个应用程序的，我使用了哪些工具和方法。用于这个小项目的许多工具可以用于许多其他项目。</p><h1 id="e44b" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">方法</h1><p id="6f9e" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">为了做智能助手，我用了OpenAI的GPT-3。GPT-3是由<a class="ae lh" href="https://openai.com/" rel="noopener ugc nofollow" target="_blank"> OpenAI </a>训练的海量语言模型。它经过预先训练，能够很好地推广到各种各样的用例。</p><p id="7f8e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我的目标是制作一个应用程序，通过它我可以用我的声音与GPT 3互动。</p><p id="c53f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该应用程序的整体流程图如下所示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nk"><img src="../Images/701a68ee50faad52edbeb3367032a711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZYWdDpAo95D6Vaxc_Hlk8g.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="fdd4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了将我的声音传递给OpenAI，我首先需要将我的讲话传递给文本。所以首先我用Streamlit应用程序录下我的声音。然后，我对录音进行编码，并将其传递给<a class="ae lh" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"> AssemblyAI </a>进行转录。我收到了抄本并把它传给了OpenAI。然后，我可以将回复显示在应用程序上。</p><p id="8706" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了通过应用程序与这些服务通信，我使用了它们的API。</p><h1 id="5320" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">什么是API？</h1><p id="1155" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">应用程序接口(API)是软件程序相互通信的方式。为了让它们进行交互，API提供了一组协议和工具来帮助交互成功。</p><p id="5208" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这两个服务都有Python中的API，所以我可以轻松地将这两个服务集成到应用程序中。API允许我访问由公司开发和托管的服务、工具和人工智能模型。我可以向他们发送一个请求，询问我希望他们的模型为我处理什么，然后我得到一个响应，其中包含他们预先训练好的模型的输出。</p><h1 id="56df" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">你如何使用API的？</h1><p id="81eb" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">为了实时转录音频，我使用了AssemblyAI Websocket API。与HTTPS连接不同，Websocket连接允许双向发送和接收来自API服务器的请求。这样我可以实时转录数据。</p><p id="0275" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了建立WebSocket连接，我使用了Python中的异步库“asyncio”和“websockets”。下面是代码的样子:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="7554" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上面的代码中，我连接到WebSocket URL，并尝试接收连接确认(参见上面的session_begins)。</p><p id="85f9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦连接，我可以定义发送和接收函数，这将允许我以我想要的方式与API通信。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="305f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在send函数中，我首先收集我的音频，将其编码为utf-8，然后使用WebSocket发送。当处理音频文件或API时，utf-8编码是相当标准的。</p><p id="f7f9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在接收功能中，我首先从音频文件中接收转录的文本，我将该文本发送到OpenAI并接收来自GPT-3的响应。</p><h1 id="05ca" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">使用Streamlit构建应用程序</h1><p id="912c" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">Streamlit可用于快速构建网络应用。该应用程序的目标是提供一个图形用户界面(GUI)，以便用户可以在不使用任何代码的情况下与智能助理无缝交互。</p><p id="edf8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我现在将详细说明我用来制作应用程序的代码结构。我总是把我的Streamlit应用包在一个类里。整个代码结构如下所示:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nl nm l"/></div></figure><p id="6d2b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该应用程序包含两个按钮。第一个是记录按钮，第二个是清除聊天按钮。</p><p id="ccd9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">录制按钮开始录制您的语音，然后转录并发送文本到OpenAI。然后，响应会以聊天对话的形式显示在应用程序上。</p><p id="b93a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该应用程序会记录下存储聊天内容的对话。txt文件。当按下清除聊天按钮时。txt文件被清除。</p><p id="72e6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个应用程序的最后一个我不能在这里展示的功能是文本到语音转换。当机器人回应时，它会读出句子。为此，我使用了pyttsx3库。</p><h1 id="9c4d" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">与工具交互</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nn"><img src="../Images/796e62632434780d381e1cb1a9591c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IkHRgkIUdDuXRbfufIgAqQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="06c5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面是这个应用程序的截图。最上面是应用程序的两个按钮。要与智能助理互动，您可以按录音并说出您的信息。你的信息的副本显示在左边，GPT-3的回应显示在右边。</p><p id="5f63" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这位聪明的助手显然名叫莎拉，今年26岁。这个应用程序似乎工作得很好，它可以检测我的声音，并以一种全面的方式显示出来。智能助理可以处理更复杂的查询:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi no"><img src="../Images/3dd51b932063f79243773c95b06e6f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGBBP09-LcS-JkjjMh85SQ.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="bfa3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">智能助手在处理基本几何图形或首字母缩略词时没有问题。这个机器人也知道现代公司的背景:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi np"><img src="../Images/4cd74970abd067451dedb546b007d453.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dag778zq7LCd-f89MaBOEg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><h1 id="4c47" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">结论</h1><p id="e895" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">在这篇文章中，我介绍了我是如何制作智能助手应用程序的。该应用程序能够记录你的声音，转录它，将转录传递给OpenAI的GPT-3，并为你读出回应。我介绍了该应用程序的管道是什么样子，以及该应用程序是如何在streamlit上编程的。最后，我回顾了一些我与智能助手的交互示例。总的来说，我认为这个应用程序很有用，效果很好。</p><h1 id="35a6" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">支持我</h1><p id="b232" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated">希望这对你有所帮助，如果你喜欢，可以<a class="ae lh" href="https://medium.com/@diegounzuetaruedas" rel="noopener"> <strong class="lk jd">跟我来！</strong>T3】</a></p><p id="fe68" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您也可以成为<a class="ae lh" href="https://diegounzuetaruedas.medium.com/membership" rel="noopener"> <strong class="lk jd">中级会员</strong> </a> <strong class="lk jd"> </strong>使用我的推荐链接，访问我的所有文章以及更多:<a class="ae lh" href="https://diegounzuetaruedas.medium.com/membership" rel="noopener">https://diegounzuetaruedas.medium.com/membership</a></p><h1 id="7cca" class="mn mo it bd mp mq mr ms mt mu mv mw mx ki my kj mz kl na km nb ko nc kp nd ne bi translated">你可能喜欢的其他文章</h1><p id="77e6" class="pw-post-body-paragraph li lj it lk b ll nf kd ln lo ng kg lq lr nh lt lu lv ni lx ly lz nj mb mc md im bi translated"><a class="ae lh" href="https://pub.towardsai.net/using-ai-to-analyze-speech-3a3bbf6248ac" rel="noopener ugc nofollow" target="_blank">利用人工智能分析语音</a></p><p id="d8b3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://medium.com/p/2105956c8720" rel="noopener"> AI应用于掩膜检测</a></p></div></div>    
</body>
</html>