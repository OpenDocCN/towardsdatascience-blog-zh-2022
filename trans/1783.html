<html>
<head>
<title>Top R Libraries for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向数据科学家的顶级R库</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-r-libraries-for-data-scientists-16f064151c04#2022-04-26">https://towardsdatascience.com/top-r-libraries-for-data-scientists-16f064151c04#2022-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2236" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">r是一种开源语言，有大量的库可供探索。在这篇文章中，你会发现一些最著名的，你可以在那里了解更多。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2901b31bfbfe826a9a33a7bde3551dc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5wMbsOps6M504VhO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@alfonsmc10" rel="noopener ugc nofollow" target="_blank">阿尔方斯·莫拉莱斯</a>@ unsplash.com拍摄</p></figure><p id="ee09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> L </span>在过去的十年里，开源语言已经成为数据科学领域事实上的标准。开源工具是免费的、可扩展的，并且在合作社区中拥有成千上万个人的广泛支持。</p><p id="0287" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">r是最著名的开源语言之一，受到了全世界数百万数据科学家的青睐。其主要优势之一是大型社区支持大量不断更新和改进的图书馆，能够捕捉世界各地机器学习和数据科学研究的最新发展。</p><p id="bbd1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用R时，可以使用的库实际上有数百个——对于初学者来说，这可能会令人困惑，尤其是在您注意到许多库有相同的目的并做类似的事情之后。</p><p id="6093" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章将帮助你了解世界各地的数据科学家经常使用哪些库。这个摘要应该为您提供数据科学领域最著名的库的详细列表。</p><p id="5152" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从数据争论到训练机器学习模型，以下库是当今生产中大多数数据科学脚本的一部分。如果你是R的新手，围绕下一个库制定一个学习计划会给你一个很好的方法来提高你的R技能，并且能够处理我们那里的大量数据科学项目。</p><p id="aa1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">我们开始吧！</strong></p><p id="450e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提示:为了能够运行本文中的示例，不要忘记下载并安装本文中提到的库。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="2fea" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">数据争论— Dplyr</h1><p id="337d" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">我们的第一个库来自于包的宇宙。<em class="me"> Dplyr </em>是一个数据角力库，以解锁R ( <code class="fe nj nk nl nm b">%&gt;%</code>)内部管道运算符的权力而闻名。</p><p id="5af6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在处理复杂的数据管道时，r语法并不是特别简洁。添加几个过滤器或合并不同的数据框可能会使您的代码混乱不堪。<em class="me"> Dplyr </em>增强您的数据争论游戏，使您能够快速编写复杂的数据管道。</p><p id="95d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，使用<em class="me"> dplyr </em>你可以很容易地将一个函数封装在另一个函数中，而不是使用典型的复合格式<em class="me"> f(g(x)) </em>，这种格式会扩展到混乱的R代码，几乎不可能维护或调试，并且会产生大量的技术债务。</p><p id="00d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看下面这个关于<em class="me"> iris </em>数据集的例子——想象一下，在过滤了<em class="me"> virginica </em>物种的行之后，我想要对<em class="me"> sepal_width </em>求平均值。如果我们使用R基代码，我们可能会做以下事情:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="fb8d" class="nr mn it nm b gy ns nt l nu nv">mean(iris[iris$Species==’virginica’, ‘Sepal.Width’])</span></pre><p id="22ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那好像也不太复杂！但是，现在假设我们想要添加另一个条件，取出<em class="me"> virginicas </em>一个小于2:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="5461" class="nr mn it nm b gy ns nt l nu nv">mean(iris[(iris$Species==’virginica’) &amp; (iris$Petal.Width &lt; 2), ‘Sepal.Width’])</span></pre><p id="b6c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码有点令人困惑。有了<em class="me"> Dplyr </em>，我们可以简单地:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="3086" class="nr mn it nm b gy ns nt l nu nv">iris %&gt;% <br/> filter(Species == ‘virginica’, Petal.Width &lt; 2) %&gt;%<br/> summarise(mean(Sepal.Width))</span></pre><p id="7aa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多酷啊。<code class="fe nj nk nl nm b">%&gt;%</code>通过作用于前一个函数返回的元素来工作。功能<code class="fe nj nk nl nm b">summarise</code>仅在<code class="fe nj nk nl nm b">filter</code>返回时应用。在<code class="fe nj nk nl nm b">filter</code>中，我们直接使用逗号分隔的两个条件，这比使用多个<code class="fe nj nk nl nm b">&amp;</code>条件更加实用和简洁。</p><p id="aa22" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想改进你的代码，让它对其他人来说更可读，Dplyr真的很酷，也是最重要的学习内容之一。您可以使用一些资源来了解更多信息:</p><ul class=""><li id="6b24" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated"><a class="ae ky" href="https://dplyr.tidyverse.org/" rel="noopener ugc nofollow" target="_blank">图书馆的官方页面。</a></li><li id="6e8e" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://github.com/rstudio/cheatsheets/blob/main/data-transformation.pdf" rel="noopener ugc nofollow" target="_blank"><em class="me">Dplyr</em>小抄。</a></li><li id="984d" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">我的数据科学课程的第一部分。</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="4700" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">数据访问— RODBC</h1><p id="58fb" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">当你想直接从数据库中检索数据时，RODBC是你的好朋友。该库使您能够使用<em class="me"> ODBC(开放式数据库连接)</em>通道直接连接到数据库管理系统中的表，并直接从数据库系统中检索一些示例，而无需使用任何<em class="me"> csv </em>、<em class="me"> xlsx </em>或<em class="me"> json </em>接口。使用<em class="me"> RODBC，</em>你使用查询语言将数据库管理系统中的数据直接转换成数据帧。</p><p id="60b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要使用<em class="me"> RODBC </em>，您需要:</p><ul class=""><li id="0855" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">在您的系统中配置一个<em class="me"> ODBC </em>连接到您想要的DBMS</li><li id="e859" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">设置访问数据库服务器的凭据。当然，这意味着您需要有效的权限来访问数据。</li></ul><p id="cb9f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！超级简单。</p><p id="1cb3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在下面的例子中，我使用<em class="me"> root </em>用户名创建了一个到本地<em class="me"> MYSQL </em>服务器的连接:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="3397" class="nr mn it nm b gy ns nt l nu nv">connection &lt;- odbcConnect(“mysqlconn”, uid=”root”)</span></pre><p id="e379" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建之后，我可以立即使用一些SQL代码直接从<em class="me"> MYSQL </em>服务器检索数据:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="6f90" class="nr mn it nm b gy ns nt l nu nv">result1 &lt;- sqlQuery(channel, paste(“SELECT * from sakila.city”))</span></pre><p id="7997" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我使用带有查询<code class="fe nj nk nl nm b">SELECT * from sakila.city</code>的SQL代码从sakila数据库中检索整个城市表。这样做的时候，这个表将以dataframe格式存储在我的<code class="fe nj nk nl nm b">result1</code>对象中！之后，我可以将我所知道的所有R代码应用到这个对象中，因为我正在使用一个<em class="me">数据框架</em>！</p><p id="8d5c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">RODBC可以访问大多数数据库系统，如<em class="me">微软SQL Server </em>、<em class="me">PostgreSQL</em>、<em class="me"> MYSQL </em>、<em class="me"> SQLite等。</em></p><p id="0f8c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<em class="me"> sqldf </em>相结合，这两个库能够解释R内部的<em class="me"> SQL </em>代码，并且能够为您的数据科学和分析项目带来巨大的生产力收益。</p><p id="653f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以了解更多关于RODBC的信息:</p><ul class=""><li id="4004" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">RODBC的官方文档。</li><li id="15f9" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://www.r-bloggers.com/2019/05/rodbc-helper-function/" rel="noopener ugc nofollow" target="_blank"> R博主RODBC </a>举例。</li><li id="96ed" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">从我的编程课程中读取外部数据部分。</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="8fde" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">数据可视化— GGPlot2</h1><p id="802b" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">R base包含绘图功能，一旦安装R就可以使用——例如分别绘制线图和条形图的<code class="fe nj nk nl nm b">plot</code>或<code class="fe nj nk nl nm b">barplot</code>。这些功能很酷，但它们有两个主要限制:</p><ul class=""><li id="a448" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">每个函数都有自己的参数来提供数据和设置绘图画布。</li><li id="5fea" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">添加元素(标题、标签等。)的情节相当繁琐和混乱。</li></ul><p id="3784" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，在tidyverse之外还有另一个图书馆，可以说是有史以来最著名的R图书馆。<strong class="lb iu"> <em class="me"> GGplot2，</em> </strong>俗称<strong class="lb iu"> <em class="me"> GGplot </em> </strong>。</p><p id="8c77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">掌握<em class="me"> GGplot </em>本身就是一种技能。它的一个主要特点是使用户能够在代码变化最小的情况下在图之间切换。例如，假设我们想要使用折线图绘制每分钟互联网使用时间序列——我们使用的是R的<em class="me"> WWWusage </em>沙盒数据集:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="4a88" class="nr mn it nm b gy ns nt l nu nv">internet &lt;- data.frame(<br/>  internetusage = WWWusage<br/>)</span></pre><p id="0155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了绘制线图，我可以使用<em class="me"> GGplot的</em>本地函数:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="5459" class="nr mn it nm b gy ns nt l nu nv">ggplot(<br/>  data = internet,<br/>  aes(x=row.names(internet), y=internetusage)<br/>) + geom_line(group = 1) +<br/>  theme(axis.title.x=element_blank(),<br/>        axis.text.x=element_blank(),<br/>        axis.ticks.x=element_blank())</span></pre><p id="c3f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GGplot是模块化的，分解了我们上面看到的元素:</p><ul class=""><li id="0416" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">我们从包含我们绘图“基础”的<code class="fe nj nk nl nm b">ggplot</code>函数开始。这是我们陈述数据的地方，也是我们将如何映射x和y维度的地方。</li><li id="78a4" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">然后，我们加一个<code class="fe nj nk nl nm b">geom_line</code>。我们刚刚添加了一个新的“模块”到我们的图中，声明我们想要一个线图。</li><li id="ee8c" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">最后，我们使用<code class="fe nj nk nl nm b">theme</code>为我们的情节添加了一些小的美学变化。在我们的例子中，我们隐藏了x轴的所有标签和信息。</li></ul><p id="7b11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用一个<code class="fe nj nk nl nm b">+</code>符号继续向我们的<em class="me"> GGplot </em>添加模块。</p><p id="8041" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是..我已经告诉过你，在不同类型的图之间转换非常简单——我们如何将它转换成另一种类型的图呢？</p><p id="eb79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">超级简单！</strong>例如，要将该图变为散点图，我们只需用<code class="fe nj nk nl nm b">geom_point</code>替换<code class="fe nj nk nl nm b">geom_line</code>:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="ef9f" class="nr mn it nm b gy ns nt l nu nv">ggplot(<br/>  data = internet,<br/>  aes(x=row.names(internet), y=internetusage)<br/>) + geom_point() +<br/>  theme(axis.title.x=element_blank(),<br/>        axis.text.x=element_blank(),<br/>        axis.ticks.x=element_blank())</span></pre><p id="4eac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与<em class="me">plottly</em>并列(另一个很酷的绘图库！)，<em class="me"> GGplot </em>大概是大部分R用户画剧情的首选。与R base相比，它更容易在不同的情节之间切换，并且格式在灵活性和代码流畅度方面无法与<em class="me"> GGPlot </em>竞争。</p><p id="0efa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些学习资源<em class="me"> GGplot </em>:</p><ul class=""><li id="3715" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated"><a class="ae ky" href="https://r-graph-gallery.com/ggplot2-package.html" rel="noopener ugc nofollow" target="_blank"> R图库</a>—gg plot；</li><li id="9009" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://raw.githubusercontent.com/rstudio/cheatsheets/main/data-visualization.pdf" rel="noopener ugc nofollow" target="_blank"> GGplot2的小抄。</a></li><li id="a8bb" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">我的编程课程中的绘图数据部分。</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="cb8a" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">模型培训— rpart和randomForest/ranger</h1><p id="db0a" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated">如果我们在谈论数据科学家的库，我们必须包括训练模型的库，对吗？让我们从训练基于树的模型的三个最著名的库开始。</p><p id="3576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Rpart是训练决策树的首选库。使用<em class="me"> rpart </em>你可以用一行代码训练一个<a class="ae ky" rel="noopener" target="_blank" href="/classification-decision-trees-easily-explained-f1064dde175e">简单决策树</a>:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="6c5e" class="nr mn it nm b gy ns nt l nu nv">rpart(<br/> formula = Species ~ .,<br/> data = iris<br/>)</span></pre><p id="e315" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用默认参数，<em class="me"> rpart </em>训练以下决策树:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/86c41ad17c24daf930e333716652c7a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*GNpMrMmGZsfMMvlIo-LYPw.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用默认Rpart参数在Iris数据集上训练的树模型-按作者分类的图像</p></figure><p id="40d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用<code class="fe nj nk nl nm b">control</code>参数覆盖<em class="me"> rpart，</em>上的其他树参数:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="b11c" class="nr mn it nm b gy ns nt l nu nv">rpart(<br/> formula = Species ~ .,<br/> data = iris,<br/> control = list(minsplit=1, minbucket=1, cp=.001)<br/>)</span></pre><p id="7ba1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里，我们覆盖了决策树上的三个<a class="ae ky" rel="noopener" target="_blank" href="/5-decision-tree-hyperparameters-to-enhance-your-tree-algorithms-aee2cebe92c8">超参数</a>—<code class="fe nj nk nl nm b">minsplit</code>、<code class="fe nj nk nl nm b">minbucket</code>和<code class="fe nj nk nl nm b">cp</code>。这产生了一个更深的树:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/2f316b0d6be2a8bc00bb1ec76a6e3fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*8qDLS8l_x72FHOlX6fHRtA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Iris数据集上训练的带有调整参数的树模型-图片由作者提供</p></figure><p id="6460" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Rpart是用r训练你的第一个模型的好方法，也是让你了解超参数的巨大影响的好方法，尤其是在基于树的模型中。</p><p id="6ddf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在偶然发现了决策树的概念之后，你自然会学习随机森林——前者的一个更稳定的版本。</p><p id="cc2d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随机森林是决策树的“民主”版本。它们更稳定，更不容易过拟合新数据。在R中，我们也有用一行代码训练这些模型的库，即<em class="me"> randomForest </em>和<em class="me"> ranger </em>库。</p><p id="bf47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="me"> randomForest </em>库是<a class="ae ky" href="https://www.stat.berkeley.edu/~breiman/randomforest2001.pdf" rel="noopener ugc nofollow" target="_blank"> Leo Breiman的原始pape </a> r的第一个R实现。因此，它也比<em class="me"> ranger </em>慢。您可以通过执行以下操作，使用<em class="me"> randomForest </em>库训练随机森林算法:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="7b9a" class="nr mn it nm b gy ns nt l nu nv">randomForest(<br/> formula = Species ~ .,<br/> data = iris,<br/> ntree=10<br/>)</span></pre><p id="91e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就这么简单！这里，我们用10个不同的决策树来训练一个随机森林。我们还可以通过向函数添加新参数来调整超参数:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="75ed" class="nr mn it nm b gy ns nt l nu nv">randomForest(<br/> formula = Species ~ .,<br/> data = iris,<br/> ntree=10,<br/> mtry = 2<br/>)</span></pre><p id="0f7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，我们在构建的每棵树中使用2个随机列作为样本。您可以使用<em class="me">查看完整的参数列表。R控制台上的randomForest </em>。</p><p id="2689" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者，<em class="me"> ranger </em>是随机森林的一个更快的实现——如果您有高维数据(大量行或列),<em class="me"> ranger </em>是更好的选择:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="90f9" class="nr mn it nm b gy ns nt l nu nv">ranger(<br/> formula = Species ~ .,<br/> data = iris,<br/> num.trees=10<br/>)</span></pre><p id="909c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用函数的新参数为ranger提供新的超参数:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="f8cf" class="nr mn it nm b gy ns nt l nu nv">ranger(<br/> formula = Species ~ .,<br/> data = iris,<br/> num.trees = 10, <br/> mtry = 2<br/>)</span></pre><p id="7ceb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="me"> rpart、randomForest </em>和<em class="me"> ranger </em>是理解我们如何使用r训练具有不同超参数的模型的很好的起点。如果我们有一些抽象层，就像<em class="me"> GGplot </em>为plots <em class="me">、</em>即<em class="me">、</em>所做的那样，一个可以让我们更快地在模型之间切换的库，岂不是很酷？</p><p id="2b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，我们有！叫<em class="me">脱字符号</em>！</p><p id="67c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在谈论<em class="me">插入符号</em>之前，先了解一些关于这些库的资源:</p><ul class=""><li id="2c8e" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">正式文件；</li><li id="8acf" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://www.rdocumentation.org/packages/randomForest/versions/4.7-1/topics/randomForest" rel="noopener ugc nofollow" target="_blank"> randomForest </a>官方文档；</li><li id="2011" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://cran.r-project.org/web/packages/ranger/ranger.pdf" rel="noopener ugc nofollow" target="_blank">游侠</a>官方文档；</li><li id="ea7d" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">我的数据科学课程<a class="ae ky" href="https://www.udemy.com/course/r-for-data-science-first-step-data-scientist/?referralCode=6D1757B5E619B89FA064" rel="noopener ugc nofollow" target="_blank">的基于树的模型部分。</a></li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="4df7" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">模型培训—Caret</h1><p id="76a1" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated"><em class="me"> caret </em>库是r内部与机器学习相关的最酷的库之一，正如我们之前看到的，有某些库可以训练特定的模型，如<em class="me"> rpart </em>(用于决策树)和<em class="me"> randomForest/ranger </em>(用于随机森林)。为了在这些模型之间切换，我们需要改变函数，并且可能调整我们提供给它们的一些参数。</p><p id="9485" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="me"> Caret </em>将模型抽象成一个通用的<code class="fe nj nk nl nm b">train</code>函数，可以用于不同的模型，提供了一个<code class="fe nj nk nl nm b">method</code>。与其他库的主要区别在于，这个模型现在被抽象为<code class="fe nj nk nl nm b">caret</code>内部的一个参数，而不是一个独立的函数。</p><p id="8d47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有了<em class="me"> caret </em>，比较模型的性能和结果也非常简单——这是机器学习项目中的一项标准任务。</p><p id="3536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">举例来说，让我们看看如何使用来自<em class="me"> caret — </em>的这个<code class="fe nj nk nl nm b">train </code>函数来训练一个随机森林模型。为简单起见，我们使用<em class="me"> iris </em>数据集:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="e267" class="nr mn it nm b gy ns nt l nu nv">caret_model &lt;- train(<br/>  Species ~ .,<br/>  data = iris, <br/>  method = "ranger",<br/>  num.trees = 4<br/> )</span></pre><p id="1ca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不错！我们只是用<code class="fe nj nk nl nm b">method</code>来定义模型！在这种情况下，我们使用<code class="fe nj nk nl nm b">ranger</code>来训练一个基于ranger库实现的随机森林。在同一个数据集上训练决策树有多容易？</p><p id="dc04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只要换上<code class="fe nj nk nl nm b">method</code>！</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="d428" class="nr mn it nm b gy ns nt l nu nv">decision_tree &lt;- train(<br/>  Species ~ .,<br/>  data = iris, <br/>  method = "rpart"<br/> )</span></pre><p id="0dde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<em class="me">脱字符号</em>时可以随便选择<a class="ae ky" href="https://topepo.github.io/caret/available-models.html" rel="noopener ugc nofollow" target="_blank">上百种型号</a>。</p><p id="211f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种灵活性使<em class="me"> caret </em>成为您可以在r中使用的最令人印象深刻的库之一。</p><ul class=""><li id="0da2" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">交叉验证方法的良好实现；</li><li id="d5f3" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">对超参数执行网格搜索的平滑方法；</li></ul><p id="323b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以通过以下链接了解更多关于<em class="me"> caret </em>的信息:</p><ul class=""><li id="6463" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated"><em class="me">脱字符号的</em> <a class="ae ky" href="https://topepo.github.io/caret/index.html" rel="noopener ugc nofollow" target="_blank">正式文档</a>；</li><li id="a8c7" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><a class="ae ky" href="https://www.machinelearningplus.com/machine-learning/caret-package/" rel="noopener ugc nofollow" target="_blank">机器学习加</a>博文关于<em class="me">脱字符号</em>；</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="fd2b" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">模型训练— h2o</h1><p id="8995" class="pw-post-body-paragraph kz la it lb b lc ne ju le lf nf jx lh li ng lk ll lm nh lo lp lq ni ls lt lu im bi translated"><em class="me"> Caret </em>适合大多数机器学习模型。然而，当你想变得更高级一点的时候，<em class="me"> h2o </em>是你的朋友。</p><p id="a59c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="me"> h2o </em>包含非常酷的前馈神经网络和其他高级模型的实现。如果你想对你的模型进行实验和高级调整，<em class="me"> h2o </em>应该是一个不错的起点。</p><p id="8f80" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里介绍的所有库中，<em class="me"> h2o </em>绝对是最先进的一个。通过学习它，你会偶然发现很多新概念，比如分布式和可扩展环境。这些特性使得h2o适合机器学习部署，这是<em class="me"> caret </em>或其他ML库可能会遇到的问题。</p><p id="0662" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在<em class="me"> iris </em>数据集上使用<em class="me"> h2o </em>构建一个简单神经网络的快速示例:</p><pre class="kj kk kl km gt nn nm no np aw nq bi"><span id="3090" class="nr mn it nm b gy ns nt l nu nv">h2o.init()</span><span id="7401" class="nr mn it nm b gy ol nt l nu nv">iris.frame &lt;- as.h2o(iris)</span><span id="7e4a" class="nr mn it nm b gy ol nt l nu nv">model &lt;- h2o.deeplearning(<br/> x = c(‘Sepal.Length’,’Sepal.Width’,’Petal.Length’,’Petal.Width’),<br/> y = ‘Species’,<br/> training_frame = iris.frame,<br/> hidden = c(2,2),<br/> epochs = 10<br/> )</span></pre><p id="0a63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于它的分布式本质，使用h2o不像使用其他机器学习库那样简单。在上面的代码中，我们执行了以下操作:</p><ul class=""><li id="6811" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated"><code class="fe nj nk nl nm b">h2o.init()</code> —启动<em class="me"> h2o </em>本地集群。</li><li id="d1fc" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><code class="fe nj nk nl nm b">as.h2o(iris)</code> —将<em class="me">光圈</em>数据帧转换成<em class="me"> h2o </em>帧。</li><li id="8e38" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated"><code class="fe nj nk nl nm b">h2o.deeplearning()</code> —使用<em class="me"> iris h2o </em>框架训练神经网络。</li></ul><p id="47dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然<em class="me"> caret </em>支持神经网络，但是<em class="me"> h2o </em>在调整图层、激活函数和其他参数时具有更大的灵活性。上面，我们使用了2个隐藏层和2个节点——使用<code class="fe nj nk nl nm b">hidden</code>参数，我们可以通过修改这个参数中给出的向量将它扩展到更深的网络。</p><p id="741e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用以下资源更深入地了解水资源:</p><ul class=""><li id="ecf6" class="nw nx it lb b lc ld lf lg li ny lm nz lq oa lu ob oc od oe bi translated">KDNuggets' <a class="ae ky" href="https://www.kdnuggets.com/2018/01/deep-learning-h2o-using-r.html" rel="noopener ugc nofollow" target="_blank"> h2o使用R博文</a>；</li><li id="7002" class="nw nx it lb b lc of lf og li oh lm oi lq oj lu ob oc od oe bi translated">h2o <a class="ae ky" href="https://docs.h2o.ai/h2o-tutorials/latest-stable/index.html" rel="noopener ugc nofollow" target="_blank">官方文件</a>；</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="c508" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们完事了。感谢你花时间阅读这篇文章。你在工作中经常使用这里没有提到的其他库吗？把它们写在下面的评论里吧！</p><p id="f6c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="me">我在Udemy上建立了一个</em></strong><a class="ae ky" href="https://www.udemy.com/course/r-for-absolute-beginners/?referralCode=F839A741D06F0200F312" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"><em class="me">R</em></strong></a><strong class="lb iu"><em class="me">入门和一个</em> </strong> <a class="ae ky" href="https://www.udemy.com/course/r-for-data-science-first-step-data-scientist/?referralCode=6D1757B5E619B89FA064" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="me">学习数据科学的boot camp</em></strong></a><strong class="lb iu"><em class="me">。这两个课程都是为初学者量身定做的，我希望你能在我身边！</em>T53】</strong></p><div class="om on gp gr oo op"><a href="https://ivopbernardo.medium.com/membership" rel="noopener follow" target="_blank"><div class="oq ab fo"><div class="or ab os cl cj ot"><h2 class="bd iu gy z fp ou fr fs ov fu fw is bi translated">通过我的推荐链接加入Medium-Ivo Bernardo</h2><div class="ow l"><h3 class="bd b gy z fp ou fr fs ov fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ox l"><p class="bd b dl z fp ou fr fs ov fu fw dk translated">ivopbernardo.medium.com</p></div></div><div class="oy l"><div class="oz l pa pb pc oy pd ks op"/></div></div></a></div></div></div>    
</body>
</html>