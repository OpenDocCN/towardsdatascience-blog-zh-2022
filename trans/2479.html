<html>
<head>
<title>A Quick-Start Guide to A/B Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">A/B测试快速入门指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-quick-start-guide-to-a-b-testing-da71de09b61d#2022-05-30">https://towardsdatascience.com/a-quick-start-guide-to-a-b-testing-da71de09b61d#2022-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2d02" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">寻找有价值见解的循序渐进的方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7520c940b5b97c76f1fa196910278c21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kpMtFXpoqPNzjh7m"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">布拉登·科拉姆在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="bedd" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="d49d" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi mk translated"><span class="l ml mm mn bm mo mp mq mr ms di">所以</span>你的任务是建立一个营销A/B测试，但你没有太多的时间来解决问题。这里有一个快速入门指南，告诉你当需要提高的主要指标是一个比例:点击率、转化率、打开率、回复率…</p><h2 id="3319" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">1.定义你的零假设并选择你的显著性水平</h2><p id="ce73" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个过程的第一步是定义你想要测试的假设。通常情况下，你希望登录页面、横幅广告或电子邮件副本(B版本，或治疗)的变化比当前版本(A版本，或对照组)的表现更好。所以规则是:你把你的零假设定义为你希望是假的。例如，你想为一个提交按钮测试一种新的颜色，并希望这个按钮能比原来的按钮产生更多的表单提交。你的<strong class="lq ir">无效假设</strong> ( <strong class="lq ir"> H0 </strong>)是新按钮会表现<strong class="lq ir">更差</strong>或者和现有的一样，而<strong class="lq ir">替代假设(H1) </strong>是新按钮会表现更好(所以:产生更高的点击率)。</p><p id="49e6" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">我们正在测试pA和pB两个比例之间的差异，因此:</p><p id="73ff" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir"> H0: pB ≤ pA </strong>或者等价地，<strong class="lq ir">p b-pA≤0</strong>；这是我们的零假设，我们希望证明的是错误的:B版本(pB)中的事件比例——点击、转换、回复——低于或等于原始A版本(pA)中的事件比例</p><p id="5fee" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir"> H1: pB &gt; pA </strong>或<strong class="lq ir">pB-pA&gt;0；</strong>我们的替代假设，新版本B比a显示了更高比例的事件</p><p id="bbb7" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">最后，您必须选择一个显著性水平，通常称为alpha，它代表犯<strong class="lq ir">类型I错误</strong>的概率(当它实际上表现更差时采用新版本)。通常使用的水平是5%或1%，这大致意味着如果你一年运行100个测试，你应该平均预期其中的5个(或者1个，取决于你的alpha值)你会做出错误的决定，并实施一个实际上没有改善事情的改变。</p><h2 id="c11e" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">2.随机化你的用户</h2><p id="0e5c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这是至关重要的一步，您的技术团队了解这一要求非常重要，因为为了简化流程，用户不会随机看到版本A或b。例如，为期4周的测试可以分为2周使用当前版本，接下来的2周使用新版本，或者上午与下午，或者一个浏览器与另一个浏览器。这不是好的做法，很可能会在你的数据中引入偏见，因此，你的结论很可能不适用于你的所有听众。了解观察单位也很重要:我们是基于设备、cookies、IP还是登录用户？</p><h2 id="af24" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">3.有多少用户？强大的能力带来巨大的样本量</h2><p id="89f3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您应该确保您的测试设计有足够的功效(通常使用的值是80%)，但是统计测试的功效是什么，我们如何选择一个足够大的样本量来提供足够的功效呢？如果你没有时间阅读这个理论，可以跳到这一部分的末尾，找到一个快速的经验法则和一个在线计算器(甚至是一个手机应用程序！)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/2661fb99f8aeae5a44647857cc276a9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wpBcDD-2QEU_2D9H"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@gregory_rak?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Grzegorz Rakowski </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="92fa" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">要了解power，我们需要了解什么是I型和II型错误。第一类错误是当零假设事实上为真时，我们拒绝了它。例如，假设我们的新横幅版本(B)比我们的原始设计(A)表现更差，但由于随机性，数据显示B表现明显更好，因此我们错误地拒绝了我们的零假设。根据定义，如果您使用5%的显著性(alpha级别),这意味着平均会发生5%的情况。</p><p id="7a67" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">一个<strong class="lq ir">第二类错误</strong>是在我们应该拒绝零假设的时候没有拒绝。在我们的例子中，假设版本B比版本A执行得更好，但是我们的测试没有提供足够的能力来拒绝零假设，所以我们保留版本A，失去了一个提高性能的机会。正如我们在下图(非常粗略)中看到的，在pB-pA=0的零假设下，如果观察值大于0.08(红色区域)，我们将拒绝该零假设。如果真正的(未知的)差异实际上是0.15，我们将无法拒绝任何落在绿色区域的值，因此我们无法确定版本B优于版本a。这是犯类型II错误的概率，我们测试的功效是1减去该概率。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/aab3d8daec725ffbfe7601ad5269801f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xvlm41mccI1r8Y8A8RPb0Q.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第二类错误和权力(图片由作者提供)</p></figure><p id="c19d" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">让我们来看看下面的假设结果，我们用Python创建了一个模拟，用一个二项式数据生成过程来说明这一点，A组的概率为. 005，B组的概率为. 0075:</p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="5695" class="mt kx iq nn b gy nr ns l nt nu">from scipy.stats import norm<br/>import numpy as np</span><span id="7b01" class="mt kx iq nn b gy nv ns l nt nu"># Let's define our sample size<br/>n=500<br/>p_a = .005  # real underlying probability of each trial for version A<br/>p_b = .0075 # same for B</span><span id="fa40" class="mt kx iq nn b gy nv ns l nt nu"># We generate the random binomial samples (number of clicks for 500 ad impressions in each group)</span><span id="41dc" class="mt kx iq nn b gy nv ns l nt nu">s_a = np.random.binomial(n, p_a, 1)<br/>s_b = np.random.binomial(n, p_b, 1)</span><span id="2681" class="mt kx iq nn b gy nv ns l nt nu"># calculate pooled p<br/>p=(sum(s_b)+sum(s_a))/(2*n)<br/>print(p)</span><span id="b02d" class="mt kx iq nn b gy nv ns l nt nu"># calculate standard error<br/>se=np.sqrt(p*(1-p)*(2/n))<br/>print(se)</span><span id="a8a6" class="mt kx iq nn b gy nv ns l nt nu"># calculate test statistic<br/>z=(s_b/n-s_a/n)/se<br/>print(z)<br/># get the p-value<br/>print(1-norm.cdf(z))</span></pre><p id="f291" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">在样本量为500的情况下，我们获得了以下结果(请随意运行您自己的测试)，p_A=0.004，p_B=0.01，p值为0.32。<strong class="lq ir">我们不能拒绝零假设，尽管我们知道我们应该拒绝</strong>，因为样本是以已知的潜在概率生成的(并且pB高于pA)。这显然是第二类错误。</p><p id="e280" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">我们如何降低这种风险？很简单，我们需要增加样本量。使用相同的代码，但将样本大小更改为100，000，我们得到:p_A=0.0048，pB=0.0074，p值远低于0.001。但是我们使用了相同的底层流程，我们只是改变了样本大小！</p><p id="506d" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">计算足够大样本的公式依赖于效应大小的概念，或者说:你希望能够检测到的最小差异是多少(这有商业意义)？例如，这可能是至少0.05个百分点的差异，从而将现有的0.1%的转换率提高到0.15%。当然，所需的效果大小会因业务部门和应用程序而异，但它需要对管理团队有一定的合理性。</p><p id="5ba1" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">计算样本量的公式使用显著性水平(α)、功效水平(1-β)和效应大小(es)，您可以在这里找到一个很好的公式推导解释(【https://online.stat.psu.edu/stat415/lesson/25/25.3】T2)，我们本质上是在寻找一个c值，它既是拒绝区域的临界值，也是我们得到假阴性的概率(见下图)</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/31fe57197b173848b756b98fbef8600d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ck5beFWXUaXRe5q_w0KR6A.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">找到满足这两个条件的n(图片由作者提供)</p></figure><p id="99ae" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">所以，公式如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/e729eea9d2f7b5f3e4192fbe03b00ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*tHhf8AUQbSIEQM8mGhwXnw.png"/></div></figure><p id="81a8" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">ES为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/044e16d7ff3631c3cb50a44e1ea17279.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*Yzcc9hNOlAIW6EGXNsE_vg.png"/></div></figure><p id="5613" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">Delta是您希望能够检测到的最小差异，p是两个样本(A和B)的总体平均比例。</p><p id="be77" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">举个例子应该更简单:你正在运行一个点击率为0.5%的横幅广告(A)活动，你想测试一个新的横幅广告(B)。你只对最低50%的点击率提升感兴趣，所以新提升的点击率为0.5%*1.5=0.75%，绝对<strong class="lq ir">差0.25个百分点</strong>。为了至少有<strong class="lq ir"> 80% </strong>的把握检测到<strong class="lq ir"> 5%显著性水平</strong>的差异，您需要在每个版本中运行的最小印数是多少？</p><p id="955a" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">a)显著性水平为5%，因此我们的Z(1-alpha)值为<strong class="lq ir"> 1.645 </strong> <br/> b)所需功效为80%，因此我们的Z(1-beta)为<strong class="lq ir"> 0.842 </strong> <br/> c)我们的总体(平均)比例p为(0.005+0.0075)/2=0.00625 <br/> d)并且我们的效应大小ES为(0.0075–0.005</p><p id="2f01" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">所以我们的n = 2*[(1.645+0.842)/0.03172] =每个横幅上的12，296次展示</p><p id="3c37" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">如果我们运行我们的Python代码12，296次，我们会看到，在这个样本大小下，我们平均有20%的时间得到p值&gt; 0.05！</p><blockquote class="nz oa ob"><p id="9dc6" class="lo lp oc lq b lr nf jr lt lu ng ju lw od nh lz ma oe ni md me of nj mh mi mj ij bi translated">最后，对于80%的幂和5%的显著性水平，计算n的一个有用的<strong class="lq ir">经验法则</strong>:</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi og"><img src="../Images/56b98beafcecd7affd3372b0cb0a9f0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*qnjFtqtC5cnq7bvZIawYng.png"/></div></figure><blockquote class="nz oa ob"><p id="c667" class="lo lp oc lq b lr nf jr lt lu ng ju lw od nh lz ma oe ni md me of nj mh mi mj ij bi translated">您也可以使用这个在线样本量计算器:</p></blockquote><div class="oh oi gp gr oj ok"><a href="https://www.evanmiller.org/ab-testing/sample-size.html" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">样本量计算器</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">需要iPhone或iPad上的A/B样本大小吗？立即下载A/B好友。问:一门课程需要多少科目</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">www.evanmiller.org</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kp ok"/></div></div></a></div><blockquote class="nz oa ob"><p id="c355" class="lo lp oc lq b lr nf jr lt lu ng ju lw od nh lz ma oe ni md me of nj mh mi mj ij bi translated">或者在Android或iOS上下载<strong class="lq ir"> A/B好友app </strong>。</p></blockquote><h2 id="a26d" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">4.比例之间的差异用什么测试？</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/190fe1b7ad55b8f5ed1991a29a04d7f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TCpjTS9qQsvj5Gjk"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@ruthson_zimmerman?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">鲁特森·齐默曼</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="faed" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">测试结束后，第一步是比较结果，A版和B版哪个版本表现更好？此外，<strong class="lq ir">两个版本之间的差异是显著的还是偶然的</strong>？在统计测试中，有几种方法来测试观察到的差异是否具有统计显著性，TDS上的一些帖子建议使用Fisher精确测试或卡方测试，但我们将使用Z测试。Z测试背后的主要思想是，如果我们从二项分布中抽取许多样本，成功的比例将是正态分布的(理想情况下，我们还希望确保n*p &gt; 5)。所以我们需要回答这个问题:<em class="oc">如果零假设为真</em>得到现有结果的概率是多少？我们只需要计算一个我们知道遵循标准正态分布的检验统计量，并找出如果版本B确实比版本a更差或相同，观察到一个值至少为极端值的概率。</p><p id="ccc1" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">这里是一个简单的一步一步的程序和一个例子。假设您在两个不同的广告横幅之间进行测试，在测试运行几天后，您会得到以下结果:</p><p id="dd2b" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir">版本A:</strong>12000次展示，18次点击，也就是0.15%的点击率(18/12000 = 0.0015)</p><p id="8cf4" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir">版本B: </strong> 11，800次展示和23次点击，或0.195%的点击率</p><p id="1c4f" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir">第一步</strong>:计算汇集比例，p</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/8535d5f19a6a06ba1fc9cc77c8ebe298.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*iTKn3EkIQ0yZl2b86rWx8A.png"/></div></figure><p id="1704" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">在我们的示例中，nA=12，000，pA=0.0015，nB=11，800，pB=0.00195，由此得出:</p><p id="549e" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">p= (18 + 23)/(12，000+11，800) = 0.00172，即0.172%</p><p id="1363" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir">第二步:</strong>计算p，SE的标准误差</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/66768496e3e9614e318cb606f0c6821d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*U4Vtki2-fzeWsiswiw7E3A.png"/></div></figure><p id="d6a6" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">其给出:sqrt[0.00172 * 0.998 * (1/12，000+1/11，800)] = 0.00054或0.054%</p><p id="447d" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">第三步:计算检验统计量Z</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/081d96e3bc7834f60f68e795ca775ad5.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*fywkFOwrt1zU6suHqv-g2A.png"/></div></figure><p id="54f2" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">所以Z =(0.00195–0.0015)/0.00054 = 0.833</p><p id="e5a0" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir">第四步:</strong>求得到那个特定值的概率。</p><p id="e97c" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">使用Python、R或Excel获取您的p值。</p><p id="31a0" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir"> Python </strong></p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="2f4b" class="mt kx iq nn b gy nr ns l nt nu">from scipy.stats import norm<br/>p_value = 1-norm.cdf(zvalue)</span></pre><p id="ee86" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir"> Excel </strong></p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="c7b3" class="mt kx iq nn b gy nr ns l nt nu">1-NORM.S.DIST(<em class="oc">zvalue</em>,TRUE)</span></pre><p id="7131" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><strong class="lq ir"> R </strong></p><pre class="kg kh ki kj gt nm nn no np aw nq bi"><span id="952c" class="mt kx iq nn b gy nr ns l nt nu">p_value &lt;- 1 <strong class="nn ir">- </strong>pnorm(zvalue,mean=0,sd<strong class="nn ir">=</strong>1)</span></pre><p id="aa29" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">我们得到的p值为0.202，因此我们不能拒绝零假设，因此不能确定版本B的表现优于版本a。</p></div><div class="ab cl pd pe hu pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="ij ik il im in"><h1 id="ea51" class="kw kx iq bd ky kz pk lb lc ld pl lf lg jw pm jx li jz pn ka lk kc po kd lm ln bi translated">也很高兴知道</h1><h2 id="a59f" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">A/A测试</h2><p id="0258" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">什么是A/A测试，为什么要关注？A/A测试基本上是在一个测试设计中运行两次相同版本的网站、横幅广告或电子邮件，以评估随机过程和您使用的工具。每组中的用户看到相同的东西，但是您想要比较结果，看看性能的差异是否可以归因于偶然。如果差异在统计上是显著的，这可能反映了您的测试设计或过程中的问题，您必须进行调查。同样值得注意的是，如果你的显著性水平(alpha)是5%,平均来说，你会看到大约5%的假阳性。</p><h2 id="affe" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">顺序测试</h2><p id="19ce" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果结果似乎表明一个明显的改进，或者当被测试的新版本明显表现不佳时，你能在计划的测试结束之前停止吗？“窥视”的问题是它倾向于产生更多的误报，正如在下面的模拟中可以看到的。我们用零假设的值生成100个随机样本。在显著性水平为0.05的情况下，我们可以看到100个样本中有3个样本会导致我们拒绝零假设，这与5个样本的预期值相差不远。但是如果我们在样本大小达到20后开始查看和计算z值，我们将拒绝下图中所有的彩色线条(10/100)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pp"><img src="../Images/90eda84b9ed24848a3a42971de4278b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aiDaaqGQ9V74drfliHLV0w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">对于给定的显著性水平，扫视会产生比预期更多的假阳性(图片由作者提供)</p></figure><p id="ec86" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">因在战机上观察幸存者偏差而闻名的亚伯拉罕·瓦尔德和他在统计研究小组的同事设计了一种方法来加快测试过程，即序贯概率比测试。这需要理解似然比的概念，您可以在这里找到对该方法的精彩解释:</p><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/experiments-peeking-and-optimal-stopping-954506cec665"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">实验、窥视和最佳停止</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">如何用序贯概率比检验进行较小样本量的有效实验</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="pq l ov ow ox ot oy kp ok"/></div></div></a></div><h2 id="042a" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">贝叶斯方法</h2><p id="0dac" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">到目前为止，我们已经介绍了“传统的”频率主义方法，但是贝叶斯框架在A/B测试中也非常流行。它有一些优点:</p><p id="4a9c" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">a.使用贝叶斯框架，更容易向业务中的利益相关者传达结果，因为与频率主义方法不同，我们可以用“B优于A的概率”这样的术语来谈论。</p><p id="f17b" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">b.贝叶斯A/B测试往往更快<strong class="lq ir"/>，并且在决定何时停止实验时给予更多的灵活性</p><p id="d827" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">c.frequentist方法的一个问题是，我们拒绝基于p值的版本，但没有直接考虑影响的大小。Bayesians使用一个“<strong class="lq ir">损失函数</strong>”，它将小错误视为不如大错误严重，并帮助确定他们可以接受的损失阈值和风险水平。这与其他业务领域的决策过程相匹配。</p><p id="d81d" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">在一个非常高的层次上，这个过程包括为我们正在试验的速率选择一个先验分布(很可能是一个Beta分布)。先验允许将“专家意见”或过去的数据包含到模型中。然后，我们运行测试(在我们的情况下，有效地对二项式变量进行测试),并将结果与先验结果相结合，以获得pA和pB的后验分布。然后，可以运行蒙特卡罗模拟，以获得pB&gt;pA的概率，并建立前述损失函数。</p><p id="0721" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">你可以在Chris Stucchio的这篇优秀的<a class="ae kv" href="https://cdn2.hubspot.net/hubfs/310840/VWO_SmartStats_technical_whitepaper.pdf" rel="noopener ugc nofollow" target="_blank">白皮书</a>中读到更多关于贝叶斯A/B测试的内容。</p><h2 id="2b71" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">多臂强盗算法(MAB)</h2><p id="5549" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">以一个经典的数学优化问题命名，在这个问题中，一个赌徒需要在一套具有不同(未知)支付的老虎机上最大化他的奖金。MAB算法是一个优化过程，它将印象分配更改为表现最佳的版本，从而以牺牲统计有效性为代价最大限度地提高转化数量，因为由于该优化过程，结果可能变得难以分析。它回答了<strong class="lq ir">探索与利用的困境</strong>。更多关于MAB的信息，请点击此处:</p><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/a-b-testing-is-there-a-better-way-an-exploration-of-multi-armed-bandits-98ca927b357d"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">A/B测试——有更好的方法吗？多兵种土匪初探</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">使用ε-贪婪算法、软最大值算法、UCB算法和Exp3算法</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="pr l ov ow ox ot oy kp ok"/></div></div></a></div><h2 id="8b2a" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">分段A/B测试</h2><p id="0a61" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">您可以针对特定细分市场进行测试，并根据人口统计、位置等因素对子群体进行个性化优化，而不是使用平均值并向每个受众展示总体优化设计。Yaniv Navot写了一篇很好的博文。</p><h2 id="6495" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">投资回报考虑因素</h2><p id="5f25" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">显然，在进行实验之前，将实验成本、实施新版本与业务影响考虑在内是很重要的。ROI的计算方法如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ps"><img src="../Images/91cafc1b5a0c936d8e4befe4d106890f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YagZmqUI_jgrlc5UZDH_iQ.png"/></div></div></figure><p id="5035" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">举个例子，如果一个新版本的网站使我们100万美元的年销售额增加了1%，但测试和实施新版本的成本是12，000美元，这真的值得吗？你可以查看格奥尔吉·格奥尔杰夫的投资回报率计算器，这是他的A/B规划和分析工具的一部分:</p><p id="1b55" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><a class="ae kv" href="https://www.analytics-toolkit.com/ab-test-roi-calculator/" rel="noopener ugc nofollow" target="_blank">https://www.analytics-toolkit.com/ab-test-roi-calculator/</a></p><h2 id="d139" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">外部效度</h2><p id="2e4f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">外部有效性是指我们的结果有多普遍。有许多因素是我们无法轻易控制的，比如我们的受众的变化、我们竞争对手的行动、经济的变化等等。它们都可能影响实验后的结果。你需要知道的两个概念是<strong class="lq ir">新颖性和学习因素</strong>。这两个影响指的是这样一个事实，例如，一个电子商务网站的忠实用户在看到网站的不同版本时可能会感到有点迷惑，从而影响我们正在跟踪的KPI(负面地)。这里的关键是，我们希望这些用户随着时间的推移而适应，所以我们在短期测试中观察到的情况并不适用于更长的时间范围。三名谷歌员工(Hohnhold、O'Brien和Tang)构建了一个“使用短期可测量的指标来预测长期的模型”，见论文<a class="ae kv" href="https://research.google.com/pubs/archive/43887.pdf" rel="noopener ugc nofollow" target="_blank">这里</a>或视频演示<a class="ae kv" href="https://www.youtube.com/watch?v=QMJHuLtqNLk" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><h2 id="1194" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">测试两个以上的版本:A/B/n测试</h2><p id="54c9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后，如果你想测试超过2个版本的网站、横幅广告或电子邮件，你需要考虑围绕<a class="ae kv" href="https://en.wikipedia.org/wiki/Family-wise_error_rate#:~:text=In%20statistics%2C%20family%2Dwise%20error,when%20performing%20multiple%20hypotheses%20tests." rel="noopener ugc nofollow" target="_blank">家庭错误率</a> (FWER)的问题，并相应地调整p值。有几种选择，如Bonferroni校正、Dunnet校正或Sidak校正。</p><p id="5f73" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">这是另一个庞大的主题，你可以在这里找到更多的信息。</p><p id="c21b" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated">祝你好运！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/6e43d77a7690ec8ffc817534da50d99b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uyy1ipCzLQnwBFVa"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@acharki95?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿齐兹·阿查基</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl pd pe hu pf" role="separator"><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi pj"/><span class="pg bw bk ph pi"/></div><div class="ij ik il im in"><h2 id="68ef" class="mt kx iq bd ky mu mv dn lc mw mx dp lg lx my mz li mb na nb lk mf nc nd lm ne bi translated">推荐链接和书籍</h2><p id="cde8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">柯哈维，r .，唐，d .，，徐，Y. (2020)。<em class="oc">可信的在线控制实验:A/B测试实用指南</em>。剑桥:剑桥大学出版社。</p><p id="334e" class="pw-post-body-paragraph lo lp iq lq b lr nf jr lt lu ng ju lw lx nh lz ma mb ni md me mf nj mh mi mj ij bi translated"><a class="ae kv" href="https://blackwells.co.uk/bookshop/search/author/Georgi%20Zdravkov%20Georgiev" rel="noopener ugc nofollow" target="_blank">格奥尔基·兹德拉夫科夫·乔尔杰夫</a> (2019)，<em class="oc">在线A/B测试中的统计方法:电子商务中数据驱动的商业决策和风险管理的统计。</em>独立发表。</p><div class="oh oi gp gr oj ok"><a href="https://www.evanmiller.org/ab-testing/sample-size.html" rel="noopener  ugc nofollow" target="_blank"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">样本量计算器</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">需要iPhone或iPad上的A/B样本大小吗？立即下载A/B好友。问:一门课程需要多少科目</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">www.evanmiller.org</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy kp ok"/></div></div></a></div><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/exploring-bayesian-a-b-testing-with-simulations-7500b4fc55bc"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">模拟探索贝叶斯A/B测试</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">使用蒙特卡罗模拟来理解为什么贝叶斯A/B测试很重要，以及如何在你的公司设置它。</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="pt l ov ow ox ot oy kp ok"/></div></div></a></div><div class="oh oi gp gr oj ok"><a rel="noopener follow" target="_blank" href="/a-b-testing-is-there-a-better-way-an-exploration-of-multi-armed-bandits-98ca927b357d"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd ir gy z fp op fr fs oq fu fw ip bi translated">A/B测试——有更好的方法吗？多兵种土匪初探</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">使用ε-贪婪算法、软最大值算法、UCB算法和Exp3算法</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">towardsdatascience.com</p></div></div><div class="ot l"><div class="pr l ov ow ox ot oy kp ok"/></div></div></a></div></div></div>    
</body>
</html>