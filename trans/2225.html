<html>
<head>
<title>Managing Data Science Projects with Poetry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用诗歌管理数据科学项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/managing-data-science-projects-with-poetry-cd3ce2b7913b#2022-05-17">https://towardsdatascience.com/managing-data-science-projects-with-poetry-cd3ce2b7913b#2022-05-17</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="dda7" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated"><strong class="ak">如何安装、设置和使用诗歌来管理你的数据科学项目</strong></h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/c9f81303a56f0ecf1e3f5af38a7b4a6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4gKNaBsRRmuZKeIdWoXHTA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@iamtru?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Tru“Tru”kat sande</a>在<a class="ae kz" href="http://localhost:3000/s/photos/poetry?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="fed0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">再现性是数据科学的一个重要方面。当我们谈论数据科学中的再现性时，我们指的是独立地<strong class="lc iv">再现项目结果的能力，无论是在稍后的时间点由你自己还是由同事再现。</strong></p><p id="5586" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">拥有确保再现性的流程可以建立对输出的信任，并确保数据科学工作的质量。此外，它使得在过去工作的基础上进行构建变得更加容易。这可能意味着一个同事重新训练六个月前构建的模型，或者另一个团队成员基于先前的分析开发新的模型。</p><p id="47bc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">数据科学项目的再现性很大程度上取决于项目代码的组织和可用性，以便其他人可以独立运行。为了组织您的项目，使其可以由任何人在任何地方运行，您至少需要以下内容:</p><ul class=""><li id="97e6" class="lw lx iu lc b ld le lg lh lj ly ln lz lr ma lv mb mc md me bi translated">虚拟环境</li><li id="2a20" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">一种跟踪项目依赖性的方法</li><li id="e4ba" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">标准文件夹结构</li><li id="a102" class="lw lx iu lc b ld mf lg mg lj mh ln mi lr mj lv mb mc md me bi translated">一种打包和发布代码的方法</li></ul><p id="dea9" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">近年来，Python编程语言已经开始出现标准和最佳实践，尤其是在数据科学领域。诗歌是一个python库的例子，它为管理python项目提供了标准。诗歌的核心是为上面列出的每个领域提供简单的功能。</p><p id="adfb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在下面的文章中，我将介绍如何安装、设置和使用诗歌来管理数据科学项目。</p></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="5c77" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">安装</h1><p id="fa5c" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">诗歌为装置提供了一个脚本。这取决于您使用的操作系统。</p><p id="5332" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对于Mac OSX、Linux或bash，在windows上运行以下程序:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="8f6e" class="nt ms iu np b gz nu nv l nw nx">curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python -</span></pre><p id="cb02" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">对于Windows，请使用:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="0a3d" class="nt ms iu np b gz nu nv l nw nx">(Invoke-WebRequest -Uri https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py -UseBasicParsing).Content | python -</span></pre><p id="2166" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">该脚本将在您的系统上安装诗歌，并自动将相关文件目录添加到您的<code class="fe ny nz oa np b">$PATH</code>环境变量中。</p><p id="164b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">如果您现在打开一个新的shell选项卡或窗口，并运行以下命令:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="edf6" class="nt ms iu np b gz nu nv l nw nx">poetry --version</span></pre><p id="8114" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您应该会看到这个输出。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ob"><img src="../Images/414fae5335e825d6716d83489d821873.png" data-original-src="https://miro.medium.com/v2/resize:fit:648/format:webp/1*N5BagKNqzfNwA9Dwgaq_sA.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="422c" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">创建项目</h1><p id="edb4" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">要创建带有诗歌的项目，请键入以下内容:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="af6d" class="nt ms iu np b gz nu nv l nw nx">poetry new my-datascience-project</span></pre><p id="4537" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">poems将自动为您的项目创建一个目录，其框架结构如下所示。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oc"><img src="../Images/753dff1573e2c621e96ddd402eea6555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLxvDRTkiYVy4VeovWJqSg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">诗歌目录结构。作者图片</p></figure></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="6a8c" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">安装软件包</h1><p id="4c9d" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">除了生成默认的项目结构，poems还会为你的项目创建一个虚拟环境和一个<code class="fe ny nz oa np b">.toml</code>文件。该文件存储和维护项目的依赖关系。它看起来会像这样。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/4287595599ceab4e7bb5a3439f959ce7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L82g4Jo_R_3Qm5g7ZB_jLw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">诗歌。toml文件。作者图片</p></figure><blockquote class="oe of og"><p id="6952" class="la lb oh lc b ld le jv lf lg lh jy li oi lk ll lm oj lo lp lq ok ls lt lu lv in bi translated">如果你使用Pycharm进行开发，你可以安装一个支持toml语言的插件。</p></blockquote><p id="2c17" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这个toml文件由4部分组成:</p><p id="c04e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">tool . poetics</strong>提供了一个区域来获取关于项目的信息，比如名称、版本和作者。</p><p id="221d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">tool . poem . dependencies</strong>列出项目的所有依赖项。</p><p id="8a5f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">tool . poem . dev-dependencies</strong>列出了项目开发所需的依赖项，这些依赖项不应该出现在部署到生产环境的任何版本中。</p><p id="979d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">构建系统</strong>引用了诗歌已经被用来管理项目的事实。</p><p id="9771" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要安装新的软件包，我们键入以下内容:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="0e5c" class="nt ms iu np b gz nu nv l nw nx">poetry add pandas</span></pre><p id="bc17" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将自动把这个包添加到您的依赖项列表中，并且还会生成一个poetry.lock文件。这个文件跟踪所有的包和你的项目中使用的确切版本。</p><p id="6d11" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">要激活虚拟环境，我们键入<code class="fe ny nz oa np b">poetry shell</code>并键入<code class="fe ny nz oa np b">exit</code>来取消激活。</p><p id="8858" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">进入虚拟环境后，可以使用以下命令运行任何python脚本:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="4bcf" class="nt ms iu np b gz nu nv l nw nx">poetry run python my_script.py</span></pre></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><h1 id="260d" class="mr ms iu bd mt mu mv mw mx my mz na nb ka nc kb nd kd ne ke nf kg ng kh nh ni bi translated">构建并发布</h1><p id="9737" class="pw-post-body-paragraph la lb iu lc b ld nj jv lf lg nk jy li lj nl ll lm ln nm lp lq lr nn lt lu lv in bi translated">有时我们可能想要打包我们的项目，以便它可以被其他用户或在其他项目中发布和安装。诗歌提供了一种非常简单的方式来构建和发布你的项目。</p><p id="bf6d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">只需运行以下命令:</p><pre class="kk kl km kn gu no np nq nr aw ns bi"><span id="f701" class="nt ms iu np b gz nu nv l nw nx">poetry build</span></pre><p id="1dee" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将给您以下消息。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/e0108a88446bf756c920c8af2f992514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hPAgKM5JF-kf_R0iSRcUYA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><p id="9820" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">poems添加了一个名为<code class="fe ny nz oa np b">dist</code>的新文件夹，并为项目创建了必要的源代码发行版和轮子。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj om"><img src="../Images/27218375c620bd3a145321c27b9cfb73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mm2bqu6v9JvUX0zceaIjVQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">运行诗歌构建后的目录结构。作者图片</p></figure><p id="cdb0" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">运行命令<code class="fe ny nz oa np b">poetry publish</code>会将打包的项目上传到一个远程存储库，该存储库可以用<a class="ae kz" href="https://python-poetry.org/docs/repositories/" rel="noopener ugc nofollow" target="_blank"> config </a>命令进行配置。</p></div><div class="ab cl mk ml hy mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="in io ip iq ir"><p id="763b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">诗歌是用于依赖管理和虚拟环境的许多现代python工具之一。其他工具包括<a class="ae kz" href="https://pipenv.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> pipenv </a>、<a class="ae kz" href="https://virtualenv.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> virtualenv </a>和<a class="ae kz" href="https://docs.conda.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> conda </a>。然而，poem努力封装更多代码可再现性所需的元素，包括一致的项目结构和发布代码的简单工具。</p><p id="24e3" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在本文中，我简要介绍了用于管理数据科学项目的诗歌。关于Python虚拟环境和数据科学代码可再现性的更多信息，请参见我之前的文章。</p><div class="on oo gq gs op oq"><a rel="noopener follow" target="_blank" href="/a-data-scientists-guide-to-python-virtual-environments-858841922f14"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">Python虚拟环境数据科学家指南</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">它们是什么，有哪些选择，我们为什么需要它们？</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pa l pb pc pd oz pe kt oq"/></div></div></a></div><div class="on oo gq gs op oq"><a rel="noopener follow" target="_blank" href="/a-recipe-for-organising-data-science-projects-50a1cc539c69"><div class="or ab fp"><div class="os ab ot cl cj ou"><h2 class="bd iv gz z fq ov fs ft ow fv fx it bi translated">组织数据科学项目的秘诀</h2><div class="ox l"><h3 class="bd b gz z fq ov fs ft ow fv fx dk translated">了解如何创建结构化和可重复的数据科学项目</h3></div><div class="oy l"><p class="bd b dl z fq ov fs ft ow fv fx dk translated">towardsdatascience.com</p></div></div><div class="oz l"><div class="pf l pb pc pd oz pe kt oq"/></div></div></a></div><p id="9bb6" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">感谢阅读！</p></div></div>    
</body>
</html>