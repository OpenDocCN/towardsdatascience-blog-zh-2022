<html>
<head>
<title>Spatial Data Science: Installing GDAL on Windows and MacOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">空间数据科学:在Windows和MacOS上安装GDAL</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spatial-data-science-installing-gdal-on-windows-and-macos-6fb5c958dc26#2022-08-06">https://towardsdatascience.com/spatial-data-science-installing-gdal-on-windows-and-macos-6fb5c958dc26#2022-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/beede3eef6353fd057baffb303136f01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ilmCYsjDTkSp--603ewrNg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者和里尼(2022)</p></figure><div class=""/><div class=""><h2 id="a75b" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">GDAL是空间数据科学的基础。在windows和MacOS上安装比较棘手。这是实用指南。</h2></div><h1 id="28dc" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">介绍</h1><p id="49ac" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在MacOS或Windows上调用<code class="fe ml mm mn mo b">$ pip install fiona</code>,你将很难找出哪里出错了。您很可能会遇到以下错误:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="7bec" class="mx ky ji mo b gy my mz l na nb">c:/&gt; pip install fiona<br/>Collecting fiona                                                                                                          Downloading Fiona-1.8.21.tar.gz (1.0 MB)                                                                                   ---------------------------------------- 1.0/1.0 MB 8.2 MB/s eta 0:00:00                                             Preparing metadata (setup.py) ... error                                                                                 error: subprocess-exited-with-error</span><span id="1fd9" class="mx ky ji mo b gy nc mz l na nb">...</span><span id="4822" class="mx ky ji mo b gy nc mz l na nb"><strong class="mo jj">A GDAL API version must be specified. Provide a path to gdal-config using a GDAL_CONFIG environment variable or use a GDAL_VERSION environment variable.</strong></span></pre><p id="8481" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated"><code class="fe ml mm mn mo b">fiona</code>是GDAL的python链接；它是允许python开发者读写空间数据的模块。它有一个基本的依赖:<code class="fe ml mm mn mo b">GDAL</code>是空间数据输入输出背后的主要软件。另一个是<code class="fe ml mm mn mo b">GEOS</code>，它是<code class="fe ml mm mn mo b">GDAL</code>和处理背后的几何引擎，但在本文中它不是一个非常突出的问题。突出的问题是<code class="fe ml mm mn mo b">GDAL</code>在windows和macos上的安装很棘手。</p><p id="9817" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">在这篇文章中，我将提供一个实用的指南，在你的windows和MacOS机器上安装<code class="fe ml mm mn mo b">GDAL</code>。注意是实用的；这很可能与你有关，但你的实际需求取决于你要做的事情的背景。</p><p id="1032" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">本文回答的一些问题:</p><ul class=""><li id="f74a" class="ni nj ji lr b ls nd lv ne ly nk mc nl mg nm mk nn no np nq bi translated">如何在windows上安装gdal？</li><li id="0246" class="ni nj ji lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated">如何在macos上安装gdal？</li><li id="f2a8" class="ni nj ji lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated">如何使用GDAL_CONFIG环境变量或在windows或mac上使用GDAL_VERSION环境变量提供到gdal-config的路径</li></ul><p id="c6a8" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">总之，这是需要做的事情:</p><ul class=""><li id="95f0" class="ni nj ji lr b ls nd lv ne ly nk mc nl mg nm mk nn no np nq bi translated">安装anaconda</li><li id="faf1" class="ni nj ji lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated">使用Anaconda提示符，而不是通常的命令提示符(cmd.exe)。在Mac中，这相当于在环境变量中设置anaconda提示符。对于mac用户，请遵循</li></ul><div class="is it gp gr iu nw"><a href="https://docs.anaconda.com/anaconda/install/mac-os/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jj gy z fp ob fr fs oc fu fw jh bi translated">在macOS上安装- Anaconda文档</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">使用图形化安装程序(“向导”)或命令行(“手动”)安装Anaconda发行版…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">docs.anaconda.com</p></div></div></div></a></div><ul class=""><li id="eac3" class="ni nj ji lr b ls nd lv ne ly nk mc nl mg nm mk nn no np nq bi translated">熟悉管理python包和环境的<code class="fe ml mm mn mo b">conda</code>命令行工具</li></ul><p id="6b79" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">替代安装；如果我们不想使用蟒蛇</p><ul class=""><li id="9dc6" class="ni nj ji lr b ls nd lv ne ly nk mc nl mg nm mk nn no np nq bi translated">安装QGIS</li><li id="0706" class="ni nj ji lr b ls nr lv ns ly nt mc nu mg nv mk nn no np nq bi translated">从OSGeo4W shell或从QGIS控制台调用GDAL。</li></ul><p id="9200" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">让我们开始吧。</p><h1 id="f52d" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">选择1:蟒蛇</h1><p id="a6b5" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">第一步是不要在python.org的官方python网站上使用python。如果你已经从官方的python网站安装了python，那就没什么好担心的，也不需要卸载。我们只需要安装来自另一个发行商的另一个python:Anaconda。</p><p id="1834" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">Anaconda是一个python发行商，但是它附带了<code class="fe ml mm mn mo b">conda</code>。我们可以把<code class="fe ml mm mn mo b">conda</code>看作是<code class="fe ml mm mn mo b">pip</code>和<code class="fe ml mm mn mo b">venv</code>的替代品，虽然不是真的。<code class="fe ml mm mn mo b">conda</code>是一个在<code class="fe ml mm mn mo b">anaconda</code>环境中管理python库和环境的工具。如果您不理解这一点，特别是关于环境的部分，请不要担心，但是我们可以从安装anaconda开始:</p><div class="is it gp gr iu nw"><a href="https://www.anaconda.com/" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab fo"><div class="ny ab nz cl cj oa"><h2 class="bd jj gy z fp ob fr fs oc fu fw jh bi translated">Anaconda |世界上最受欢迎的数据科学平台</h2><div class="od l"><h3 class="bd b gy z fp ob fr fs oc fu fw dk translated">很抱歉，本网站只能在支持Javascript的浏览器上运行。表单和其他操作可能无法正常工作…</h3></div><div class="oe l"><p class="bd b dl z fp ob fr fs oc fu fw dk translated">www.anaconda.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ja nw"/></div></div></a></div><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/0304fa440a8b3f4ecfb7ab195e58174f.png" data-original-src="https://miro.medium.com/v2/resize:fit:998/format:webp/1*ES_wyEF4Ug8jPH4v6qKtDw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">安装向导(来源:作者(2022))</p></figure><p id="7d30" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">从开始按钮调用anaconda提示符:</p><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/272acc2f4df4788c72b131f8a7e183db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-hUhSEK_0g5NJ0BgV5TDjw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:作者(2022)</p></figure><p id="505c" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">然后我们看到anaconda提示:</p><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/5519295e7f412e6a7ab9cb924d3f4f3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PJ5wLcWtW4N4p1lW2_6xfg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">蟒蛇提示(来源:作者(2022))</p></figure><p id="006c" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">我们可以把这看作另一个命令提示符；但是这个环境比较特殊，因为它是一个anaconda环境。我们可以使用<code class="fe ml mm mn mo b">conda</code>来做事情。尝试调用<code class="fe ml mm mn mo b">conda -V</code>查看<code class="fe ml mm mn mo b">conda</code>版本。</p><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/82321367149418129157408ff986d635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KGQ7zBNAmXu-WqSC_N3Piw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:作者(2022)</p></figure><h2 id="b672" class="mx ky ji bd kz op oq dn ld or os dp lh ly ot ou lj mc ov ow ll mg ox oy ln oz bi translated">忘记皮普，与康达和解</h2><p id="48bc" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我们仍然可以使用<code class="fe ml mm mn mo b">pip</code>来安装包。但是对于gdal，让我们忘记<code class="fe ml mm mn mo b">pip install gdal</code>或者<code class="fe ml mm mn mo b">pip install fiona</code>，转而使用<code class="fe ml mm mn mo b">conda.</code></p><p id="ec1b" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">现在我们可以通过键入<code class="fe ml mm mn mo b">conda install gdal</code>在python中安装gdal。准确的说，<code class="fe ml mm mn mo b">conda install <strong class="lr jj">-c conda-forge </strong>gdal</code>。我们加上<code class="fe ml mm mn mo b">-c</code>表示我们正在使用一个通道，那个通道就是<code class="fe ml mm mn mo b">conda-forge</code>。Conda是python的包管理器；它像pip一样工作，但是在anaconda环境中。我们可以看到康达像皮普，但它可以做得更多。让我们在其他时间探索conda可以做什么，但现在让我们专注于安装Gdal。</p><p id="a886" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">安装gdal后，应该可以通过<strong class="lr jj"> anaconda提示符</strong>使用GDAL。在你的开始菜单中搜索<strong class="lr jj"> Anaconda提示</strong>，并点击它。它将打开一个命令提示符窗口，但与anaconda环境。将其视为普通的命令提示符。尝试调用<code class="fe ml mm mn mo b">gdalinfo --version</code>。如果它打印出类似下图的内容，那么您已经成功安装了GDAL！</p><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/986c86983e91610b60d018c2c7f17493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HjVu2mHDaqf5q-vzIeLCyw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">来源:作者(2022)</p></figure><h2 id="5b86" class="mx ky ji bd kz op oq dn ld or os dp lh ly ot ou lj mc ov ow ll mg ox oy ln oz bi translated">是的，你已经安装了GDAL！</h2><p id="e371" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">现在，要使用gdal，只需打开anaconda提示符，像普通的终端/命令提示符一样使用它，然后就可以开始了！</p><p id="fd54" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">一种更简单的安装方法是使用OSGEO Shell。</p><h2 id="dcb8" class="mx ky ji bd kz op oq dn ld or os dp lh ly ot ou lj mc ov ow ll mg ox oy ln oz bi translated">总结和安装菲奥娜</h2><p id="1444" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">Fiona是空间数据IO的python接口。它使用GDAL，在空间数据科学中至关重要。下面是Anaconda提示符下安装Fiona和GDAL的命令行:</p><pre class="mp mq mr ms gt mt mo mu mv aw mw bi"><span id="db22" class="mx ky ji mo b gy my mz l na nb">C:\&gt; conda install -c conda-forge gdal<br/>...<br/>C:\&gt; conda install -c conda-forge fiona<br/>...<br/>C:\&gt; echo gdal and fiona are installed. let's check it. we can use python and import osgeo module to import gdal, or just straight type gdalinfo --version<br/>C:\&gt; python -c "import fiona; print(fiona.__version__)"<br/>C:\&gt; python -c "from osgeo import gdal; print(gdal.__version__)"<br/>C:\&gt; gdalinfo --version</span></pre><h1 id="268d" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">备选方案#2: Osgeo4W shell，或来自QGIS</h1><p id="0450" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">这就简单多了。装QGIS就行了。QGIS是地理信息系统软件；这是GIS首先要学的第一件事。它是免费的，开源的，面向所有人。</p><p id="5b7e" class="pw-post-body-paragraph lp lq ji lr b ls nd kj lu lv ne km lx ly nf ma mb mc ng me mf mg nh mi mj mk im bi translated">您可以从终端内部的python shell或从QGIS Python控制台访问GDAL。如果您正在使用python控制台，那么我希望您对简单的Python语法有基本的了解。我不认为学习python需要那么长时间，这很简单。话又说回来，反正你用的是GDAL，Python应该不难；很难想象使用GDAL的人能不学习Python(仅是我的看法)。</p><figure class="mp mq mr ms gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/cb7416a8ab2c3602036f5ec62a2baa4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*egHfcGZzyBSJSI-Kqi4U8A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">从QGIS python控制台使用python导入gdal。(来源:作者(2022))</p></figure><h2 id="ef3c" class="mx ky ji bd kz op oq dn ld or os dp lh ly ot ou lj mc ov ow ll mg ox oy ln oz bi translated">顶生花柱</h2><p id="2901" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">如果您想将它用作普通的终端风格CLI，那么搜索<code class="fe ml mm mn mo b">osgeo4w shell</code>并执行它。它将打开一个命令提示符/终端，并设置GDAL环境。再次调用<code class="fe ml mm mn mo b">gdalinfo --version</code>来验证它是否已经安装。</p><h1 id="4c5e" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">结论</h1><p id="d4b3" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">耶！我们已经用conda或QGIS安装了GDAL。最简单的也许就是安装QGIS，没有比点击安装并按照向导操作更简单的方法了。长期措施是安装anaconda并学习基本的conda语法。我建议将它安装在anaconda中，因为它可以比QGIS控制台更好地预测未来的需求。</p></div></div>    
</body>
</html>