<html>
<head>
<title>How To Deal With Missing Values in Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何处理数据科学中的缺失值</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-deal-with-missing-values-in-data-science-9e5a56fbe928#2022-06-09">https://towardsdatascience.com/how-to-deal-with-missing-values-in-data-science-9e5a56fbe928#2022-06-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8e3a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">处理DS项目中缺失值的三种实用方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/de98e1c4a4101ecfa228b6070398304e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ubj3SU0fYE6GVUUqk8eIsw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Pierre Bamin 在<a class="ae ky" href="https://unsplash.com/s/photos/missing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a717" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated"><span class="l lw lx ly bm lz ma mb mc md di"> W </span>在处理现实世界的数据时，您可能经常会发现数据框中缺少一些值。发生这种情况有几个原因，例如:</p><ul class=""><li id="d598" class="me mf it lb b lc ld lf lg li mg lm mh lq mi lu mj mk ml mm bi translated">一些测量值可能会丢失</li><li id="0aa0" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">缺乏信息</li><li id="72ce" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">抄本错误</li></ul><p id="8c49" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么问题来了:如何处理缺失数据？我们可以接受0作为缺失数据的值吗？我们可以删除丢失数据的行吗？</p><p id="750c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将向您展示处理缺失数据的三种方法，并回答这些问题。</p><h1 id="2cec" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">1.提问</h1><p id="371d" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">当你在数据集中发现缺失值时，你要做的第一件事就是<strong class="lb iu">提问</strong>，因为，通过提问，你将理解问题；理解问题是数据科学项目最重要的任务:如果我们不理解问题，我们就不能提供价值。</p><p id="5792" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果有人向你提供数据，问他们这样的问题:</p><ul class=""><li id="edb4" class="me mf it lb b lc ld lf lg li mg lm mh lq mi lu mj mk ml mm bi translated">你从哪里得到的数据？</li><li id="8931" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">为什么会有缺失值？</li><li id="e198" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">这些特征意味着什么？我可以接受0作为这些缺失数据的值吗？</li></ul><p id="ddc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你自己得到数据，问自己同样的问题。</p><p id="57a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有，<strong class="lb iu"> Google了很多</strong>。搜索您拥有的缺失数据的参考值，并尝试了解您可能会为您的缺失数据赋予哪个值(请记住:即使0也是一个值！！).</p><p id="6f88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果可以的话，<strong class="lb iu">尝试联系该领域的专家</strong>。例如，如果您正在处理一个医疗数据集，请联系医生(可能是您的医生！)并对你拥有的数据提出问题，尤其是对你缺失的数据。</p><h1 id="750f" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">2.删除行/列</h1><p id="ed45" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在某些情况下，我们可以删除缺少值或Nan(Nan =不是一个数字；甚至可以是类似“未测量”或“缺失”的字符串)。</p><p id="c621" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如前所述，我们必须在一定程度上确保我们在删除这些列/行方面做得很好。例如，<a class="ae ky" href="https://medium.com/mlearning-ai/ive-analyzed-the-world-food-production-and-those-are-the-results-c043c04226bf" rel="noopener">在我创建的项目</a>中，我发现一些丢失的值，并决定删除这些行。</p><p id="d081" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分析这个案例:这些数据与世界上所有国家的粮食产量有关。假设我们的数据框架是“df”，这是我发现的:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="65bc" class="nu mt it nq b gy nv nw l nx ny">df.isnull().sum()</span><span id="be60" class="nu mt it nq b gy nz nw l nx ny">&gt;&gt;&gt;</span><span id="8e23" class="nu mt it nq b gy nz nw l nx ny">   Area Abbreviation      0<br/>   Area Code              0<br/>   Area                   0<br/>   Item Code              0<br/>   Item                   0<br/>                       ... <br/>   Y2009                104<br/>   Y2010                104<br/>   Y2011                104<br/>   Y2012                  0<br/>   Y2013                  0<br/>   Length: 63, dtype: int64</span></pre><p id="99f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于2009、2010和2011年，我们有104个空值；但是此处列出的列并不都是此数据框的空值；无论如何，如果我们看一下数据，我们可以看到，在一些年，在一些国家，有0吨的食物生产值。这意味着一件简单的事情:<strong class="lb iu"><em class="oa">的数据无法被记录，或者，在那个特定的国家，那个特定的年份，那个特定的食物无法被生产</em> </strong>(或者，在他们的历史上，他们从来没有在那个特定的国家生产过那个特定的食物！).</p><p id="917f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这个简单的分析，我决定使用下面的代码删除具有空值的行:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="c3c1" class="nu mt it nq b gy nv nw l nx ny">df <strong class="nq iu">=</strong> df<strong class="nq iu">.</strong>loc[(df<strong class="nq iu">.</strong>loc[:, 'Y1961':'Y2013']<strong class="nq iu">!=</strong>0)<strong class="nq iu">.</strong>any(axis<strong class="nq iu">=</strong>1)]</span></pre><h1 id="2a07" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">3.用平均值代替缺失值</h1><p id="fc8f" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">有时值0是不可接受的，也许因为我们只有少量的数据，删除行/列是不可行的。那么，我们能做什么呢？一种可能性是用同一行/列中的其他值的平均值替换空值。</p><p id="2f4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，在这个<a class="ae ky" rel="noopener" target="_blank" href="/ive-trained-my-first-machine-learning-model-and-i-got-sad-8abdc0c5b72b">项目</a>中，我分析了一个数据集，其中我使用机器学习来预测糖尿病。在这种情况下，很容易理解我们不能接受0作为身体质量指数(身体质量指数)或血压的值。因为数据很少，所以我不能删除任何一行。所以，我用同一列中其他值的平均值来填充零；我用下面的代码做到了:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="5ae6" class="nu mt it nq b gy nv nw l nx ny">#filling zeros with mean value<br/>non_zero = ['Glucose','BloodPressure','SkinThickness','Insulin','BMI']<br/>for coloumn in non_zero:<br/>    diab[coloumn] = diab[coloumn].replace(0,np.NaN)<br/>    mean = int(diab[coloumn].mean(skipna = True))<br/>    diab[coloumn] = diab[coloumn].replace(np.NaN, mean)<br/>    print(diab[coloumn])</span></pre><p id="67d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，我用计算出的其他身体质量指数值的平均值替换了身体质量指数列中的零，等等。</p><h1 id="fcf0" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">结论</h1><p id="8eb8" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">处理丢失的值总是很难，因为我们必须做出决定，并且这些决定必须在编写实际代码之前经过深思熟虑。</p><p id="e4e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，<strong class="lb iu">先提问，大量Google</strong>，尽量深入理解问题和你要处理的数据。然后，决定如何处理丢失的数据(例如，接受空值、删除列/行、用平均值替换丢失的值或空值)。</p></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><p id="2732" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oa">我们一起连线吧！</em></p><p id="2cb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://federicotrotta.medium.com/" rel="noopener"> <em class="oa">中等</em> </a></p><p id="57a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.linkedin.com/in/federico-trotta/" rel="noopener ugc nofollow" target="_blank"><em class="oa">LINKEDIN</em></a><em class="oa">(向我发送连接请求)</em></p><p id="56f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oa">如果你愿意，你可以</em> <a class="ae ky" href="https://federicotrotta.medium.com/subscribe" rel="noopener"> <em class="oa">订阅我的邮件列表</em> </a> <em class="oa">这样你就可以一直保持更新了！</em></p></div><div class="ab cl ob oc hx od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="im in io ip iq"><p id="95b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑成为会员:你可以免费支持我和其他像我一样的作家。点击 <a class="ae ky" href="https://federicotrotta.medium.com/membership" rel="noopener"> <em class="oa">这里</em> </a> <em class="oa">成为会员。</em></p></div></div>    
</body>
</html>