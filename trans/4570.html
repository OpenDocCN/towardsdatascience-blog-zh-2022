<html>
<head>
<title>Content tagging with fuzzy logic in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中基于模糊逻辑的内容标注</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/content-tagging-with-fuzzy-logic-in-python-d9041c572cac#2022-10-11">https://towardsdatascience.com/content-tagging-with-fuzzy-logic-in-python-d9041c572cac#2022-10-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="b845" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">学习如何使用一个简单的脚本用模糊逻辑标记文本内容</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi kj"><img src="../Images/1a75bdd731d9662269bcc90f0777737e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*nARvfXfyxuwqsVFz.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="69ba" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">术语模糊逻辑指的是所有那些应用基于<strong class="kx iu">真理近似值的启发式规则和功能。</strong></p><p id="bdb1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在计算机科学中，模糊逻辑是为了帮助提供一个<strong class="kx iu">真实度</strong>，而不是真实的真实度。这种方法允许我们不准确地回答同样不精确问题。</p><h1 id="744a" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">模糊逻辑的一个例子</h1><p id="e29a" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">假设我们被问及年龄，但是在形式上</p><blockquote class="mo mp mq"><p id="dde3" class="kv kw mr kx b ky kz ju la lb lc jx ld ms lf lg lh mt lj lk ll mu ln lo lp lq im bi translated">你年纪大吗？</p></blockquote><p id="fdd4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们从逻辑的角度来看这个问题:</p><ul class=""><li id="68d8" class="mv mw it kx b ky kz lb lc le mx li my lm mz lq na nb nc nd bi translated">如果我们是5岁，我们可能不算老</li><li id="2ab1" class="mv mw it kx b ky ne lb nf le ng li nh lm ni lq na nb nc nd bi translated">如果我们70岁了，我们可能会被认为是老了</li><li id="49ee" class="mv mw it kx b ky ne lb nf le ng li nh lm ni lq na nb nc nd bi translated">……但如果我们50岁了，我们该怎么回答？</li></ul><p id="533f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">模糊逻辑这样回答:</p><blockquote class="mo mp mq"><p id="2c9c" class="kv kw mr kx b ky kz ju la lb lc jx ld ms lf lg lh mt lj lk ll mu ln lo lp lq im bi translated">是也不是。</p></blockquote><p id="e165" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">虽然传统逻辑只以两种状态来表达自己，即<strong class="kx iu">真和假</strong>，<strong class="kx iu">模糊逻辑想要填充</strong>之间的内容，提供<em class="mr">真度</em>而不是布尔表达式。</p><p id="dd6f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">回到上面的例子，按逻辑类型分解问题，我们会得到问题<em class="mr">的答案:你是老年人吗？</em></p><p id="c6f4" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">假设我们实际上可以活到75岁，</p><blockquote class="nj"><p id="0eb1" class="nk nl it bd nm nn no np nq nr ns lq dk translated">传统逻辑:年龄&gt; 75岁为真；否则为假<br/>模糊逻辑:年龄/ 75%资深。因此，如果我们70岁，那么根据模糊逻辑，我们将有93%的年龄。</p></blockquote><p id="1c2a" class="pw-post-body-paragraph kv kw it kx b ky nt ju la lb nu jx ld le nv lg lh li nw lk ll lm nx lo lp lq im bi translated">对于我们的分析师来说，模糊逻辑成为一种工具，用于关联、区分或分组由测量定义的元素。</p><h1 id="46d4" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">使用模糊逻辑进行标记/分类</h1><p id="5ee5" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">在本文中，我将介绍使用Python中的模糊逻辑对文本内容进行标记或分类。我将使用来自我的意大利语个人博客(diariodiunanalista.it)的内容。</p><p id="96d1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">使用<a class="ae ny" href="https://en.wikipedia.org/wiki/Levenshtein_distance" rel="noopener ugc nofollow" target="_blank"> <em class="mr"> Levenshtein距离</em> </a>作为评估系统，我们将使用模糊逻辑将一篇文章与一个或多个预定义的标签相关联。</p><p id="ee2b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Levenshtein距离是一种常用于评估两个字符串之间差异的度量。它计算字符串A变成字符串b需要多少个字符。</p><p id="c191" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一个例子:<br/> -字符串A: <em class="mr"> foo </em> |字符串B:<em class="mr">fii</em><br/><strong class="kx iu">Levenshtein距离:2 </strong></p><p id="2541" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">事实上，需要对A进行两次编辑才能将其转换为B (oo -&gt; ii)。</p><p id="9928" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果读者对字符串操作及其主要应用感兴趣，即自动校正，我建议阅读这篇文章，它解释了<a class="ae ny" href="https://medium.com/mlearning-ai/nlp-how-does-an-autocorrect-model-work-2951774f86c9" rel="noopener">自动校正模型如何工作</a>。</p><p id="1fdf" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们的模糊逻辑系统将基于一个名为<a class="ae ny" href="https://github.com/seatgeek/thefuzz" rel="noopener ugc nofollow" target="_blank">Fuzz</a>的库，它涵盖了我们的用例。</p><h1 id="81d5" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">我们要做什么？</h1><p id="5875" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">经常阅读我的内容的读者会知道<strong class="kx iu">我使用一段时间前创建的脚本从在线博客</strong>创建语料库。我将使用它来从Diario安迪Analista.it检索文章，并尝试用我们的模糊逻辑系统来标记它们。</p><blockquote class="nj"><p id="aea7" class="nk nl it bd nm nn no np nq nr ns lq dk translated">通过这个小项目，我想让读者能够根据预定义的标签标记任何文本内容。</p></blockquote><p id="081d" class="pw-post-body-paragraph kv kw it kx b ky nt ju la lb nu jx ld le nv lg lh li nw lk ll lm nx lo lp lq im bi translated">由于这种方法不是基于预测模型，我们需要为软件提供我们希望应用于文档的标签。</p><p id="abe9" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这种方法比基于预测模型的方法更有优势。一个模型可能会推断出不准确的标签，这可能不符合我们心目中的标准。</p><p id="aae1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">通过预先定义标签，我们可以确保标签与我们的意图一致。当然，我们可以也一定会看到错误，但它们会更容易管理。</p><h1 id="9638" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">要求</h1><p id="12bb" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">只有两个要求:熊猫和绒毛。</p><p id="6e65" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><code class="fe nz oa ob oc b">pip install pandas thefuzz</code></p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><h1 id="cf03" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">标签创建</h1><p id="ebb0" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">我们将要应用的函数需要一个参考才能工作。为此，我们将创建一个名为<code class="fe nz oa ob oc b">tags</code>的列表，其中包含我们希望应用于文档的标签。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><h2 id="d786" class="of ls it bd lt og oh dn lx oi oj dp mb le ok ol md li om on mf lm oo op mh oq bi translated">导入数据集</h2><p id="6004" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">使用上面链接的blog scraper，让我们创建一个包含两列的数据集:url和文章。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="os ot di ou bf ov"><div class="gh gi or"><img src="../Images/355b7c53fa0362da58b6fc14f1311834.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GAzheoETLw5aOclN.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">文章数据框架示例。图片作者。</p></figure><p id="f927" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是我们的语料库。在写这篇文章的时候，大约有30篇文章——因此它是一个非常小的语料库。对于我们的例子来说，它仍然是好的。</p><h1 id="ff64" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">标签功能</h1><p id="11be" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">我们现在将编写代码来使用模糊逻辑应用标记。算法是这样工作的:</p><ul class=""><li id="1e11" class="mv mw it kx b ky kz lb lc le mx li my lm mz lq na nb nc nd bi translated">在标签间循环</li><li id="1bbb" class="mv mw it kx b ky ne lb nf le ng li nh lm ni lq na nb nc nd bi translated">对于每个标签，使用Fuzz的process.extract提取一组代表该标签的文章，按分数排序</li><li id="5499" class="mv mw it kx b ky ne lb nf le ng li nh lm ni lq na nb nc nd bi translated">对于前面输出的每个元素，在Python字典中构建数据，并创建一个Pandas数据帧</li><li id="488f" class="mv mw it kx b ky ne lb nf le ng li nh lm ni lq na nb nc nd bi translated">收集完所有的数据帧后，用连接将它们连接起来</li></ul><p id="4c4b" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们写函数</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><h1 id="4c54" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">应用标记功能</h1><p id="a416" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">让我们通过运行编写的代码来查看标记结果</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="os ot di ou bf ov"><div class="gh gi ow"><img src="../Images/107be73f9ee7b96c0c3427c76723a943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*8tcQzTJhV8RYhlhW.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">标记数据集。图片作者。</p></figure><p id="9c4e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">正如我们所见，标记并不完美<strong class="kx iu">，但大多数结果实际上是一致的。</strong></p><p id="2a74" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当一个页面属于多个类别时，如Python中的第3行<a class="ae ny" href="https://pub.towardsai.net/time-series-clustering-for-stock-market-prediction-in-python-part-1-738ab6462f0e" rel="noopener ugc nofollow" target="_blank">时序聚类用于股市预测</a>即属于<em class="mr">聚类</em>和<em class="mr"> progetti </em>标签。</p><p id="c0d1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">也有男的。这很正常。一篇文章可能不与大于为某个标签建立的阈值(在我们的例子中是55)的阈值相关联。在这种情况下，没有标签与内容相关联，因此分配NaN。改变置信度阈值将有助于产生或多或少的结果。</p><h1 id="aaea" class="lr ls it bd lt lu lv lw lx ly lz ma mb jz mc ka md kc me kd mf kf mg kg mh mi bi translated">结论</h1><p id="d9cd" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">我们已经看到了如何使用模糊逻辑和Pandas数据框架在Python中标记内容。</p><p id="83f5" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这是一个小项目，但它可以在工作场所产生重要的影响。在数据集上手动应用标签可能需要几个小时。这是自动化这些任务的一种简单而有效的方法。</p><h2 id="eab5" class="of ls it bd lt og oh dn lx oi oj dp mb le ok ol md li om on mf lm oo op mh oq bi translated">下一步</h2><p id="ee51" class="pw-post-body-paragraph kv kw it kx b ky mj ju la lb mk jx ld le ml lg lh li mm lk ll lm mn lo lp lq im bi translated">在这个例子中，我使用了文章的正文。这是一个任意的选择，但是举例来说，你可以对文章的标题或者元描述做同样的事情。如果这些文本是主题的代表，我们的系统可以工作得更好！自己试试:)</p><p id="82ae" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">如果你想支持我的内容创作活动，欢迎点击我下面的推荐链接，加入Medium的会员计划</strong>。我将收到你投资的一部分，你将能够以无缝的方式访问Medium的大量数据科学文章。</p><div class="ox oy gp gr oz pa"><a href="https://medium.com/@theDrewDag/membership" rel="noopener follow" target="_blank"><div class="pb ab fo"><div class="pc ab pd cl cj pe"><h2 class="bd iu gy z fp pf fr fs pg fu fw is bi translated">通过我的推荐链接加入Medium-Andrew D # data science</h2><div class="ph l"><h3 class="bd b gy z fp pf fr fs pg fu fw dk translated">阅读Andrew D #datascience(以及媒体上成千上万的其他作者)的每一个故事。您的会员费直接…</h3></div><div class="pi l"><p class="bd b dl z fp pf fr fs pg fu fw dk translated">medium.com</p></div></div><div class="pj l"><div class="pk l pl pm pn pj po kp pa"/></div></div></a></div><p id="7864" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">下次见！👋</p></div></div>    
</body>
</html>