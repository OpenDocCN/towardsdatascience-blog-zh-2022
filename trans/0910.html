<html>
<head>
<title>A Use Case for Lorden’s Inequality</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">洛登不等式的一个用例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-use-case-for-lordens-inequality-d701dc7f1ccc#2022-03-10">https://towardsdatascience.com/a-use-case-for-lordens-inequality-d701dc7f1ccc#2022-03-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7edf" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个非常有用的概率不等式的典型假想用例。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/17a678000cd33abdbd7c2eec2fb2be0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RQ8XxnpsC0_h0WB6D1Rjdw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://pixabay.com/fr/users/papazachariasa-12696704/" rel="noopener ugc nofollow" target="_blank"> papazachariasa </a>在<a class="ae ky" href="https://pixabay.com/fr/photos/d%c3%a9-pari-jeu-la-chance-cube-casino-5029548/" rel="noopener ugc nofollow" target="_blank"> pixabay </a>上拍摄</p></figure><p id="1d31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">爱丽丝是一个勤奋且非常有条理的人。她总是根据一个完全适合她的系统来运作，并让她保持一如既往的效率。随着时间的推移，她养成了一个特殊的习惯，那就是把项目分解成随机占用时间的子任务。在一天中，她可能有一个任务，也可能有十几个。</p><p id="4b4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">爱丽丝对自己的工作有自己的规定:她不完成最后一项任务就不回家，工作时间结束后也不开始新的任务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/6bbed305801d69dc9f7972ae48a75c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N575UXFYVKt888YkbMq8Ew.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5dfc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有一次，在完成一个她已经做了一年的长项目后，在回家的路上，她忍不住问自己以下问题:她能找到一种方法来估计她平均加班时间的上限吗？我们将帮助她完成她的使命:)</p><h2 id="7583" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">模型和实验:</h2><p id="ca81" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">爱丽丝提出的问题可以通过一个不为公众所熟知的概率属性来解决，这个属性是由<code class="fe mu mv mw mx b">Gary Lorden</code>在他 1970 年的论文<code class="fe mu mv mw mx b">On Excess over the Boundary.</code>中提出的</p><p id="85c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成单个子任务所需的时间是一个随机变量。我们将把所有子任务的时间长度视为独立且同分布的随机变量:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi my"><img src="../Images/114c824b6eb447debf2002cee25055b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:416/format:webp/1*3rXNVgO963kB5OfzmTwjRg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="689a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将指定另一个随机变量作为所有子任务的所有周期的总和。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/2f4de4c2831448b9b2c22888e3b4b382.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*BuPy3eXG52ug1nbMFHZBKA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="d2ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，我们将参考下一个量:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/377227033cda902d3acdfb3caba8aba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*VgIcV4cfd7Ub4aW2Zz5cIg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="39b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为工作时间后完成的最后一个子任务结束前的所有持续时间的总和，N(t)定义如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/fa9e8a3fef504cc0d541665e8e01db8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/1*SZAx_OH4TEmjSPOACXeGiA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e874" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">超额的定义如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/d9fd4fd09c79f3727d0af65cee7524e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*R-A4L14ZfKjnnKuo8vKQug.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e02e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这也被称为<strong class="lb iu">过冲</strong>。</p><p id="7f16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mu mv mw mx b">Lorden's inequality</code>声明如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/1456f05a768a6738374572de5e4cb45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*QuCoxNPml0eK6XjVhJSs9A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="31a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，每当我们在超过某个正数的条件下有停止时间的累积和时，我们总是可以用子任务分布的不同矩来表示它。基本上，这个问题可以描述如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ne"><img src="../Images/109129a2674a786f0a92eb4c2e8b9a0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pSx5rQ70eNwBQDDyQFnaNw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1bee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们进行一个演示。首先，我们装入一些原料:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="d38c" class="lw lx it mx b gy nj nk l nl nm">import numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span></pre><p id="5059" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们构建随机函数来帮助我们模拟解决方案:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="042e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将假设任务的持续时间是根据<code class="fe mu mv mw mx b">Gamma distribution</code>分布的，T3 也被广泛用于建模<strong class="lb iu">等待时间</strong>。为了清楚起见，我们将下一个参数归属于该分布并将其可视化。</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="de59" class="lw lx it mx b gy nj nk l nl nm">shape = 3<br/>scale = 10<br/>N_samples = 10000</span><span id="fcf0" class="lw lx it mx b gy np nk l nl nm">X = generate_gammas(shape, scale, N_samples)</span><span id="c858" class="lw lx it mx b gy np nk l nl nm">sns.displot(X)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/0e3bf146659ca9a00cb156a831824b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IF-wkkfqGMig6j2gjONJ_Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ac21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们写下一个函数，它采用分布参数和阈值来实现<strong class="lb iu">过冲</strong>。(在另一个用例中，您可以尝试插入不同的生成发行版) :</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="58c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个全局函数来模拟几天内的超调量(几次实验) :</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="3d9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为第一个例子，我们运行了一整年的模拟，也知道 Alice 一天工作从不超过 8 小时:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="e4c6" class="lw lx it mx b gy nj nk l nl nm">&gt;&gt;&gt; N_worked_days = 365<br/>&gt;&gt;&gt; working_time_in_minute = 8 * 60 # 8 hours</span><span id="3586" class="lw lx it mx b gy np nk l nl nm">&gt;&gt;&gt; run_experiments_for_one_excess(shape, scale, working_time_in_minute, N_worked_days)</span><span id="c6fb" class="lw lx it mx b gy np nk l nl nm">20.25803262081924</span></pre><p id="5704" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们计算二次分布的矩与一次分布的矩之比(期望值):</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="4125" class="lw lx it mx b gy nj nk l nl nm">&gt;&gt;&gt; X = generate_gammas(shape, scale, 100000)<br/>&gt;&gt;&gt; X_2 = np.power(X, 2)<br/>&gt;&gt;&gt; upper_bound = np.mean(X_2) / np.mean(X)<br/>&gt;&gt;&gt; upper_bound</span><span id="8d5e" class="lw lx it mx b gy np nk l nl nm">39.87780646001634</span></pre><p id="dc31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们稍微调整了一下 Alice 的工作时间，看看这是否会影响她的加班时间:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nn no l"/></div></figure><p id="c39f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更清晰的图像:</p><pre class="kj kk kl km gt nf mx ng nh aw ni bi"><span id="c696" class="lw lx it mx b gy nj nk l nl nm">fig, ax = plt.subplots(figsize=(10,5))</span><span id="2aaa" class="lw lx it mx b gy np nk l nl nm">graph = sns.lineplot(range_fluctuation, experiments, label = "expected overshoot")<br/>graph.axhline(upper_bound, color = "g", label = "upper bound")<br/>    <br/>ax.set_xlabel("minutes fluctuation")<br/>ax.set_ylabel("Expected overshoot")<br/>ax.legend(frameon=False)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/e10f139037847bc6125028ce49cf426e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7WNYrvDNSOmzD93NK2LY6g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b928" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe mu mv mw mx b">Lorden’s inequality</code>肯定地告诉我们，即使过冲阈值波动，确定的上限仍然成立。这是因为上限只取决于任务持续时间的分布。</p><h2 id="bde6" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">结束语:</h2><p id="6f3c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">我们在不等式的使用中没有提到一个重要的假设，因为分布的选择直接涉及到它。肯定是正面的。使用其他分布(如正态分布)会部分损害该属性，除非我们使用一个远离 0 且标准偏差非常低的平均值(类似狄拉克)。这样，我们可以确保——在我们的例子中——我们不会陷入负工期。<br/>请随意将伽马分布替换为规范中注释的均匀/正态分布。</p><h2 id="b344" class="lw lx it bd ly lz ma dn mb mc md dp me li mf mg mh lm mi mj mk lq ml mm mn mo bi translated">参考资料:</h2><p id="2358" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated"><a class="ae ky" href="https://projecteuclid.org/journals/annals-of-mathematical-statistics/volume-41/issue-2/On-Excess-Over-the-Boundary/10.1214/aoms/1177697092.full" rel="noopener ugc nofollow" target="_blank">关于超限界</a></p></div></div>    
</body>
</html>