<html>
<head>
<title>Embedding Interactive Python Plots on the Web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Web上嵌入交互式Python绘图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/embedding-interactive-python-plots-on-the-web-84ceab57e417#2022-04-22">https://towardsdatascience.com/embedding-interactive-python-plots-on-the-web-84ceab57e417#2022-04-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="44f9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">关于如何使用Plotly Chart Studio和Datapane在web上共享Python绘图的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2e80c6baadda23361434bfb0dc26761.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u8VdVhpcf4NqDvgR"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰森·库德里特在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="0baa" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="0ce9" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据科学管道中最重要的步骤之一是数据可视化。事实上，由于数据可视化，数据科学家能够快速收集关于他们可用的数据和任何可能的异常的见解。</p><p id="180d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">传统上，数据可视化包括创建静态图像和汇总统计数据，然后使用Python和Matplotlib等库将其导出为图像(如PNG、JPG、SVG)。虽然，由于Plotly、Bokeh或Altair等库的发展，现在可以创建更多的<a class="ae ky" rel="noopener" target="_blank" href="/interactive-data-visualization-167ae26016e8">交互式可视化</a>甚至<a class="ae ky" rel="noopener" target="_blank" href="/interactive-dashboards-for-data-science-51aa038279e5">在线仪表盘</a>，可以与同事和股东共享。</p><p id="71d1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一旦完成一个项目，通常有两种不同的方法可以用来与任何感兴趣的人分享您的可视化和结果:</p><ul class=""><li id="0a7c" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">创建某种形式的<a class="ae ky" rel="noopener" target="_blank" href="/creating-online-data-driven-presentations-6b25fc626072">数据驱动演示</a>。</li><li id="2d5a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">创建一个项目摘要内部网页，其中嵌入了所创建的任何交互式绘图。</li></ul><p id="5cf4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文中，我们现在将探索第二种方法，提出两种可能的解决方案:<strong class="lt iu"> Plotly Chart Studio </strong>和<strong class="lt iu"> Datapane </strong>。本文使用的所有代码都可以在我的GitHub账户上公开获得，网址是<a class="ae ky" href="https://github.com/pierpaolo28/Data-Visualization/blob/master/Online%20Python%20Embeds/online-python-plots.ipynb" rel="noopener ugc nofollow" target="_blank">这个链接</a>。</p><h1 id="c82e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">Plotly图表工作室</h1><p id="63eb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><a class="ae ky" href="https://github.com/plotly" rel="noopener ugc nofollow" target="_blank"> Plotly </a>是一个基于plotly.js构建的开源Python库，使用Plotly，你可以使用Python、R、Julia和Javascript等编程语言创建交互式图形和仪表盘。</p><p id="fbbd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了创建易于共享的图表，Plotly提供了一个<a class="ae ky" href="https://chart-studio.plotly.com/create/#/" rel="noopener ugc nofollow" target="_blank">图表工作室服务</a>。使用此服务，您可以像往常一样通过编程创建一个图，然后将其添加到您的在线集合中，或者您可以通过在线用户界面上传您的数据，然后从那里创建您的图表(完全不需要编码)。使用Plotly Chart Studio创建的一些绘图示例可在<a class="ae ky" href="https://chart-studio.plotly.com/feed/#/" rel="noopener ugc nofollow" target="_blank">链接获得。</a></p><p id="69f3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于这个例子，我们将使用Python和免费提供的<a class="ae ky" href="https://www.kaggle.com/datasets/satwikverma/students-performance-in-exams" rel="noopener ugc nofollow" target="_blank"> Kaggle学生考试成绩数据集</a> [1]的编程选项。如果您也有兴趣探索用户界面来创建您的图表，Plotly在<a class="ae ky" href="https://plotly.com/chart-studio-help/tutorials/" rel="noopener ugc nofollow" target="_blank">此链接提供了一个指南教程列表。</a></p><p id="4edb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了开始使用Plotly Chart Studio，我们需要首先<a class="ae ky" href="https://chart-studio.plotly.com/Auth/login/?action=signin#/" rel="noopener ugc nofollow" target="_blank">创建一个帐户</a>，然后使用以下命令安装Python库:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="69f0" class="nl la it nh b gy nm nn l no np">pip install chart_studio</span></pre><p id="8787" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在这一点上，我们需要保存我们的帐户API密钥，以便能够将使用Python创建的图表共享到我们的在线帐户中。这可以通过登录你的账户，进入<em class="nq">设置</em>，然后<em class="nq"> API键</em>找到。我们现在准备开始我们的数据探索性分析。</p><h2 id="58e0" class="nl la it bd lb nr ns dn lf nt nu dp lj ma nv nw ll me nx ny ln mi nz oa lp ob bi translated">数据可视化</h2><p id="b028" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，我们需要导入所有必要的依赖项，并检查头部的<a class="ae ky" href="https://www.kaggle.com/datasets/satwikverma/students-performance-in-exams" rel="noopener ugc nofollow" target="_blank">学生在考试数据集</a>中的表现(图1)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/340ef6ea4301d0e8a6b28c0280cd7d2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u6I-s5zC2B9X9U64A_7wWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:学生在考试数据集中的表现(图片由作者提供)。</p></figure><p id="892d" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">使用下面的代码片段，我们可以创建一个3D散点图，并将其保存到我们的在线集合中，命名为<strong class="lt iu"> <em class="nq"> 3d_embed_ex </em> </strong>(记得添加您之前从您的帐户设置中复制的Plotly Chart Studio用户名和API密钥)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="c27f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">进入你的Plotly Chart Studio账户和你的<em class="nq">我的文件</em>部分，你应该能够看到你刚刚用Python创建的图表。点击<em class="nq"> Share </em>然后点击<em class="nq"> Embed </em>标签，你就能看到<strong class="lt iu"> <em class="nq"> iframe </em> </strong>和<strong class="lt iu"> <em class="nq"> HTML </em> </strong>代码，你可以用它们在网络上的任何地方分享你的互动情节(如下图2所示)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="of od l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2: 3D散点图Plotly Chart Studio Embed(图片由作者提供)。</p></figure><h1 id="c7af" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据面板</h1><p id="9ff3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Datapane是一个Python库，旨在通过web嵌入、自动生成的HTML文件等更容易地共享任何形式的数据分析。使用Datapane的主要优势之一是它支持许多数据可视化库，例如:<em class="nq">【matplotlib】</em><em class="nq">【plotly】</em><em class="nq">bokeh</em><em class="nq">pandas</em>等等。此外，使用Datapane，不仅可以共享单个图形，还可以共享图形集合和<em class="nq"> Latex/Markdown </em>文本。</p><p id="65b2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了开始使用Datapane，我们首先需要<a class="ae ky" href="https://datapane.com/accounts/signup/" rel="noopener ugc nofollow" target="_blank">创建一个免费帐户</a>并以与Plotly Chart Studio相同的方式获取我们的API密钥。然后可以使用以下命令安装Python库:</p><pre class="kj kk kl km gt ng nh ni nj aw nk bi"><span id="49ec" class="nl la it nh b gy nm nn l no np">pip install datapane</span></pre><h2 id="e097" class="nl la it bd lb nr ns dn lf nt nu dp lj ma nv nw ll me nx ny ln mi nz oa lp ob bi translated">数据可视化</h2><p id="0d90" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了演示如何使用Datapane，将再次使用<a class="ae ky" href="https://www.kaggle.com/datasets/satwikverma/students-performance-in-exams" rel="noopener ugc nofollow" target="_blank">学生在考试数据集</a>中的表现(如图1所示)。然后使用下面的代码片段，可以创建一个Datapane嵌入(记得添加您之前从您的帐户设置中复制的Datapane API密钥)。此外，使用<strong class="lt iu"> <em class="nq">保存</em> </strong>选项，还可以创建您的报告的HTML文件版本，然后您可以与任何您想要的人共享，而不必在网络上公开您的报告。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><p id="4250" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了分享你新创建的报告，你可以进入你的数据面板账户，点击<em class="nq">我的报告</em>，选择你感兴趣的报告，点击<em class="nq">分享</em>(图3)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og od l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:嵌入3D散点图数据面板(图片由作者提供)。</p></figure><p id="f97a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通过添加更多的页面和可视化，可以创建更复杂的报告(图4)。在下面的示例中，创建了一个两页报表:一页显示数据集的前五行，另一页显示三维散点图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc od l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og od l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4: 2页数据面板嵌入(图片由作者提供)。</p></figure><h1 id="c291" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="72fb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，我们探讨了Plotly Chart Studio和Datapane作为在web上嵌入交互式图表的两种可能的选择。创建交互式图表不仅可以用于准备和探索数据，还可以用于创建关于机器学习模型的可视化和界面。用于这类任务的两个最常见的库是Streamlit和<a class="ae ky" rel="noopener" target="_blank" href="/gradio-graphical-interfaces-for-machine-learning-models-fd4880964f8f"> Gradio。</a>关于这个话题的更多信息，可以在我的<a class="ae ky" rel="noopener" target="_blank" href="/machine-learning-visualization-fcc39a1e376a">“机器学习可视化”文章</a>中找到。</p><h1 id="9c7e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">联系人</h1><p id="5cdf" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果你想了解我最新的文章和项目<a class="ae ky" href="https://pierpaoloippolito28.medium.com/subscribe" rel="noopener">，请通过媒体</a>关注我，并订阅我的<a class="ae ky" href="http://eepurl.com/gwO-Dr?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">邮件列表</a>。以下是我的一些联系人详细信息:</p><ul class=""><li id="0536" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated"><a class="ae ky" href="https://uk.linkedin.com/in/pier-paolo-ippolito-202917146?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">领英</a></li><li id="5147" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><a class="ae ky" href="https://pierpaolo28.github.io/?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">个人网站</a></li><li id="00cb" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><a class="ae ky" href="https://towardsdatascience.com/@pierpaoloippolito28?source=post_page---------------------------" rel="noopener" target="_blank">中等轮廓</a></li><li id="5955" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><a class="ae ky" href="https://github.com/pierpaolo28?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="4f20" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated"><a class="ae ky" href="https://www.kaggle.com/pierpaolo28?source=post_page---------------------------" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li></ul><h1 id="e16b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">文献学</h1><p id="0104" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">[1]“学生在考试中的表现”(SATWIK VERMA，License<a class="ae ky" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank">CC0:Public Domain</a>)。访问:<a class="ae ky" href="https://www.kaggle.com/datasets/satwikverma/students-performance-in-exams" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/satwikverma/students-performance-in-examings</a></p></div></div>    
</body>
</html>