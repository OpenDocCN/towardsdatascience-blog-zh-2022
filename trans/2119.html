<html>
<head>
<title>Extract Text from Image using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python从图像中提取文本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/extract-text-from-image-using-python-8e8cfbbce743#2022-05-12">https://towardsdatascience.com/extract-text-from-image-using-python-8e8cfbbce743#2022-05-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="20f8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本教程中，我们将探索如何使用Python从图像中提取文本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0b6ec48cc245b4fd567d51da5c2b9352.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SuQrkKT3Df69d-Z-ikoBg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">伊恩·施耐德在<a class="ae ky" href="https://unsplash.com/s/photos/text-image?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="7a5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="836a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="358f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">样本图像</li><li id="e094" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用Python从单个图像中提取文本</li><li id="fd51" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">使用Python从多个图像中提取文本</li><li id="fd94" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mq mr l"/></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e6ae" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">介绍</h1><p id="399c" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">从图像中提取文本是企业运营部门(从发票和收据中提取信息)以及其他领域中非常流行的任务。</p><p id="a81c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">OCR(光学字符识别)是一种基于电子计算机的方法，将文本图像转换为机器编码的文本，然后可以提取并以文本格式使用。</p><p id="1e27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要继续学习本教程，我们需要:</p><ul class=""><li id="e949" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated"><a class="ae ky" href="https://tesseract-ocr.github.io/tessdoc/Installation.html" rel="noopener ugc nofollow" target="_blank">宇宙魔方</a></li><li id="fc37" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://pypi.org/project/pytesseract/" rel="noopener ugc nofollow" target="_blank">宇宙魔方</a></li><li id="2e20" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated"><a class="ae ky" href="https://pillow.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank">枕头</a></li></ul><p id="8ea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Tesseract是一个开源OCR(光学字符识别)引擎，允许从图像中提取文本。</p><p id="2383" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了在Python中使用它，我们还需要<strong class="lb iu">pyTesseract</strong>库，它是tesserac引擎的包装器。</p><p id="c60a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于我们正在处理图像，我们还需要为Python添加图像处理功能的<strong class="lb iu"> pillow </strong>库。</p><p id="1b34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，为你的操作系统搜索<a class="ae ky" href="https://tesseract-ocr.github.io/tessdoc/Installation.html" rel="noopener ugc nofollow" target="_blank">宇宙魔方安装程序</a>。对于Windows，你可以在这里找到最新版本的宇宙魔方安装程序<a class="ae ky" href="https://github.com/UB-Mannheim/tesseract/wiki" rel="noopener ugc nofollow" target="_blank">。只需下载。exe文件并安装在您的计算机上。</a></p><p id="c796" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有安装Python库，请打开“命令提示符”(在Windows上)并使用以下代码安装它们:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="8426" class="nu mt it nq b gy nv nw l nx ny">pip install pytesseract<br/>pip install pillow</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="22b2" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">样本图像</h1><p id="9975" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">为了继续学习本教程，我们需要一些图片。</p><p id="6ebb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我们将在本教程中使用的三幅图像:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/6ab2632d617b40ebedb07bb5105dd95d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*HGgKcW4a9sHMZJDr.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/918a502bd49dd3156a89a27d95e0ca29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DCTMLX7HPTMNhE5b.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/57ef59acbdbbca6e739a35c2c0d7aa04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XRNxQm24tMBduPPb.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="6fae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，我们将使用简单的图像与文本水平对齐，不需要任何额外的图像处理。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="452a" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">使用Python从单个图像中提取文本</h1><p id="b540" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">让我们从使用Python从单个图像中提取文本开始。</p><p id="1043" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个例子，我们将使用上一节提供的第一幅图像:<strong class="lb iu">sampletext1-ocr.png</strong></p><p id="05a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是我的文件的结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/fa02674d2ba7edd387f5882afa3880e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/0*Gtrp-B6lsp0iZfIH.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="9f74" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所有的图像都放在文件夹<strong class="lb iu">图像</strong>中，代码保存在<strong class="lb iu">主文件夹</strong>中</p><p id="7847" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要的图片的路径是:<em class="ob">images/sample text 1-ocr . png</em></p><p id="1a31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们需要的另一个路径是安装后创建的<strong class="lb iu">tessaract.exe</strong>的路径。在Windows上，它应该位于:<em class="ob">C:\ Program Files \ tessera CT-OCR \ tessera CT . exe</em></p><p id="b2d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们已经拥有了所需的一切，可以使用Python轻松地从图像中提取文本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc mr l"/></div></figure><p id="f3de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="b8f6" class="nu mt it nq b gy nv nw l nx ny">Sample Text 1</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="4758" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">使用Python从多个图像中提取文本</h1><p id="d5b6" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在这一节中，我们将探索如何使用Python从多个图像中提取文本。</p><p id="9e48" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们知道所有的图像都放在文件夹<strong class="lb iu"> images </strong>中，而代码驻留在<strong class="lb iu"> main.py </strong>中</p><p id="1f4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从每个图像中提取文本的一种方法是使用每个图像的文件名，并从这些图像中逐个提取文本。</p><p id="a12a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是如果文件夹里有100张图片呢？使用<strong class="lb iu"> os </strong>库，我们可以访问给定目录中的所有文件名。</p><p id="b808" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们访问了<strong class="lb iu"> images </strong>文件夹中的所有文件名，我们将遍历它们并使用Python从每个图像中提取文本:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oc mr l"/></div></figure><p id="2ae2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="3942" class="nu mt it nq b gy nv nw l nx ny">Sample Text 1<br/>Sample Text 2<br/>Sample Text 3</span></pre><p id="5f6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这正是我们在图像中看到的文字。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="5b6b" class="ms mt it bd mu mv mw mx my mz na nb nc jz nd ka ne kc nf kd ng kf nh kg ni nj bi translated">结论</h1><p id="e236" class="pw-post-body-paragraph kz la it lb b lc nk ju le lf nl jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">在本文中，我们探讨了如何使用Python和Tesseract从单幅图像和多幅图像中提取文本。</p><p id="30fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或对编辑有任何建议，请随时在下面留下评论，并查看更多我的<a class="ae ky" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank"> Python编程</a>教程。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="d526" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ob">原载于2022年5月12日</em><a class="ae ky" href="https://pyshark.com/extract-text-from-image-using-python/" rel="noopener ugc nofollow" target="_blank"><em class="ob">https://pyshark.com</em></a><em class="ob">。</em></p></div></div>    
</body>
</html>