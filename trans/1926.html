<html>
<head>
<title>How to Standardize Data in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Python中标准化数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-standardize-data-in-python-d3e73f4ccf3c#2022-05-03">https://towardsdatascience.com/how-to-standardize-data-in-python-d3e73f4ccf3c#2022-05-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f815" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本文中，我们将探索如何在Python中标准化数据。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4dfc96df6bd9e5060a9cadb06a582e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uxOmL6f-Z0r5w15myq_lkQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@marcinjozwiak?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Marcin Jozwiak </a>在<a class="ae ky" href="https://unsplash.com/s/photos/distribution?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="b2f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="72bd" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="ded8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">什么是标准化</li><li id="0fdf" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">标准化示例</li><li id="58fa" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如何在Python中标准化数据</li><li id="f2f8" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="a400" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="a664" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">许多机器学习模型的特征工程的第一步是确保数据被适当地缩放。</p><p id="643f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一些模型，如线性回归、KNN和SVM，会受到不同比例要素的严重影响。</p><p id="aa26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他算法，如决策树、bagging和boosting算法通常不需要任何数据缩放。</p><p id="e63d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">特征比例对上述模型的影响程度较高，并且具有较大范围值的特征将在算法决策中发挥更大的作用，因为它们产生的影响对输出具有更大的影响。</p><p id="df62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，我们转向特征缩放，以帮助我们找到所有这些特征的共同水平，以便在训练模型时平等地评估。</p><p id="1be1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">两种最流行的特征缩放技术是:</p><ol class=""><li id="60ca" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu nn mb mc md bi translated">z分数标准化</li><li id="b0e3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu nn mb mc md bi translated"><a class="ae ky" href="https://pyshark.com/how-to-normalize-data-in-python/" rel="noopener ugc nofollow" target="_blank">最小-最大归一化</a></li></ol><p id="1711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将讨论如何使用Python执行数据的z分数标准化。</p><p id="bba6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了继续学习本教程，我们需要以下两个Python库:sklearn和pandas。</p><p id="ee7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您没有安装它们，请打开“命令提示符”(在Windows上)并使用以下代码安装它们:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="f67a" class="nt mr it np b gy nu nv l nw nx">pip install sklearn<br/>pip install pandas</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="f5dc" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">什么是标准化</h1><p id="38e9" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在统计学和机器学习中，数据标准化是根据数据的均值和标准差将数据转换为z分值的过程。</p><p id="0f52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">得到的标准化值显示原始值偏离平均值的标准偏差数。</p><p id="b012" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基本上，数据集给定要素的每个值都将被转换为偏离要素平均值的标准偏差的代表值。</p><p id="04bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将允许我们一起比较多个特征，并获得更多相关信息，因为现在所有数据将处于相同的比例。</p><p id="af2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">标准化数据的平均值等于0，值通常在-3和+3之间(因为99.9%的数据在平均值的3个标准偏差范围内，假设您的数据遵循正态分布)。</p><p id="4648" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看z分数公式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c14b6571fcecb2bb601bf3028983ff6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:320/format:webp/1*alUyB7d_zhmlWpg-I4Ej1w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5977" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于每个特征，我们将计算其平均值和标准差。然后我们将从每个观察值中减去平均值，再除以标准差，得到标准化值。</p><h1 id="44e3" class="mq mr it bd ms mt nz mv mw mx oa mz na jz ob ka nc kc oc kd ne kf od kg ng nh bi translated">标准化示例</h1><p id="0f8d" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在这一节中，我们将看一个简单的数据标准化的例子。</p><p id="3367" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑以下具有不同苹果价格的数据集:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/a79c8cb59493d7603570d4dae6ed4540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yBmVfKI-X8xoiu3es6FSAg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8c5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制数据集应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/d37f442acd67728282fed1f2dbb81426.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/0*WId7ipXXqyc4aHmR.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="9dad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们看到重量与价格相比有更大的变化，但看起来是这样，因为数据的不同尺度。</p><p id="c94e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">价格范围在2美元到5美元之间，而重量范围在250克到800克之间。</p><p id="2680" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们把这些数据标准化吧！</p><p id="e57a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从重量特征开始:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/0158b273784a99cb8b78aa26bb07e90e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7dHeTHwxqtMZJWbkfRiygQ.png"/></div></div></figure><p id="20bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并对价格功能进行同样的操作:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/6b28f2146e110ed0dc125e2c4de3d2e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-WNWT8peUWy80OknoxgycA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e014" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">并将这两个特征组合成一个数据集:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/0a67ada4f57e460a81a34a1757edf7d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tk9_omBPBM2VQu3j8f3vLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="0d99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在可以看到，数据集中要素的比例非常相似，并且在可视化数据时，点之间的分布会更小:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/1170252bb86317bf50e830f8796f4324.png" data-original-src="https://miro.medium.com/v2/resize:fit:956/format:webp/0*d5lmRUyL35zeLTeQ.png"/></div></figure><p id="517f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该图看起来几乎相同，唯一的区别是每个轴的比例。</p><p id="aea8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们看看如何使用Python重现这个例子！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="2f9e" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">如何在Python中标准化数据</h1><p id="d47e" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们首先创建一个我们在上面的例子中使用的数据帧:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="2c6b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="e228" class="nt mr it np b gy nu nv l nw nx">   weight  price<br/>0     300      3<br/>1     250      2<br/>2     800      5</span></pre><p id="0b76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们准备好数据，我们就可以使用<strong class="lb iu"> StandardScaler() </strong>类及其方法(来自sklearn库)来标准化数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="dd4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="4a8e" class="nt mr it np b gy nu nv l nw nx">[[-0.60404045 -0.26726124]<br/> [-0.80538727 -1.06904497]<br/> [ 1.40942772  1.33630621]]</span></pre><p id="dfb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，上面的代码返回了一个数组，所以最后一步是将其转换为dataframe:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><p id="8935" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt no np nq nr aw ns bi"><span id="6483" class="nt mr it np b gy nu nv l nw nx">     weight     price<br/>0 -0.604040 -0.267261<br/>1 -0.805387 -1.069045<br/>2  1.409428  1.336306</span></pre><p id="4b40" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这与我们手动计算的示例中的结果相同。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="e988" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="8773" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在本教程中，我们讨论了如何在<a class="ae ky" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>中标准化数据。</p><p id="b2d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据标准化是许多机器学习算法中数据预处理的重要步骤。</p><p id="f2b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这通常是一个必需的预处理步骤，用于调整输入数据中要素的范围，以确保范围较大的要素不会通过影响距离度量来消除模型的所有可解释性。</p><p id="0dd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是否对数据进行标准化的决定主要取决于您正在构建的模型，因为有些模型很容易受到数据范围的影响(OLS、SVM等)，而有些模型则不受影响(逻辑回归、基于树的模型等)。</p><p id="db14" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看更多我的<a class="ae ky" href="http://pyshark.com/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>文章。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="d973" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oj">原载于2022年5月3日</em><a class="ae ky" href="https://pyshark.com/how-to-standardize-data-in-python/" rel="noopener ugc nofollow" target="_blank"><em class="oj">https://pyshark.com</em></a><em class="oj">。</em></p></div></div>    
</body>
</html>