<html>
<head>
<title>Monte Carlo Simulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙特 卡罗模拟</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monte-carlo-simulation-421110b678c5#2022-10-18">https://towardsdatascience.com/monte-carlo-simulation-421110b678c5#2022-10-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9925" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">第5部分:随机性&amp;随机数生成</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d09cad08acf9b3c9f5e6cba2a1a4c5c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RvcJwnlIZuSWk2CQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@introspectivedsgn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">埃里克·麦克莱恩</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="c8ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本系列的<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-2b24fc810683">第一篇文章</a>中，我们将<strong class="lb iu">蒙特卡罗方法</strong> ( <strong class="lb iu"> MCM </strong>)定义为一组用于数学问题求解的数值方法，其中<strong class="lb iu">随机样本</strong>的使用将它们与等效技术区分开来。这些方法提供了模拟结果的分布，从中可以很容易地获得汇总统计数据和图表。</p><p id="4965" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于大多数现实生活中的系统表现出大量的随机行为，MCM，特别是<strong class="lb iu">蒙特卡罗模拟(MCSs) </strong>是分析和解决复杂决策问题的有价值的工具，因为它们可以灵活地将<strong class="lb iu">随机性</strong>融入建模中。</p><p id="735b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，为了使用MCSs作为有效的分析工具，清楚地理解与随机性相关的一组概念和基本定义是非常重要的。</p><h1 id="46a6" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">定义和概念</strong></h1><p id="92f6" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">《韦氏词典词典》将随机性定义为“随机或看似随机的性质或状态(如缺乏或看似缺乏明确的计划、目的或模式)”。剑桥词典[2]将其定义为“随机的性质(偶然而非按计划发生、完成或选择)”。当然，这两个都是非技术定义，与该术语的常见用法有关。或者，在蒙特卡罗模拟中，通过使用随机数和概率分布来结合随机性。</p><p id="f714" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu">概率分布</strong>表示某个随机变量可能取的所有可能值，加上这些值的概率总和【3】。有由它们的<a class="ae ky" href="https://en.wikipedia.org/wiki/Probability_density_function" rel="noopener ugc nofollow" target="_blank">密度函数</a>定义的连续概率分布函数和由<a class="ae ky" href="https://en.wikipedia.org/wiki/Probability_mass_function" rel="noopener ugc nofollow" target="_blank">概率质量函数</a>定义的离散概率分布函数<strong class="lb iu"> </strong>。MCSs中最常用的概率分布是均匀分布(连续)、正态分布(连续)、指数分布(连续)、泊松分布(离散)、威布尔分布(连续)和伯努利分布(离散)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/cea00656a0f8d6c8eaddb872a14557fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*Lim8ZWI9DXDxrA1llSXfpw.png"/></div></figure><p id="09c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">泊松分布的概率质量函数为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/4249cad11b70118aaab59edee6332fc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:500/format:webp/1*K9uEt7p3pi-j6ROxXf3-hw.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/04a1088c848cee9a5a5383009aa70037.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*KVzZM-cDZsFKlwccUZKCxA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据平均值<em class="mv"> μ </em>和方差<em class="mv"> σ </em>的不同值，正态分布的概率密度函数。资料来源:https://en.wikipedia.org/wiki/Normal_distribution。</p></figure><p id="c491" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">随机变量</strong>是实验输出的数字描述。随机变量可以是连续的，也可以是离散的。随机变量的期望值对应于平均值或统计平均值的概念。我以前的文章中描述的蒙特卡洛模拟的结果(第一篇中的<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-2b24fc810683">利润，第二篇</a>中的<a class="ae ky" href="https://medium.com/p/8db846f3d8ed#09a4-6a25f853d2de" rel="noopener">总成本，第三篇</a>中的<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-7c198d01c531">损失时间百分比，第四篇</a>中的<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-5e58f054bebb">回报率)是随机变量的例子。</a></p><p id="e27a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu">随机变量</strong>是一个随机变量的特定实现(一个实例)。这是一个概率分布的特殊结果。</p><p id="7c00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随机数是“一个从某个特定的分布中随机选择的数，从这些数的大集合中选择出来的一个数可以再现基本的分布”[4]。在模拟中，特别是在MCS中，随机数是从0和1之间的均匀分布中选择的随机变量。</p><p id="b98e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">随机数可以通过以下方式获得:1)物理设备(掷骰子、掷硬币、旋转轮盘、看特定的桌子、大气噪声、盖革计数器等)。);2)专门设计的电子器件；3)递归算法。</p><p id="30ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如在计算机模拟中，我们需要来自非常不同的概率分布的数千个随机数，唯一合理的解决方案是使用名为随机数生成器的递归算法。这种<strong class="lb iu">递归算法</strong>从前一个随机数生成新的随机数。</p><p id="c805" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由计算机算法生成的数字序列并不是真正随机的，因为它们是由<strong class="lb iu">确定性公式生成的。</strong>所以，他们被称为<strong class="lb iu">伪随机数。那些特定的计算机算法产生的数字流看起来是随机的。</strong></p><p id="00be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">总之，<strong class="lb iu">随机数生成器</strong>是一种用于生成伪随机数序列的递归算法。</p><p id="365d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">伪随机数序列</strong>是(0，1)中的确定性数字序列，具有与均匀分布在0和1 [5]之间的真随机数序列<strong class="lb iu">相同的相关统计特性</strong>。</p><p id="4641" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个好的通用(伪)随机数发生器必须包括以下特性:</p><ul class=""><li id="eeaf" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated">所有数字必须均匀分布在(0，1)中</li><li id="4ecd" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">连续值之间没有序列相关性</li><li id="1b55" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">很长的一段时间(周期的长度)</li><li id="1a87" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">指定起始种子的可重复性</li><li id="4414" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">简单的实现</li><li id="a47f" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">计算效率高</li></ul><h1 id="7f90" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">随机数发生器</strong></h1><p id="ce9b" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">最常用于生成(伪)随机数流的递归算法是<strong class="lb iu">线性同余生成器(LCG) </strong>。如前所述，递归算法需要前一个伪随机数来生成下一个伪随机数。这也意味着需要一个<strong class="lb iu">种子号</strong>来启动序列。</p><p id="da0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">LCG的基本公式是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/d6a0ac53c9acb2443f485113a19f5089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x81ELL5TQH5SrNxvP1wW7w.png"/></div></div></figure><p id="d397" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中<strong class="lb iu"> a </strong>为常数乘数，<strong class="lb iu"> c </strong>为常数加值(增量)，<strong class="lb iu"> R0 </strong>为种子数，<strong class="lb iu"> m </strong>为模数。它们(a，c，R0，m)都是整数，并具有以下附加条件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/60cb1fd5712a99ddb750a3a3efc667f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6-iy8TFmLxG1XuZMNGkfLQ.png"/></div></div></figure><p id="1dd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> mod </strong>是数学运算<strong class="lb iu">对</strong>取模，返回一个数除以另一个数后的余数或有符号余数(模数)[6]。比如10 mod 3 = 1，因为我们可以把3除以10三次，剩下余数1；251 mod 17 = 13，因为我们可以将17除以251的14倍，剩下13的余数。</p><p id="2b27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于伪随机数流必须在(0，1)中，我们必须计算如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/73e50ea3a6fe0e922c46492bade4c71c.png" data-original-src="https://miro.medium.com/v2/resize:fit:492/format:webp/1*6WP1R24UfXbwDqJXuuqG8Q.png"/></div></figure><p id="8da5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过几个例子来看看它是如何工作的:</p><ol class=""><li id="dc71" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nn nc nd ne bi translated">LCG，其中a = 4，c = 3，m = 16，R0 = 11</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/a1e6eff3aea4fd022c5e4c2be21c551c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*VFxdDF1McMAx7blATK2nIA.png"/></div></figure><p id="656e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以看出，不可能产生一个以上不同的随机数。显然，这不是一个随机数字序列。</p><p id="f1d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2) LCG，其中a = 13，c = 13，m = 16，R0 = 37</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/a881e93667a6fc110a52a1f1adc275fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*MriDZTpsz1zpZzP2fHmqoQ.png"/></div></figure><p id="bc3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该算法生成一个由16个不同随机数组成的序列，然后该序列开始重复。序列的长度称为LCG的<strong class="lb iu">周期</strong>。我们想要一个非常长的周期，理想情况下等于模数<strong class="lb iu"> m </strong>(本例中为16)，其中产生每个小于<strong class="lb iu"> m </strong>的正整数。当这种情况发生时，该算法被认为实现了其<strong class="lb iu">全周期</strong>或<strong class="lb iu">全周期。</strong></p><p id="3048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，只有16个不同的随机数对于蒙特卡罗模拟是没有用的，因为蒙特卡罗模拟需要数千个独立的重复，每个重复都有不同的随机变量。大量的数学家和统计学家研究了如何开发具有完整周期和数百万不同随机数序列的算法。这些发展超出了本文的范围。我只想指出，有几个算法使用质数来表示模数，常数乘数<strong class="lb iu"> a </strong>必须以01、21、41、64或81结尾，增量<strong class="lb iu"> c </strong>必须以数字1、3、7或9结尾。</p><p id="9de1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq">梅森扭结器</em>是松本诚和西村拓治在1997年开发的一种强伪随机数发生器【7】。这是一个经过充分测试的生成器，基于<strong class="lb iu">梅森素数</strong>2 * *(19937)-1，它在令人印象深刻的2 * *(19937)-1周期内产生53位精度浮点。像Python，R这样的软件，以及在更近的版本中，MATLAB提供了<em class="nq">梅森图</em>作为标准，因为它具有不可思议的周期和极好的统计特性。然而，由于生成器是完全确定的，因此它并不适用于所有目的。显然，你不能将它用于加密或高安全性的目的。</p><p id="e779" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他优秀的伪随机发生器包括<em class="nq">滞后斐波那契</em>发生器和<em class="nq"> L'Ecuyer </em>发生器(“一个普通桌面大约需要219年才能耗尽算法的周期”)[8]。</p><p id="d8aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个<strong class="lb iu">随机变量生成器</strong>是一个算法函数，用于从特定的概率分布中生成一个随机观察流。</p><p id="10b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Python中，有两组随机变量生成函数:(1)来自Python标准库中的<strong class="lb iu"> random </strong>模块。它使用<em class="nq">梅森捻线机</em>作为核心发电机；(2)来自<strong class="lb iu"> Numpy </strong>的随机变量发生器。在Numpy中，随机数生成分为两个部分，一个位生成器和一个随机生成器。位生成器的职责有限。它管理状态，并提供产生随机双精度值和随机无符号32位和64位值的函数。随机发生器采用位发生器提供的流，并将它们转换成更有用的分布，例如模拟的正态随机值[9]。</p><p id="8128" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">库<strong class="lb iu"> Scipy </strong>没有随机数生成器。它使用Numpy模块。scipy.stats模块包括80多个连续随机变量和至少10个离散随机变量。产生随机变量的方法是<em class="nq"> rvs </em>。使用Scipy的最大优势在于，每个发行版都从它继承了一组泛型方法。例如，指数连续随机变量继承了计算分布的平均值、中值、方差、标准差、峰度和偏斜度的方法。其他方法计算pdf、CDF、生存和逆生存函数[10]。</p><p id="1c43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在模拟研究中，经常需要再现随机数序列，特别是当试图使用一种称为<strong class="lb iu">普通随机数的技术来比较模型对不同备选方案的响应时。</strong>为此，发生器需要一个数字来启动序列(<strong class="lb iu">一个</strong>一个<strong class="lb iu">种子值</strong>)。默认情况下，它使用当前系统时间。但是，如果需要再现流，每次需要重新开始序列时，都必须编写类似于<em class="nq"> random.seed(1234) </em>的代码。</p><p id="7f67" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看它是如何工作的:</p><p id="9981" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，你导入模块<em class="nq">(导入随机</em>)然后调用相应的函数(<em class="nq"> random.random() </em>)</p><p id="057e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">没有种子编号:</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="a123" class="nw lw it ns b gy nx ny l nz oa">import random</span><span id="4fed" class="nw lw it ns b gy ob ny l nz oa">r1 = random.random()<br/>print(r1)</span><span id="0aa4" class="nw lw it ns b gy ob ny l nz oa">r2 = random.random()<br/>print(r2)</span></pre><p id="c79a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你会得到两个不同的均匀分布的随机数:</p><p id="2d1d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq"> 0.007491470058587191 </em></p><p id="d238" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq"> 0.9109759624491242 </em></p><p id="bac9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">带有种子编号</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="34ee" class="nw lw it ns b gy nx ny l nz oa">random.seed(1234)</span><span id="d43a" class="nw lw it ns b gy ob ny l nz oa">r3 = random.random()<br/>print(r3)<br/>r4 = random.random()<br/>print(r4)</span><span id="20c7" class="nw lw it ns b gy ob ny l nz oa">print()</span><span id="4edc" class="nw lw it ns b gy ob ny l nz oa">random.seed(1234)</span><span id="292e" class="nw lw it ns b gy ob ny l nz oa">r5 = random.random()<br/>print(r5)<br/>r6 = random.random()<br/>print(r6)</span></pre><h2 id="7000" class="nw lw it bd lx oc od dn mb oe of dp mf li og oh mh lm oi oj mj lq ok ol ml om bi translated">现在，您将生成相同的观察流:</h2><p id="caa4" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">0.9664535356921388 </p><p id="e0ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">0.4407325991753527 </p><p id="3092" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq"> 0.9664535356921388 </em></p><p id="991c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nq"> 0.4407325991753527 </em></p><p id="0851" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下代码尝试使用Python标准库、Numpy库和Scipy库中的<strong class="lb iu"> random </strong>模块，比较从指数分布生成500.000个随机观测值和从正态分布生成另外500.000个随机观测值所需的时间。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="67d3" class="nw lw it ns b gy nx ny l nz oa">import numpy as np<br/>from scipy.stats import norm<br/>from scipy.stats import expon<br/>import time</span><span id="c3c4" class="nw lw it ns b gy ob ny l nz oa">mu = 5<br/>sigma = 2</span><span id="3529" class="nw lw it ns b gy ob ny l nz oa">lamb = 1.2<br/>#........................................................</span><span id="4e9b" class="nw lw it ns b gy ob ny l nz oa">start1 = time.time()</span><span id="9e9f" class="nw lw it ns b gy ob ny l nz oa">list_of_normal, list_of_expon = [], []<br/>for i in range(500000):<br/>    expon_with_random_module  = random.expovariate(1/lamb)<br/>    normal_with_random_module = random.gauss(mu, sigma)<br/>    list_of_expon.append(expon_with_random_module)<br/>    list_of_normal.append(normal_with_random_module)</span><span id="39b8" class="nw lw it ns b gy ob ny l nz oa">end1 = time.time()</span><span id="5bea" class="nw lw it ns b gy ob ny l nz oa">delta1 = round(float(end1 - start1), 4)<br/>print(" The time used to execute with the random module is:")<br/>print(delta1)</span><span id="d4e4" class="nw lw it ns b gy ob ny l nz oa">start2 = time.time()</span><span id="55b0" class="nw lw it ns b gy ob ny l nz oa">expon_with_numpy  = np.random.exponential(1/lamb, 500000)<br/>normal_with_numpy = np.random.normal(mu, sigma,   500000)</span><span id="ba6d" class="nw lw it ns b gy ob ny l nz oa">end2 = time.time()</span><span id="0afa" class="nw lw it ns b gy ob ny l nz oa">delta2 = round(float(end2 - start2), 4)<br/>print(" The time used to execute with the numpy module is:")<br/>print(delta2)</span><span id="88bc" class="nw lw it ns b gy ob ny l nz oa">start3 = time.time()</span><span id="33fb" class="nw lw it ns b gy ob ny l nz oa">expon_with_scipy = expon.rvs(scale = 1/lamb, size = 500000)   <br/>normal_with_scipy = norm.rvs(loc = mu, scale = sigma, size= 500000)</span><span id="6cc8" class="nw lw it ns b gy ob ny l nz oa">end3 = time.time()</span><span id="0da6" class="nw lw it ns b gy ob ny l nz oa">delta3 = round(float(end3 - start3), 4)<br/>print(" The time used to execute with the scipy module is:" )<br/>print(delta3)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2647c43fc220909fb80b23afdaabd1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*5T48LpvN0pAp3sQjgkL6Nw.png"/></div></figure><p id="fd36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的计算清楚地显示了使用Numpy库的优势。</p><p id="625d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在蒙特卡罗模拟中使用伪随机序列之前，应该对序列的随机性进行彻底的分析。首先，你必须通过<strong class="lb iu"> </strong>应用<a class="ae ky" href="https://en.wikipedia.org/wiki/Chi-squared_test" rel="noopener ugc nofollow" target="_blank">卡方</a>和<a class="ae ky" href="https://en.wikipedia.org/wiki/Kolmogorov%E2%80%93Smirnov_test" rel="noopener ugc nofollow" target="_blank">科尔莫戈罗夫-斯米尔诺夫</a>测试来测试<strong class="lb iu">的一致性</strong>。<strong class="lb iu">序列相关性</strong>(与自相关相同)可以用<a class="ae ky" href="https://en.wikipedia.org/wiki/Durbin%E2%80%93Watson_statistic" rel="noopener ugc nofollow" target="_blank">德宾-沃森测试</a>进行测试。必须对每个随机序列进行<strong class="lb iu">运行</strong>测试，例如使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Wald%E2%80%93Wolfowitz_runs_test" rel="noopener ugc nofollow" target="_blank"> Wald-Wolfowitz测试。</a>您还必须使用间隙测试和/或<a class="ae ky" href="https://ioesolutions.esign.com.np/notes/text-notes-show/Poker-Test-(Numerical-Solution-)" rel="noopener ugc nofollow" target="_blank">扑克测试</a>来测试<strong class="lb iu">数字模式</strong>。</p><p id="76ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">别忘了给小费，尤其是当你把文章添加到列表中的时候。</p><h1 id="a791" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">结论</strong></h1><p id="30b9" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">随机性与任何结果不可预测的过程有关。几乎所有现实世界的系统都表现出一定程度的随机性。由于这个原因，像蒙特卡罗模拟这样的技术对于分析这样的系统是非常有价值的工具。但是在使用它们之前，最好先弄清楚与随机性和随机数生成相关的某些定义和概念。</p><h1 id="fe41" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">参考文献</strong></h1><p id="5c9e" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">[1]<a class="ae ky" href="https://www.merriam-webster.com/dictionary/randomness" rel="noopener ugc nofollow" target="_blank">https://www.merriam-webster.com/dictionary/randomness</a></p><p id="f79f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]<a class="ae ky" href="https://dictionary.cambridge.org/dictionary/english/randomness" rel="noopener ugc nofollow" target="_blank">https://dictionary . Cambridge . org/dictionary/English/randomnes</a></p><p id="1fdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://medium.com/@dar.wtz/histograms-why-how-431a5cfbfcd5" rel="noopener">https://medium.com/@dar.wtz/histograms-why-how-431a5cfbfcd5</a></p><p id="2ff1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://mathworld.wolfram.com/RandomNumber.html" rel="noopener ugc nofollow" target="_blank">https://mathworld.wolfram.com/RandomNumber.html</a></p><p id="16a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[5] B.D. Ripley，随机模拟(Wiley，纽约，1987年)。</p><p id="2bb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://en.wikipedia.org/wiki/Modulo_operation" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Modulo_operation</a></p><p id="ab78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[7]<a class="ae ky" href="https://en.wikipedia.org/wiki/Mersenne_Twister" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Mersenne_Twister</a></p><p id="7dfb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[8] <a class="ae ky" href="https://www.chessprogramming.org/Mathematician#PLEcuyer" rel="noopener ugc nofollow" target="_blank">皮埃尔·勒古耶</a> ( <strong class="lb iu"> 1988 </strong>)。<a class="ae ky" href="http://dl.acm.org/citation.cfm?id=62969" rel="noopener ugc nofollow" target="_blank"> <em class="nq">高效便携的组合随机数发生器</em> </a>。美国计算机学会通讯第31卷第6期</p><p id="5444" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[9]<a class="ae ky" href="https://numpy.org/doc/stable/reference/random/index.html" rel="noopener ugc nofollow" target="_blank">https://numpy.org/doc/stable/reference/random/index.html#</a></p><p id="5cbd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[10]<a class="ae ky" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.expon.html?highlight=scipy%20stats%20expon" rel="noopener ugc nofollow" target="_blank">https://docs . scipy . org/doc/scipy/reference/generated/scipy . stats . expon . html？highlight = scipy % 20 stats % 20 expon</a></p></div></div>    
</body>
</html>