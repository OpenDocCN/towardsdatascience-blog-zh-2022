<html>
<head>
<title>The Unnerving Sweet Spot for ML-Powered Products</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ML动力产品令人不安的最佳点</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-unnerving-sweet-spot-for-ml-powered-products-c34b54e17179#2022-09-15">https://towardsdatascience.com/the-unnerving-sweet-spot-for-ml-powered-products-c34b54e17179#2022-09-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="77a0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">维护一个推理服务器是痛苦的，但也是必要的。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6ec01c55f002c0d4819c53462e40cbdd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BDCau8dJctUcoriP"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">瓦迪姆·博古洛夫在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="5f51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章是解决生产ML世界中最可怕的想法的系列文章的继续:把该死的东西投入生产。</p><p id="05c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在以前的故事中，我们看到了两种不同的方法来设计机器学习(ML)驱动的应用程序。首先，我们研究了为什么您希望将模型保存在web服务器中，以及为什么您不应该这样做。</p><p id="f03f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将您的模型与您的核心业务逻辑放在一起是必须的，因为您尝试不同的想法，并且希望从一个信任的测试人员圈子中获得快速反馈，但是当在生产中部署时，这是不够的。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/keep-your-ml-models-out-of-your-application-servers-9fe58f9c91a5"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">让您的ML模型远离您的应用服务器</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">如何将一个有前途的ML模型变成一个有用的ML驱动的产品</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm ks ly"/></div></div></a></div><p id="30a6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们讨论的第一个解决方案是一个非常简单的技术，它允许我们将模型从web服务器中分离出来。我们仔细研究了数据库中的模型解决方案，适合这种方法的用例，以及它的优缺点。</p><p id="262b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据库中的模型方法实现起来很简单，但是它的范围有限。它也导致陈旧的模型，并不总是为我们的用户提供有价值的服务。</p><div class="lv lw gp gr lx ly"><a rel="noopener follow" target="_blank" href="/pull-your-ml-model-out-of-your-server-the-database-solution-a00b212f5e0d"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">将您的ML模型从服务器中拉出:数据库解决方案</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">何时将模型放入数据库，如何放置，为什么</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mn l mj mk ml mh mm ks ly"/></div></div></a></div><p id="7bcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">那么，我们如何解决前面两种方法所面临的问题呢？这个故事研究了最常见的架构设计:如何将您的模型放在它自己的推理服务器中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/ecc23d7e568d7e611fb3c4fac66e20b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBymbhQEwUHEVEBOQ9cqpA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">推理服务架构——作者图片</p></figure><p id="6a37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为我们的模型创建和维护一个单独的web服务增加了基础设施的复杂性，但是，正如我们将看到的，这是大多数ML支持的产品的最佳选择。</p><blockquote class="mp mq mr"><p id="968c" class="kz la ms lb b lc ld ju le lf lg jx lh mt lj lk ll mu ln lo lp mv lr ls lt lu im bi translated"><a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=medium&amp;utm_medium=article&amp;utm_campaign=model-as-a-service" rel="noopener ugc nofollow" target="_blank"> Learning Rate </a>是一份时事通讯，面向那些对AI和MLOps世界感到好奇的人。你会在每个月的第一个星期六收到我关于最新人工智能新闻和文章的更新和想法。订阅<a class="ae ky" href="https://www.dimpo.me/newsletter?utm_source=medium&amp;utm_medium=article&amp;utm_campaign=model-as-a-service" rel="noopener ugc nofollow" target="_blank">这里</a>！</p></blockquote><h1 id="637d" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">模型即服务方法</h1><p id="c0cd" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">模型即服务(MaaS)架构范式允许我们在自己的推理服务中在线运行模型。这个推理服务就像其他后端一样，是专门为运行ML模型而设计的。这意味着它有适当的基础设施支持；一台或多台能够保持一个或一系列ML模型性能的机器。</p><p id="0a33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的后端(即我们的web服务器)通过扮演客户机的角色进行交互:它发出请求并接收响应。例如，当它从客户端(例如，我们的用户)接收到识别图像中存在的对象的请求时，它将请求转发到推理服务器，模型进行预测，发回响应，最后，web服务器将响应转发回客户端。</p><p id="c048" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在介绍中所说的，这种方法似乎是大多数ML支持的应用程序的最佳选择。但这是为什么呢？让我们深入研究一下这种方法，什么时候应该使用它，并讨论一下它的优缺点。</p><h1 id="9a0d" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">赞成者</h1><p id="19e3" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">可以说，MaaS方法是服务于ML模型的最常见的方法。这是大多数用例推荐的方法，这是有充分理由的。</p><p id="ae9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，ML模型代码中的一个错误不会导致整个应用程序崩溃。您将有机会优雅地处理错误，并仍然设法为您的用户提供可靠的服务。</p><p id="2a3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，正如我们之前所说的，运行单独的推理服务允许我们为ML模型选择最佳的硬件，并适当地扩展它。需要GPU加速器吗？您需要垂直或水平扩展服务器吗？使用这种方法，您可以根据需要任意扩展服务，而不会影响应用程序的其他部分。</p><p id="d911" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，这种方法提供了灵活性。您的模型现在已经成为一个独特的web服务。因此，您可以在多个应用程序、部分应用程序中重用它，甚至向公众开放它。你可以围绕它建立一个API，并将其商业化，就像OpenAPI一样。</p><h1 id="31a9" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">黑暗面</h1><p id="0bac" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">MaaS方法最突出的缺点是它给系统增加了更多的延迟。当您的服务器与您的模型交互时，它必须通过网络发出请求。这会增加延迟，您应该衡量它对应用程序的影响。</p><p id="2429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，这种方法增加了基础设施的复杂性，因为您现在必须设计、运行和维护不同的服务。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/f0c9c19a465c993511062b8398bd1507.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3mjSwJ2_4sTSVofZ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">马丁·鲍登在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="a996" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">结论</h1><p id="fa12" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">这个故事考察了第三种架构范式，它可以帮助我们设计和实现一个ML应用程序。模型即服务方法是大多数ML支持的产品的最佳选择，这是有充分理由的。</p><p id="22f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他方法的缺点太明显了。您需要能够独立地扩展您的模型，并且您需要它们足够灵活来处理请求中的任何类型的数据。</p><p id="1a63" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的故事中，我们将看到如何使用KServe在Kubernetes集群上运行真正的、生产就绪的推理服务。</p><h1 id="200e" class="mw mx it bd my mz na nb nc nd ne nf ng jz nh ka ni kc nj kd nk kf nl kg nm nn bi translated">关于作者</h1><p id="19c1" class="pw-post-body-paragraph kz la it lb b lc no ju le lf np jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">我叫<a class="ae ky" href="https://www.dimpo.me/?utm_source=medium&amp;utm_medium=article&amp;utm_campaign=model-as-a-service" rel="noopener ugc nofollow" target="_blank">迪米特里斯·波罗普洛斯</a>，我是一名为<a class="ae ky" href="https://www.arrikto.com/" rel="noopener ugc nofollow" target="_blank">阿里克托</a>工作的机器学习工程师。我曾为欧洲委员会、欧盟统计局、国际货币基金组织、欧洲央行、经合组织和宜家等主要客户设计和实施过人工智能和软件解决方案。</p><p id="62b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣阅读更多关于机器学习、深度学习、数据科学和数据运算的帖子，请关注我的<a class="ae ky" href="https://towardsdatascience.com/medium.com/@dpoulopoulos/follow" rel="noopener" target="_blank"> Medium </a>、<a class="ae ky" href="https://www.linkedin.com/in/dpoulopoulos/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或Twitter上的<a class="ae ky" href="https://twitter.com/james2pl" rel="noopener ugc nofollow" target="_blank"> @james2pl </a>。</p><p id="dcde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所表达的观点仅代表我个人，并不代表我的雇主的观点或意见。</p></div></div>    
</body>
</html>