<html>
<head>
<title>How to Handle Missing Data in Medical Time Series Studies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">医学时间序列研究中缺失数据的处理</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-handle-missing-data-in-medical-time-series-studies-e23c8e3e6451#2022-06-15">https://towardsdatascience.com/how-to-handle-missing-data-in-medical-time-series-studies-e23c8e3e6451#2022-06-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1323" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">简单有效的方法——专为递归神经网络设计——经受住了广泛的学术评估的考验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6afb48b4f87e3990bd964bd4e909dd16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CKf-GTs_j-kgr72cMFc7Ow.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:pixabay.com</p></figure><blockquote class="ky kz la"><p id="bb26" class="lb lc ld le b lf lg ju lh li lj jx lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le iu">背景</strong></p></blockquote><p id="ee7c" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">大量医疗数据本质上是时间序列数据——心电图、体温监测、血压监测、定期护士体检等等。在这些医学图表的趋势、模式、峰值和谷值中，蕴藏着大量有价值的信息，等待被发现。医疗行业需要对医疗时间序列数据进行有效分析，这被认为是提高医疗质量、优化资源利用和降低整体医疗成本的关键。</p><p id="4ccd" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">医学时间序列分析的一种有前途的形式是通过递归神经网络(RNN)。近年来，RNN因其建模能力和消费可变长度输入序列的能力而受到医学研究人员的欢迎。研究人员通常将时间序列数据分成均匀的时间步长，如1小时/时间步长或1天/时间步长。一个时间步长内的所有数据点将通过平均或其他聚合方案进行聚合。这有两个好处。首先，它减少了时间序列数据序列的长度。第二，考虑到原始原始数据点通常在时间上间隔不规则的事实，它归一化了时间上下文。经过这一预处理步骤后，数据基本上可以供RNN使用了。<strong class="le iu">但是有一个没有答案的问题:如果在一个给定的时间步长内没有数据会怎样？</strong></p><p id="98eb" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">上述问题在医疗环境中很重要，因为缺失的医疗数据通常不是随机缺失的。数据的缺失本身具有临床意义。例如，医院工作人员可能会停止测量被认为已经稳定的病人的体温。或者，患者的情况可能需要一种不同的测量方法来取代以前的测量方法。因此，通常的零填充或插补方法往往会产生次优的性能。</p><p id="e789" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">在这篇博文中，我们将回顾3种简单的方法来处理RNN时间序列研究中缺失的医学数据。后一种方法建立在前一种方法的基础上，具有更高的复杂性。因此，强烈建议按照出现的顺序阅读。</p><blockquote class="ky kz la"><p id="fb2c" class="lb lc ld le b lf lg ju lh li lj jx lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le iu">简单缺失编码</strong></p></blockquote><p id="9f0e" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">让我们假设每个时间步的输入变量是带有下标<code class="fe mb mc md me b">t</code>的<code class="fe mb mc md me b">x</code>。变量有<code class="fe mb mc md me b">d</code>维度，用上标<code class="fe mb mc md me b">d</code>表示。图1 (a)显示了输入的图解，并对<code class="fe mb mc md me b">d=1</code>进行了简化。深色阴影部分是缺少的数据。我们应用向前插补，用它们最近的观察值来填充它们。向前插补是有意义的，因为一旦医院工作人员认为指标稳定，他们通常会停止进一步测量，在这种情况下，最近观察到的值可以作为未来实际值的替代值结转。</p><p id="67cf" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">由这篇<a class="ae mf" href="https://arxiv.org/abs/1606.04130" rel="noopener ugc nofollow" target="_blank">研究论文</a>提出的简单缺失编码方法建议，我们应该显式编码给定数据点实际上是估算的而不是实际观察到的。这种显式编码向RNN提供信号，以考虑数据的缺失。图1 (b)中显示了一个示例，其中<code class="fe mb mc md me b">m</code>表示缺少<code class="fe mb mc md me b">x</code>，其中<code class="fe mb mc md me b">1</code>表示存在，<code class="fe mb mc md me b">0</code>表示不存在(如公式1中所定义)。输入是<code class="fe mb mc md me b">x</code>和<code class="fe mb mc md me b">m</code>的串联。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/f0069f28bda4c5983aef368d23708582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*943EBAGLqLNXgITGb3i4nA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:编码缺失。深色是缺少值的地方，因此必须进行估算。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/18f14e7d1ce3677271a1650478ea1150.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*0X05acRtt2-cmSWkEA-kPw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">公式1:思念。</p></figure><p id="2745" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">这种方法在那篇研究论文中提出的实验中产生了有意义的改进。您的里程可能因数据集而异。但是这是一个非常简单直观的想法，值得一试。</p><blockquote class="ky kz la"><p id="d039" class="lb lc ld le b lf lg ju lh li lj jx lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le iu">时间距离编码</strong></p></blockquote><p id="77bb" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">为了构建上述方法，<a class="ae mf" href="https://www.nature.com/articles/s41598-018-24271-9" rel="noopener ugc nofollow" target="_blank">本文</a>提出，除了对缺失进行显式编码之外，还要对一个值与最近观测值之间的时间距离进行显式编码。现在，输入是所有三个值编码的串联，即输入<code class="fe mb mc md me b">x</code>、缺失信号<code class="fe mb mc md me b">m</code>和时间距离值<code class="fe mb mc md me b">δ</code>。请参见公式2和图2中的图示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/7f63198ffc67ed42572f563347e34ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*pbKzhe1Y8mY5cch0mi4FAg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">公式2:时间距离。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/bd6fa4f788a2866bd0bd7689cb248155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JyD51hF1_xia_aKclbbUaA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:编码缺失和时间距离。深色是缺少值的地方，因此必须进行估算。</p></figure><p id="7a53" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">实验表明，该方法在丢失率显式编码的基础上有了很大的提高。</p><blockquote class="ky kz la"><p id="3761" class="lb lc ld le b lf lg ju lh li lj jx lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le iu">引入衰变</strong></p></blockquote><p id="048e" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">为了再次建立在上述方法的基础上，<a class="ae mf" href="https://www.nature.com/articles/s41598-018-24271-9" rel="noopener ugc nofollow" target="_blank">同一篇论文</a>提出了估算值的衰减机制。回想一下，我们应用了向前插补来结转最近观察到的值。但是如果失踪期延长了呢？我们应该无限期地沿用那些旧的观察值吗？如果我们想一想真实世界的场景:医院工作人员停止跟踪一个指标，因为他们认为它是稳定的。该指标值可能仍在正常范围的远端，但相信它最终会回到一个良好的中间值。这意味着，在没有观察到的数据的情况下，我们有很好的理由相信当前的度量值将徘徊一段时间，但最终会“衰减”回良好的医疗默认值。</p><p id="f898" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">衰减因子<code class="fe mb mc md me b">γ</code>由权重矩阵<code class="fe mb mc md me b">W</code>和偏差<code class="fe mb mc md me b">b</code>确定，应用于时间距离<code class="fe mb mc md me b">δ</code>(见公式3)，然后馈送到在<code class="fe mb mc md me b">1</code>结束的反向<code class="fe mb mc md me b">exp</code>函数。<code class="fe mb mc md me b">W</code>和<code class="fe mb mc md me b">b</code>跨时间步长共享，并在培训期间共同学习。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/897780afd40c383de8123161f62c933e.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*ktT8yXlm3bvizJefwEoAXA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">公式3:衰变因子。</p></figure><p id="4354" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">形式上，在任何给定的时间步<code class="fe mb mc md me b">t</code>，如果观察到<code class="fe mb mc md me b">x</code>，我们使用<code class="fe mb mc md me b">x</code>。否则，我们使用最后一次在<code class="fe mb mc md me b">t’</code>观察到的值，衰减到<code class="fe mb mc md me b">x</code>的经验平均值。RNN的最终输入见公式4。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/33f7c6a0a97800b2b5e93046b441abb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*Wu6B1yVTGaWFE2Py2_lq_w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">公式4:对RNN的最终投入。</p></figure><p id="6642" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">该论文还将类似的衰减机制应用于他们的RNN模型的隐藏状态，这产生了最好的结果。但是因为我们正在讨论RNN输入的原始数据的处理，我们不会深入讨论这个问题。</p><blockquote class="ky kz la"><p id="3287" class="lb lc ld le b lf lg ju lh li lj jx lk ll lm ln lo lp lq lr ls lt lu lv lw lx im bi translated"><strong class="le iu">结论</strong></p></blockquote><p id="87bf" class="pw-post-body-paragraph lb lc it le b lf lg ju lh li lj jx lk ly lm ln lo lz lq lr ls ma lu lv lw lx im bi translated">在这篇博文中，我们介绍了医学时间序列数据研究的背景。我们提出了3种为RNNs设计的简单方法，旨在明确编码缺失数据的临床意义作为模型的输入，根据提出的论文，这可以产生更好的结果。希望这是一篇快速阅读的文章，它能为你自己的分析项目带来一些好的想法。</p></div></div>    
</body>
</html>