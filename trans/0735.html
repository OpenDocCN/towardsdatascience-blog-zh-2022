<html>
<head>
<title>Shift Cipher in Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据流中的移位密码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/shift-cipher-in-streamlit-525225667237#2022-03-01">https://towardsdatascience.com/shift-cipher-in-streamlit-525225667237#2022-03-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="85e3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">如何快速构建和部署用 Python 编写的可共享 web 应用程序</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/81fcce9c68558efb288922a1c0875f1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V_JDvbuLa8KaZMV1"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">马库斯·温克勒在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="f2fa" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">概观</h1><p id="9432" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">你有没有想过向不懂 Python 的人炫耀自己的 Python 代码？你有没有希望自己可以不用处理前端开发就能分享互动应用？</p><p id="b6c4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最近，我在玩 La Famiglia 时发现自己也处于这种情况，这实际上是一个棋盘游戏形式的密室。其中一个谜语涉及移位密码。线索中的每个字母都必须移动一定的数字。例如，将字母“A”移动一位会得到字母“B”。请看下面的插图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/8e9a2f00ec95ccc693610e537288c265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DOPbidWF7KdpjnwQGAOQ1g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">移位密码的例子。图片作者。</p></figure><p id="f12d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">不幸的是，我们的线索并不容易。我们必须将每个字母移动 19。手动计算字母表是一件麻烦的事，也很容易出错。Python 可以立即无误地处理这项任务。</p><p id="5647" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我决定用 Streamlit 构建和部署一个用户友好的应用程序，而不是忍受这样一个容易自动化的任务。由于 Streamlit 处理前端，<strong class="lq ir">建造</strong> <strong class="lq ir">一个工作原型用了不到 30 分钟。</strong> Python 处理所有后端，Streamlit Cloud 允许共享。以下是成品的链接:</p><p id="4de3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><a class="ae kv" href="https://share.streamlit.io/katyhagerty/shift_cipher/main/shift_cipher.py" rel="noopener ugc nofollow" target="_blank">streamlit _ shift _ cipher _ app</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/45d7936b68b7d6bfc2eab00d560eda8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jzsXLjCdSdLEMFen_GGwrA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">最终产品。图片作者。</p></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="73b4" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">什么是 Streamlit？🔍</h1><p id="3c90" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Streamlit 是一个 Python 库，可以将 Python 脚本快速转换为可共享的基于 web 的应用程序。Streamlit 处理所有前端，因此不需要 web 开发经验。仅依靠 Python，Streamlit 允许用户在很短的时间内构建应用程序，并继续积累数据科学家的追随者。此外，Streamlit 提供了广泛的小部件和直观的命令选择。</p><p id="29b0" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Streamlit 最棒的地方在于它可以非常轻松地分享应用程序。Streamlit Cloud 允许您免费部署、管理和共享应用程序。用户不必下载项目目录。他们甚至不需要 Python。他们只需要一个网络浏览器和一个链接。与此同时，应用程序经理可以将 GitHub 配置文件链接到 Streamlit Cloud，这样对代码的任何编辑都会自动更新。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="038b" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">先决条件🔑</h1><p id="7d17" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">本文涵盖了 Streamlit 对象和命令。它假设读者熟悉 Python 对象，如字符串、字典和函数。</p></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="5036" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">密码📚</h1><p id="b369" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个应用的 GitHub Repo 可以在<a class="ae kv" href="https://github.com/katyhagerty/shift_cipher" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="06cb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">首先，要安装 Streamlit，请在终端中运行以下命令。<strong class="lq ir">Streamlit 云中已完成的应用不需要安装 Streamlit </strong>。由于这些应用程序是基于网络的，它们只需一个浏览器就能工作。但是，编辑和构建自定义的 Streamlit 应用程序需要安装 Streamlit 库。</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="b707" class="ni kx iq ne b gy nj nk l nl nm">pip install streamlit</span></pre><h2 id="f68d" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">库、文本和小部件</h2><p id="2caa" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">首先，导入库。<code class="fe ny nz oa ne b">streamlit</code>为应用程序提供基础，<code class="fe ny nz oa ne b">string</code>填充用于解码字符的字典。</p><p id="a3ed" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ny nz oa ne b">st.title</code>、<code class="fe ny nz oa ne b">st.write</code>、<code class="fe ny nz oa ne b">st.header</code>在 app 中显示文字。<code class="fe ny nz oa ne b">phrase</code>允许用户输入任何文本。<code class="fe ny nz oa ne b">shift_dir</code>创建班次方向的下拉菜单。最后，<code class="fe ny nz oa ne b">shift_no</code>接受一个表示短语中每个字母需要移动多少位置的数字。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="2a2c" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">功能</h2><p id="c90b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">第一个函数<code class="fe ny nz oa ne b">create_dict</code>创建两个字典。<code class="fe ny nz oa ne b">letter_to_no</code>将字母表中的每个字母分配给其对应的从零开始的索引。<code class="fe ny nz oa ne b">no_to_letter</code>反其道而行之。当给定一个索引号时，它返回一个字母。</p><p id="771e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ny nz oa ne b">st.cache</code>是一个装饰器，它通过将结果存储在缓存中来加速应用程序。在重新运行函数之前，它会检查输入、外部变量、函数体或任何引用函数体是否发生了变化。如果没有任何变化，它将不会在后续运行中重新运行该功能。</p><p id="5d6b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ny nz oa ne b">create_dict</code>循环遍历<code class="fe ny nz oa ne b">string.ascii_lowercase</code>中的每个字母，这是字母表中所有字母的列表。<code class="fe ny nz oa ne b">enumerate</code>是一个内置函数，它计算遍历一个可迭代对象的次数。它从 iterable 返回计数和值。两本词典都是从 0 开始的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><p id="253c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ny nz oa ne b">shift</code>有三个输入— <code class="fe ny nz oa ne b">phrase</code>、<code class="fe ny nz oa ne b">shift_no</code>和<code class="fe ny nz oa ne b">shift_dir</code>。像以前一样，<code class="fe ny nz oa ne b">st.cache</code>阻止应用程序不必要的运行。该函数获取短语中的每个字母字符，并按照<code class="fe ny nz oa ne b">shift_dir</code>和<code class="fe ny nz oa ne b">shift_no</code>的描述找到它的对应字符。该函数循环遍历每个字符<code class="fe ny nz oa ne b">i</code>，并检查一些东西。首先，它检查<code class="fe ny nz oa ne b">i</code>是否大写，并将该信息存储在<code class="fe ny nz oa ne b">upper_case</code>中。由于<code class="fe ny nz oa ne b">letter_to_no</code>和<code class="fe ny nz oa ne b">no_to_letter</code>字典使用小写字母，<code class="fe ny nz oa ne b">line 10</code>将<code class="fe ny nz oa ne b">i</code>转换为小写。如果<code class="fe ny nz oa ne b">i</code>是一个字母字符，那么<code class="fe ny nz oa ne b">letter_to_no</code>返回其索引或<code class="fe ny nz oa ne b">ind</code>。例如，“a”的索引为 0，“z”的索引为 25。如果<code class="fe ny nz oa ne b">shift_dir</code>是“前进”，那么<code class="fe ny nz oa ne b">shift_no</code>被加到<code class="fe ny nz oa ne b">ind</code>上。否则，它被减去。</p><p id="a262" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><code class="fe ny nz oa ne b">no_to_letter</code>有从 0 到 25 的按键。但是，<code class="fe ny nz oa ne b">shift_ind</code>可能小于 0 也可能大于 25。考虑下面的例子:</p><pre class="kg kh ki kj gt nd ne nf ng aw nh bi"><span id="99e6" class="ni kx iq ne b gy nj nk l nl nm">ind = letter_to_no["z"]       # ind = 25<br/>shift_no = 2<br/>shift_ind = ind + shift_no    # shift_ind = 27</span></pre><p id="f1bb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">mod 运算符<code class="fe ny nz oa ne b">%</code>通过除法然后返回余数来解决这个问题。对于上面的例子，<code class="fe ny nz oa ne b">shift_ind % 26 = 1</code>。</p><p id="53e2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果<code class="fe ny nz oa ne b">i</code>不是 alpha 字符，那么<code class="fe ny nz oa ne b">i</code>被添加到<code class="fe ny nz oa ne b">answer</code>中，不做任何处理。如果<code class="fe ny nz oa ne b">i</code>是大写的，那么<code class="fe ny nz oa ne b">line 27</code>会在将<code class="fe ny nz oa ne b">sub</code>附加到<code class="fe ny nz oa ne b">answer</code>之前将其大写。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="11a4" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">输出</h2><p id="ca94" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><code class="fe ny nz oa ne b">Line 3</code>使用文本对象<code class="fe ny nz oa ne b">st.write</code>显示用<code class="fe ny nz oa ne b">shift</code>找到的解码短语。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob oc l"/></div></figure><h2 id="555b" class="ni kx iq bd ky nn no dn lc np nq dp lg lx nr ns li mb nt nu lk mf nv nw lm nx bi translated">利用 Streamlit 云部署</h2><p id="4081" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">使用 Streamlit Cloud 部署应用只需不到 5 分钟。首先，我在这里创建了一个 Streamlit 云账户<a class="ae kv" href="https://share.streamlit.io/" rel="noopener ugc nofollow" target="_blank">。接下来，我将我的 GitHub 个人资料链接到我的 Streamlit Cloud 帐户。这样做允许 Streamlit Cloud 填充下拉菜单，以便我可以轻松选择要部署的应用程序。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/afd8c5d01dc21f605ca9d4d2a9091db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fErBbOdU32KvVbpwaP1sDg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">请注意下拉菜单以简化部署。图片作者。</p></figure></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h1 id="4182" class="kw kx iq bd ky kz my lb lc ld mz lf lg jw na jx li jz nb ka lk kc nc kd lm ln bi translated">结论👏</h1><p id="e7f3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">多亏了 Streamlit，你可以很容易地解码线索，甚至用 backwards 选项编写自己的隐藏消息。希望本教程展示了 Streamlit 所能提供的一切——简单性、可共享性以及最重要的速度。</p><p id="642b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">感谢您阅读我的文章。如果您喜欢我的内容，<em class="oe">请考虑关注我</em>。还有，你可以通过订阅 Medium 来支持我和其他作家。使用我下面的推荐链接不会额外花费你。</p><p id="02f8" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">欢迎所有反馈。我总是渴望学习新的或更好的做事方法。请随时留下您的评论或联系我 katyhagerty19@gmail.com。</p><div class="of og gp gr oh oi"><a href="https://medium.com/@katyhagerty19/membership" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">加入我的介绍链接媒体-凯蒂哈格蒂</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">medium.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow kp oi"/></div></div></a></div></div></div>    
</body>
</html>