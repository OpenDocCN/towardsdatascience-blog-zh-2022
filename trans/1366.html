<html>
<head>
<title>Why Are You Failing Your SQL Interviews?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你为什么没有通过SQL面试？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-are-you-failing-your-sql-interviews-3afe6c32ac2d#2022-04-05">https://towardsdatascience.com/why-are-you-failing-your-sql-interviews-3afe6c32ac2d#2022-04-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/c726b972997d79c32f39d6d2151cff78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yf3UfG-KgKGqZvVz"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae jg" href="https://unsplash.com/@neonbrand?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> NeONBRAND </a>拍摄的照片</p></figure><div class=""/><div class=""><h2 id="c58e" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">避免这5个常见错误</h2></div><p id="cc57" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着数据素养越来越重要，我们将会看到越来越多的数据科学以外的职位的SQL面试。不幸的是，<strong class="la jk">这些面试可能会令人生畏、棘手、艰难</strong>——尤其是如果你是第一次学习SQL的话。</p><p id="06e6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">根据我做数百次SQL访谈的经验，本文涵盖了我见过的5个最常见的错误。虽然有些似乎显而易见，但我已经采访了足够多来自不同背景的候选人，我认为每个人都值得单独讨论。我相信任何一个有扎实的SQL基础并且能够避免这5个错误的候选人都可以通过任何SQL面试。</p><h1 id="f822" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">什么是“SQL面试”？</h1><p id="9b87" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">虽然“SQL面试”可能有不同的定义，但一般来说，这是一个持续30分钟到1小时的<strong class="la jk">面试，主要目的是编写SQL代码，从数据库中查询数据</strong>。像<em class="mr">“上个月优步司机的平均星级为4.70+的百分比是多少”</em>或<em class="mr">“芝加哥哪10家商店的Yelp五星评级最高？”</em>常见。</p><p id="7183" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然我见过许多人轻松通过这些面试，但我也采访过许多在面试中苦苦挣扎的求职者。虽然小错误看起来微不足道，但它们可能最终成为候选人是否继续前进的决定性因素。</p><h1 id="c768" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">错误1:没有时间意识</h1><p id="1546" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">这是目前为止候选人遇到的最常见的错误。你可以把SQL面试想象成一次考试，有两个很大的区别。</p><p id="88f6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在考试中，你通常会把所有的问题都列在前面。这意味着你可以在考试开始时花几分钟来了解你可能如何分配你的时间，这可能会影响你如何回答某些问题或跳过问题以获得尽可能好的分数。</p><p id="c013" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在SQL面试中，区别在于:</p><ol class=""><li id="b5f5" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt mx my mz na bi translated">只有面试官会知道问题，他们会一一揭晓</li><li id="6bf4" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt mx my mz na bi translated">没有蹦蹦跳跳</li></ol><p id="5172" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这使得时间变得尤为重要——因为你真的不知道会有多少问题，定步调可能很困难。我面试过许多看起来有望通过面试的候选人，但最终失败了，因为他们无法通过整个面试。</p><p id="29fd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">虽然这个错误可能是最难解决的，但是一个可以帮助你节省宝贵时间的通用规则是认识到<strong class="la jk">越简单的查询越好。</strong>更复杂的答案不仅需要更长的打字时间，而且面试官解释和评估的时间也更长。例如，如果我们想回答<em class="mr">“芝加哥哪10家商店拥有最多的Yelp五星评级？”有两种方法可以做到这一点，两种方法都会得到相同的分数，尽管第二个答案要花3倍的时间来写。</em></p><p id="ae80" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">更简单+更好:</strong></p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="0395" class="np lv jj nl b gy nq nr l ns nt">SELECT <br/>store_id,<br/>SUM(CASE WHEN rating = 5 then 1 else 0 end) n_5star <br/>FROM ratings_db<br/>WHERE market = 'Chicago'<br/>GROUP BY 1<br/>ORDER BY 2 DESC<br/>LIMIT 10</span></pre><p id="ca9b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">更复杂，可能会让面试官感到困惑:</strong></p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="38c7" class="np lv jj nl b gy nq nr l ns nt">WITH temp_table as (<br/>SELECT <br/>rating_id,<br/>store_id,<br/>rating<br/>FROM ratings_db<br/>WHERE market = 'Chicago'<br/>AND rating = 5<br/>)</span><span id="b9b0" class="np lv jj nl b gy nu nr l ns nt">temp2 as (<br/>SELECT <br/>store_id,<br/>count(*) n_5star,<br/>DENSE_RANK() OVER(ORDER BY n_5star DESC) rk<br/>FROM temp_table<br/>)</span><span id="e83a" class="np lv jj nl b gy nu nr l ns nt">SELECT<br/>store_id<br/>FROM temp2<br/>WHERE rk &lt;= 10</span></pre><h1 id="c457" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">错误2:没有事先澄清问题</h1><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nv"><img src="../Images/f77056359f81b11569e4d0a72dec18d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GvRkwYjRep129RjK"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@loveneora?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Neora Aylon </a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3f6b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你对被问到的问题不是100%清楚，你需要做的第一件事就是要求面试官澄清。面试官希望你成功，应该随时愿意帮助进一步澄清问题。</p><p id="a4dd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了了解为什么这个错误会代价高昂——假设你不太确定问题是什么，但你还是开始回答了。你可能会在面试官理解之前花几分钟回答错误的问题，这意味着之后你可能不得不从头开始。</p><h1 id="d301" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">错误3:不知道如何处理时间戳</h1><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nw"><img src="../Images/8c8da4f71233185b234943e249c36069.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*lamxfMWntA0-kATe"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">卢卡斯·布拉塞克在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="989a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">不同的公司使用不同的指标。但是，<strong class="la jk">所有公司都用时间戳</strong>。因此，了解如何处理时间戳对你面试的任何公司都是相关的。</p><p id="69b5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">参加面试时，了解与时间戳相关的基础知识总是一个好主意:</p><ul class=""><li id="26bb" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt nx my mz na bi translated"><strong class="la jk">如何获取当前时间戳:</strong>这对于过滤类似于<em class="mr">“最近30天”</em>或<em class="mr">“昨天”</em>的内容很有用。<code class="fe ny nz oa nl b">current_date</code>或<code class="fe ny nz oa nl b">current_timestamp</code>应该就是你所需要的。</li><li id="b76c" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt nx my mz na bi translated"><strong class="la jk">加减时间戳:</strong> <code class="fe ny nz oa nl b">timestampdiff</code>是确定两个时间戳之间经过时间最清晰的方法。例如，<code class="fe ny nz oa nl b">timestampdiff(seconds, ts1, ts2).</code>使用一个简单的减号可能有点含糊<em class="mr">(结果是秒吗？分钟？毫秒？)</em></li><li id="1f66" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt nx my mz na bi translated"><strong class="la jk">比较时间戳:</strong>类似于数字，可以用<code class="fe ny nz oa nl b">&lt;</code>和<code class="fe ny nz oa nl b">&gt;</code>来比较时间戳。如果时间戳更大，那么它就更近(即2021 &lt; 2022)</li><li id="3eca" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt nx my mz na bi translated"><strong class="la jk">提取组件:</strong> <code class="fe ny nz oa nl b">YYYY-MM-DD HH:MM:SS</code> <code class="fe ny nz oa nl b">2022-01-01 23:59:59</code>是标准的时间戳格式。要知道，你也可以提取或截断时间戳来关注相关的时间单位(例如，对于一个小时，你可以做<code class="fe ny nz oa nl b">DATE_TRUNC(hour, ts)</code>或使用<code class="fe ny nz oa nl b">HOUR(ts)</code>)</li></ul><h1 id="772f" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">错误4:使用错误的连接</h1><p id="3a92" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">几乎在每一次SQL访问中，都应该有一个问题，你需要连接两个或更多的数据集。几乎总是，你在决定使用<code class="fe ny nz oa nl b">LEFT JOIN</code>还是<code class="fe ny nz oa nl b">INNER JOIN</code>。</p><p id="c014" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有时，连接会给你相同的答案——然而也有一些时候<strong class="la jk">面试官在寻找一种特定类型的连接来回答问题</strong>。如果我们再把SQL面试看作一次考试，使用错误的连接意味着你会被扣分——我已经在几次面试中看到这是决定性的因素。</p><p id="8f64" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在进行联接之前，您应该考虑内部联接是否会产生与左联接不同的结果。如果结果不同，那么确保你使用的是正确的。如果你不确定，你可以随时向面试官询问更多的上下文<em class="mr">(例如，内连接会丢失数据，而左连接会保留更多的数据，我们对哪一个感兴趣？)</em></p><h1 id="5b97" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">错误5:语法和格式错误</h1><p id="c571" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">最后，如果你是一个边缘候选人，你要避免可能让你脆弱的小错误。以下是一些我见过的求职者纠结的语法问题:</p><ul class=""><li id="9aee" class="ms mt jj la b lb lc le lf lh mu ll mv lp mw lt nx my mz na bi translated"><strong class="la jk">运算符之间的顺序错误:</strong>而不是<code class="fe ny nz oa nl b">between 0 and 1</code>，他们可能会键入<code class="fe ny nz oa nl b">between 1 and 0</code>。</li><li id="7fe4" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt nx my mz na bi translated"><strong class="la jk">不缩进。</strong>我见过一些应聘者在一行字里输入他们的全部答案。这使得作为一名面试官很难评估代码，我将不得不花更多的时间来检查他们的代码。</li><li id="d078" class="ms mt jj la b lb nb le nc lh nd ll ne lp nf lt nx my mz na bi translated"><strong class="la jk">不用化名。</strong>特别是对于连接表的问题，如果你不为表取别名，你可能要花很多时间一遍又一遍地写表名:</li></ul><p id="1c99" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">不推荐:</strong></p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="acc3" class="np lv jj nl b gy nq nr l ns nt">SELECT<br/>rides_database.ride_id,<br/>driver_database.first_name,<br/>driver_database.email<br/>FROM rides_database <br/>JOIN driver_database<br/>ON rides_database.driver_id = driver_database.driver_id</span></pre><p id="438e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">改为:</strong></p><pre class="ng nh ni nj gt nk nl nm nn aw no bi"><span id="3b44" class="np lv jj nl b gy nq nr l ns nt">SELECT<br/>r.ride_id,<br/>d.first_name,<br/>d.email<br/>FROM rides_database r<br/>JOIN driver_database d<br/>ON r.driver_id = d.driver_id</span></pre><h1 id="56d1" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">总结想法</h1><p id="5670" class="pw-post-body-paragraph ky kz jj la b lb mm kk ld le mn kn lg lh mo lj lk ll mp ln lo lp mq lr ls lt im bi translated">如果这篇文章能让你学到什么，那就是避免每一个错误都会增加你通过考试的机会。面试令人伤脑筋，我发现做好准备有助于缓解这种情况。希望我上面列出的五个错误是你在接下来的面试中能记住的！</p></div></div>    
</body>
</html>