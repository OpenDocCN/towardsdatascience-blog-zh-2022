<html>
<head>
<title>Make Dataframes Interactive in Streamlit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在 Streamlit 中使数据框架具有交互性</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/make-dataframes-interactive-in-streamlit-c3d0c4f84ccb#2022-03-29">https://towardsdatascience.com/make-dataframes-interactive-in-streamlit-c3d0c4f84ccb#2022-03-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4bb6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用 Streamlit-Aggrid 在 Streamlit 中显示漂亮的交互式表格</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/ea950b01f0f7e0f40ec7cd68fdc058e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DqXkJXJC-wVwh8nsA-ZjqA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://pixabay.com/illustrations/alphabet-letter-initial-background-2051722/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>提供(作者修改)</p></figure><p id="5196" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用 Streamlit 构建数据应用程序时，有时您可能需要在应用程序中将数据框显示为表格。Streamlit 自带数据显示元素，可以使用<code class="fe lv lw lx ly b">st.write()</code>、<code class="fe lv lw lx ly b">st.dataframe()</code>或<code class="fe lv lw lx ly b">st.table()</code>方便地显示表格数据。</p><p id="a8a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些方法的一个缺点是应用程序中显示的表格看起来简单而静态。您可以上下或左右滚动来查看数据，甚至可以使用<code class="fe lv lw lx ly b">pandas.Styler</code>和<code class="fe lv lw lx ly b">st.dataframe()</code>来在某种程度上改变呈现的数据帧的样式，但就样式化表格并使其具有交互性而言，您能做的也就这么多了。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/dbd8998eacca6ffc24fb26604c9df5b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0Wf7-dxi3FurxJ3QPHbQA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用 st.write()显示的数据帧(图片由作者提供)</p></figure><p id="1b91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我想和你分享一个很棒的 Streamlit 定制组件<code class="fe lv lw lx ly b">streamlit-aggrid</code>，它是建立在<a class="ae ky" href="https://www.ag-grid.com/javascript-data-grid/" rel="noopener ugc nofollow" target="_blank"> AG 网格</a> ( <em class="ma">不可知网格</em>)之上的。您可以使用<code class="fe lv lw lx ly b">streamlit-aggrid</code>在 Streamlit 中将 pandas 数据帧显示为可编辑的交互式表格。您可以像在 Excel 中一样编辑、排序和过滤表格。您还可以选择或多选数据框中的行，并将所选数据传递给应用程序中的另一个组件，例如，图表、地图、另一个表格等。</p><p id="e5a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe lv lw lx ly b">streamlit-aggrid</code>有许多奇妙的特性，可以在数据帧上执行各种各样的交互活动。在这篇文章中，我将主要关注以下功能:</p><ul class=""><li id="f736" class="mb mc it lb b lc ld lf lg li md lm me lq mf lu mg mh mi mj bi translated">给你的桌子添加一个“主题”</li><li id="ad8f" class="mb mc it lb b lc mk lf ml li mm lm mn lq mo lu mg mh mi mj bi translated">给表格添加分页</li><li id="3cee" class="mb mc it lb b lc mk lf ml li mm lm mn lq mo lu mg mh mi mj bi translated">对表格中的行进行排序、过滤和选择/多选</li><li id="be09" class="mb mc it lb b lc mk lf ml li mm lm mn lq mo lu mg mh mi mj bi translated">将所选数据传递给应用程序中的另一个组件</li></ul><p id="92b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是使用<code class="fe lv lw lx ly b">streamlit-aggrid</code>创建的交互式表格的快速演示。不再拖延，让我们看看它是如何工作的！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mp mq l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的 YouTube 视频</p></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="0288" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在使用<code class="fe lv lw lx ly b">streamlit-aggrid</code>创建交互式表格之前，让我们安装<code class="fe lv lw lx ly b">streamlit-aggrid</code>并将我们的样本数据集导入到 pandas 数据框架中。样本数据集是从美国教育部的<a class="ae ky" href="https://data.ed.gov/dataset/college-scorecard-all-data-files/resources" rel="noopener ugc nofollow" target="_blank">大学记分卡</a>公开数据(许可:<a class="ae ky" href="http://www.opendefinition.org/licenses/cc-by" rel="noopener ugc nofollow" target="_blank">知识共享署名</a>)中创建的。</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="f588" class="nc nd it ly b gy ne nf l ng nh">pip install streamlit-aggrid</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni mq l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lz"><img src="../Images/dbd8998eacca6ffc24fb26604c9df5b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0Wf7-dxi3FurxJ3QPHbQA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="7089" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们已经准备好了样本数据框架，让我们首先使用<code class="fe lv lw lx ly b">streamlit-aggrid</code>创建一个基本的交互式表格。只需一行代码，您的表就已经比前面显示的普通 dataframe 好看多了！</p><pre class="kj kk kl km gt my ly mz na aw nb bi"><span id="c3cc" class="nc nd it ly b gy ne nf l ng nh">AgGrid(df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/f8fec1d3fced73868b2b21575f8d8359.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uCVo_ENT_yy7QXSWjBnpjw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="715f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们使用以下代码向该表添加更多的交互式功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ni mq l"/></div></figure><p id="d12d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第 1–5 行:我们配置了各种<code class="fe lv lw lx ly b">gridOptions</code>特性，包括分页、侧栏和行选择。</p><p id="8e9a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第 7–18 行:我们通过将数据帧名称、<code class="fe lv lw lx ly b">gridOptions</code>、<code class="fe lv lw lx ly b">theme</code>和其他参数传递给<code class="fe lv lw lx ly b">AgGrid()</code>来构建网格。第 10–11 行允许基于行选择更新网格数据，并将其发送回 streamlit。</p><p id="33b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第 20–22 行:如果从网格中选择了任何行，那么所选的数据将被传递到一个中间数据帧中，并且可以被其他组件重用。</p><p id="6bbf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的屏幕记录显示了与表交互的各种方式，例如排序、过滤、分页、选择行以及将选择的数据传递到中间数据帧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/81ce0ef091d4798e93cb64bf8bdef6fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qvX_7gRzHEpqkVgU2_09bg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者 GIF</p></figure><p id="aec0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们可以通过将选择的数据传递到一个叶子地图来使这个练习更有趣。对于任何选定的大学，我们可以立即在地图上显示它们的位置，并在工具提示中显示一些关于这些机构的附加信息。这里你需要做的只是使用中间数据帧(df)作为你的叶子图的输入。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/b152a3f9e4ad43cf550ba63736376e67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Xrp8lqb9fICRNSLQDAFqaA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者 GIF</p></figure><p id="9630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经写了两篇详细的文章，关于如何创建一个带有自定义标记和工具提示的叶子地图，就像上面显示的那样，所以我不会在这篇文章中花时间解释这部分是如何完成的。你可以阅读我的文章<a class="ae ky" rel="noopener" target="_blank" href="/folium-map-how-to-create-a-table-style-pop-up-with-html-code-76903706b88a">在这里</a>了解更多关于叶地图。</p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/folium-map-how-to-create-a-table-style-pop-up-with-html-code-76903706b88a"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">树叶地图:如何用 HTML 代码创建一个表格样式的弹出窗口</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">逐步提高地理空间数据可视化技能的指南</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od ks np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/use-html-in-folium-maps-a-comprehensive-guide-for-data-scientists-3af10baf9190"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">在树叶地图中使用 HTML:数据科学家综合指南</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">逐步了解如何使用 HTML 将动态图像、链接、文本和表格添加到叶子地图弹出窗口</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od ks np"/></div></div></a></div><p id="6ab5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我前面提到的，<code class="fe lv lw lx ly b">streamlit-aggrid</code>有更多的特性可以探索。例如，您可以使单元格可编辑，根据最大/最小值突出显示单元格，使列可分组，等等。你可以查看 streamlit-aggrid 的<a class="ae ky" href="https://github.com/PablocFonseca/streamlit-aggrid" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面来获得更多的例子。</p><p id="89e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，AG-Grid Enterprise 是由 AG-Grid 技术人员提供支持的商业产品，由<a class="ae ky" href="https://www.ag-grid.com/eula/AG-Grid-Enterprise-License-Latest.html" rel="noopener ugc nofollow" target="_blank"> EULA </a>经销。如果要使用企业功能，您需要从 Ag-Grid 购买许可证。价格信息可以在这里找到:<a class="ae ky" href="https://www.ag-grid.com/license-pricing.php" rel="noopener ugc nofollow" target="_blank">https://www.ag-grid.com/license-pricing.php</a></p><p id="a11f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读，我希望你喜欢这篇文章。</p><h1 id="a4f2" class="of nd it bd og oh oi oj ok ol om on oo jz op ka oq kc or kd os kf ot kg ou ov bi translated">参考资料和数据来源:</h1><h2 id="1cf3" class="nc nd it bd og ow ox dn ok oy oz dp oo li pa pb oq lm pc pd os lq pe pf ou pg bi translated">参考:</h2><p id="4f5e" class="pw-post-body-paragraph kz la it lb b lc ph ju le lf pi jx lh li pj lk ll lm pk lo lp lq pl ls lt lu im bi translated">Github 中的 Streamlit-Aggrid 文档页面:<a class="ae ky" href="https://github.com/PablocFonseca/streamlit-aggrid" rel="noopener ugc nofollow" target="_blank">https://github.com/PablocFonseca/streamlit-aggrid</a></p><h2 id="6903" class="nc nd it bd og ow ox dn ok oy oz dp oo li pa pb oq lm pc pd os lq pe pf ou pg bi translated">数据源:</h2><p id="fca1" class="pw-post-body-paragraph kz la it lb b lc ph ju le lf pi jx lh li pj lk ll lm pk lo lp lq pl ls lt lu im bi translated">美国教育部大学记分卡开放数据平台(<a class="ae ky" href="https://data.ed.gov/dataset/college-scorecard-all-data-files/resources" rel="noopener ugc nofollow" target="_blank">https://data . ed . gov/dataset/College-score card-all-data-files/resources</a>)。</p><p id="57f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许可:<a class="ae ky" href="http://www.opendefinition.org/licenses/cc-by" rel="noopener ugc nofollow" target="_blank">知识共享署名</a>。本作品根据知识共享署名许可协议进行许可。</p><p id="3145" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">访问级别:公共</p><p id="85c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">访问网址:<a class="ae ky" href="https://ed-public-download.app.cloud.gov/downloads/CollegeScorecard_Raw_Data_02072022.zip" rel="noopener ugc nofollow" target="_blank">https://ed-public-download . app . cloud . gov/downloads/colleges corecard _ Raw _ Data _ 02072022 . zip</a></p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="8190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以通过这个<a class="ae ky" href="https://medium.com/@insightsbees/membership" rel="noopener">推荐链接</a>注册 Medium 会员(每月 5 美元)来获得我的作品和 Medium 的其他内容。通过这个链接注册，我将收到你的一部分会员费，不需要你额外付费。谢谢大家！</p></div></div>    
</body>
</html>