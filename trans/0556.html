<html>
<head>
<title>How to Count NaN Values of a Pandas DataFrame Column</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何计算熊猫数据帧列的NaN值</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/count-nan-values-pandas-27a50acfc929#2022-02-22">https://towardsdatascience.com/count-nan-values-pandas-27a50acfc929#2022-02-22</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="5284" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">计算pandas DataFrames列中的空值</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/8d48cf43a301d5fbbdedaf32c052769f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f6xuxVAJKNxqUfLPnixMpw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kelly Sikkema </a>在<a class="ae kz" href="https://unsplash.com/s/photos/empty?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="31a2" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="994c" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的短文中，我们将讨论Python和Pandas中一个简单但常见的任务。具体来说，我们将展示在特定的DataFrame列中计算空值的多种方法。更具体地说，我们将讨论如何计数</p><ul class=""><li id="313f" class="mp mq iu ly b lz mr mc ms lj mt ln mu lr mv mo mw mx my mz bi translated"><code class="fe na nb nc nd b">NaN</code>特定列中的值</li><li id="5592" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated"><code class="fe na nb nc nd b">NaN</code>整个数据帧中的值</li><li id="125b" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated"><code class="fe na nb nc nd b">NaN</code>每个单独列中的值</li><li id="4fb0" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated"><code class="fe na nb nc nd b">NaN</code>列子集中的值</li><li id="1a86" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated">所有列中包含<code class="fe na nb nc nd b">NaN</code>值的行</li><li id="5491" class="mp mq iu ly b lz ne mc nf lj ng ln nh lr ni mo mw mx my mz bi translated">特定列中包含<code class="fe na nb nc nd b">NaN</code>值的行</li></ul></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="b466" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">首先，让我们创建一个示例DataFrame，我们将在本教程中引用它，以便理解如何计算空值。</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="a435" class="la lb iu nd b gz nx ny l nz oa">import pandas as pd </span><span id="a81e" class="la lb iu nd b gz ob ny l nz oa"><br/>df = pd.DataFrame(<br/>    [<br/>        (1, 100, None, 'A'),<br/>        (2, None, True, 'B'),<br/>        (3, 150, None, None), <br/>        (4, 100, None, 'B'),<br/>        (5, None, False, 'B'),<br/>        (6, 120, False, 'A'),<br/>        (7, 45, True, 'C'),<br/>    ], <br/>    columns=['colA', 'colB', 'colC', 'colD']<br/>)</span><span id="a01a" class="la lb iu nd b gz ob ny l nz oa">print(df)</span><span id="6f45" class="la lb iu nd b gz ob ny l nz oa"><strong class="nd iv"><em class="oc">   colA   colB   colC  colD<br/>0     1  100.0   None     A<br/>1     2    NaN   True     B<br/>2     3  150.0   None  None<br/>3     4  100.0   None     B<br/>4     5    NaN  False     B<br/>5     6  120.0  False     A<br/>6     7   45.0   True     C</em></strong></span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="2148" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算特定列中的NaN值</h2><p id="229e" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在，为了计算特定列中包含<code class="fe na nb nc nd b">NaN</code>值的行数，您可以使用<code class="fe na nb nc nd b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.Series.isna.html#pandas.Series.isna" rel="noopener ugc nofollow" target="_blank">pandas.Series.isna()</a></code>方法后跟<code class="fe na nb nc nd b">sum()</code>，如下所示:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="4d3e" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df['colB'].isna().sum()</strong><br/>2</span><span id="1b9a" class="la lb iu nd b gz ob ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df['colA'].isna().sum()</strong><br/>0</span></pre><p id="7781" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated">或者，您也可以使用<code class="fe na nb nc nd b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.isnull.html" rel="noopener ugc nofollow" target="_blank">isnull()</a></code>方法:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="c9d5" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df['colB'].isnull().sum()</strong><br/>2</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="f3ab" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算每一列的NaN值</h2><p id="89c0" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在，如果您想要获得每个单独列的缺失值的计数，那么您可以使用后面跟有<code class="fe na nb nc nd b">sum()</code>的<code class="fe na nb nc nd b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.isna.html#pandas.DataFrame.isna" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.isna()</a></code>方法。输出将是一个Series对象，包含原始数据帧中每一列的计数:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="c399" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df.isna().sum()</strong><br/>colA    0<br/>colB    2<br/>colC    3<br/>colD    1<br/>dtype: int64</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="8ca1" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">对列子集中的NaN值进行计数</h2><p id="a654" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">如果只需要原始数据帧中的一部分列的计数，可以执行与上一节相同的操作，但是这次对数据帧进行切片:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="71b5" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df[['colA', 'colD']].isna().sum()<br/></strong>colA    0<br/>colD    1<br/>dtype: int64</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="efd8" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">对指定列中只有NaN值的行进行计数</h2><p id="3635" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">现在，如果您想计算所有指定列中缺少值的行数，可以使用下面的符号。例如，让我们假设我们想要计算在<code class="fe na nb nc nd b">colC</code>和<code class="fe na nb nc nd b">colD</code>中有多少行丢失了值:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="aea1" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df[['colC', 'colD']].isna().all(axis=1).sum()</strong><br/>1</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="5088" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">对每列中只包含NaN值的行进行计数</h2><p id="36e4" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">同样，如果您想计算整个数据帧中每一列只包含缺失值的行数，可以使用下面的表达式。注意，在我们的示例数据帧中，不存在这样的行，因此输出将是0。</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="7527" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df.isnull().all(axis=1).sum()</strong><br/>0</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="8496" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">计算整个数据帧内的NaN值</h2><p id="b96e" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">最后，如果要计算整个数据帧中每一列包含的缺失值的数量，可以使用以下表达式:</p><pre class="kk kl km kn gu nt nd nu nv aw nw bi"><span id="aba2" class="la lb iu nd b gz nx ny l nz oa">&gt;&gt;&gt; <strong class="nd iv">df.isna().sum().sum()</strong><br/>6</span></pre></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><h2 id="78f3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的短文中，我们讨论了使用Pandas数据帧时的一个非常简单但常见的任务，并展示了如何计算特定列或整个数据帧中的空值。</p></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="od oe gq gs of og"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mr jv mb mc ms jy me lj nq mg mh ln nr mj mk lr ns mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/how-to-efficiently-convert-a-pyspark-dataframe-to-pandas-8bda2c3875c3"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">加快PySpark和Pandas数据帧之间的转换</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">将大火花数据帧转换为熊猫时节省时间</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/dynamic-typing-in-python-307f7c22b24e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python中的动态类型</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索Python中对象引用的工作方式</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl nj nk hy nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/mastering-indexing-and-slicing-in-python-443e23457125"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">掌握Python中的索引和切片</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">深入研究有序集合的索引和切片</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ox l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>