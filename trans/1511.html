<html>
<head>
<title>How to Create Web-Friendly Charts with Apache ECharts and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Apache ECharts和Python创建网络友好的图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-create-web-friendly-charts-with-apache-echarts-and-python-402fa7f79791#2022-04-13">https://towardsdatascience.com/how-to-create-web-friendly-charts-with-apache-echarts-and-python-402fa7f79791#2022-04-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="3a15" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">教程-PYTHON-pye charts</h2><div class=""/><div class=""><h2 id="e463" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用PYECHARTS通过Python和JavaScript创建Apache ECharts的分步教程</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/b4116b3fc387f4806bf58e337d418784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yb_1i7nLOt41jlISAF_WKA.jpeg"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">戴维·克洛德在<a class="ae lh" href="https://unsplash.com/s/photos/python?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="1e96" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">介绍</h1><p id="f8f4" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">大家好，我是Gregor，一名顾问和技术书呆子，对数据可视化和数据科学非常感兴趣。我一直在寻找新的更快的方法来显示隐藏在数据中的信息。我经常用<a class="ae lh" href="https://medium.com/towards-data-science/the-flawless-pipes-of-python-pandas-30f3ee4dffc2?source=user_profile---------14-------------------------------" rel="noopener"> Python(熊猫)</a>或者<a class="ae lh" href="https://medium.com/towards-data-science/7-data-wrangling-r-functions-for-your-next-data-science-project-in-under-5-minutes-d5a4ad55f99b?source=user_profile---------5-------------------------------" rel="noopener"> R (Tidyverse) </a>处理数据。</p><p id="023f" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">通常，这种练习的结果是将图形保存为图像，最终以PowerPoint文档的形式呈现给客户。由于这些是静态图像，附加信息以文本形式作为PowerPoint文档的一部分提供。</p><p id="8254" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">最近我发现了Apache ECharts，这是一个使用JavaScript在web上可视化数据的开源工具。使用Apache ECharts而不是Python的matplotlib会给您带来以下好处:</p><ol class=""><li id="6c88" class="nb nc it mc b md mw mg mx mj nd mn ne mr nf mv ng nh ni nj bi translated">内置的交互和自动生成的图表描述</li><li id="d6e1" class="nb nc it mc b md nk mg nl mj nm mn nn mr no mv ng nh ni nj bi translated">网络友好，即在桌面和移动设备上工作</li><li id="cc57" class="nb nc it mc b md nk mg nl mj nm mn nn mr no mv ng nh ni nj bi translated">开箱即用的优雅</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi np"><img src="../Images/da0e162a301efe1121f6f5071bef74a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EBxwS-87Hf994lQ8IIcMFw.gif"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Apache ECharts条形图示例；作者视频</p></figure><p id="da79" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">由于Apache ECharts需要我编写JavaScript，所以我研究了可用的Python APIs。pyecharts是一个Python API，使用Python创建必要的HTML和JavaScript代码。</p><p id="f0bb" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">本文将向您介绍Apache ECharts和pyecharts，这是一个用于创建Apache ECharts的Python库。我还将向您展示如何设置您的设置，并通过两个示例向您展示。</p><h1 id="915d" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">Apache Echarts &amp; PYECHARTS</h1><h2 id="1544" class="nq lj it bd lk nr ns dn lo nt nu dp ls mj nv nw lu mn nx ny lw mr nz oa ly iz bi translated">阿帕奇·埃查尔兹</h2><blockquote class="ob oc od"><p id="44ca" class="ma mb oe mc b md mw kd mf mg mx kg mi of my ml mm og mz mp mq oh na mt mu mv im bi translated">Apache EChartsTM是一个开源的JavaScript可视化工具，可以在PC和移动设备上流畅地运行。它兼容大多数现代网络浏览器，如IE9/10/11、Chrome、Firefox、Safari等。</p></blockquote><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/7c73623155262640333f37d4491c23f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*figzjYihJkcggDiqVd4Hrg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Apache EChart特性— <a class="ae lh" href="https://echarts.apache.org/en/index.html" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><p id="58da" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">换句话说，您可以直接在HTML页面上使用JavaScript对数据可视化进行编程。Apache ECharts提供了必要的库，因此任何访问者的网站浏览器都可以呈现可视化效果。结果是一个动态和交互式的图形(参见上面的视频)。</p><p id="5075" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">Apache ECharts提供了常用的图表类型作为数据可视化库，包括折线图、条形图、地图和树形图。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/c06d86bf29fedefde6a2cf976a848ddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*diLz0_Slrng1692k8bR3cg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">Apache EChart图表类型— <a class="ae lh" href="https://echarts.apache.org/examples/en/index.html" rel="noopener ugc nofollow" target="_blank">链接</a></p></figure><h2 id="79ca" class="nq lj it bd lk nr ns dn lo nt nu dp ls mj nv nw lu mn nx ny lw mr nz oa ly iz bi translated">肾盂造影图</h2><p id="52b1" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">如果您习惯于用R、Python或Julia以编程方式创建可视化，那么用JavaScript编程可能会让您感到害怕。<a class="ae lh" href="https://pyecharts.org/#/en-us/" rel="noopener ugc nofollow" target="_blank"> Pyecharts </a>是一个Python库，允许您为数据可视化创建与Apache EChart兼容的JavaScript文件。这让你不用学习JavaScript，不用呆在你的编程环境里。在pyecharts旁边，有可用于<a class="ae lh" href="https://github.com/cosname/recharts" rel="noopener ugc nofollow" target="_blank"> R </a>和<a class="ae lh" href="https://github.com/randyzwitch/ECharts.jl" rel="noopener ugc nofollow" target="_blank"> Julia </a>的包装器。</p><h1 id="c677" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">设置</h1><p id="5cf0" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在我们开始之前，您需要使用pip安装pyecharts。</p><p id="f67a" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated"><code class="fe oj ok ol om b">pip install pyecharts</code></p><p id="8353" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">对于本教程，我还使用了漂亮的Gapminder数据集。Gapminder的数据是在知识共享署名3.0未授权<a class="ae lh" href="https://cran.r-project.org/web/packages/gapminder/README.html#license" rel="noopener ugc nofollow" target="_blank">许可</a>下发布的。我很乐意参考这些文章来了解更多信息:<a class="ae lh" rel="noopener" target="_blank" href="/7-data-wrangling-python-functions-in-under-5-minutes-a8d9ec7cf34b"> 7个不到5分钟的数据辩论Python函数</a>和<a class="ae lh" href="https://medium.com/towards-data-science/how-to-use-color-palettes-for-your-data-visualization-ac4eaf3de37b" rel="noopener">如何为您的数据可视化使用调色板</a>。</p><h1 id="4005" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">辅导的</h1><p id="a1cb" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">接下来，我们需要导入必要的库。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="2b76" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">在下面的部分中，我用pyechart创建了两个不同的图:条形图和箱线图。</p><h2 id="5368" class="nq lj it bd lk nr ns dn lo nt nu dp ls mj nv nw lu mn nx ny lw mr nz oa ly iz bi translated">条形图</h2><p id="0a6b" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">对于柱状图，我使用熊猫按洲对Gapminder数据进行分组。如果你想知道我是如何构建我的代码的，它被称为<strong class="mc jd">方法链</strong>或管道(在R社区中)。我在我的另一篇文章中解释了<a class="ae lh" rel="noopener" target="_blank" href="/the-flawless-pipes-of-python-pandas-30f3ee4dffc2">基础知识。</a></p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="167a" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">最后，让我们使用创建的数据集创建一个基本的条形图。我们从调用Bar函数开始。我将一些选项传递给了Bar函数，比如宽度和高度。add_xaxis和add_yaxis接收x轴和y轴所需的数据列。在本例中，我在x轴上传递洲信息，在y轴上传递平均人口。Set_global_options设置此图表的标题和副标题。set_series_opts允许添加附加信息。在这种情况下，我为最小和最大平均人口添加标记。最后，render()优雅地呈现必要的JavaScript和相应的HTML文件。如果您使用的是Jupyter笔记本或实验室，请使用函数render_notebook()。这将直接在您的笔记本中渲染情节。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi op"><img src="../Images/7b5369d1da48142c5ad497374fe73aa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L1V2vGJC0t3-QZjeXi8AXg.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">各大洲平均人口；作者图片</p></figure><p id="d07f" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">请注意，不可能将熊猫系列直接传递给pyecharts。相反，您需要将系列转换成列表。这对我有用。如果你知道如何不同地做它，请联系我。</p><h2 id="3380" class="nq lj it bd lk nr ns dn lo nt nu dp ls mj nv nw lu mn nx ny lw mr nz oa ly iz bi translated">箱线图</h2><p id="19f9" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">对于箱线图，我想比较1952年和2007年各大洲的人口。首先，我创建了一个包含所有五大洲的列表。这将作为x轴，并创建包含1952年和2007年人口的列表。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="5534" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">创建所有列表后，我使用Boxplot()函数初始化绘图。使用add_xaxis，我传递大陆列表。接下来，我对每个人口列表使用add_yaxis两次。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="on oo l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oq"><img src="../Images/11a106cfa6e0e1959a35e9c328d6d876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_aNLeF3b1_4Gh6ewHras9Q.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">按洲和年份分列的人口分布；作者图片</p></figure><h1 id="da38" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">结论</h1><p id="533c" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">本文将向您介绍Apache ECharts和pyecharts，这是一个用于创建Apache ECharts的Python库。我还向您展示了如何设置您的系统，并通过两个例子向您展示了这一点。请注意，我只能触及表面。Apache ECharts和pyecharts还有更多的可能性。但是这篇文章可以让你开始。</p><p id="8107" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">Apache ECharts是一个强大的数据可视化库。它的目标是在网络上创建和发布交互式图表。pyecharts帮助Python开发人员在他们最喜欢的编程语言中创建echarts图，这也提高了开发速度。然而，我发现pyecharts并不像我希望的那样完美，尤其是与<a class="ae lh" rel="noopener" target="_blank" href="/data-visualization-in-python-like-in-rs-ggplot2-bc62f8debbf5"> ggplot2 </a>或<a class="ae lh" rel="noopener" target="_blank" href="/how-to-visualize-your-runners-high-with-python-and-altair-45dde7803141"> Altair </a>相比。使用pyecharts，您需要处理列表而不是熊猫系列。它还要求您对数据集进行切片，以便为每个图表创建多个系列。最重要的是，我发现文档有点过时，这阻碍了我进行更多的测试。你怎么想呢?</p><p id="3462" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">如果你想阅读更多关于我的旅程，请考虑关注我，或者如果你不是一个媒体成员，请考虑<a class="ae lh" href="https://gscheithauer.medium.com/membership" rel="noopener">加入这里</a>。非常感谢。</p><p id="894e" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">谢谢你，<br/>格雷果</p><div class="or os gp gr ot ou"><a href="https://gscheithauer.medium.com/membership" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jd gy z fp oz fr fs pa fu fw jc bi translated">通过我的推荐链接加入Medium-Gregor scheit hauer博士</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">gscheithauer.medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi lb ou"/></div></div></a></div></div></div>    
</body>
</html>