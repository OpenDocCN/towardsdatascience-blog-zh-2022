<html>
<head>
<title>Auto ML in Python — An Overview of the MLBox Package</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的自动MLBox包概述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/auto-ml-in-python-an-overview-of-the-mlbox-package-66668c6b1bfb#2022-04-18">https://towardsdatascience.com/auto-ml-in-python-an-overview-of-the-mlbox-package-66668c6b1bfb#2022-04-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="70c9" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解MLBox，针对python中的分类问题快速高效地训练自动化机器学习管道</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d2121d10027b04846cf4e13cd137920c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iXdvINkH1Ionc4UXY2udzQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@spacexuan?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">郭锦恩</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><p id="1086" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天的帖子很特别。它是与Axel De Romblay合作编写的，他是MLBox Auto-ML软件包的作者，该软件包在过去几年中广受欢迎。</p><p id="eb3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你还没有听说过这个库，那就去Github 上看看吧:它包含了一些有趣的特性，正在变得越来越成熟，现在正在积极开发中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/8c9ee77290d4df46497c0c261168198b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z4XZlO7JloewZFxfR-7R9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MLBox</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/413e63dcf429f7a39e8c6a06fca46531.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TfT2H-p1_V5w5LBRwQIfhQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">回购</p></figure><p id="3971" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本帖中，我们将向您展示如何轻松地使用它来训练自动机器学习管道来解决分类问题。它将首先加载和清理数据，消除漂移，启动一个强大的加速优化管道，并生成预测。</p><p id="62c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！🚀</p><h1 id="b13d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">MLBox简介</h1><p id="b7ce" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">MLBox已经在许多机器学习会议上展示过。你可以在这里查看其中一张幻灯片。这是一个很好的开始，让我们对更一般的AutoML概念的库有一个总体的了解。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mu mv l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">MLBox的幻灯片分享<a class="ae ky" href="https://www.slideshare.net/AxeldeRomblay/mlbox" rel="noopener ugc nofollow" target="_blank">演示</a></p></figure><h1 id="ffd8" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">2 —下载训练和测试数据集</h1><p id="4159" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在这本笔记本中，我们将解决著名的泰坦尼克号卡格尔<a class="ae ky" href="https://www.kaggle.com/c/titanic/" rel="noopener ugc nofollow" target="_blank">挑战</a>，其中包括根据乘客的属性(性别、年龄、姓名等)预测他们的存活率。</p><p id="9c94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不熟悉这个比赛，你可以查看这篇文章。</p><p id="ef76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们下载数据:</p><h2 id="aee9" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">如果你有账户的话</h2><p id="8e09" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果您有一个Kaggle帐户，您可以在您的个人资料页面上生成一个API令牌:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/85a0dceff2eb7be67cb27fd4b8526452.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAEFxZVVSHmzfOP7tSEUSQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank">卡格尔</a></p></figure><p id="4e60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦生成了API令牌，您的系统上就会下载一个kaggle.json，其中包含您的用户名和密钥。</p><ul class=""><li id="fb32" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">如果您使用的是基于Unix的操作系统，请将该文件放在~/中。kaggle/然后</li></ul><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="18cc" class="mw ly it nt b gy nx ny l nz oa">chmod 600 ~/.kaggle/kaggle.json</span></pre><ul class=""><li id="ee93" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">如果您在Windows机器上:</li></ul><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="a42f" class="mw ly it nt b gy nx ny l nz oa">export KAGGLE_USERNAME=&lt;your-username&gt;<br/>export KAGGLE_KEY=&lt;your-key&gt;</span></pre><h2 id="1def" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">来自互联网:</h2><p id="cfbe" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">确保您安装了wget:<code class="fe ob oc od nt b">pip install wget</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><p id="88c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后将train.csv和test.csv放在项目根目录下的<code class="fe ob oc od nt b">data</code>文件夹中。</p><h1 id="3e8e" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">3 —环境设置和从PyPI安装MLBox</h1><p id="f1ac" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">建议创建一个conda虚拟环境，因为MLBox包含几个依赖项，可能会与您当前的库混淆。拥有一个干净的虚拟环境是正确的解决方案，如果出现任何问题，您可以在不影响系统的情况下将其删除。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="fb76" class="mw ly it nt b gy nx ny l nz oa">conda create -n automl python=3.7</span></pre><p id="64dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就创建了一个名为<strong class="lb iu"> automl </strong>的环境，其中预配置了python 3.7。</p><p id="778f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你像我一样在OSX上，你必须通过brew安装<strong class="lb iu"> OpenMP </strong>(开放式多处理)，这是多线程的有效实现:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="e0f7" class="mw ly it nt b gy nx ny l nz oa">(base) brew install libomp</span></pre><p id="2841" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在激活automl并直接从PyPI安装MLBox:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="d9fe" class="mw ly it nt b gy nx ny l nz oa">(base) source activate automl<br/>(automl) pip install mlbox</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/a3a2e5371a20c5376d563dabe25c18f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOK4SJ7cV-u6V6njN2ZxZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原创<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><p id="b01d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，MLBox有相当多的依赖项，如scikit-learn、pandas等。这就是为什么我们创建了一个空的虚拟环境。</p><h2 id="9124" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">[可选]:从Jupyter访问automl内核。</h2><p id="2c2e" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果你想在这种环境下使用jupyter notebook，而不是激活它，而是从基本的jupyter下拉列表中选择内核；你必须安装<strong class="lb iu"> ipykernel </strong>:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="5576" class="mw ly it nt b gy nx ny l nz oa">(automl) conda install ipykernel</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c772b8bfdf8d75a8112aae8bb702d1b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*4i8FSbopEZZI2lQ46p0O-w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者修改</p></figure><p id="5297" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你可以走了！</p><h1 id="5ebe" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">4 —测试MLBox:从数据摄取到模型构建</h1><p id="95e1" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在我们将测试并运行MLBox，快速构建一个模型来解决Kaggle Titanic挑战。</p><p id="679b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有关软件包和API文档的更多信息，请访问以下链接:</p><ul class=""><li id="5fbe" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">官方知识库:<a class="ae ky" href="https://github.com/AxeldeRomblay/MLBox" rel="noopener ugc nofollow" target="_blank">https://github.com/AxeldeRomblay/MLBox</a></li><li id="20d5" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">官方文件:<a class="ae ky" href="https://mlbox.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">https://mlbox.readthedocs.io/en/latest/</a></li></ul><h2 id="86eb" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">正在导入MLBox</h2><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="34ad" class="mw ly it nt b gy nx ny l nz oa">Using TensorFlow backend.<br/></span><span id="4677" class="mw ly it nt b gy om ny l nz oa">CPU times: user 2.42 s, sys: 740 ms, total: 3.16 s<br/>Wall time: 4.04 s</span></pre><h2 id="51af" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">MLBox的输入</h2><p id="c0f1" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果你有一个train和一个测试集，就像在任何Kaggle比赛中一样，你可以将这两个路径直接提供给MLBox以及目标名称。</p><p id="8518" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">否则，如果只输入一个训练集，MLBox将创建一个测试集。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><h2 id="a1d6" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">读取和预处理</h2><p id="f435" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">MLBox的Reader类负责准备数据。</p><p id="a4aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它提供方法和实用程序来:</p><ol class=""><li id="3541" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu on np nq nr bi translated">使用正确的分隔符(CSV、XLS、JSON和h5)读入数据并加载</li><li id="1ff6" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu on np nq nr bi translated">通过以下方式清理数据:</li></ol><ul class=""><li id="3294" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">删除未命名的列</li><li id="e6d5" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">推断列类型(float，int，list)</li><li id="1e00" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">处理日期并从中提取相关信息:年、月、日、星期、小时等。</li><li id="a567" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">删除重复项</li><li id="295d" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">准备列车和测试分离</li></ul><p id="fa1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多信息请点击:<a class="ae ky" href="https://mlbox.readthedocs.io/en/latest/features.html#mlbox.preprocessing.Reader" rel="noopener ugc nofollow" target="_blank">https://ml box . readthe docs . io/en/latest/features . html # ml box . preprocessing . reader</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/851b23fe187a26858118dde5264940c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iw82v4R_rWtxiwH5jV1uOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原创<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><p id="4af5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当这个函数完成运行时，它创建一个名为<code class="fe ob oc od nt b">save</code>的文件夹，将目标编码器转储到这个文件夹中以备后用。</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="79ac" class="mw ly it nt b gy nx ny l nz oa">df["train"].head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/ac88f9aaddabf7d243d2124308f11546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VU_h2fAGXOeI_JRbezINrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原创<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><h2 id="3206" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">消除漂移</h2><p id="58bc" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这是我在其他包里没遇到过的创新功能。主要思想是自动检测和移除在训练集和测试集之间具有显著不同分布的变量。</p><p id="b71d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种情况经常发生，我们通常会谈到有偏差的数据。例如，您可能会遇到这样的情况:列车组中有年轻人，而测试组中只有老年人。这表明年龄特征不是健壮的，并且可能导致模型在测试时的不良性能。所以它必须被丢弃。</p><p id="49ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多信息:</p><ul class=""><li id="3153" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">关于算法:<a class="ae ky" href="https://github.com/AxeldeRomblay/MLBox/blob/master/docs/webinars/features.pdf" rel="noopener ugc nofollow" target="_blank">https://github . com/AxeldeRomblay/ml box/blob/master/docs/webinars/features . pdf</a></li><li id="68d3" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">关于MLBox实现:<a class="ae ky" href="https://mlbox.readthedocs.io/en/latest/features.html#mlbox.preprocessing.Drift_thresholder" rel="noopener ugc nofollow" target="_blank">https://ml box . readthe docs . io/en/latest/features . html # ml box . preprocessing . drift _ thresholder</a></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/2da5c347a7ebde4a9667da30260b7b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wdrx7-TQLPkkC3j0Ko5Bfw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者修改</p></figure><h2 id="8ed1" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">MLBox如何计算单个变量的漂移</h2><p id="bbfc" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">MLBox构建了一个分类器，将训练与测试数据分开。然后，它使用与该分类器相关的ROC分数作为漂移的度量。</p><p id="3a76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是有道理的:</p><ul class=""><li id="7db3" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">如果漂移分数高(即ROC分数高)，则从测试数据中辨别训练数据的能力很容易，这意味着两种分布非常不同。</li><li id="4ab1" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">否则，如果漂移分数低(即ROC分数低)，则分类器不能正确地分离两种分布。</li></ul><p id="5db5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">MLBox提供了一个名为Drift_thresholder的类，它将训练集和测试集以及目标作为输入，并计算每个变量的漂移分数。</p><p id="8812" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Drift_thresholder然后删除漂移分数高于阈值(默认为0.6)的变量。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/32fae86ddf39da2044b8449c1a42ad70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2XbtPgSIZorqs8QX8mOOYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><p id="afc7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你在这里看到的，<code class="fe ob oc od nt b">Name</code>、<code class="fe ob oc od nt b">PassengerId</code>和<code class="fe ob oc od nt b">Ticket</code>因为他们各自的漂移分数而被移除。如果你仔细想想，这一点也不奇怪，因为这些变量，鉴于它们的性质，可以有任何随机值，从而导致它们的训练和测试分布之间的似是而非的漂移。</p><h2 id="150b" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">重担:优化</h2><p id="cbe2" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">此部分执行管道的优化，并尝试不同的参数配置:</p><ul class=""><li id="bed6" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">NA编码器(缺失值编码器)</li><li id="b066" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">CA编码器(分类特征编码器)</li><li id="0f13" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">功能选择器(可选)</li><li id="958c" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">堆叠估计器—特征工程师(可选)</li><li id="5e2a" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">估计器(分类器或回归器)</li></ul><p id="3de1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多详情请点击:<a class="ae ky" href="https://mlbox.readthedocs.io/en/latest/features.html#mlbox.optimisation.Optimiser" rel="noopener ugc nofollow" target="_blank">https://ml box . readthe docs . io/en/latest/features . html # ml box . optimization . optimizer</a></p><p id="b703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先实例化优化器类:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="6ccc" class="mw ly it nt b gy nx ny l nz oa">opt = Optimiser()</span></pre><p id="49c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以使用默认的模型配置来运行它，而不需要任何autoML或复杂的网格搜索。</p><p id="4449" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这应该是第一个基线</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/6e4fe38efd42cf345df7c86b27d3b9fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mhfqWfFwVyskH3P69fsNdQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原创<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><p id="83a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">负<em class="ot">对数</em>损失= -0.6325作为第一基线。</p><p id="5a88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们定义一个多种配置的空间:</p><ul class=""><li id="8daa" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">ne__numerical_strategy:如何处理数字特征中的缺失数据</li><li id="5e93" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">ce__strategy:如何处理分类变量编码</li><li id="fafd" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">fs:功能选择</li><li id="08ba" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">堆叠:元功能堆叠器</li><li id="5d0c" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">估计值:最终估计值</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ou"><img src="../Images/ac91aea0e2802098b3d135100fb82b14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Re-I18wugRTGMNbLqeuzKw.png"/></div></div></figure><p id="fb84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们来评估这个模型:</p><pre class="kj kk kl km gt ns nt nu nv aw nw bi"><span id="ecbe" class="mw ly it nt b gy nx ny l nz oa">opt.evaluate(params, df)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/1baf17641698be93e7bb8d4ae20ebe31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nvGTysMlrRkHlnyz4puXXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原创<a class="ae ky" href="https://www.ahmedbesbes.com/blog/introduction-to-mlbox" rel="noopener ugc nofollow" target="_blank">博文</a></p></figure><p id="b43c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行此管道导致了更高的neg损失，这是更好的。</p><p id="b0de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们定义一个更好的搜索或堆叠操作空间，也许还有其他的特征选择技术，就有很大的潜力可以进一步改进。</p><h1 id="5634" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">5-运行预测</h1><p id="dfc7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">现在，我们拟合最佳管道并预测我们的测试数据集。</p><p id="dfa6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多详情请点击:<a class="ae ky" href="https://mlbox.readthedocs.io/en/latest/features.html#mlbox.prediction.Predictor" rel="noopener ugc nofollow" target="_blank">https://ml box . readthe docs . io/en/latest/features . html # ml box . prediction . predictor</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe mv l"/></div></figure><h1 id="a4cc" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">6 —结论</h1><p id="0555" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">运行自动化AutoML管道从未如此简单。使用MLBox，您可以快速高效地完成这项工作，以便在解决业务问题时可以专注于重要的事情。</p><ul class=""><li id="85e8" class="nj nk it lb b lc ld lf lg li nl lm nm lq nn lu no np nq nr bi translated">理解问题</li><li id="beaa" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">获取和整合正确的数据</li><li id="0f49" class="nj nk it lb b lc oh lf oi li oj lm ok lq ol lu no np nq nr bi translated">形式化性能指标以达到和计算</li></ul><p id="dd10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们希望这三个第一步不会很快自动化:)</p><p id="4cc4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们希望你喜欢这个图书馆。不要犹豫，在G <a class="ae ky" href="https://github.com/AxeldeRomblay/MLBox" rel="noopener ugc nofollow" target="_blank"> ithub </a>上给它一颗星，或者向它的贡献者报告一个<a class="ae ky" href="https://github.com/AxeldeRomblay/MLBox/issues" rel="noopener ugc nofollow" target="_blank">问题</a>。</p></div><div class="ab cl ow ox hx oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="im in io ip iq"><h2 id="9be3" class="mw ly it bd lz mx my dn md mz na dp mh li nb nc mj lm nd ne ml lq nf ng mn nh bi translated">新到中？你可以每月订阅5美元，并解锁各种主题的无限文章(技术、设计、创业……)你可以通过点击我的推荐链接<a class="ae ky" href="https://ahmedbesbes.medium.com/membership" rel="noopener">来支持我</a></h2><div class="pd pe gp gr pf pg"><a href="https://ahmedbesbes.medium.com/membership" rel="noopener follow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">通过我的推荐链接加入Medium—Ahmed bes bes</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">ahmedbesbes.medium.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu ks pg"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pv"><img src="../Images/d4e38e5083ceabb1e7d8de9b0dbe186d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0qLljhZwFObW-bqN"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@karsten116?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Karsten Winegeart </a>拍摄</p></figure></div></div>    
</body>
</html>