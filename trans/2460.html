<html>
<head>
<title>How to Evaluate Survival Analysis Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何评价生存分析模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-evaluate-survival-analysis-models-dd67bc10caae#2022-05-28">https://towardsdatascience.com/how-to-evaluate-survival-analysis-models-dd67bc10caae#2022-05-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2591" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">生存分析中最流行的性能评估指标介绍以及实际的Python示例</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42240d72285ffade235b3064d2dd86b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DxCUurqG2FeWNZXsrqE-SA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="ffab" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">目录</h1><ol class=""><li id="a33d" class="lq lr it ls b lt lu lv lw lx ly lz ma mb mc md me mf mg mh bi translated"><a class="ae mi" href="#cc9c" rel="noopener ugc nofollow">简介</a></li><li id="4b0b" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md me mf mg mh bi translated"><a class="ae mi" href="#e268" rel="noopener ugc nofollow">审查</a></li><li id="a44d" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md me mf mg mh bi translated"><a class="ae mi" href="#a0a6" rel="noopener ugc nofollow">考克斯比例风险模型</a></li><li id="f0fe" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md me mf mg mh bi translated"><a class="ae mi" href="#7541" rel="noopener ugc nofollow">评估生存模型</a> <br/> 4.1 <a class="ae mi" href="#da2f" rel="noopener ugc nofollow">和谐指数(Harrell ' s C)</a><br/>4.2<a class="ae mi" href="#521c" rel="noopener ugc nofollow">Uno ' s C</a><br/>4.3<a class="ae mi" href="#e5ec" rel="noopener ugc nofollow">动态AUC </a></li><li id="d51b" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md me mf mg mh bi translated"><a class="ae mi" href="#8873" rel="noopener ugc nofollow">结论</a></li><li id="6192" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md me mf mg mh bi translated"><a class="ae mi" href="#930f" rel="noopener ugc nofollow">参考文献</a></li></ol><h1 id="cc9c" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak"> 1。简介</strong></h1><p id="b930" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">生存分析包括描述事件时间数据的统计方法的集合。</p><p id="43a4" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">它源于临床研究，医生最感兴趣的是评估一种新疗法对对照组存活率的影响，或者某些特征如何及时代表不良事件的风险。</p><p id="6514" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">这篇文章介绍了与生存分析(审查)相关的挑战，并解释了评估生存模型的流行指标，同时分享了实用的Python示例。</p><h1 id="e268" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak"> 2。审查</strong></h1><p id="a503" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">让我们想象成为临床研究人员。在我们研究的开始，我们招募了所需数量的患者，并将他们分成两组:</p><ul class=""><li id="4978" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><em class="nk">干预组</em>接受新的治疗。</li><li id="30c2" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><em class="nk">对照组</em>进行标准处理。</li></ul><p id="93f3" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">由于我们希望评估新治疗在预防不良事件(如死亡)方面的显著效果，因此我们对两组患者进行了一段时间的监测。不幸的是，我们可能无法观察到这一事件，原因有几个，例如:</p><ul class=""><li id="abf9" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">在整个研究期间，患者不会经历该事件。</li><li id="ec18" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">患者退出研究。</li><li id="0c93" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">患者失访。</li></ul><p id="62d4" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">这种情况被称为<strong class="ls iu">右删截</strong>，是生存分析研究的一个共同特征。我们可以将其与<strong class="ls iu">左审查</strong>区分开来，后者发生在事件已经发生在登记之前(但时间未知)。</p><h1 id="a0a6" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">3.Cox比例风险模型</h1><p id="e616" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">现在让我们介绍一种流行的生存分析算法，Cox比例风险模型。</p><p id="e420" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">首先，我们将<em class="nk">存活率</em>定义为一段时间后没有经历不良事件(死亡)的患者的百分比。Cox比例风险模型可以评估变量和存活率之间的关联，并被定义为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/864d552d92ed544dd9b033585bd607b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*hmOyPwKhCBnBH6gG5zLoVA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="5ecc" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">该公式表明，风险函数<code class="fe nm nn no np b">h(t|<strong class="ls iu">xᵢ</strong>)</code>与基线风险函数<code class="fe nm nn no np b">h₀(t)</code>和相对风险<code class="fe nm nn no np b">exp(<strong class="ls iu">β'xᵢ</strong>)</code>成比例。</p><p id="3cca" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">潜在风险函数<code class="fe nm nn no np b">h₀(t)</code>不依赖于协变量。由于<code class="fe nm nn no np b">h₀(.)</code>的形式未指定，该模型为半参数模型。而且，不估计<code class="fe nm nn no np b">h₀(.)</code>也可以估计<code class="fe nm nn no np b">β</code>。</p><p id="f8bc" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">Cox模型的一个重要优势在于其系数的可解释性。为了解释它，我们可以考虑一个只有一个协变量的简化场景。让我们考虑一个危险因素<code class="fe nm nn no np b">xᵢ</code>，例如<em class="nk">吸烟</em>，作为二元变量(0:不吸烟者对1:吸烟者)。Cox模型可表示为<code class="fe nm nn no np b">h(t|xᵢ)= h₀(t)exp(βxᵢ)</code>，其中<code class="fe nm nn no np b">exp(β)</code>表示吸烟与不吸烟相比，不良事件的<strong class="ls iu">相对风险:</strong></p><ul class=""><li id="476a" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">吸烟带来的风险:<br/> <code class="fe nm nn no np b">(xᵢ=1): h₀(t)exp(β⋅xᵢ) = h₀(t)exp(β⋅1) = h₀(t)exp(β)</code></li><li id="2476" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">不吸烟带来的风险:<br/> <code class="fe nm nn no np b">(xᵢ=0): h₀(t)exp(β⋅xᵢ) = h₀(t)exp(β⋅0) = h₀(t)</code></li><li id="0e43" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">相对风险=吸烟带来的风险/不吸烟带来的风险:<br/> <code class="fe nm nn no np b">h₀(t)exp(β) / h₀(t) = exp(β)</code></li></ul><p id="02fc" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">很清楚为什么这个模型在临床场景中受到高度赞赏:它允许医生根据患者的历史和行为来估计不良事件的可解释风险。</p><p id="0a66" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">让我们用一个利用<code class="fe nm nn no np b">scikit-survival</code>包的实际Python例子来试试，这个包在<em class="nk"> GNU GPL 3.0 </em>许可下可用。步骤如下:</p><ul class=""><li id="8c4c" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">导入所需的库:</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="525e" class="nu kz it np b gy nv nw l nx ny">from sksurv.datasets import load_whas500<br/>from sksurv.linear_model import CoxPHSurvivalAnalysis<br/>from sksurv.preprocessing import OneHotEncoder<br/>from sklearn.pipeline import Pipeline</span><span id="0f71" class="nu kz it np b gy nz nw l nx ny">import numpy as np<br/>import math<br/>from tabulate import tabulate</span></pre><ul class=""><li id="f22b" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">加载并返回由<code class="fe nm nn no np b">scikit-survival</code>提供的<em class="nk">伍斯特心脏病研究数据集</em> ⁴:</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="128d" class="nu kz it np b gy nv nw l nx ny">x, y = load_whas500()</span></pre><ul class=""><li id="43cd" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">该数据集有500个样本和14个特征:</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="279d" class="nu kz it np b gy nv nw l nx ny">x.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/029b635b1f7d78a55e04352c5a404aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nj4FTRQz-5Vb9VMXOmDquQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><ul class=""><li id="79ed" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">特征:<br/> - <code class="fe nm nn no np b">afb</code>:房颤(0:否，1:是)<br/> - <code class="fe nm nn no np b">age</code>:入院年龄(岁)<br/> - <code class="fe nm nn no np b">av3</code>:完全性心脏传导阻滞(0:否，1:是)<br/> - <code class="fe nm nn no np b">bmi</code>:体重指数(kg/m ) <br/> - <code class="fe nm nn no np b">chf</code>:充血性心脏并发症(0:否，1:是)<br/> - <code class="fe nm nn no np b">cvd</code>:心血管疾病史(0:否 1:是)<br/> - <code class="fe nm nn no np b">diasbp</code>:初始舒张压(mmHg) <br/> - <code class="fe nm nn no np b">gender</code>:患者性别(0:男，1:女)<br/> - <code class="fe nm nn no np b">hr</code>:初始心率(每分钟心跳数)<br/> - <code class="fe nm nn no np b">los</code>:住院时间(天)<br/> - <code class="fe nm nn no np b">miord</code> : MI顺序(0:首次，1:复发)<br/> - <code class="fe nm nn no np b">mitype</code> : MI类型(0:非Q波，1: Q波)【1】</li><li id="dcaf" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">终点是死亡，有215名患者死亡(43.0%):</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="12a8" class="nu kz it np b gy nv nw l nx ny">status, counts = np.unique(<br/>    ['Censored' if i[0] == False else 'Event' for i in y],<br/>    return_counts = True)</span><span id="b1db" class="nu kz it np b gy nz nw l nx ny">dict(zip(status, counts))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/0b6944b38cfb23755fd7db547ec8748f.png" data-original-src="https://miro.medium.com/v2/resize:fit:738/format:webp/1*gx6Bpy2hdnHu2lwRkf36SQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><ul class=""><li id="ac89" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">创建一个包含所有必需预处理步骤的管道，并符合Cox模型:</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="d74c" class="nu kz it np b gy nv nw l nx ny">pipe = Pipeline([('encode', OneHotEncoder()),<br/>                 ('cox_model', CoxPHSurvivalAnalysis())])</span><span id="e03f" class="nu kz it np b gy nz nw l nx ny">pipe.fit(x, y)</span></pre><ul class=""><li id="4e7f" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">对于每个协变量<code class="fe nm nn no np b">xᵢ</code>，我们可以观察它的系数<code class="fe nm nn no np b">β</code>和相对风险<code class="fe nm nn no np b">exp(β)</code>:</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="47f7" class="nu kz it np b gy nv nw l nx ny">table = np.array([<br/>   x.columns,<br/>   pipe['cox_model'].coef_,<br/>   [math.exp(i) for i in pipe['cox_model'].coef_]<br/>  ]).T</span><span id="e02a" class="nu kz it np b gy nz nw l nx ny">print(tabulate(table, <br/>               headers = ['Risk Factor', <br/>                          'Coefficient [β]', <br/>                          'Relative Risk [exp(β)]'],<br/>               tablefmt = 'fancy_grid',<br/>               colalign = ('center', 'center', 'center'),<br/>               floatfmt = '.3f'))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/ed6fd8c836e567aa0ba438ddecba0425.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*CyGQ0Fzj1eupPFqTolW08g.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="9355" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">相对风险<code class="fe nm nn no np b">exp(β)</code>可以是:</p><ul class=""><li id="9a21" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><code class="fe nm nn no np b">&gt;1</code>(或<code class="fe nm nn no np b">β&gt;0</code>)为<strong class="ls iu">事件(死亡)的风险</strong>增加。</li><li id="c9fe" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><code class="fe nm nn no np b">&lt;1</code>(或<code class="fe nm nn no np b">β&lt;0</code>)为<strong class="ls iu">降低风险</strong>的事件。</li></ul><p id="7978" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">我们注意到:</p><ul class=""><li id="2c53" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">考克斯假设比例风险。这意味着预测的风险<code class="fe nm nn no np b">exp(β)</code>与时间无关。</li><li id="55dc" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">在现实应用中，医生感兴趣的是相对风险及其相关的<em class="nk"> p值</em>和<em class="nk">置信区间</em>。在之前的post⁵中，我们分享了包括这些概念的Cox回归模型的更详细的应用。</li><li id="d12f" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">在这种情况下，Cox模型被用作例子来达到我们的目的，即讨论评估生存模型的度量和方法。</li></ul><p id="03f2" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">既然我们将模型与我们的数据进行了拟合，我们想要确定这组相对风险是否可靠。此外，我们希望将该型号与其他型号的性能进行比较。</p><h1 id="7541" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak"> 4。评估生存模型</strong></h1><p id="ffa1" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">为了公平地评估与特定估计量相关的误差，一个好的做法是随机地将初始观察值集分成至少<em class="nk">个</em>个:</p><ul class=""><li id="6f18" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><em class="nk">训练集</em>:用于拟合模型的观测值子集。</li><li id="0cfb" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><em class="nk">测试集</em>:仅用于评估模型性能的观测值子集。</li></ul><p id="e723" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">这种策略背后的想法是，使用用于拟合模型的相同数据来估计模型性能会有偏差。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/62056bc88cc7649d11ff6aab88f3010f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_D1cETQ8LUvnNoHzM-dhqg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">训练和测试设备。图片作者。</p></figure><p id="92cf" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">关于评估本身，我们知道像用于定量反应(回归)的<em class="nk"> MSE </em>或用于分类反应(分类)的<em class="nk">准确性</em>这样的度量。生存分析问题与传统的回归和分类问题略有不同。此外，由于审查，我们还有一层额外的复杂性。我们可以采用什么标准来评估模型性能？</p><h2 id="da2f" class="nu kz it bd la oe of dn le og oh dp li lx oi oj lk lz ok ol lm mb om on lo oo bi translated">4.1和谐指数</h2><p id="cc27" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">让我们考虑一对病人(<code class="fe nm nn no np b">i, j</code>)。直觉上，风险<strong class="ls iu">越高</strong>应导致不良事件发生的时间<strong class="ls iu">越短。因此，如果模型预测第一个患者(<code class="fe nm nn no np b">ηᵢ &gt; ηⱼ</code>)的风险评分较高，我们也预期与另一个患者(<code class="fe nm nn no np b">Tᵢ &lt; Tⱼ</code>)相比存活时间较短。</strong></p><p id="b288" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">从这个直觉出发，我们将满足这个期望的每对<code class="fe nm nn no np b">&lt;i, j&gt;</code>(<code class="fe nm nn no np b">ηᵢ &gt; ηⱼ : Tᵢ &lt; Tj</code>或<code class="fe nm nn no np b">ηᵢ &lt; ηⱼ : Tᵢ &gt; Tⱼ</code>)定义为<strong class="ls iu">和谐对</strong>，否则为<strong class="ls iu">不和谐</strong>。大量的一致配对是模型质量的证据，因为与较低风险相比，预测的较高风险对应于有效较短的存活时间。</p><p id="a46f" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated"><em class="nk">一致指数</em> ⁶，也称为<em class="nk"> C指数</em>或<em class="nk">哈氏c指数</em>，定义为一致对数除以可比对数:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/0a81e6f2264b173bacb857c86ce6919f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrPkd8tENGrQ5NpLZ4fOKw.png"/></div></div></figure><p id="ddeb" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">这就是审查被考虑的方式:</p><ul class=""><li id="1f34" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">如果两个病人<code class="fe nm nn no np b">i</code>和<code class="fe nm nn no np b">j</code>都被<strong class="ls iu">审查</strong>，我们就没有关于<code class="fe nm nn no np b">Tᵢ</code>和<code class="fe nm nn no np b">Tⱼ</code>的信息，因此这一对被<strong class="ls iu">丢弃</strong>。</li><li id="4c48" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">如果只有一名患者被审查，只有当另一名患者在审查时间之前经历了该事件时，我们才保留这对患者。否则，我们没有关于哪个患者可能首先经历了该事件的信息，并且该对被丢弃。</li></ul><p id="3892" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">哈氏C的计算过程可以直观地表示如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/42240d72285ffade235b3064d2dd86b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DxCUurqG2FeWNZXsrqE-SA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="d9fc" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">我们现在可以表达c指数as⁶:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/827fcc35042c58cfc9c36b9627c806b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WlrzKeMRvhnVrAU769sO1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="0a17" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">其中:</p><ul class=""><li id="26d1" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><code class="fe nm nn no np b">i</code>和<code class="fe nm nn no np b">j</code>识别一对患者，分别具有生存时间(<code class="fe nm nn no np b">Tᵢ</code>、<code class="fe nm nn no np b">Tⱼ</code>)和预测风险(<code class="fe nm nn no np b">ηᵢ</code>、<code class="fe nm nn no np b">ηⱼ</code>)。</li><li id="2494" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><code class="fe nm nn no np b">I(.)</code>是指标函数，如果其参数为真，则等于1，否则等于0。</li><li id="a083" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">变量<code class="fe nm nn no np b">Δⱼ</code>指示<code class="fe nm nn no np b">Tⱼ</code>是否已被完全观察到(<code class="fe nm nn no np b">Δⱼ = 1</code>)或未被完全观察到(<code class="fe nm nn no np b">Δⱼ = 0</code>)。因此，乘以<code class="fe nm nn no np b">Δⱼ</code>允许丢弃不可比较的对，因为较小的存活时间被删除(<code class="fe nm nn no np b">Δⱼ = 0</code>)。</li></ul><p id="6b9e" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">让我们使用<code class="fe nm nn no np b">scikit-survival</code>包在一个实际的Python示例中展示所描述的过程:</p><ul class=""><li id="1d84" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">将数据集拆分为训练集和测试集。</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="8576" class="nu kz it np b gy nv nw l nx ny">from sklearn.model_selection import train_test_split</span><span id="ba3b" class="nu kz it np b gy nz nw l nx ny">x_train, x_test, y_train, y_test = train_test_split(<br/>     x,<br/>     y,<br/>     test_size = 0.2,<br/>     random_state = 42)</span></pre><ul class=""><li id="e72c" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">在训练集上拟合Cox估计量。</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="b417" class="nu kz it np b gy nv nw l nx ny">pipe = Pipeline([('encode', OneHotEncoder()),<br/>                 ('cox_model', CoxPHSurvivalAnalysis())])</span><span id="40dc" class="nu kz it np b gy nz nw l nx ny">pipe.fit(x_train, y_train)</span></pre><ul class=""><li id="ad21" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">在测试集上评估模型性能(C-index)。</li></ul><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="1551" class="nu kz it np b gy nv nw l nx ny">c_index = pipe.score(x_test, y_test)</span></pre><p id="0444" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">在我们的例子中，我们在保留数据上获得了等于0.709的C指数。</p><p id="6fb6" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">C指数的数值解释:</p><ul class=""><li id="8a8f" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><strong class="ls iu"> C = 1 </strong>:风险与事件时间的完美一致<strong class="ls iu"/>。</li><li id="24ff" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><strong class="ls iu"> C = 0 </strong>:风险与事件时间的完美<strong class="ls iu">反协调</strong>。</li><li id="8051" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><strong class="ls iu"> C = 0.5 </strong> : <strong class="ls iu">随机赋值</strong>。该模型预测了风险和存活时间之间的关系，以及抛硬币的过程。</li><li id="2b7b" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">理想值的范围在0.5和1之间。越接近1，模型越能区分早期事件(高风险)和后期事件(低风险)。</li></ul><p id="a3de" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">注意事项:</p><ul class=""><li id="8f1e" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">c指数保持着对time⁷.的隐性依赖</li><li id="2062" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">censoring⁸.的数量越多，c指数就变得越偏(向上)</li></ul><p id="9485" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">出于这些原因，随着时间的推移，提出了C指数和其他指标的变化，如时间相关的C指数分析(Longato等人。⁹，2020)和基于截尾权重逆概率的c指数(Uno等人。⁸, 2011).</p><h2 id="521c" class="nu kz it bd la oe of dn le og oh dp li lx oi oj lk lz ok ol lm mb om on lo oo bi translated"><strong class="ak"> 4.2优诺的C </strong></h2><p id="9b9b" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">对具有删截的较小观察时间(<code class="fe nm nn no np b">Δⱼ = 0</code>)的观察值对的处理导致一致性probability⁷.估计值的向上偏差因此，Uno等人。⁸ (2011年)提出了哈勒尔c的一个变体，包括<em class="nk">审查权重的逆概率</em>。简而言之，我们引入基于估计的截尾累积分布的权重。</p><p id="9bc1" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">在审查量较高的情况下，Uno的C优于Harrell的C。</p><p id="a447" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated"><code class="fe nm nn no np b">scikit-survival</code>包在<code class="fe nm nn no np b">sksurv.metrics.concordance_index_ipcw</code> ⁰.实现了这个c统计这里有一个它的用法的例子。</p><p id="999f" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">值得注意的是，Uno的C使用卡普兰-迈耶估计量进行截尾分布。这意味着审查应该独立于变量。然而，正如paper⁸所说:</p><blockquote class="or os ot"><p id="9b4c" class="mo mp nk ls b lt nb ju mq lv nc jx mr ou nd mt mu ov ne mw mx ow nf mz na md im bi translated">对于新的建议，我们假设删失分布是独立的协变量。在执行良好的临床研究中，这种假设并非不合理，尤其是当观察终点(例如，死亡或复合临床终点)时没有竞争风险，并且事件时间可能主要由于管理审查而被审查。[…].另一方面，<strong class="ls iu">根据我们模拟研究的结果，即使在删失依赖于协变量</strong>时，我们的建议似乎也相当稳健。</p></blockquote><h2 id="e5ec" class="nu kz it bd la oe of dn le og oh dp li lx oi oj lk lz ok ol lm mb om on lo oo bi translated">4.3 <strong class="ak">动态AUC </strong></h2><p id="4e56" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">在二元分类任务中，<strong class="ls iu"> ROC曲线</strong>(受试者工作特性曲线)绘制了不同分类阈值下的真阳性率(<code class="fe nm nn no np b">TPR = TP / (TP + FN)</code>)与假阳性率(<code class="fe nm nn no np b">FPR = FP / (FP + TN)</code>)的关系:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/ed5aa528f3d7f09e1474845a8ed4f21d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tn4anA5Bo6Msk9-5lqDeEA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="8a3a" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated"><strong class="ls iu">曲线下面积(AUC) </strong>测量ROC曲线下的面积。简而言之，它可以被解释为模型对随机正例的排序比随机负例更高的概率。给定一个模型<code class="fe nm nn no np b">f</code>，AUC可以表示为一个<em class="nk">威尔科克森-曼-惠特尼</em>统计量:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/79b4d081b1211bc9604ebdd6333a2d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dPMGoeMRW0tZXffVu0E1Bg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来自考尔德斯和西蒙(2007)。</p></figure><p id="3701" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">在哪里</p><ul class=""><li id="9676" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated"><code class="fe nm nn no np b">I(.)</code>是指标函数(如果其参数为真，则为1，否则为0)。</li><li id="7516" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><code class="fe nm nn no np b">D₀</code>表示一组阴性(<code class="fe nm nn no np b">Class 0</code>)观察值。</li><li id="1f5f" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated"><code class="fe nm nn no np b">D₁</code>表示一组阳性(<code class="fe nm nn no np b">Class 1</code>)观察值。</li></ul><p id="ef09" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">在生存分析中，通过设计，真阳性率和假阳性率依赖于时间<em class="nk">。原本健康的患者(真阴性)随着时间的推移会经历不良事件(变成真阳性)。因此，AUC的表达变得动态。</em></p><p id="aa98" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">在文献中，可以找到右删失数据的动态AUC估计量的不同建议:</p><ul class=""><li id="fad4" class="lq lr it ls b lt nb lv nc lx ng lz nh mb ni md nj mf mg mh bi translated">希格蒂和郑(2005)。</li><li id="e9bd" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">Uno等人，⁴ (2007年)。</li><li id="031b" class="lq lr it ls b lt mj lv mk lx ml lz mm mb mn md nj mf mg mh bi translated">洪和蒋(2010)。</li></ul><p id="b00b" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">我们可以通过<code class="fe nm nn no np b">scikit-survival</code>包:<code class="fe nm nn no np b">sksurv.metrics.cumulative_dynamic_auc</code> ⁶.来实现这个度量</p><p id="65cd" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">给定一个估计患者<code class="fe nm nn no np b">i</code>的风险评分<code class="fe nm nn no np b">ηᵢ</code>的模型<code class="fe nm nn no np b">f(xᵢ)</code>，我们可以将时间<code class="fe nm nn no np b">t</code>的AUC定义为:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/b13f7ef460607e484787b943a0756d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PzekvVinhHK9JHe0TRQpSg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">动态AUC。来自sci kit-⁶.生存文档</p></figure><p id="9031" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">其中<code class="fe nm nn no np b">wᵢ</code>代表审查权重的逆概率。</p><p id="f8a9" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">现在让我们根据之前的Python示例来估计不同随访时间的AUC。</p><p id="c2e4" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">首先，我们应该考虑到<code class="fe nm nn no np b">wᵢ</code>的存在需要从训练数据中估计删失分布。因此，测试集时间范围应在训练集时间范围内:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/bd70f7fd3dbc0cd5d042134582e5aab1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hqVl9_VRU65loRJwEU70iQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="cd7e" class="nu kz it np b gy nv nw l nx ny">mins = []<br/>maxs = []<br/>for split in [y_train, y_test]:<br/>  mins.append(min(split, key = lambda t: t[1])[1])<br/>  maxs.append(max(split, key = lambda t: t[1])[1])</span><span id="7dcd" class="nu kz it np b gy nz nw l nx ny">assert mins[0] &lt;= mins[1] &lt; maxs[1] &lt; maxs[0], \<br/> 'Test set time range must be contained in the train set time range'</span></pre><p id="28a3" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">此外，在定义计算AUC的时间点时，我们还应选择最后一个时间点，以使之后被审查的<em class="nk">概率不为零</em>:</p><pre class="kj kk kl km gt nq np nr ns aw nt bi"><span id="ef87" class="nu kz it np b gy nv nw l nx ny">import matplotlib.pyplot as plt<br/>from sksurv.metrics import cumulative_dynamic_auc<br/>plt.style.use('ggplot')</span><span id="ddec" class="nu kz it np b gy nz nw l nx ny"><strong class="np iu"># Times &lt;t&gt; at which to calculate the AUC</strong><br/>va_times = np.arange(1, 1500, 30)<br/><strong class="np iu"># where max(&lt;t&gt;) is chosen arbitrarily and &lt; of follow-up time</strong></span><span id="574a" class="nu kz it np b gy nz nw l nx ny"><strong class="np iu"># Risk scores &lt;f(xi)&gt; on test data</strong><br/>cph_risk_scores = pipe.predict(x_test)</span><span id="f0b5" class="nu kz it np b gy nz nw l nx ny"><strong class="np iu"># AUC at times &lt;t&gt; and its average<br/></strong>cph_auc, cph_mean_auc = cumulative_dynamic_auc(<br/>  y_train, y_test, cph_risk_scores, va_times<br/>)</span><span id="21d1" class="nu kz it np b gy nz nw l nx ny"><strong class="np iu"># Plot the dynamic AUC</strong><br/>plt.figure(figsize = (12,8))<br/>plt.plot(va_times, cph_auc, marker = 'o')<br/>plt.axhline(cph_mean_auc, linestyle = '--')<br/>plt.title('Test set AUC at different time points', fontsize = 20)<br/>plt.xlabel('Follow-up Time')<br/>plt.ylabel('Dynamic AUC')</span><span id="7108" class="nu kz it np b gy nz nw l nx ny"><strong class="np iu"># Draw textbox with average AUC</strong><br/>textbox = 'Average: {:.3f}'.format(cph_mean_auc)<br/>props = dict(boxstyle = 'round', facecolor = 'wheat', alpha = 0.9)<br/>plt.text(1100, 0.55, textbox, fontsize = 18, bbox = props)<br/>plt.grid(True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/0be131acf87cba6d217c9a9d781f0125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hEDhduS6TkKq57BmgPCVlA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="8873" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">5.结论</h1><p id="91b8" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">在本文中，我们讨论了用于评估生存分析模型性能的流行指标，并使用<code class="fe nm nn no np b">scikit-survival</code>包提供了Python中的实际例子。官方文档和参考文献提供了更多关于该主题的示例和高级信息。</p><h1 id="930f" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated"><strong class="ak"> 6。参考文献</strong></h1><p id="cc8d" class="pw-post-body-paragraph mo mp it ls b lt lu ju mq lv lw jx mr lx ms mt mu lz mv mw mx mb my mz na md im bi translated">[1] D. R. Cox，<em class="nk">回归模型和生命表</em>，皇家统计学会杂志。B系列(方法学)，第34卷，第2期。，第187-220页，1972年。</p><p id="9e5b" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[2]s . pl sterl，<em class="nk"> scikit-survival:一个建立在scikit-learn </em>之上的时间-事件分析库，机器学习研究杂志，第21卷，第212期，第1–6页，2020 ( <a class="ae mi" href="https://scikit-survival.readthedocs.io/en/stable/index.html" rel="noopener ugc nofollow" target="_blank">包网站</a>)。</p><p id="3be0" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[3]<a class="ae mi" href="https://github.com/sebp/scikit-survival/blob/master/COPYING" rel="noopener ugc nofollow" target="_blank">https://github.com/sebp/scikit-survival/blob/master/COPYING</a></p><p id="37b6" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[4]<a class="ae mi" href="https://scikit-survival.readthedocs.io/en/stable/api/generated/sksurv.datasets.load_whas500.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-survival . readthedocs . io/en/stable/API/generated/sk surv . datasets . load _ whas 500 . html</a></p><p id="fc53" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[5]<a class="ae mi" rel="noopener" target="_blank" href="/turning-web-browsing-activity-into-product-ratings-with-survival-analysis-5d5842af2a6d">https://towards data science . com/turning-web-browsing-activity-into-product-ratings-with-survival-analysis-5d 5842 af 2 a6d</a></p><p id="92af" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[6] F.E. Harrell Jr，R.M. Califf，D.B. Pryor，K.L. Lee，R.A. Rosati，<em class="nk">评估医学试验的产出</em>，Jama，247，1982 ( <a class="ae mi" href="https://pubmed.ncbi.nlm.nih.gov/7069920/" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="3fde" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[7] M.J. Pencina，R.B. D'Agostino，<em class="nk">总体C作为生存分析中的一种判别方法:模型特定人群值和置信区间估计</em>，统计。医学。2004年23日(<a class="ae mi" href="https://doi.org/10.1002/sim.1802" rel="noopener ugc nofollow" target="_blank">环节</a>)。</p><p id="442f" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[8] H. Uno，T. Cai，M.J. Pencina，R.B. D'Agostino，L.J. Wei，<em class="nk">关于使用删截生存数据评估风险预测程序总体充分性的C统计</em>，Stat .医学。，30，2011 ( <a class="ae mi" href="https://doi.org/10.1002/sim.4154" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="928a" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[9] E. Longato，M. Vettoretti，B. Di Camillo，<em class="nk">对预测时间-事件模型的评估和选择的一致性指数的实用观点</em>，生物医学信息学杂志，第108卷，2020年(<a class="ae mi" href="https://doi.org/10.1016/j.jbi.2020.103496" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="1931" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[10]<a class="ae mi" href="https://scikit-survival.readthedocs.io/en/stable/api/generated/sksurv.metrics.concordance_index_ipcw.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-survival . readthedocs . io/en/stable/API/generated/sk surv . metrics . concordance _ index _ ipcw . html</a></p><p id="2fd3" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[11]<a class="ae mi" href="https://scikit-survival.readthedocs.io/en/stable/user_guide/evaluating-survival-models.html#Time-dependent-Area-under-the-ROC" rel="noopener ugc nofollow" target="_blank">https://sci kit-survival . readthedocs . io/en/stable/user _ guide/evaluating-survival-models . html</a></p><p id="8a78" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[12] T. Calders，J. Szymon，<em class="nk">分类的有效AUC优化</em>，载于:J.N. Kok，J. Koronacki，R. Lopez de Mantaras，S. Matwin，D. Mladeni，A. Skowron，<em class="nk">(编辑)数据库中的知识发现:PKDD 2007 </em>，计算机科学讲义，柏林，海德堡，2007 ( <a class="ae mi" href="https://doi.org/10.1007%2F978-3-540-74976-9_8" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="2870" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[13] Heagerty，P. J .和Y. Zheng，<em class="nk">生存模型预测准确性和ROC曲线，生物统计学</em>，61，92–105，2005。</p><p id="9022" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[14] Uno，h .、T. Cai、L. Tian和L. J. Wei，<em class="nk">用删失回归模型评估t年幸存者的预测规则，美国统计协会杂志</em>，102，527–537，2007年。</p><p id="5215" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[15] H. Hung和C. T. Chiang，<em class="nk">具有生存数据的时间相关AUC模型的估计方法</em>，加拿大统计杂志，第38卷，第1期，第8-26页，2010年(<a class="ae mi" href="https://doi.org/10.1002/cjs.10046" rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="e94e" class="pw-post-body-paragraph mo mp it ls b lt nb ju mq lv nc jx mr lx nd mt mu lz ne mw mx mb nf mz na md im bi translated">[16]<a class="ae mi" href="https://scikit-survival.readthedocs.io/en/stable/api/generated/sksurv.metrics.cumulative_dynamic_auc.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-survival . readthedocs . io/en/stable/API/generated/sk surv . metrics . cumulative _ dynamic _ AUC . html</a></p></div></div>    
</body>
</html>