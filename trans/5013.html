<html>
<head>
<title>Beating Wikirace by Finding the Optimal Path with Neo4j and Dijkstra’s algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Neo4j和Dijkstra算法寻找最优路径击败Wikirace</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/beating-wikirace-by-finding-the-optimal-path-with-neo4j-and-dijkstras-algorithm-1e11193c55bb#2022-11-08">https://towardsdatascience.com/beating-wikirace-by-finding-the-optimal-path-with-neo4j-and-dijkstras-algorithm-1e11193c55bb#2022-11-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="b9f3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">探索维基百科数据集并应用图形数据科学算法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/825c016832186ee3388a08081e964400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mPAa2d5RGUoOB_iamW02LA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">维基百科插图。来自<a class="ae kv" href="https://commons.wikimedia.org/wiki/File:Wikipedia-logo-v2-wordmark.svg" rel="noopener ugc nofollow" target="_blank">维基共享资源</a>的编辑图片。<a class="ae kv" href="https://creativecommons.org/licenses/by-sa/3.0/deed.en" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 3.0 </a></p></figure><h2 id="e0f8" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">介绍</h2><p id="7adf" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">几周前，我通过看一些彩带玩这个游戏，偶然发现了一个有趣的游戏，叫做Wikirace。<a class="ae kv" href="https://en.wikipedia.org/wiki/Wikipedia:Wikirace" rel="noopener ugc nofollow" target="_blank">Wikirace</a>是任意数量的参与者之间的比赛，使用链接从一个维基百科页面到另一个页面。</p><p id="e1fd" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">通常，参与者从一个随机的维基百科页面开始，然后选择一个目标页面。例如，他们可以从维基百科的“瑞典”页面开始，目的页面是“德拉库拉”。目标是从源页面“瑞典”到达目的页面“德古拉”，只需使用维基百科网站上的超链接。第一个到达目的页面的人，或使用最少链接到达目的页面的人，赢得比赛。</p><p id="1677" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">虽然游戏本身很有趣，也很好玩，但是吸引我眼球的是最优解。仅使用维基百科中的超链接，从源页面到目标页面的最优路径是什么？在分析了这个问题之后，我发现带有最短路径算法的图形数据库是找到最佳路径的最佳解决方案。在这个项目中，我将使用Neo4j图形数据库。我将从图形数据库的快速介绍开始这篇文章。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mq"><img src="../Images/29e78c5af72f40e267a0788ec4474b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3MUqAyOJJ0ZRt8jpnUOzUQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Martin Grandjean 的图表数据库插图。<a class="ae kv" href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 4.0 </a></p></figure><h2 id="1673" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">图形数据库</h2><p id="1ce2" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">图形数据库(GDB)是一种使用图形结构进行语义查询的数据库，具有节点、边和属性来表示和存储数据。使用GDB，我可以构建所有维基百科页面之间的关系。在GDB中，两个节点之间的关系可以表示如下:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="dadd" class="kw kx iq ms b gy mw mx l my mz">(n:SourceNode)-[RELATION]-&gt;(m:TargetNode)</span></pre><p id="0b81" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">例如，在瑞典的维基百科页面上，如下所示，与其他超链接的关系可以被构造为:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="274a" class="kw kx iq ms b gy mw mx l my mz">(n:Sweden)-[HyperLink]-&gt;(m:Nordic country) <br/>(n:Sweden)-[HyperLink]-&gt;(m:Finland)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi na"><img src="../Images/262550c561332181bb645377532fafbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*q9fsJwdbX2Yckn4L5dKK2Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从<a class="ae kv" href="https://en.wikipedia.org/wiki/Sweden" rel="noopener ugc nofollow" target="_blank">瑞典</a>的维基百科页面截取文本。</p></figure><p id="6b4b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这种关系在GDB中显示为节点和边:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/4ae4b7f2c09b9d89b82690eadf41f7e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*syMTbIdW2SK9LET-6cjw2Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">建立关系的节点和边。作者图片</p></figure><h2 id="5dea" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">资料组</h2><p id="4c00" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">在我尝试解决这个问题之前，我需要维基百科中的所有关系。我将通过添加一个仅使用英文维基百科页面的约束来减少数据。斯坦福大学有一个名为“<a class="ae kv" href="https://snap.stanford.edu/data/enwiki-2013.html" rel="noopener ugc nofollow" target="_blank">英语维基百科超链接网络”的数据集，作者是Jure Leskovec。</a>该数据集描述了2013年以来所有英文维基百科页面之间的关系。该文件夹包括两个文件。一辆csv。包含所有节点ID及其名称的文件。另一个文件是txt。描述不同维基百科页面之间关系的文件。以下是来自relation.txt文件的示例:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="232c" class="kw kx iq ms b gy mw mx l my mz">1 2435 35<br/>2 354 87<br/>3 44 91120<br/>4 492 5<br/>5 …</span></pre><p id="da40" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">每行描述一个关系。第一个数字是确切关系的ID。第二个数字是源页面，第三个数字是目标页面。例如，如果您位于维基百科第2435页，该页上有一个超链接指向维基百科第35页。我想这些数字是用来减少。txt文件，而不是使用全名。该文件夹还包括一个文件，其中包含所有数字及其相应的维基百科页面名称。例如，ID号为35的节点是“瑞典”的维基百科页面。</p><p id="111a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">要将文件导入Neo4j图形数据库，我想使用Neo4j管理导入功能。<a class="ae kv" href="https://neo4j.com/docs/operations-manual/current/tutorial/neo4j-admin-import/" rel="noopener ugc nofollow" target="_blank">当数据集“巨大”时，建议</a>使用此导入功能，在这种情况下，数据集包括超过400万个节点(维基百科页面)和1.01亿条边(关系/超链接)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/45dcdea64222ba609966503437099d0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*oIxHLRzDlpFUrM43NflHrg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图表来自<a class="ae kv" href="https://snap.stanford.edu/data/enwiki-2013.html" rel="noopener ugc nofollow" target="_blank">斯坦福大学，作者Jure Leskovec </a>。</p></figure><p id="41d9" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">为了将文件导入Neo4j数据库，我首先将文件从。发短信给。Python中的csv。我的最终计划是使用图表算法，利用这些关系找到从一个页面到另一个页面的最短路径。为了找到最短路径，算法需要知道节点之间的距离。在这种情况下，所有节点到其邻居的距离都相同。为了在数据集中包含距离，我在。距离等于1的csv文件。然后，我清理了数据集并添加了适当的标题，以利用Neo4j管理导入功能。下图显示了关系和节点的示例。csv文件。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/001bbe13031167bc3de18cad3dc92fbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iXaWPaDGmVBqmi_KD675bg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自节点和关系的样本数据。csv文件。</p></figure><p id="6f42" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">为了将数据上传到Neo4j GDB，我使用了Neo4j管理导入功能，命令如下:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="afe4" class="kw kx iq ms b gy mw mx l my mz">bin/neo4j-admin import --database=neo4j --nodes=import/nodes.csv --relationships=import/relations.csv --multiline-fields=true</span></pre><p id="12b3" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">使用此功能之前，请确保数据库为空。</p><p id="7f6c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">导入完成后，我可以在Neo4j桌面中可视化与Neo4j浏览器的关系。第一，我想知道有多少维基百科页面上有一个“瑞典”的超链接。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="dbd9" class="kw kx iq ms b gy mw mx l my mz">match(n:WikiPage{name:'Sweden'})-[r:RELATION]-&gt;(m) return count(m)</span><span id="51b6" class="kw kx iq ms b gy ne mx l my mz">count(m) : 840</span></pre><p id="d7db" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这个结果表明，840个维基百科页面在维基百科页面上有一个“瑞典”的超链接。我用这个查询可视化了其中的20个。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="9030" class="kw kx iq ms b gy mw mx l my mz">match(n:WikiPage{name:'Sweden'})-[r:RELATION]-&gt;(m) return n,m limit 21</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nf"><img src="../Images/032b22cd0f269209ef6d9fa3d1e0ad7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jxmEbVn2FFWybZsIicJCWQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">一些与“瑞典”维基百科页面有关系的维基百科页面。</p></figure><p id="b270" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">结果表明，许多与“瑞典”的最初关系也是相互关联的。例如，可以从维基百科页面“瑞典”直接转到“国家元首”，距离=1，或者转到“俄罗斯”或“古巴”，距离= 2。这一点我们可以从维基百科“瑞典”的原始页面中得到证实:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/6414800fb0c02021d34cfd8552759d5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*oN8rz9fO4k8TMmTQq97hgA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从<a class="ae kv" href="https://en.wikipedia.org/wiki/Sweden" rel="noopener ugc nofollow" target="_blank">维基百科“瑞典”页面复制文字。</a></p></figure><p id="1621" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在这种情况下，最短路径算法将选择路径“瑞典”-&gt;“国家元首”，因为这条路径的距离最短。</p><h2 id="aab8" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">寻找最短路径</h2><p id="17d3" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">现在，我终于可以使用图算法来找到这个图中两个节点之间的最短路径。首先，我需要从Neo4j桌面中的插件安装图形数据科学库。为了使用GDS库中包含的算法，<a class="ae kv" href="https://neo4j.com/docs/graph-data-science/current/management-ops/projections/graph-project/" rel="noopener ugc nofollow" target="_blank">要求图形被投影</a>。投影一个图形是通过下面的查询完成的。关于投影图的更多细节可以在<a class="ae kv" href="https://neo4j.com/docs/graph-data-science/current/management-ops/projections/graph-project/" rel="noopener ugc nofollow" target="_blank">这里</a>找到:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="d5fa" class="kw kx iq ms b gy mw mx l my mz">CALL gds.graph.project('myGraph','WikiPage','RELATION',{relationshipProperties:'distance'})</span></pre><p id="61db" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">为了找到图中的最短路径，我选择使用Dijkstra的算法。</p><blockquote class="nh ni nj"><p id="7dfe" class="ls lt nk lu b lv ml jr lx ly mm ju ma nl mn mc md nm mo mf mg nn mp mi mj mk ij bi translated">Dijkstra算法是一种用于寻找图中节点之间的最短路径的算法，该图可以表示例如<strong class="lu ir"> </strong>道路网络。它是由计算机科学家Edsger W. Dijkstra在1956年构思的，三年后发表。<a class="ae kv" href="https://en.wikipedia.org/wiki/Dijkstra's_algorithm" rel="noopener ugc nofollow" target="_blank">【1】</a></p></blockquote><p id="bdd9" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我不会详细解释Dijstra的算法是如何工作的，但下面的动画显示了主要的算法。在这里可以找到一个很好的解释<a class="ae kv" href="https://www.geeksforgeeks.org/dijkstras-shortest-path-algorithm-greedy-algo-7/" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/37ddff76084695ec7c019880c0ed83be.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/1*15KkonMRnHdbzGhFw0PXCA.gif"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Dijkstra算法的动画由<a class="ae kv" href="https://commons.wikimedia.org/wiki/File:Dijkstra_Animation.gif" rel="noopener ugc nofollow" target="_blank"> Ibmua制作。在公共领域发布。</a></p></figure><p id="c955" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在可以用下面的查询运行Dijkstra的算法了。为了测试算法，我想找到从“瑞典”到“德拉库拉”的最短路径。</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="091b" class="kw kx iq ms b gy mw mx l my mz">MATCH (source:WikiPage {name: "Sweden"}), (target:WikiPage {name: "Dracula"})</span><span id="e2b2" class="kw kx iq ms b gy ne mx l my mz">CALL gds.shortestPath.dijkstra.stream('myGraph', { sourceNode: source, targetNode: target, relationshipWeightProperty: 'distance'})</span><span id="277f" class="kw kx iq ms b gy ne mx l my mz">YIELD index, sourceNode, targetNode, totalCost, nodeIds, costs, path</span><span id="f92c" class="kw kx iq ms b gy ne mx l my mz">RETURN<br/>index, gds.util.asNode(sourceNode).name AS sourceNodeName, gds.util.asNode(targetNode).name AS targetNodeName, totalCost, [nodeId IN nodeIds | gds.util.asNode(nodeId).name] AS nodeNames, costs, nodes(path) as path</span><span id="fa14" class="kw kx iq ms b gy ne mx l my mz">ORDER BY index</span><span id="fc3f" class="kw kx iq ms b gy ne mx l my mz">--------------------------------------------------------------------</span><span id="a8cf" class="kw kx iq ms b gy ne mx l my mz">Result:</span><span id="0dec" class="kw kx iq ms b gy ne mx l my mz">index: 0<br/>sourceNodeName: “Sweden”<br/>targetNodeName: “Dracula”<br/>totalCost: 3.0<br/>nodeNames: ["Sweden", "Industrial Revolution", "Lord Byron", "Dracula"]<br/>costs: [0.0, 1.0, 2.0, 3.0]</span></pre><p id="f4bb" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">结果显示，从“瑞典”到“德拉库拉”至少需要三个链接。该路径可以在下图所示的图表中可视化:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/c26c577ed312e95a00fe55bcfdcae9d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*NwVK37pwD5dHFNBfevfo1w.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从维基百科页面“瑞典”到“德古拉”的最短路径。</p></figure><p id="09b0" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">通过使用Wikipedia.com，我可以确认这条路径存在，并且我相信实现的Dijkstra算法已经找到了最短的路径。</p><p id="7bd5" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在<a class="ae kv" href="https://www.thewikigame.com/group" rel="noopener ugc nofollow" target="_blank">thewikigame.com</a>不同的人正在竞争从源页面中寻找目标页面。每120秒就会有一个新的目标和源维基百科页面被公布。谁能最快地从源页面到达目标页面，谁就赢得了比赛。我不会用我的代码挑战这些玩家，因为那会被认为是作弊。我想用玩游戏的结果来比较参赛者与Dijkstra算法找到的最优解的接近程度。为了将我的算法与最好的wikiracers进行比较，我编写了一个简短的Python代码，它从上一次运行中获取源页面和目标页面，并使用Dijkstra算法。结果如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/b188a7c3bd4152011c37393acadf4b8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNR-KCO6DcPohOCbj5L3Ww.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">显示从thewikigame.com出发的最快路径与Dijkstra算法找到的最短路径相比的数据帧。</p></figure><p id="83d7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">如上表所示，DijkstrasPath总是短于或等于fastestPath，这是一个人在thewikigame.com上找到的最快路径。然而，令人印象深刻的是，有些人实际上发现了一条长度与DijkstrasPath相等的路径。记住，这个问题可能有很多不同的最短路径，从而导致多个解。thewikigame.com上的玩家通常用30-90秒找到最快的路径，而Dijkstra的算法用1-2秒。如果我们看看从“拉什·林堡”到“动物”的路径，Wikirace上最快的路径长度是6，Dijkstra找到了一条长度为4的更短的路径，如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/fc5b2204e2a7688f354a5b7664c5f973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zquhKTPPO5-M6EkBAmO_0w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">比较由Dijkstra算法找到的路径和Wikirace中的竞赛获胜者。</p></figure><p id="56df" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">由此得出结论，有可能使用图算法，例如Dijkstra算法，找到两个维基百科页面之间的最短路径，并有可能赢得维基百科。这个项目中使用的数据集的一个问题是数据集来自2013年。过时的数据集可能会导致问题，因为2013年的一些路径现在已经不存在了。自2013年以来，还实施了某些新路径。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><h1 id="b502" class="nz kx iq bd ky oa ob oc lb od oe of le jw og jx li jz oh ka lm kc oi kd lq oj bi translated">Neo4j GDS中的其他图算法</h1><p id="9314" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">当图表被投影时，我想对维基百科数据集做更多的分析。比如:哪些维基百科页面被其他维基百科页面引用最多？我不是维基百科专家，但我猜有很多关系的维基百科网站将是一个开始比赛的好地方。</p><p id="3354" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">Neo4j的算法叫做<a class="ae kv" href="https://neo4j.com/developer/graph-data-science/centrality-graph-algorithms/" rel="noopener ugc nofollow" target="_blank">中心性算法</a>。</p><blockquote class="nh ni nj"><p id="5b76" class="ls lt nk lu b lv ml jr lx ly mm ju ma nl mn mc md nm mo mf mg nn mp mi mj mk ij bi translated">中心性算法用于确定网络中不同节点的重要性。<a class="ae kv" href="https://neo4j.com/developer/graph-data-science/centrality-graph-algorithms/" rel="noopener ugc nofollow" target="_blank">【2】</a></p></blockquote><p id="3376" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">一种特殊的中心算法，<a class="ae kv" href="https://neo4j.com/docs/graph-data-science/current/algorithms/page-rank/" rel="noopener ugc nofollow" target="_blank">页面排名</a>，可以帮助我找到最重要的节点，或者维基百科网站。</p><blockquote class="nh ni nj"><p id="1d00" class="ls lt nk lu b lv ml jr lx ly mm ju ma nl mn mc md nm mo mf mg nn mp mi mj mk ij bi translated">PageRank算法根据传入关系的数量和相应源节点的重要性来衡量图中每个节点的重要性。<a class="ae kv" href="https://neo4j.com/docs/graph-data-science/current/algorithms/page-rank/" rel="noopener ugc nofollow" target="_blank">【3】</a></p></blockquote><p id="70ec" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我可以用这个查询运行PageRank算法:</p><pre class="kg kh ki kj gt mr ms mt mu aw mv bi"><span id="3c55" class="kw kx iq ms b gy mw mx l my mz">CALL gds.pageRank.stream('myGraph')<br/>YIELD nodeId, score<br/>RETURN gds.util.asNode(nodeId).name AS name, scoreORDER BY score DESC, name ASC</span></pre><p id="ccbf" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">结果很有趣。下图显示“美国”是数据集中最重要的节点。其他重要的节点也是国家。根据这一分析，我建议在维基百科开始时选择一个主要的国家来尝试进入维基百科页面。更有调查显示，“美国”在维基百科页面上有938个超链接，其他维基百科页面有431705个超链接指向“美国”的维基百科页面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/1be4faa9bdcabf0f347ad04729906e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*lrqWjGtf7ETyafNjaf36xA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用PageRank算法发现维基百科图数据库中最重要的节点</p></figure><p id="cb85" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我还可以通过对结果进行升序排序来探索不太重要的节点。结果显示许多节点具有同样低的分数。通过观察图中的节点，我可以看到它们只有一个关系。得分如此低的许多节点或维基百科页面今天都进行了更新，比2013年的数据集有更多的关系。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/87b3ac890931c4e1e916206b60cf7abf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*fkSePWC56jVeb4RpQ7XrkA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用PageRank算法发现维基百科图数据库中的次要节点</p></figure><h2 id="03ba" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">进一步分析</h2><p id="2a2d" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">对随机维基百科页面的进一步分析可以在下面的柱状图中看到。该图显示了引用随机页面的超链接和引用随机页面中其他维基百科页面的超链接之间的差异。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/4b025969ad3e6bb345b3506a535a6b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*woN-zaNcGHab-hmRWiFiGw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">比较随机维基百科页面的超链接引用。</p></figure><p id="8b6b" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">例如，“Elon Musk”的维基百科页面有大约10个指向其他维基百科页面的超链接(出)，并且几乎与指向“Elon Musk”维基百科页面的超链接数量相等(入)。乍一看，“MacGyver”在维基百科中的引用比“Elon Musk”多，这很奇怪。但如前所述，数据集来自2013年。如果我在Google Trends中进一步调查，结果显示“MacGyver”的Google搜索点击量大于“Elon Musk”。但如图所示，2010年后“埃隆·马斯克”的趋势是上升的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/7e80d16c77411b9c008d69be200ae440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r41Z8RRUBR4x_muud15rpQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">埃隆马斯克和麦吉弗在美国的谷歌趋势。</p></figure><h2 id="406f" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结论</h2><p id="00ee" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">这个项目的目标是应用某种算法在维基百科中找到最佳路径。在这篇文章中，我展示了使用Neo4j GDB、图形数据科学和Dijkstra的算法以及斯坦福大学维基百科关系数据集来找到最佳路径是可能的。然后，我将一些真实的维基百科与Dijkstra算法找到的最佳路径进行了比较。尽管Dijkstra的算法几乎总能找到最短的路径，但很少有wikiraces具有相同的路径长度。有了结果，我可以断定这个项目是成功的，我找到了最优解。如前所述，数据集来自2013年，这个项目只能保证找到2013年维基百科页面的最佳路径。</p><p id="4fa9" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">最后，我研究了其他一些GDS算法，并对结果做了进一步的分析。这个项目仅用于教育目的，并不打算在游戏中使用，如维基百科。</p><h2 id="6671" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">参考</h2><p id="c0a2" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><a class="ae kv" href="https://en.wikipedia.org/wiki/Dijkstra's_algorithm" rel="noopener ugc nofollow" target="_blank">【1】</a>—迪杰斯特拉算法，维基百科<br/><a class="ae kv" href="https://neo4j.com/developer/graph-data-science/centrality-graph-algorithms/" rel="noopener ugc nofollow" target="_blank">【2】</a>—中心性算法，Neo4j<br/><a class="ae kv" href="https://neo4j.com/docs/graph-data-science/current/algorithms/page-rank/" rel="noopener ugc nofollow" target="_blank">【3】</a>—page rank，Neo4j</p><p id="098e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><a class="ae kv" href="https://www.linkedin.com/in/peder-ward-158b87b4/" rel="noopener ugc nofollow" target="_blank"> <em class="nk">领英儿科</em> </a></p></div></div>    
</body>
</html>