<html>
<head>
<title>The Only 30 Methods You Should Master To Become A Pandas Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">成为熊猫专家你应该掌握的30种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-only-30-methods-you-should-master-to-become-a-pandas-pro-749795084bb2#2022-10-11">https://towardsdatascience.com/the-only-30-methods-you-should-master-to-become-a-pandas-pro-749795084bb2#2022-10-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1e56" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">在使用熊猫三年多之后，这里是我几乎一直使用的30种方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/8f6262ee170d508bd3d418f6d3b75814.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mXergPC5ziQ_N0Bs"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">格伦·卡斯滕斯-彼得斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="e0c4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas无疑是Python中为表格数据争论和处理任务而构建的最好的库之一。</p><p id="53d0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">由于是开源的，来自世界各地的众多开发人员为它的开发做出了贡献，并使它达到了今天的水平——支持各种任务的数百种方法。</p><p id="05b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然而，如果你是一个新手，并试图在熊猫图书馆得到一个稳固的位置，如果你从熊猫的官方文件开始，事情一开始会显得非常令人生畏和令人不知所措。</p><p id="f5e4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">主题列表如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/0ae2ec2154ec24eb7ae898db27dd6fb0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*uFpwpI7MWb5daboxtHUwwA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">熊猫官方API文档中的主题列表(图片由作者提供)(来源:<a class="ae kv" href="https://pandas.pydata.org/docs/user_guide/index.html" rel="noopener ugc nofollow" target="_blank">此处</a>)</p></figure><p id="f2d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我自己也去过那里，这个博客旨在帮助你开始接触熊猫。</p><p id="fcc0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">换句话说，在这篇博客中，我将回顾我3年多来使用熊猫的经验，并分享我几乎一直使用的30种具体方法。</p><p id="be3f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里找到这篇文章<a class="ae kv" href="https://deepnote.com/workspace/avi-chawla-695b-aee6f4ef-2d50-4fb6-9ef2-20ee1022995a/project/Untitled-project-1673f17b-3f5c-46f7-a40a-0576addb3113/%2Fnotebook.ipynb" rel="noopener ugc nofollow" target="_blank">的代码。</a></p><p id="440f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们开始吧🚀！</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><h1 id="29b8" class="ma mb iq bd mc md me mf mg mh mi mj mk jw ml jx mm jz mn ka mo kc mp kd mq mr bi translated">导入库</h1><p id="cdee" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">当然，如果你想使用熊猫库，你应该导入它。这里广泛采用的惯例是将<code class="fe mx my mz na b">pandas</code>的别名设置为<code class="fe mx my mz na b">pd</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><h1 id="8888" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#1阅读CSV</h1><p id="efd8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">CSV通常是读取熊猫数据帧最流行的文件格式。</p><p id="63ed" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以使用<code class="fe mx my mz na b">pd.read_csv()</code>方法创建一个熊猫数据帧:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nc l"/></div></figure><p id="c7cc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以验证使用<code class="fe mx my mz na b">type()</code>方法创建的对象的类型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nc l"/></div></figure><h1 id="daa2" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#2将数据帧存储到CSV</h1><p id="f4ee" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">正如CSV普遍用于读取数据帧一样，它们也广泛用于转储数据帧。</p><p id="0e76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用如下所示的<code class="fe mx my mz na b">df.to_csv()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nb nc l"/></div></figure><p id="2112" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">分隔符(<code class="fe mx my mz na b">sep</code>)表示列分隔符，而<code class="fe mx my mz na b">index=False</code>指示Pandas<strong class="ky ir">而非</strong>将数据帧的索引写入CSV文件。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nk nc l"/></div></figure><h1 id="c955" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated"># 3–4创建数据框架</h1><p id="82af" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">为了创建熊猫数据帧，使用了<code class="fe mx my mz na b">pd.DataFrame()</code>方法:</p><h2 id="35c4" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">从列表列表中</h2><p id="2893" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">一种流行的方法是将给定的列表转换成数据帧:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nc l"/></div></figure><h2 id="50ff" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">从字典上</h2><p id="9bd0" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">另一种流行的方法是将Python字典转换成数据帧:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nc l"/></div></figure><p id="4733" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在这里阅读更多关于创建数据框架<a class="ae kv" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><h1 id="746e" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#5数据帧的形状</h1><p id="01d7" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">数据帧本质上是一个带有列标题的矩阵。因此，它有特定的行数和列数。</p><p id="6ea2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以用<code class="fe mx my mz na b">shape</code>参数打印尺寸，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ny nc l"/></div></figure><p id="1430" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，元组的第一个元素(<code class="fe mx my mz na b">2</code>)是行数，第二个元素(<code class="fe mx my mz na b">3</code>)是列数。</p><h1 id="d005" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#6查看前N行</h1><p id="0df8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">通常，在现实世界的数据集中，您会有许多行。</p><p id="4162" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这种情况下，人们通常只对查看数据帧的前几行<code class="fe mx my mz na b">n</code>感兴趣。</p><p id="b02e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe mx my mz na b">df.head(n)</code>方法打印第一个<code class="fe mx my mz na b">n</code>行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz nc l"/></div></figure><h1 id="d0f2" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#7打印列的数据类型</h1><p id="339e" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">Pandas为数据帧中的每一列分配适当的数据类型。</p><p id="47ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe mx my mz na b">dtypes</code>参数打印所有列的数据类型:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa nc l"/></div></figure><h1 id="0945" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#8修改列的数据类型</h1><p id="0066" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果你想改变一个列的数据类型，你可以使用如下的<code class="fe mx my mz na b">astype()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ob nc l"/></div></figure><h1 id="1cb9" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated"># 9–10打印关于数据帧的描述性信息</h1><h2 id="1795" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法1</h2><p id="2ad5" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">第一种方法(<code class="fe mx my mz na b">df.info()</code>)用于打印缺失值统计和数据类型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oc nc l"/></div></figure><h2 id="00fe" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法2</h2><p id="0dad" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">这相对更具描述性，并打印标准统计数据，如<code class="fe mx my mz na b">mean</code>、<code class="fe mx my mz na b">standard deviation</code>、<code class="fe mx my mz na b">maximum</code>等。每个<strong class="ky ir">数值型</strong>列的。</p><p id="8127" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">方法是<code class="fe mx my mz na b">df.describe()</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="od nc l"/></div></figure><h1 id="9632" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#11填充NaN值</h1><p id="2438" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在现实世界的数据集中，缺失数据几乎是不可避免的。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oe nc l"/></div></figure><p id="dd22" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里，您可以使用<code class="fe mx my mz na b">df.fillna()</code>方法将它们替换为一个特定的值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="of nc l"/></div></figure><p id="a509" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我之前的博客中阅读更多关于处理缺失数据的内容:</p><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/why-you-should-handle-missing-data-and-heres-how-to-do-it-270c321a4d6f"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">为什么应该处理丢失的数据，下面是如何做的</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">使用熊猫处理丢失数据的综合指南</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="ot l ou ov ow os ox kp oj"/></div></div></a></div><h1 id="878e" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#12连接数据框</h1><p id="adcb" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果想用连接键合并两个数据帧，使用<code class="fe mx my mz na b">pd.merge()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy nc l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oz nc l"/></div></figure><h1 id="7bdf" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#13排序数据帧</h1><p id="2537" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">排序是数据科学家用来排序数据帧的另一种典型操作。</p><p id="ca26" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe mx my mz na b">df.sort_values()</code>方法对数据帧进行排序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pa nc l"/></div></figure><h1 id="41ec" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#14对数据帧进行分组</h1><p id="a0f3" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要对数据帧进行分组并执行聚合，请在Pandas中使用<code class="fe mx my mz na b">groupby()</code>方法，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pb nc l"/></div></figure><h1 id="a716" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#15重命名列</h1><p id="e970" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果您想要重命名列标题，请使用<code class="fe mx my mz na b">df.rename()</code>方法，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pb nc l"/></div></figure><h1 id="9e3c" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#16删除列</h1><p id="378c" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果你想删除一列，使用<code class="fe mx my mz na b">df.drop()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pb nc l"/></div></figure><h1 id="23ce" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#17添加新列</h1><p id="9732" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">添加新列的两种广泛使用的方法是:</p><h2 id="b107" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法1</h2><p id="57c6" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">您可以使用赋值运算符来添加新列:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pc nc l"/></div></figure><h2 id="2ff6" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法2</h2><p id="4626" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">或者，您也可以使用如下的<code class="fe mx my mz na b">df.assign()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nc l"/></div></figure><h1 id="0fcb" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated"># 18–21过滤数据帧</h1><p id="99fa" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">基于条件过滤数据帧有多种方法。</p><h2 id="019d" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法1:布尔过滤</h2><p id="60b8" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">这里，如果一行上的条件评估为<code class="fe mx my mz na b">True</code>，则选择该行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nc l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">对于要过滤的行，<code class="fe mx my mz na b"><strong class="ak">col2</strong></code>中的值应大于<strong class="ak"> 5 </strong>。</p></figure><p id="7c45" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mx my mz na b">isin()</code>方法用于选择其值属于一个值列表的行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pd nc l"/></div></figure><p id="c235" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">你可以在我之前的博客中读到基于字符串的过滤:</p><div class="og oh gp gr oi oj"><a rel="noopener follow" target="_blank" href="/5-string-based-filtering-methods-every-pandas-user-should-know-48021938412e"><div class="ok ab fo"><div class="ol ab om cl cj on"><h2 class="bd ir gy z fp oo fr fs op fu fw ip bi translated">每个熊猫用户都应该知道的5种基于字符串的过滤方法</h2><div class="oq l"><h3 class="bd b gy z fp oo fr fs op fu fw dk translated">字符串列过滤指南。</h3></div><div class="or l"><p class="bd b dl z fp oo fr fs op fu fw dk translated">towardsdatascience.com</p></div></div><div class="os l"><div class="pe l ou ov ow os ox kp oj"/></div></div></a></div><h2 id="15cf" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法2:获取列</h2><p id="9a09" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">您也可以按如下方式过滤整列:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa nc l"/></div></figure><h2 id="c097" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法3:按标签选择</h2><p id="af04" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">在基于标签的选择中，要求的每个标签都必须在数据帧的索引中。</p><blockquote class="pf pg ph"><p id="cb67" class="kw kx pi ky b kz la jr lb lc ld ju le pj lg lh li pk lk ll lm pl lo lp lq lr ij bi translated">整数也是有效的标签，但是它们指的是标签而不是位置。</p></blockquote><p id="e2a3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑下面的数据帧。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pm nc l"/></div></figure><p id="294a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用<code class="fe mx my mz na b">df.loc</code>方法进行基于标签的选择。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa nc l"/></div></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pn nc l"/></div></figure><p id="1a77" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">但是在<code class="fe mx my mz na b">df.loc[]</code>中，不允许使用位置来过滤数据帧，如下图所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="po nc l"/></div></figure><p id="cdd7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了达到上述目的，您应该使用<code class="fe mx my mz na b">df.iloc[]</code>进行基于位置的选择。</p><h2 id="4258" class="nl mb iq bd mc nm nn dn mg no np dp mk lf nq nr mm lj ns nt mo ln nu nv mq nw bi translated">方法4:按职位选择</h2><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oa nc l"/></div></figure><h1 id="f883" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated"># 22–23在数据帧中查找唯一值</h1><p id="84d3" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要打印一列中的所有不同值，请使用<code class="fe mx my mz na b">unique()</code>方法。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pp nc l"/></div></figure><p id="aba3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您想打印唯一值的数量，请使用<code class="fe mx my mz na b">nunique()</code>代替。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nj nc l"/></div></figure><h1 id="ef7b" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#24将函数应用于数据帧</h1><p id="c3bb" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">如果您想对列应用函数，使用如下所示的<code class="fe mx my mz na b"><em class="pi">apply()</em></code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pq nc l"/></div></figure><p id="c3d6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您也可以将一种方法应用于单个列，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pq nc l"/></div></figure><h1 id="4437" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated"># 25–26处理重复</h1><p id="b548" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">您可以使用<code class="fe mx my mz na b">df.duplicated()</code>方法标记所有重复的行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pr nc l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">所有重复的行被标记为<strong class="ak">真</strong>，keep =假。</p></figure><p id="2bea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，您可以使用<code class="fe mx my mz na b">df.drop_duplicates()</code>方法删除重复的行，如下所示:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx nc l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">保留重复行的一个副本。</p></figure><h1 id="b9e5" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#27寻找值的分布</h1><p id="56f3" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要查找列中每个唯一值的频率，使用<code class="fe mx my mz na b"> value_counts()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pb nc l"/></div></figure><h1 id="1047" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#28重置数据帧的索引</h1><p id="f963" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要重置数据帧的索引，使用<code class="fe mx my mz na b">df.reset_index()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pm nc l"/></div></figure><p id="cc2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要删除旧索引，请将<code class="fe mx my mz na b">drop=True</code>作为参数传递给上述方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ps nc l"/></div></figure><h1 id="0c4f" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#29查找交叉列表</h1><p id="67d3" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">要返回跨两列的每个值组合的频率，请使用<code class="fe mx my mz na b">pd.crosstab()</code>方法:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pt nc l"/></div></figure><h1 id="08c8" class="ma mb iq bd mc md nd mf mg mh ne mj mk jw nf jx mm jz ng ka mo kc nh kd mq mr bi translated">#30旋转数据框</h1><p id="77ce" class="pw-post-body-paragraph kw kx iq ky b kz ms jr lb lc mt ju le lf mu lh li lj mv ll lm ln mw lp lq lr ij bi translated">数据透视表是Excel中常用的数据分析工具。与上面讨论的交叉表类似，Pandas中的数据透视表提供了一种交叉制表的方法。</p><p id="c1ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">考虑下面的数据框架:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pu nc l"/></div></figure><p id="bfa4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe mx my mz na b">pd.pivot_table()</code>方法，您可以将列条目转换为列标题:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="pr nc l"/></div></figure></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="6e7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">恭喜🎊，你已经了解了熊猫最有用的30种方法。</p><p id="ed06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">总之，我可以自信地说，你可能会在95%的时间里用这些方法和熊猫打交道。</p><p id="257d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这项研究得到了我自己的经验以及与其他数据科学家的合作和看到他们的工作的支持。</p><p id="f9ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读。我希望这篇文章是有帮助的。</p></div><div class="ab cl lt lu hu lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="ij ik il im in"><p id="e694" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://avichawla.substack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">🚀订阅每日数据科学。在这里，我分享关于数据科学的优雅技巧和诀窍，一天一个技巧。每天在你的收件箱里收到这些提示。</strong> </a></p><p id="191a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://subscribepage.io/450q" rel="noopener ugc nofollow" target="_blank"> 🧑‍💻<strong class="ky ir">成为数据科学专家！获取包含450多个熊猫、NumPy和SQL问题的免费数据科学掌握工具包。</strong>T12】</a></p><p id="f15f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">✉️ <a class="ae kv" href="https://medium.com/subscribe/@avi_chawla" rel="noopener"> <strong class="ky ir">注册我的电子邮件列表</strong> </a>不要错过另一篇关于数据科学指南、技巧和提示、机器学习、SQL、Python等的文章。Medium会将我的下一篇文章直接发送到你的收件箱。</p></div></div>    
</body>
</html>