<html>
<head>
<title>All About Pandas Groupby Explained with 25 Examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用25个例子来解释熊猫群</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/all-about-pandas-groupby-explained-with-25-examples-494e04a8ef56#2022-08-18">https://towardsdatascience.com/all-about-pandas-groupby-explained-with-25-examples-494e04a8ef56#2022-08-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="2907" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">探索性数据分析的有效工具</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/640647afa23e2958d567b41fea47053a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2D-psG89Yc_vpQo3q47CQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">莎伦·皮特韦在<a class="ae ky" href="https://unsplash.com/s/photos/colors?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="5697" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">groupby是数据分析中最常用的Pandas函数之一。它用于根据给定列中的不同值对数据点(即行)进行分组。然后，我们可以计算生成的组的聚合值。</p><p id="bf5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们有一个包含汽车品牌和价格信息的数据集，groupby函数可用于计算每个品牌的平均价格。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lv"><img src="../Images/83efcb7962a7ee4aa34e7e33ec902af2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ofIxylcDjO2stXjHVctJ8A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="679d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过25个例子来尝试发现groupby函数的全部潜力。即使你习惯使用这个函数，我还是建议你继续读下去，因为我们还会介绍一些不常用但对各种任务都很有用的操作。</p><p id="8bd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我用模拟数据创建了一个销售数据集。让我们首先用这个数据集创建一个数据帧。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f39e" class="mb mc it lx b gy md me l mf mg">import pandas as pd</span><span id="99bb" class="mb mc it lx b gy mh me l mf mg">sales = pd.read_csv("sales_data.csv")</span><span id="9041" class="mb mc it lx b gy mh me l mf mg">sales.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mi"><img src="../Images/ce4913945405bdd5359a43936b272fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ClOZRPhFsJ86uYaKL8ulFQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8c0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例1:单个聚合</strong></p><p id="82d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以计算每个商店的平均库存数量，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="5721" class="mb mc it lx b gy md me l mf mg">sales.groupby("store")["stock_qty"].mean()</span><span id="769f" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output:</strong></span><span id="4326" class="mb mc it lx b gy mh me l mf mg">store<br/>Daisy      1811.861702<br/>Rose       1677.680000<br/>Violet    14622.406061<br/>Name: stock_qty, dtype: float64</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="91ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例2:多个聚合</strong></p><p id="7793" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在一次操作中完成多个聚合。下面是我们如何计算每个商店的平均库存数量和价格。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="c61c" class="mb mc it lx b gy md me l mf mg">sales.groupby("store")[["stock_qty","price"]].mean()</span><span id="8528" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output:</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/e08b15461429d9b2297aa96706930977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QSFCjrMMu4aMcazmdZDOlQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="8500" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">确保在Python列表中写入要聚合的列。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="085b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例3:多个聚合— 2 </strong></p><p id="1c92" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用agg函数来计算多个聚合值。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="f934" class="mb mc it lx b gy md me l mf mg">sales.groupby("store")["stock_qty"].agg(["mean", "max"])</span><span id="5760" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/382f3e99703e37d8567cdf0d1dd51b19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hwDks6psIdyLNbuCVmiRSQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="a2f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例4:命名聚合</strong></p><p id="caa3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前两个例子中，不清楚聚合列代表什么。例如，“平均值”并没有告诉我们它是库存数量的平均值。在这种情况下，我们可以使用命名聚合。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="c9cf" class="mb mc it lx b gy md me l mf mg">sales.groupby("store").agg(<br/>    <br/>    avg_stock_qty = ("stock_qty", "mean"),<br/>    max_stock_qty = ("stock_qty", "max")</span><span id="9a78" class="mb mc it lx b gy mh me l mf mg">)</span><span id="3199" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/1e0bfb3ce564ec77165d3aa8aeeacbd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QId6tvSNeJFOquMWc0quDA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="9f70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要聚合的列和函数名写在一个元组中。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="f4d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例5:多个聚合和多个函数</strong></p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="9920" class="mb mc it lx b gy md me l mf mg">sales.groupby("store")[["stock_qty","price"]].agg(["mean", "max"])</span><span id="46f5" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/17736159898273b53d85f26215f3e91d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yS5vK4JWxYFvOmUEVHsMYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b4ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例6:使用不同列的命名聚合</strong></p><p id="ac0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以对不同的列和函数使用命名聚合。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="3b60" class="mb mc it lx b gy md me l mf mg">sales.groupby("store").agg(<br/>    <br/>    avg_stock_qty = ("stock_qty", "mean"),<br/>    avg_price = ("price", "mean")</span><span id="7e83" class="mb mc it lx b gy mh me l mf mg">)</span><span id="3f6f" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/6f11652ee1b51901211361a28cd46a0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u5WP2D6353dnwsFKo_uDmg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="ed7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例7: as_index参数</strong></p><p id="975b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果groupby操作的输出是DataFrame，则组值显示在索引中。我们可以使用as_index参数使它们成为数据帧中的一列。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="db3a" class="mb mc it lx b gy md me l mf mg">sales.groupby("store", as_index=False).agg(<br/>    <br/>    avg_stock_qty = ("stock_qty", "mean"),<br/>    avg_price = ("price", "mean")</span><span id="f0f2" class="mb mc it lx b gy mh me l mf mg">)</span><span id="8d49" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/a24f1641657073fda651db92761ff0c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vKKfzV-Qufn5TTDjWbcF3A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="7573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例8:用于分组的多列</strong></p><p id="c73c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像我们可以聚合多个列一样，我们可以使用多个列进行分组。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="8ddd" class="mb mc it lx b gy md me l mf mg">sales.groupby(["store","product_group"], as_index=False).agg(<br/>   <br/>    avg_sales = ("last_week_sales", "mean")<br/>    <br/>).head()</span><span id="5f87" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/e9919b6e1ed23a74faaeaddc3ecc37ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N54hLR3mfB6A3AOB3aJtTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="33dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为每个商店-产品组组合生成一个组。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="4d7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例9:对输出进行排序</strong></p><p id="9707" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用sort_values函数根据聚合列对输出进行排序。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="9c93" class="mb mc it lx b gy md me l mf mg">sales.groupby(["store","product_group"], as_index=False).agg(</span><span id="a910" class="mb mc it lx b gy mh me l mf mg">   avg_sales = ("last_week_sales", "mean")<br/>    <br/>).sort_values(by="avg_sales", ascending=False).head()</span><span id="cdd4" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mq"><img src="../Images/cc87678624cd48d55f903ec0e70081fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-PxXIzNxDV1NOHu8IIgjXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="5462" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些行根据平均销售额按降序排序。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="e314" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例10:最大n值</strong></p><p id="6e00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">max函数返回每组的最大值。如果我们需要最大的n个值，我们可以使用nlargest函数。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="654b" class="mb mc it lx b gy md me l mf mg"># largest 2 values<br/>sales.groupby("store")["last_week_sales"].nlargest(2)</span><span id="b2c4" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output<br/></strong>store      <br/>Daisy   413    1883<br/>        231     947<br/>Rose    948     883<br/>        263     623<br/>Violet  991    3222<br/>        339    2690<br/>Name: last_week_sales, dtype: int64</span></pre><p id="d971" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到它们的行的值和索引，这可用于访问整行。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="0c0a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例11:最小的n值</strong></p><p id="2073" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">nsmallest函数返回每个组的n个最小值。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="1f9e" class="mb mc it lx b gy md me l mf mg"># smallest 2 values<br/>sales.groupby("store")["last_week_sales"].nsmallest(2)</span><span id="8c7b" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong><br/>store      <br/>Daisy   23     12<br/>        52     12<br/>Rose    304    12<br/>        320    12<br/>Violet  20     12<br/>        21     12<br/>Name: last_week_sales, dtype: int64</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="6374" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例12:第n个值</strong></p><p id="4c28" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以求出一个组中的第n个值。让我们首先按照商店和上个月的销售列对销售数据框架进行排序。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="227a" class="mb mc it lx b gy md me l mf mg">sales_sorted = sales.sort_values(by=["store","last_month_sales"], ascending=False, ignore_index=True)</span></pre><p id="5106" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以找到每个商店上个月销售额第五高的产品，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="c79d" class="mb mc it lx b gy md me l mf mg">sales_sorted.groupby("store").nth(4)</span><span id="8ce6" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/6cd935740bccbf3a52c9a617ef79d12b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*meXWd6z0A5ZuJUXlUhFJrQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="234c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出包含每个组的第5行。因为行是根据上个月的销售额排序的，所以我们得到上个月销售额第五高的行。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="3bdb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例13:索引为负的第n个</strong></p><p id="1664" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们也可以使用带有负值的第n个。例如，“nth(-2)”返回从末尾开始的第二行。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="0189" class="mb mc it lx b gy md me l mf mg">sales_sorted.groupby("store").nth(-2)</span><span id="12cb" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/35b9d9ea7b962094951d90ba4731b86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wCfPF-CFW_fXcArCfVoiKQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="db2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例14:唯一值</strong></p><p id="669c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">唯一函数可用于查找每个组中的唯一值。例如，我们可以在每个组中找到唯一的产品代码，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="eb11" class="mb mc it lx b gy md me l mf mg">sales.groupby("store", as_index=False).agg(</span><span id="fe91" class="mb mc it lx b gy mh me l mf mg">   unique_values = ("product_code","unique")</span><span id="b727" class="mb mc it lx b gy mh me l mf mg">)</span><span id="817b" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/f2898d532c68c4656045b955edd807ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n9PCXHNxaxH1Gj4yxneRcQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8f68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例15:唯一值的数量</strong></p><p id="d3b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以使用nunique函数找到每个组中唯一值的数量。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="15e7" class="mb mc it lx b gy md me l mf mg">sales.groupby("store", as_index=False).agg(</span><span id="2a05" class="mb mc it lx b gy mh me l mf mg">   number_of_unique_values = ("product_code","nunique")</span><span id="dc61" class="mb mc it lx b gy mh me l mf mg">)</span><span id="ac8a" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/c169992bb8abc451617ed041fbbf62c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GElLLPTANC-unt94XiVknw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="3b44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例16: Lambda表达式</strong></p><p id="6595" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以在agg函数中使用lambda表达式作为聚合。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="acb8" class="mb mc it lx b gy md me l mf mg">sales.groupby("store").agg(<br/>    <br/>    total_sales_in_thousands = (<br/>        "last_month_sales", <br/>        lambda x: round(x.sum() / 1000, 1)<br/>    )<br/>    <br/>)</span><span id="ca56" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/b29bed2a47c8f0077c9b4d0f9ca3560b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpU5ECyQR731nPj1llU6cA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="475e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例17:带有apply的Lambda表达式</strong></p><p id="3f77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Lambda表达式可以使用apply函数应用于每个组。例如，我们可以计算每个商店上周销售额与上月销售额四分之一之间的平均差额，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="1946" class="mb mc it lx b gy md me l mf mg">sales.groupby("store").apply(</span><span id="2e66" class="mb mc it lx b gy mh me l mf mg">    lambda x: (x.last_week_sales - x.last_month_sales / 4).mean()</span><span id="c972" class="mb mc it lx b gy mh me l mf mg">)</span><span id="163b" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output<br/></strong>store<br/>Daisy     5.094149<br/>Rose      5.326250<br/>Violet    8.965152<br/>dtype: float64</span></pre></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="efaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例18:drop na paramater。</strong></p><p id="8d0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">默认情况下，groupby函数忽略缺少的值。因此，如果用于分组的列中有缺失值，它将不会包含在任何组中，也不会单独显示。我们可以使用dropna参数来改变这种行为。</p><p id="5a3b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先添加一个缺少存储值的新行。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a7ec" class="mb mc it lx b gy md me l mf mg">sales.loc[1000] = [None, "PG2", 10000, 120, 64, 96, 15, 53]</span></pre><p id="e8c0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将计算有和没有dropna参数的每个商店的平均价格，以查看差异。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a55f" class="mb mc it lx b gy md me l mf mg"># without dropna<br/>sales.groupby("store")["price"].mean()</span><span id="86c0" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong><br/>store<br/>Daisy     69.327426<br/>Rose      60.513700<br/>Violet    67.808727<br/>Name: price, dtype: float64</span><span id="4aca" class="mb mc it lx b gy mh me l mf mg">------------------------------------------------------------------<br/># with dropna<br/>sales.groupby("store", dropna=False)["price"].mean()</span><span id="9542" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong><br/>store<br/>Daisy     69.327426<br/>Rose      60.513700<br/>Violet    67.808727<br/>NaN       96.000000<br/>Name: price, dtype: float64</span></pre><p id="49a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mv">注意</em> </strong> <em class="mv">:为了使用groupby函数的dropna参数，需要有pandas版本1.1.0或更高版本。</em></p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="e738" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例19:多少组</strong></p><p id="eff5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有时需要知道生成了多少个组，这可以使用ngroups方法找到。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="d21d" class="mb mc it lx b gy md me l mf mg">sales.groupby(["store", "product_group"]).ngroups</span><span id="1d4e" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong><br/>18</span></pre><p id="9e33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“商店”和“产品组”列中的不同值有18种不同的组合。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="215e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例20:获取特定的组</strong></p><p id="8ca3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">get_group函数可以用来获取一个特定的组作为数据帧。使用用于分组的列中的值来定义组。在使用多个列进行分组的情况下，值被写入一个元组中。</p><p id="cbed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以获得属于商店“Daisy”和产品组“PG1”的行，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="11d0" class="mb mc it lx b gy md me l mf mg">daisy_pg1 = sales.groupby(</span><span id="33ce" class="mb mc it lx b gy mh me l mf mg">    ["store", "product_group"]</span><span id="8881" class="mb mc it lx b gy mh me l mf mg">).get_group(("Daisy","PG1"))</span><span id="dcd2" class="mb mc it lx b gy mh me l mf mg">daisy_pg1.head()</span><span id="170f" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/8202e964d5dfa8a0d38c4f3a85c12657.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCSDhfw26uGalR8V7k4lEQ.png"/></div></div></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="77b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例21:分配等级</strong></p><p id="b41c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">rank函数用于根据给定列中的值为行分配等级。我们可以使用rank和groupby函数分别对每个组中的行进行排序。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="9468" class="mb mc it lx b gy md me l mf mg">sales["rank"] = sales.groupby("store")["price"].rank(</span><span id="796c" class="mb mc it lx b gy mh me l mf mg">   ascending=False, method="dense"</span><span id="76d1" class="mb mc it lx b gy mh me l mf mg">)</span><span id="81c7" class="mb mc it lx b gy mh me l mf mg">sales.head()</span><span id="4308" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mx"><img src="../Images/75f3e0a50e28fad4be88f56b6ced3e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UfTLLNhv8AQ_sFVtI5IjWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="c82f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例22:累计和</strong></p><p id="2200" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以计算每组内的累积和。让我们用简单的时间序列数据创建一个新的数据框架。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="b2c1" class="mb mc it lx b gy md me l mf mg">import numpy as np</span><span id="a69c" class="mb mc it lx b gy mh me l mf mg">df = pd.DataFrame(<br/>   {<br/>     "date": pd.date_range(start="2022-08-01", periods=8, freq="D"),<br/>     "category": list("AAAABBBB"),<br/>     "value": np.random.randint(10, 30, size=8)<br/>   }<br/>)</span><span id="542c" class="mb mc it lx b gy mh me l mf mg">df</span><span id="7a6b" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/4d1799814d97a5f19fc24e3e5ff7f1bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PIxvb8h9QtIGveTiLtuj1Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="2889" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以创建一个包含值列的累积和的列，如下所示:</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="dac1" class="mb mc it lx b gy md me l mf mg">df["cum_sum"] = df.groupby("category")["value"].cumsum()</span><span id="afeb" class="mb mc it lx b gy mh me l mf mg">df</span><span id="e8b2" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/f805d40b256d0472d33acfa6b7276f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACNXRvYLkbc_tGVhohQ5WA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="8642" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例23:展开的累加和</strong></p><p id="8b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">扩展函数提供扩展变换。我们仍然需要一个函数来进行聚合，例如均值和求和。如果它与sum函数一起使用，结果将与cumsum函数相同。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="961b" class="mb mc it lx b gy md me l mf mg">df["cum_sum_2"] = df.groupby(<br/>    "category"<br/>)["value"].expanding().sum().values</span><span id="5e0a" class="mb mc it lx b gy mh me l mf mg">df</span><span id="d34e" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/2581103eea334c5a245419b96fd4dfe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2daQ5YbR3ZthK6JdeFfyZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="868c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例24:累积平均值</strong></p><p id="33ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们还可以通过使用expanding和mean函数来计算累积平均值。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="21eb" class="mb mc it lx b gy md me l mf mg">df["cum_mean"] = df.groupby(<br/>    "category"<br/>)["value"].expanding().mean().values</span><span id="04ad" class="mb mc it lx b gy mh me l mf mg">df</span><span id="856f" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/c1eeca3a3a22daeaaa2f12904397fa06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bVhC3HJ2YRkzaXM5gdJOsQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="03f8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">示例25:当前最高值，扩展</strong></p><p id="19f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">扩展和最大值功能可用于记录组中的当前最大值。</p><pre class="kj kk kl km gt lw lx ly lz aw ma bi"><span id="a639" class="mb mc it lx b gy md me l mf mg">df["current_highest"] = df.groupby(<br/>    "category"<br/>)["value"].expanding().max().values</span><span id="dedd" class="mb mc it lx b gy mh me l mf mg">df</span><span id="15bf" class="mb mc it lx b gy mh me l mf mg"><strong class="lx iu">Output</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi na"><img src="../Images/c17d29e2e7660ee31b0291e6d8584fd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zjTMzJ3kC9oRhO-ndxdnmg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h2 id="baf7" class="mb mc it bd nb nc nd dn ne nf ng dp nh li ni nj nk lm nl nm nn lq no np nq nr bi translated"><strong class="ak">最终想法</strong></h2><p id="970b" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">groupby函数和聚合函数一起构成了一个高效的数据分析工具。它们帮助我们从数据集中提取信息。</p><p id="49aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在本文中所做的例子涵盖了groupby函数的大多数用例。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="5cb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mv">你可以成为</em> <a class="ae ky" href="https://sonery.medium.com/membership" rel="noopener"> <em class="mv">媒介会员</em> </a> <em class="mv">解锁我的全部写作权限，外加其余媒介。如果你已经是了，别忘了订阅</em><a class="ae ky" href="https://sonery.medium.com/subscribe" rel="noopener"><em class="mv"/></a><em class="mv">如果你想在我发表新文章时收到电子邮件。</em></p><p id="9c42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>