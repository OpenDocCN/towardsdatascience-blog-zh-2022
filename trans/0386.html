<html>
<head>
<title>What Is NetCDF Data and Why Is It Interesting?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是 NetCDF 数据，为什么有趣？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-is-netcdf-data-and-why-is-it-interesting-ec26bcece19d#2022-02-15">https://towardsdatascience.com/what-is-netcdf-data-and-why-is-it-interesting-ec26bcece19d#2022-02-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9df1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">NetCDF 数据格式的简单介绍——如何使用 Python 库(如 Xarray 和 netCDF4)读取和操作它。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0fada9af0f935bb8dbd791086b6dc420.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hlkzg7aGUCY-uZScGC1EUg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@greg_rosenke?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">格雷格·罗森克</a>在<a class="ae ky" href="https://unsplash.com/s/photos/globe?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="0a12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">我想你是一名科学家(或者只是一名气候爱好者)，你想研究全球变暖的影响。很自然，你会想收集温度、降雨量等数据。你正在研究的地方。这可能是一个城市，一个国家，或者整个地球。为了进行准确的分析，您需要收集几十年的数据。</p><p id="7cb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们有了一些要求，综合所有这些要求，我们可以得出结论，数据集应该包含:</p><ol class=""><li id="6821" class="me mf it lb b lc ld lf lg li mg lm mh lq mi lu mj mk ml mm bi translated">空间信息—地球表面的位置。</li><li id="bfb5" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">时间信息-在一天或一年中的什么时间进行测量。</li><li id="2364" class="me mf it lb b lc mn lf mo li mp lm mq lq mr lu mj mk ml mm bi translated">科学价值——如温度、降雨量等。我们之前讨论过。</li></ol><p id="af37" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上述特性导致了数据集的巨大规模，我们希望它具有可伸缩性和可追加性(因为每天都有新数据生成)。</p><p id="7421" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">简单地说，这就是 NetCDF 数据格式的作用。它以易于阅读的方式保存纬度和经度、时间以及科学测量等形式的空间信息。</p><p id="00d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">网络通用数据格式(简称 NetCDF)是一种数据格式，也是一套软件库，旨在帮助科学界，尤其是地球科学。</p><p id="d60d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们下载一些 NetCDF 文件，我们可以开始探索它们。我更喜欢从哥白尼那里免费下载。<a class="ae ky" href="https://en.wikipedia.org/wiki/Copernicus_Programme" rel="noopener ugc nofollow" target="_blank">哥白尼</a>是一个由欧盟及其机构管理的地球监测项目。他们提供了一个名为<a class="ae ky" href="https://cds.climate.copernicus.eu/#!/home" rel="noopener ugc nofollow" target="_blank">气候数据存储</a>的 API 来下载与任何气候变量相关的任何数据。</p><p id="e7eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我从这个<a class="ae ky" href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels?tab=form" rel="noopener ugc nofollow" target="_blank">链接</a>下载了一个示例<code class="fe ms mt mu mv b">.nc</code>文件。我选择了 2020 年 12 月的“2 米温度”(地球表面以上 2 米的空气温度)。我获得的文件大小是 1.4 GB，这是巨大的。所以当你下载 NetCDF 文件时要小心。</p><p id="1d82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载完成后，可以使用两个库——Xarray 和 netcdf 4——在 Python 中轻松访问数据集。我更喜欢使用 Xarray，因为它简单并且提供了更多操作数据集的功能。</p><blockquote class="mw mx my"><p id="804c" class="kz la mz lb b lc ld ju le lf lg jx lh na lj lk ll nb ln lo lp nc lr ls lt lu im bi translated">NetCDF 文件使用格式<code class="fe ms mt mu mv b">.nc</code>存储</p></blockquote><h2 id="5607" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">使用 Xarray</h2><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="3267" class="nd ne it mv b gy oa ob l oc od">import xarray as xr<br/>ds = xr.open_dataset('test.nc')</span><span id="6e21" class="nd ne it mv b gy oe ob l oc od">ds = xr.open_mfdataset(['test1.nc','test2.nc']) <!-- -->#for multiple files</span></pre><p id="d509" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<code class="fe ms mt mu mv b">open_dataset</code>方法和<code class="fe ms mt mu mv b">open_mfdataset</code>读取单个<code class="fe ms mt mu mv b">.nc</code>文件，如果您正在处理多个<code class="fe ms mt mu mv b">.nc</code>文件的话(这是通常的情况)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/069bc61a506be8eaf722272765f2ad78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDRRVRXQReAJtYvs5fSeUw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Xarray 中的 NetCDF 数据(作者提供照片)</p></figure><p id="1dec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据集有 3 个坐标，即经度、纬度和时间。经度的范围从 0 到 360，步长为 0.25，纬度的范围从 90 到-90，步长相同。我们只有一个名为“t2m”的数据变量，它被映射到 3 个坐标。</p><p id="d126" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:你应该小心坐标惯例。例如，经度可以从 0°到 360 °(就像我们数据集的情况)或从-180°到 180°来表示。</p><p id="6c31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用以下方法检索数据集的属性:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="4fe0" class="nd ne it mv b gy oa ob l oc od">ds.dims<br/>ds.attrs<br/>ds.coords<br/>ds.data_vars</span></pre><h2 id="6db2" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">使用 netCDF4</h2><p id="81fa" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">这个库的语法与 Xarray 的语法相似。</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="6f61" class="nd ne it mv b gy oa ob l oc od">import netCDF4 as nc<br/>ds = nc.Dataset('test.nc')</span><span id="bcf8" class="nd ne it mv b gy oe ob l oc od">ds = nc.MFDataset(['test1.nc','test2.nc']) #for multiple files</span></pre><p id="63e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要访问数据集的属性，您可以使用:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="fb5e" class="nd ne it mv b gy oa ob l oc od">ds.dimensions<br/>ds.variables</span></pre><p id="1f60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它的工作原理与 Xarray 略有不同。</p><h1 id="97a2" class="ol ne it bd nf om on oo ni op oq or nl jz os ka no kc ot kd nr kf ou kg nu ov bi translated">数据操作</h1><h2 id="7342" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">改变经度惯例</h2><p id="dba5" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">要将经度的约定从 0-360 更改为-180–180，我们可以使用以下代码:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="c2be" class="nd ne it mv b gy oa ob l oc od">ds.coords['longitude'] = (ds.coords['longitude'] + 180) % 360 - 180<br/>ds = ds.sortby(ds.longitude)</span></pre><p id="4662" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们检查 Xarray 中的一些切片方法。</p><h2 id="5645" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">分时</h2><p id="86d9" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">为了选择特定时间的网格数据，我们可以利用 Xarray 的<code class="fe ms mt mu mv b">.sel</code>和<code class="fe ms mt mu mv b">.isel</code>方法。</p><p id="efa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">时间以<code class="fe ms mt mu mv b">datetime64</code>格式编码，所以我们可以利用<code class="fe ms mt mu mv b">datetime</code>库来检索它。</p><p id="e638" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检索 2020 年 12 月 15 日 13:00 的值的代码如下:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="db99" class="nd ne it mv b gy oa ob l oc od">import datetime</span><span id="b3ec" class="nd ne it mv b gy oe ob l oc od">mytime = datetime.datetime(2020, 12, 15, 13, 0, 0)</span><span id="66f7" class="nd ne it mv b gy oe ob l oc od">ds.sel(time = mytime)</span></pre><p id="bced" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要选择日期范围，请执行以下操作:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="1755" class="nd ne it mv b gy oa ob l oc od">time_start = datetime.datetime(2020, 12, 15, 13, 0, 0)<br/>time_end = datetime.datetime(2020, 12, 16, 13, 0, 0)</span><span id="9070" class="nd ne it mv b gy oe ob l oc od">ds.sel(time=slice(time_start, time_end))</span></pre><p id="e0b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用<code class="fe ms mt mu mv b">ds.isel(time=0)</code>选择使用时间索引而非实际值的数据集。</p><h2 id="84e7" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">切片纬度和经度</h2><p id="5812" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">目前，我们在数据集中有整个地球的坐标。但是如果你想玩属于某个国家或者某个地方的数据呢？为此，我们可以对横向、纵向网格进行切片，这是一个简单的过程。</p><p id="50cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第一步:获取你想要切片的区域的边界。作为一个例子，我将使用美国的边界(不包括阿拉斯加和夏威夷)。</p><p id="9d4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">步骤 2:使用以下代码进行切片:</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="a32c" class="nd ne it mv b gy oa ob l oc od"># US coordinate bounds<br/>min_lon = -128 <br/>min_lat = 19<br/>max_lon = -67<br/>max_lat = 50</span><span id="9240" class="nd ne it mv b gy oe ob l oc od"># mask the coordinates<br/>mask_lon = (ds.longitude &gt;= min_lon) &amp; (ds.longitude &lt;= max_lon)<br/>mask_lat = (ds.latitude &gt;= min_lat) &amp; (ds.latitude &lt;= max_lat)</span><span id="5751" class="nd ne it mv b gy oe ob l oc od"># clip the dataset for only lat,lon inside US<br/>ds.where(mask_lon &amp; mask_lat, drop=True)</span></pre><p id="a3ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一些其他的数据操作技术，比如重采样、插值等(我将单独写一篇关于这些方法的文章)。</p><h1 id="a4bb" class="ol ne it bd nf om on oo ni op oq or nl jz os ka no kc ot kd nr kf ou kg nu ov bi translated">绘制 NetCDF</h1><p id="21dc" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">我们发现了什么是 NetCDF 以及如何操作它的一些特性。数据可视化是您可以做的有趣的事情之一，在这里，您可以使用 Xarray 的<code class="fe ms mt mu mv b">.plot()</code>方法简单地绘制数据。</p><p id="c97c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于这是一个静态图像，我们将随机选择一个日期(2020 年 12 月 1 日)，然后进行可视化。</p><h2 id="be82" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">使用 Xarray 的图</h2><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="b380" class="nd ne it mv b gy oa ob l oc od">mytime = datetime.datetime(2020, 12, 1, 0, 0, 0)<br/>ds.sel(time = mytime).t2m.plot(cmap='gist_rainbow_r',figsize=(10,5))</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/9d64fa1f42cc7c504b405aa78c1de975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nmDD9JqqlPW-60jAf5AFsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Xarray 情节(作者照片)</p></figure><p id="e1ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们绘制了 2020 年 12 月 1 日午夜的全球气温图。不出所料，两极的温度很低，而赤道附近(热带)的温度较高。</p><p id="0b0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个就不多赘述了。我们可以使用名为 Basemap 的不同库来生成类似的图，并控制可视化中显示的内容。</p><h2 id="6deb" class="nd ne it bd nf ng nh dn ni nj nk dp nl li nm nn no lm np nq nr lq ns nt nu nv bi translated">使用底图</h2><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="8356" class="nd ne it mv b gy oa ob l oc od">from mpl_toolkits.basemap import Basemap</span><span id="7658" class="nd ne it mv b gy oe ob l oc od">mytime = datetime.datetime(2020, 12, 1, 0, 0, 0)<br/>ds_sel = ds.sel(time=mytime)<br/>lat = ds_sel.latitude.values<br/>lon = ds_sel.longitude.values<br/>t2m = ds_sel.t2m.values</span><span id="5672" class="nd ne it mv b gy oe ob l oc od">mp = Basemap(projection='cyl',resolution='l')<br/>lon,lat = np.meshgrid(lon,lat)<br/>x,y = mp(lon,lat)</span><span id="9014" class="nd ne it mv b gy oe ob l oc od">plt.figure(figsize=(10, 5),dpi=300)<br/>mp.pcolor(x,y,t2m,cmap='gist_rainbow_r')<br/>mp.drawcoastlines()<br/>mp.drawcountries()<br/>mp.colorbar(label="Temperature (in K)")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/632eb173057014dff574a70ce979de57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pbr6cRBzAabUCEVE1IBQCA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">底图绘图(作者提供的照片)</p></figure><p id="b506" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们刚刚在之前的可视化中添加了国家轮廓和海岸线，现在看起来更好了。使用底图，我们可以很好地控制输出可视化，并且调整设置更简单。</p><p id="4ea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们观察到在喜马拉雅山脉、西伯利亚以及中国和中亚的部分地区附近有冷点。澳大利亚通常在一年中的这个时候比较暖和。</p><h1 id="a799" class="ol ne it bd nf om on oo ni op oq or nl jz os ka no kc ot kd nr kf ou kg nu ov bi translated">绘制区域图</h1><p id="a847" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">看到整个地球的可视化(等高线图)是很有趣的。现在，我们将看到如何为某个区域制作可视化效果。</p><p id="1c23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，使用边界对纬度、经度网格进行切片(在感兴趣的地方形成一个假想的矩形)。然后我们使用这些边界来裁剪数据集。</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="1aad" class="nd ne it mv b gy oa ob l oc od"># US coordinate bounds<br/>min_lon = -128<br/>min_lat = 19<br/>max_lon = -67<br/>max_lat = 50</span><span id="c35c" class="nd ne it mv b gy oe ob l oc od"># mask the coordinates<br/>mask_lon = (ds.longitude &gt;= min_lon) &amp; (ds.longitude &lt;= max_lon)<br/>mask_lat = (ds.latitude &gt;= min_lat) &amp; (ds.latitude &lt;= max_lat)</span><span id="8da6" class="nd ne it mv b gy oe ob l oc od"># clip the dataset for only lat lon inside US<br/>da = ds.where(mask_lon &amp; mask_lat, drop=True)</span><span id="19a8" class="nd ne it mv b gy oe ob l oc od"># select the time<br/>mytime = datetime.datetime(2020, 12, 1, 0, 0, 0)<br/>ds_sel = da.sel(time=mytime)</span><span id="cf33" class="nd ne it mv b gy oe ob l oc od">lat = ds_sel.latitude.values<br/>lon = ds_sel.longitude.values<br/>t2m = ds_sel.t2m.values</span><span id="7700" class="nd ne it mv b gy oe ob l oc od">mp = Basemap(projection='cyl',<br/>llcrnrlon=min_lon,llcrnrlat=min_lat,<br/>urcrnrlon=max_lon,urcrnrlat=max_lat,resolution='i')<br/>lon,lat = np.meshgrid(lon,lat)<br/>x,y = mp(lon,lat)</span><span id="a126" class="nd ne it mv b gy oe ob l oc od">plt.figure(figsize=(10, 5),dpi=300)<br/>mp.pcolor(x,y,t2m,cmap='gist_rainbow_r')<br/>mp.drawcoastlines()<br/>mp.drawcountries()<br/>mp.colorbar(label="Temperature (in K)")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ox"><img src="../Images/1ac72dca0cb15d54d723d8b13f35ce94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ka5rAnYvG8NJm7YO4z1YFA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国及其邻国的区域图(作者照片)</p></figure><p id="fe1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们有一个显示美国及其邻国的区域图。请注意，颜色条与之前的可视化效果相比，具有不同的最小值和最大值。这是因为我们现在使用的是属于我们裁剪区域的局部最小值和局部最大值。</p><p id="b8b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果要使用全局值，则应避免裁剪过程，而只使用底图参数中的边界。</p><h1 id="37e3" class="ol ne it bd nf om on oo ni op oq or nl jz os ka no kc ot kd nr kf ou kg nu ov bi translated">选择其他变量</h1><p id="b1ad" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">我选择了<code class="fe ms mt mu mv b">2m Temperature</code>作为例子，但是你有各种各样的气候变量可以选择。下面显示的是各种气候变量的选择，你可以从<a class="ae ky" href="https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels?tab=form" rel="noopener ugc nofollow" target="_blank">哥白尼网站</a>免费下载。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/198ca96c7517acbeb3e9527cda2ffb0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*517id7yEKC_ZfBVLD_sibg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">气候变量(哥白尼计划)</p></figure><h1 id="85d3" class="ol ne it bd nf om on oo ni op oq or nl jz os ka no kc ot kd nr kf ou kg nu ov bi translated">结论</h1><p id="440c" class="pw-post-body-paragraph kz la it lb b lc og ju le lf oh jx lh li oi lk ll lm oj lo lp lq ok ls lt lu im bi translated">几个月前，我开始探索 NetCDF 等与气候相关的数据集，并发现它们非常有趣。通常，数据科学家没有机会探索如此多样的数据格式，除非他们在不同的领域工作，如气候。所以我想把它分享给社区是个好主意。</p><p id="fbd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您喜欢这篇文章，您可能会对阅读我如何使用 NetCDF 数据集制作 NFT 感兴趣。这里可以看<a class="ae ky" href="https://betterprogramming.pub/the-data-scientists-guide-to-creating-an-nft-collection-in-python-de1b98163875" rel="noopener ugc nofollow" target="_blank">。</a></p></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><p id="13af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读，干杯！</p><pre class="kj kk kl km gt nw mv nx ny aw nz bi"><span id="dd4c" class="nd ne it mv b gy oa ob l oc od"><strong class="mv iu">Want to Connect? </strong></span><span id="4957" class="nd ne it mv b gy oe ob l oc od">You can reach me on <a class="ae ky" href="https://www.linkedin.com/in/rohithteja/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a>, <a class="ae ky" href="https://twitter.com/rohithtejam" rel="noopener ugc nofollow" target="_blank">Twitter</a>, or <a class="ae ky" href="https://github.com/rohithteja" rel="noopener ugc nofollow" target="_blank">GitHub</a>.</span></pre></div></div>    
</body>
</html>