<html>
<head>
<title>Don’t Throw Away Your Outliers!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不要扔掉你的离群值！</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/dont-throw-away-your-outliers-c37e1ab0ce19#2022-08-30">https://towardsdatascience.com/dont-throw-away-your-outliers-c37e1ab0ce19#2022-08-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/4ed7fc488fa6265a3a40a70fe53ec778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*-2L6e3r4XHBAdY73"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">由<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae jd" href="https://unsplash.com/@freegraphictoday?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">absolute vision</a>拍摄</p></figure><div class=""/><div class=""><h2 id="a4f9" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">首先，在数据集中寻找错误的原因。</h2></div><p id="67f7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">在</strong> <a class="ae jd" href="https://hennie-de-harder.medium.com/are-you-using-feature-distributions-to-detect-outliers-48e2ae3309" rel="noopener"> <strong class="kx jh">检测到异常值</strong> </a> <strong class="kx jh">或者异常后，你需要决定如何处理它们。这篇文章解释了处理异常值的技巧。</strong></p><h1 id="86d7" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">第一步，调查</h1><p id="2586" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">调查你的异常值。它们为什么会发生？它们真的是错误吗？现实生活中永远不会发生吗？它们在数据中，所以发现错误来自哪里是很重要的。由于实验或人为错误，可能会出现异常值。加载或处理数据时可能会出错。找到原因后，你就可以决定该怎么做了。</p><p id="9b46" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">问题解决了吗？如果您决定离群值不应该出现在数据中并删除它们，请确保您可以定义原因。或者更好:记录下来。如果您发现新数据可能与异常值具有相同的值，您应该使用其他技术来处理它们，如下所述。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="bf9d" class="lr ls jg bd lt lu mv lw lx ly mw ma mb km mx kn md kp my kq mf ks mz kt mh mi bi translated">处理异常值</h1><p id="b5f4" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">如果离群值与其他数据点相比只是不规则的，但是可能会发生，那么要小心它们！您可以尝试几种技术来改善机器学习模型的结果，而不删除异常值。</p><p id="c3f1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这些技术基于数据转换:</p><h2 id="6b79" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">给数据封顶</h2><p id="190b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">您可以尝试的一种特殊转换是对数据进行capping或<a class="ae jd" href="https://www.statology.org/winsorize/" rel="noopener ugc nofollow" target="_blank"><strong class="kx jh">winsor izing</strong></a><strong class="kx jh"/>。这是一种将特性的最大值设置为特定值的方法。您可以决定将最低的2%设置为第二个百分位的值，最高的2%设置为第98个百分位的值。这里是一个使用python代码的例子。</p><h2 id="20df" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">其他数据转换</h2><p id="f0e9" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">除了封顶，还有其他方法来转换数据。您可以使用缩放器、对数变换或宁滨。</p><p id="5226" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">缩放器是您应该尝试的一种技术，因为缩放会对模型的结果产生巨大的影响。在这里你可以找到sci-kit learn对不同scaler的比较。你可能想<a class="ae jd" href="https://machinelearningmastery.com/robust-scaler-transforms-for-machine-learning/" rel="noopener ugc nofollow" target="_blank">阅读更多关于<strong class="kx jh">鲁棒定标器</strong> </a>的信息，它被设计用来处理异常值。</p><p id="b44a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">当变量以指数比例增长或衰减时，最好使用对数变换</strong>，因为变换后变量更接近线性比例。尾部的影响减小了。</p><p id="bf8d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh">宁滨</strong>，或称分桶，将一系列值替换为一个代表值。您可以以不同的方式使用宁滨:您可以设置箱的<a class="ae jd" href="https://pandas.pydata.org/docs/reference/api/pandas.cut.html" rel="noopener ugc nofollow" target="_blank">距离</a>，您可以使用<a class="ae jd" href="https://pandas.pydata.org/docs/reference/api/pandas.qcut.html" rel="noopener ugc nofollow" target="_blank">频率</a>(每个箱获得相同数量的观察值)，或者<a class="ae jd" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.binned_statistic.html" rel="noopener ugc nofollow" target="_blank">采样</a>。</p><figure class="nn no np nq gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nm"><img src="../Images/96363f66e737ce1900d11493e05aaec0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VjxhNxL3vx5LEoAo"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">照片由<a class="ae jd" href="https://unsplash.com/es/@mimiori?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">玛丽娜·赫拉波娃</a>在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="e57f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">基于模型的技术:</p><h2 id="27ed" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">使用正则化</h2><p id="ab89" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">正则化减少了方差，这使得它在处理异常值时很有用。两种最常见的正则化类型是套索正则化和岭正则化，也分别称为L1正则化和L2正则化。</p><p id="b32e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正则化通过惩罚高值回归系数来工作。它简化了模型，使它更健壮，不容易过拟合。</p><p id="fbf4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">正则项在所有著名的ML包中都有实现。例如，看看scikit-learn <a class="ae jd" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Lasso.html#sklearn.linear_model.Lasso" rel="noopener ugc nofollow" target="_blank">套索</a>和<a class="ae jd" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html" rel="noopener ugc nofollow" target="_blank">脊</a>或<a class="ae jd" href="https://keras.io/api/layers/regularizers/" rel="noopener ugc nofollow" target="_blank">添加正则化到Keras层</a>。</p><h2 id="3f1b" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">型号选择</h2><p id="3bad" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">有些模型在处理异常值方面比其他模型更好。例如，如果你正在处理一个回归问题，你可以尝试随机样本一致性(RANSAC)回归或者<a class="ae jd" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.TheilSenRegressor.html#sklearn.linear_model.TheilSenRegressor" rel="noopener ugc nofollow" target="_blank">希尔森回归</a>。<a class="ae jd" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.RANSACRegressor.html" rel="noopener ugc nofollow" target="_blank"> RANSAC </a>使用来自数据的样本，建立一个模型，并使用残差来分离内部值和外部值。最终的模型只使用内联器。</p><p id="ac24" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您想要使用所有数据点，您可以使用基于树的模型。基于树的模型通常比其他模型更好地处理异常值。一个直观的解释是:树关心的是一个数据点位于拆分的哪一侧，而不是拆分和数据点之间的距离。</p><h2 id="4b56" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">更改误差度量</h2><p id="91a4" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">最后一个选项是改变误差度量。一个简单的例子:如果你使用均方差，你会更严厉地惩罚异常值，因为你平方了误差。您可能希望切换到平均绝对误差，因为您采用误差的绝对值，而不是平方它。</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h1 id="d6e3" class="lr ls jg bd lt lu mv lw lx ly mw ma mb km mx kn md kp my kq mf ks mz kt mh mi bi translated">摘要</h1><p id="078b" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">在扔掉离群值之前，调查它们。寻找数据集中出现错误的原因。如果您无法解决这些问题，请使用变换、添加正则化或选择适当的模型或误差度量来处理数据。</p><p id="30a6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">感谢阅读！❤</p></div><div class="ab cl mo mp hu mq" role="separator"><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt mu"/><span class="mr bw bk ms mt"/></div><div class="ij ik il im in"><h2 id="b338" class="na ls jg bd lt nb nc dn lx nd ne dp mb le nf ng md li nh ni mf lm nj nk mh nl bi translated">有关系的</h2><div class="ip iq gp gr ir nr"><a href="https://hennie-de-harder.medium.com/are-you-using-feature-distributions-to-detect-outliers-48e2ae3309" rel="noopener follow" target="_blank"><div class="ns ab fo"><div class="nt ab nu cl cj nv"><h2 class="bd jh gy z fp nw fr fs nx fu fw jf bi translated">您是否使用特征分布来检测异常值？</h2><div class="ny l"><h3 class="bd b gy z fp nw fr fs nx fu fw dk translated">这里有三种更好的方法。</h3></div><div class="nz l"><p class="bd b dl z fp nw fr fs nx fu fw dk translated">hennie-de-harder.medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of ix nr"/></div></div></a></div></div></div>    
</body>
</html>