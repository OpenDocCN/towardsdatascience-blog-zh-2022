<html>
<head>
<title>An Illustrated Explanation of Hypothesis Tests</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">假设检验的图解说明</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-illustrated-explanation-of-hypothesis-tests-3594ffff34dc#2022-06-08">https://towardsdatascience.com/an-illustrated-explanation-of-hypothesis-tests-3594ffff34dc#2022-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="4b6e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一劳永逸地学会什么是假设检验。Python中的代码。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/23404ce801a13fa2a35b76a978866bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cTWbuluhxYn7Oa-J73qVkA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">正态分布。图片作者bby。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><p id="f240" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">声明:<em class="mb">嘿，先把事情说清楚，这不是一个赞助的帖子。我非常喜欢这本书。</em></p><h2 id="02ba" class="mc md it bd me mf mg dn mh mi mj dp mk lo ml mm mn ls mo mp mq lw mr ms mt mu bi translated">假设检验</h2><p id="b10a" class="pw-post-body-paragraph lf lg it lh b li mv ju lk ll mw jx ln lo mx lq lr ls my lu lv lw mz ly lz ma im bi translated">我最近读了这本好书<a class="ae na" href="https://www.amazon.com/Cartoon-Introduction-Statistics-Grady-Klein/dp/0809033593/ref=sr_1_1?keywords=cartoon+introduction+to+statistics&amp;qid=1654655051&amp;sprefix=cartoon+introdu%2Caps%2C116&amp;sr=8-1" rel="noopener ugc nofollow" target="_blank">统计学的卡通介绍</a>。它带来了对基本统计概念的有趣而流畅的介绍，所有介绍都像一本漫画书。</p><p id="a3ad" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">引起我注意的一点，也是我今天要揭示的一点，是作者Grady Klein如何解释假设检验的概念。用他的话说…</p><blockquote class="nb"><p id="ea58" class="nc nd it bd ne nf ng nh ni nj nk ma dk translated">假设检验是一个有趣的名称，用于猜测总体平均值，并将该猜测与我们已有的样本平均值进行比较。</p></blockquote><figure class="nm nn no np nq kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/f7b94556a2b6019e4ad38a79e6a92ba9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbzX6Z6-hYiCYPUQpSg4FQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">样本均值和我们的新猜测。我们来测试一下。图片由作者提供。</p></figure><p id="78c4" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">现在，假设我们收集了另一个样本，我们不知道该样本是否来自我们的分布。我们能做什么？我们通过计算在“星形”点上具有平均值的样本与在“圆形”点上具有平均值的样本来自同一个总体的概率值(也称为<em class="mb"> p值</em>)来检验它们都来自同一个分布(总体)的假设。</p><p id="a9c1" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">在我们的测试中，<em class="mb">每个人都是无辜的，除非另有证明</em>。也就是说，测试将假设样本1和样本2来自同一总体，并将该假设称为零假设(Ho)。但如果我们错了，他们不是来自同一个人群，这种假设就被命名为替代假设(Ha)。</p><p id="e660" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">让我们确定一个测试的门槛。在这种情况下，5%是经验法则。如果两个样本来自同一人群的概率(p值)小于5%，那么我们可能是错的，所以我们有强有力的证据拒绝Ho。但如果我们的p值高于5%，我们的机会告诉我们没有足够的证据来拒绝Ho，所以我们保持样本来自同一人群的假设。也许这只是一个奇怪的样本，有着奇怪的平均值。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="fd67" class="mc md it ns b gy nw nx l ny nz"># Imports<br/>import pandas as pd<br/>import numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>from scipy.stats import f_oneway<br/>from statsmodels.stats.weightstats import ztest</span><span id="b00c" class="mc md it ns b gy oa nx l ny nz"># Create df<br/>df = pd.DataFrame({'id': np.arange(1,51),'val': np.random.randn(50)})</span><span id="732b" class="mc md it ns b gy oa nx l ny nz"># Mean<br/>df.val.mean()<br/><strong class="ns iu">[OUT] -0.054089553629615886</strong></span><span id="6ab0" class="mc md it ns b gy oa nx l ny nz">#----</span><span id="3605" class="mc md it ns b gy oa nx l ny nz"># Create df2<br/>df2 = pd.DataFrame({'id': np.arange(1,51),<br/>'val': np.random.randint(40,50, size=50)/10})</span><span id="5ba6" class="mc md it ns b gy oa nx l ny nz"># Mean 2<br/>df2.val.mean()<br/><strong class="ns iu">[OUT] 4.513333333333334</strong></span><span id="74b0" class="mc md it ns b gy oa nx l ny nz"># Test<br/>"Can a distribution with mean sample 2 come from the same population as sample 1?<br/>Ho : p-value &gt;= 0.05 == Yes, same population<br/>Ha : p-value &lt; 0.05 == No, different population"<br/>sample1 = df.val<br/>mean_sample2 = df2.val.mean()</span><span id="aea0" class="mc md it ns b gy oa nx l ny nz"># Z-test<br/>stat, p = ztest(sample1, value=mean_sample2)<br/>print(f'Test statistics: {stat}')<br/>print(f'p-Value: {p}')</span><span id="8e73" class="mc md it ns b gy oa nx l ny nz"><strong class="ns iu">[OUT]<br/>Test statistics: -26.21106515561983 p-Value: 1.9876587424280803e-151</strong></span></pre><p id="5060" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">正如我们所看到的，零假设(Ho)被拒绝，因此我们有强有力的证据得出结论，两个样本来自不同的人群。<br/>实际上，这意味着，如果我们认为真实总体平均值为-0.054(与样本1相同)，那么<em class="mb">很难找到平均值为4.51的样本。实际上，它被发现的几率几乎为零。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/5f8f3e2d0067abfe63c28f16844acdb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z1mbxbGZ1jFl16AbExa3iQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">这是我们刚刚测试过的。橙色样品几乎没有接触到蓝色样品。图片由作者提供。</p></figure><h2 id="673a" class="mc md it bd me mf mg dn mh mi mj dp mk lo ml mm mn ls mo mp mq lw mr ms mt mu bi translated">来自同一群人</h2><p id="442c" class="pw-post-body-paragraph lf lg it lh b li mv ju lk ll mw jx ln lo mx lq lr ls my lu lv lw mz ly lz ma im bi translated">让我们试试另一个测试。现在我将从样本1中抽取一个样本3，并测试它们来自同一人群的概率是真是假。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="95aa" class="mc md it ns b gy nw nx l ny nz"># Create df3<br/>df3 = pd.DataFrame({'id': np.arange(1,31),'val': np.random.choice(df['val'].values, size=30)})</span><span id="8c66" class="mc md it ns b gy oa nx l ny nz"># Mean 3<br/>df3.val.mean()<br/><strong class="ns iu">[OUT] 0.04843756603887838</strong></span></pre><p id="fb03" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">酷，均值更接近样本1均值(<strong class="lh iu"> -0.054 </strong>)。这是个好兆头。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="f7ef" class="mc md it ns b gy nw nx l ny nz">sample1 = df.val<br/>mean_sample3 = df3.val.mean()</span><span id="ac4e" class="mc md it ns b gy oa nx l ny nz">stat, p = ztest(sample1, value=mean_sample3)<br/>print(f'Test statistics: {stat}')<br/>print(f'p-Value: {p}')</span><span id="6996" class="mc md it ns b gy oa nx l ny nz"><strong class="ns iu">[OUT]</strong> <br/><strong class="ns iu">Test statistics: -0.3488669147011808 p-Value: 0.727189224747824</strong></span></pre><p id="1623" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">哇！这两个随机正态样本来自同一总体的概率为72%。有道理。3是从1中提取的！</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="0773" class="mc md it ns b gy nw nx l ny nz"># Plot<br/>sns.kdeplot(data=df, x='val', fill=True)<br/>sns.kdeplot(data=df3, x='val', fill=True)<br/>plt.legend(['Sample1', 'Sample3']);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/0cb061d6c8046f5983bf710540863329.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tOccedzxDVD2TAI0YJJG1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">两种分布重叠很多！图片由作者提供。</p></figure><h2 id="5f10" class="mc md it bd me mf mg dn mh mi mj dp mk lo ml mm mn ls mo mp mq lw mr ms mt mu bi translated">在你走之前</h2><p id="8ad8" class="pw-post-body-paragraph lf lg it lh b li mv ju lk ll mw jx ln lo mx lq lr ls my lu lv lw mz ly lz ma im bi translated">我想创建这个快速的帖子来展示假设检验背后的东西。我们实际测试的是什么。这是这里的目标，所以你可以围绕这个重要的统计概念建立你的直觉。</p><ol class=""><li id="b37f" class="od oe it lh b li lj ll lm lo of ls og lw oh ma oi oj ok ol bi translated">我们有一个平均值为-0.05的样本</li><li id="2356" class="od oe it lh b li om ll on lo oo ls op lw oq ma oi oj ok ol bi translated">我们有一个平均值为4.51的样本2</li><li id="5f22" class="od oe it lh b li om ll on lo oo ls op lw oq ma oi oj ok ol bi translated"><strong class="lh iu">假设检验:</strong>考虑到真实总体均值为-0.05或非常接近，是否有可能两个样本来自同一个总体？</li><li id="628f" class="od oe it lh b li om ll on lo oo ls op lw oq ma oi oj ok ol bi translated">我们开始假设，是的，他们来自同一个群体。然后我们计算p值，或概率值。</li><li id="021d" class="od oe it lh b li om ll on lo oo ls op lw oq ma oi oj ok ol bi translated">如果概率小于5%,我们拒绝它，支持Ha，说统计证据表明这两个样本来自不同的分布。如果超过5%，那么我们没有统计证据表明他们不是来自同一人群，因此我们假设他们是。</li></ol><p id="1feb" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">GitHub代码:【https://tinyurl.com/3csp5ejm T4】</p><p id="ae20" class="pw-post-body-paragraph lf lg it lh b li lj ju lk ll lm jx ln lo lp lq lr ls lt lu lv lw lx ly lz ma im bi translated">如果你喜欢这个内容，请关注我的博客。</p><div class="or os gp gr ot ou"><a href="https://gustavorsantos.medium.com/" rel="noopener follow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">古斯塔沃·桑托斯-中等</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">阅读古斯塔夫·桑托斯在媒介上的作品。数据科学家。我从数据中提取见解，以帮助个人和公司…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">gustavorsantos.medium.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi ks ou"/></div></div></a></div><div class="or os gp gr ot ou"><a href="https://en.wikipedia.org/wiki/Statistical_hypothesis_testing" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd iu gy z fp oz fr fs pa fu fw is bi translated">统计假设检验-维基百科</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">统计假设检验是一种统计推断方法，用于决定手头的数据是否充分…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">en.wikipedia.org</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi ks ou"/></div></div></a></div></div></div>    
</body>
</html>