<html>
<head>
<title>Statistics for Data Science: Insights that you don’t want to miss</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学统计学:你不想错过的洞察</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/statistics-for-data-science-learnings-that-you-dont-want-to-miss-ecce40b11f64#2022-08-28">https://towardsdatascience.com/statistics-for-data-science-learnings-that-you-dont-want-to-miss-ecce40b11f64#2022-08-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/7f014a51bb52c6ff50bac59dd25de1aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhMFiZzNxX62F8VHxc3Vbw.jpeg"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">照片由<a class="ae kf" href="https://unsplash.com/@lxrcbsv?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">алексарцибашев</a>在<a class="ae kf" href="https://unsplash.com/s/photos/statistics?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="80a9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一份关于数据科学统计学的学习资料汇编，选自我所学的课程。</p><p id="4b33" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这篇文章中，我想分享关于数据科学统计学的最重要的知识，这些知识是我在迄今为止学习数据科学的过程中从几门课程中选择和总结的。</p><p id="72e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如我经常在我的帖子里写的，我不是统计学家，也没有任何STEM相关领域的背景。也就是说，当我学习<em class="le">统计</em>时，有时概念对我来说有点难以理解，所以我需要将它们转换成我大脑理解的语言，这就是我试图与你分享它们的方式。</p><p id="243f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">闲聊到此为止，让我们深入讨论帖子内容。</p><h1 id="8d9b" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">偏见的来源</h1><p id="16de" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">有几个偏差来源可以扭曲数据，给你的结果很有意义，因为是实际数据告诉你的，但它们不会反映现实，因为它们是有偏差的。</p><ul class=""><li id="de38" class="mi mj it ki b kj kk kn ko kr mk kv ml kz mm ld mn mo mp mq bi translated">便利偏差:当一个人选择一个容易得到的样本时。假设你想做一个选举投票，你走到外面，开始问你的邻居。这个样本有很大的偏见，因为它不代表人口，而只是你的邻居，那里的每个人都应该过着相似的生活。</li><li id="5964" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated"><strong class="ki iu">无响应偏差</strong>:当您在一项调查中有太多的响应NAs时，就会出现无响应偏差，因此，总数会被它扭曲。</li><li id="0a58" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated"><strong class="ki iu">选择偏差</strong>:这种偏差是当你选择将成为你研究一部分的人时产生的。假设我们正在研究人口的平均身高，但我们只选择了高于180厘米的人来回答。你认为这个样品公平吗？我想不会。</li><li id="31a4" class="mi mj it ki b kj mr kn ms kr mt kv mu kz mv ld mn mo mp mq bi translated"><strong class="ki iu">志愿者偏差</strong>:这是互联网民意调查的偏差，例如，由于愿意回答的人只有那些有兴趣这样做的人，因此他们的回答已经存在偏差，使得样本不具有统计代表性。</li></ul><h1 id="751f" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">数据分布</h1><p id="0acb" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">了解数据分布非常重要。这是我在进行探索性数据分析(EDA)时首先要做的事情之一。但是，老实说，很长一段时间我甚至不确定为什么我要绘制所有这些直方图和/或箱线图，只是为了观察分布形状。</p><p id="5002" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我知道，在EDA过程中要执行的许多统计测试都是基于正态分布的。这是许多测试的先决条件，因此，如果你的变量不正常，你就不应该费心去做那个测试，因为结果不会有统计学意义。</p><p id="ffa0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们快速加载来自Python: <code class="fe mw mx my mz b">df = sns.load_dataset('tips')</code>的Seaborn包中内置的数据集提示。</p><p id="6b2d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后，我们可以画出数值变量的分布。</p><pre class="na nb nc nd gt ne mz nf ng aw nh bi"><span id="d984" class="ni lg it mz b gy nj nk l nl nm"># create figure<br/>fig, ax = plt.subplots(1,3, figsize=(18,6))</span><span id="e7f2" class="ni lg it mz b gy nn nk l nl nm"># Plots<br/>for idx, var in enumerate(['total_bill', 'tip', 'size']):<br/>   g=sns.histplot(data=df, x=var, color='royalblue', ax=ax[idx])<br/>   g.set_title(f'Histogram of {var}', size=15);</span></pre><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/dea6daa1204825238d64bac9d6a18966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qTA0Z9PPLtOK1ZQBZcVgwg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">tips数据集中数值变量的直方图。图片由作者提供。</p></figure><p id="e791" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">分布不是钟形的，因此这里没有正态性。通过一个简单的正态性测试，这一点可以得到证实。那么，现在怎么办？这个数据是不是已经不行了？</p><p id="d656" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">远非如此。数据仍然是好的，但是正态分布的偏差只是告诉我们，我们不应该使用传统的测试，例如T-test或ANOVA来分析均值比较的方差。或者，如果我们想要执行这些测试中的一个，一些好的方法是从变量执行采样或引导，然后执行统计测试。</p><p id="b9f1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，假设我们想按聚会的规模来比较平均费用。由于有六组，我们需要进行方差分析测试。我们可以从每个组的数据集中提取n个样本，然后取费用的平均值。然后我们将有六个正态分布的组，可以互相测试。</p><p id="afc5" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种常见的转换是对数转换，或另一种级别的<a class="ae kf" href="https://www.geeksforgeeks.org/box-cox-transformation-using-python/" rel="noopener ugc nofollow" target="_blank"> Box-Cox转换</a>，以使数据呈正态分布。</p><h1 id="ac86" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">假设检验</h1><p id="97fd" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">最近，我在下面的链接中写了关于假设检验的文章。</p><div class="np nq gp gr nr ns"><a rel="noopener follow" target="_blank" href="/an-illustrated-explanation-of-hypothesis-tests-3594ffff34dc"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">假设检验的图解说明</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">一劳永逸地学会什么是假设检验。Python中的代码</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">towardsdatascience.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og jz ns"/></div></div></a></div><p id="df8d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一般来说，当我们创建一个假设检验时，我们所做的就是这样说:</p><blockquote class="oh"><p id="9f91" class="oi oj it bd ok ol om on oo op oq ld dk translated">假设我的无效假设(当前状态)是真理，那么另一个选择是新真理的概率是多少。</p></blockquote><p id="ef06" class="pw-post-body-paragraph kg kh it ki b kj or kl km kn os kp kq kr ot kt ku kv ou kx ky kz ov lb lc ld im bi translated">例如，如果我们正在测试两个平均值是否来自同一个分布(通常是正态分布)，那么，如果<em class="le">平均值-1</em>为10，并且我们假设为真，那么另一个具有<em class="le">平均值-2</em>20的分布来自同一个数据集的概率是多少？测试结果将给出一个概率值(著名的p值),如0.001，或0.1%的概率，它们来自同一分布，再次考虑真实平均值为10。</p><h1 id="c6c8" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">错误类型</h1><p id="180c" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">在进行假设检验时，有两种错误。我发现思考这个问题最简单的方法是使用正义的概念。</p><p id="44fa" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">第一个假设:每个人都是无辜的，除非被证明。所以，真相是一个人是无辜的。</p><p id="0256" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">第一类错误</strong>:当零假设为真时，拒绝零假设。这意味着你认为某人有罪，而实际上那个人并没有罪。记住，除非被证明是无辜的。</p><p id="fa2c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">第二类错误</strong>:当备选项为真时，不要拒绝零假设。这意味着一个人有罪，但我们说这个人是无辜的。</p><p id="ff27" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设检验中的误差很难消除。他们将永远存在，所以这个想法是权衡哪一个应该是焦点。假设我们犯错误的次数将是显著性水平<strong class="ki iu"> α，</strong>，那么5%的值意味着我们将在100次中看到5次错误。</p><p id="9bd2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果类型1的误差风险更大，选择一个更低的显著性水平<strong class="ki iu"> α </strong>，比如1%。我们不想给一个无辜的人定罪，所以证据必须非常有力，我们才能通过无效假设。</p><p id="36bf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果类型2误差是要减少的误差，则选择更高的显著性水平，如10%。当我们增加<strong class="ki iu"> α </strong>的值时，我们降低了类型2错误率。在这里，我们不想考虑只有强有力的证据支持何的选择。</p><h1 id="6862" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">置信区间</h1><p id="c204" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">置信区间是一个常见的错误来源。许多人认为，给定100个元素的样本，从1到5的95%置信区间意味着我们有95%的机会从数据中选择一个值，它将在1到5之间。</p><p id="c705" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">事实上，正确的解读是:95%的情况下，我们选择一个与原始样本(100)大小相同的随机样本，来自相同的人群，它会给我们一个在该区间内的平均数。</p><h1 id="25ca" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">箱线图和T检验</h1><p id="22ea" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">箱线图为组间平均比较提供了类似于T检验的结果。让我们看看实际情况。让我们创建两个正态分布并进行t检验。</p><pre class="na nb nc nd gt ne mz nf ng aw nh bi"><span id="ded3" class="ni lg it mz b gy nj nk l nl nm"># Create a df<br/>df = pd.DataFrame( {'v1':np.random.randn(100)*1000,<br/>'v2':np.random.randn(100)*1000})</span><span id="716a" class="ni lg it mz b gy nn nk l nl nm"># Pivot it for plotting and testing<br/>df = df.melt(var_name='vars', value_name='val' ,value_vars=df.columns)</span></pre><p id="aa4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们使用<code class="fe mw mx my mz b">scipy</code>包进行t测试。</p><pre class="na nb nc nd gt ne mz nf ng aw nh bi"><span id="092b" class="ni lg it mz b gy nj nk l nl nm"># Ho [p-value &gt; 0.05] = No statistical evidence for different avgs<br/>Ha [p-value &lt;= 0.05] = Evidence of statistical different averages</span><span id="7830" class="ni lg it mz b gy nn nk l nl nm">sp.stats.ttest_ind(df.query('vars == "v1"')['val'], df.query('vars == "v2"')['val'] )</span><span id="0c25" class="ni lg it mz b gy nn nk l nl nm"><strong class="mz iu">[OUT]:</strong><br/>Ttest_indResult(statistic=-0.9969050118330597, pvalue=0.32002736861405306)</span></pre><p id="9e61" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于我们的p值超过5%，没有证据拒绝两个平均值之间的方差相似的Ho。现在，如果我们画出v1和v2的箱线图，这是结果。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ow"><img src="../Images/79a0233ece260abd17c5297e6ea49770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Suv-tih8wGCx7yNb1ttE3g.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">箱线图提供了类似于T检验的结果。图片由作者提供。</p></figure><p id="39ea" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果我们看中间值，它们真的很接近，我们真的看不出太大的差异。这与T检验得出的结论相同。现在，请注意，这是用两个正态分布的随机样本完成的，但它说明了我们想要表达的观点。</p><h1 id="e2ba" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">线性回归</h1><p id="2270" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">线性回归无处不在。我不会在这篇文章中再创造一个例子，但我会与你分享一些注意事项。</p><p id="11d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">独立/解释/ X </strong>:用于解释变量中的方差的变量，您将尝试预测结果。</p><p id="9850" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">因变量/响应变量/目标变量/ Y: </strong>被预测、估计的变量。</p><p id="99ae" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">截距:</strong>回归线与y轴相交的点。这也被理解为<em class="le">“如果变量x为零，y的标准值就是截距，取平均值”</em>。但这并不总是一个合理的值。所以，这样说并不总是有意义的。</p><p id="55a1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">斜率:</strong>回归线的倾斜度。可以读作<em class="le">" x中每增加一个单位，y中增加斜率* x" </em>。对于回归<em class="le"> y = 3+2x </em>，斜率为2，因此x每增加一个单位，y将增加2倍。</p><p id="9c4a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">外推</strong>:对超出原始数据集值空间的值应用回归模型时要小心。例如，如果您有一个在两个轴上取值范围为0-10的回归，如果您试图预测一个在20范围左右的值，线性回归可能不会返回一个合理的值，因为您无法判断线性关系是否一直延续到20的范围。请参见下图。</p><figure class="na nb nc nd gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ox"><img src="../Images/290f73285aa0f9596cf2259810955593.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d9pSWtvzjvontC0Jp6MXmA.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">线性回归不适用于20左右的值。图片由作者提供。</p></figure><p id="d48b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">多重共线性:</strong>多重共线性是指两个或多个变量具有非常相似的方差，因此它们在这些条件下表现相同。因此，他们将解释目标变量中的相同方差，在模型中产生冗余，这使得模型不太可靠。从线性回归模型中移除多重共线性变量非常重要。这可以用一种叫做相关性的统计测试来验证，最著名的是皮尔森和斯皮尔曼的方法。在熊猫身上使用<code class="fe mw mx my mz b">df.corr()</code>很容易做到。</p><p id="af5a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">残差:</strong>线性回归的残差对于从统计角度验证它非常重要。它们必须是正态分布的，具有恒定的方差。换句话说，这意味着，随着值的增加，回归线也在上升，因此误差往往在某个恒定的范围内。如果模型在低数值或高数值中显示出高方差，或者两者都显示出高方差，那么它是否能够正确预测值就存在问题。</p><h1 id="46e2" class="lf lg it bd lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc bi translated">在你走之前</h1><p id="c184" class="pw-post-body-paragraph kg kh it ki b kj md kl km kn me kp kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">这些是我从数据科学的基础统计学课程中学到的一些最好的东西。我相信还有很多要补充的。也许将来我可以张贴这篇文章的第二部分，但我认为它现在是好的。</p><p id="1da2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我鼓励你四处看看并研究统计学，因为数据科学本质上只是统计学+计算机科学+商业的一个花哨名称。</p><p id="dadd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对这些内容感兴趣，请关注我的博客。</p><div class="np nq gp gr nr ns"><a href="https://gustavorsantos.medium.com/" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">古斯塔沃·桑托斯-中等</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">阅读古斯塔夫·桑托斯在媒介上的作品。数据科学家。我从数据中提取见解，以帮助个人和公司…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">gustavorsantos.medium.com</p></div></div><div class="ob l"><div class="oy l od oe of ob og jz ns"/></div></div></a></div><p id="ad38" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">也在LinkedIn上找到我，告诉我你读了这篇文章。</p></div></div>    
</body>
</html>