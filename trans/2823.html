<html>
<head>
<title>Sobol Indices to Measure Feature Importance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测量特征重要性的Sobol指数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sobol-indices-to-measure-feature-importance-54cedc3281bc#2022-06-20">https://towardsdatascience.com/sobol-indices-to-measure-feature-importance-54cedc3281bc#2022-06-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1f79" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解模型的输出在业务驱动的项目中起着重要的作用，Sobol可以提供帮助</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a508eddba103e0ee9ed4b67327e19653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NVCf6SSB4U3JsOvOewdPHQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">马丁·桑切斯在<a class="ae kv" href="https://unsplash.com/s/photos/ranking?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kw kx hu ky" role="separator"><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb lc"/><span class="kz bw bk la lb"/></div><div class="ij ik il im in"><h1 id="dda2" class="ld le iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated"><strong class="ak">简介</strong></h1><p id="356c" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">每个数据项目自然包括一个<strong class="lx ir">初始阶段的预处理</strong>来获得:</p><ul class=""><li id="d9e6" class="mr ms iq lx b ly mt mb mu me mv mi mw mm mx mq my mz na nb bi translated">适当<strong class="lx ir">格式</strong>的数据，允许项目的下一阶段正常运行。</li><li id="2a3b" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated"><strong class="lx ir">高质量数据</strong>确保最佳性能。</li></ul><p id="ca81" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">这第二点包括数据科学家的两个众所周知的步骤:<strong class="lx ir">特征选择</strong>和<strong class="lx ir">特征工程</strong>。</p><ul class=""><li id="d029" class="mr ms iq lx b ly mt mb mu me mv mi mw mm mx mq my mz na nb bi translated"><strong class="lx ir">特征选择</strong>是<strong class="lx ir">丢弃相对“不重要”的变量</strong>同时<strong class="lx ir">最小化信息损失</strong>的过程。</li><li id="2cf9" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated"><strong class="lx ir">特征工程</strong>是从现有变量<strong class="lx ir">中创建新变量</strong>的过程，这些变量在直觉上或“统计上”<strong class="lx ir">很重要。</strong>通常，变量<strong class="lx ir"> </strong>的<strong class="lx ir">变换</strong>或<strong class="lx ir">交互</strong>。</li></ul><p id="26cc" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">然而，要执行这些步骤，一个关键问题出现了:<strong class="lx ir">如何衡量一个变量的重要性？</strong></p><blockquote class="nk nl nm"><p id="f61b" class="lv lw nn lx b ly mt jr ma mb mu ju md no nh mg mh np ni mk ml nq nj mo mp mq ij bi translated">在本文中，我将介绍一个鲜为人知的方法来回答这个问题:<strong class="lx ir">Sobol指数</strong></p></blockquote><h1 id="ee71" class="ld le iq bd lf lg nr li lj lk ns lm ln jw nt jx lp jz nu ka lr kc nv kd lt lu bi translated">衡量重要性</h1><p id="c320" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">目标是<strong class="lx ir">排列每个输入对输出的影响。</strong>论文<strong class="lx ir">【2】</strong>提出变量的<strong class="lx ir">重要性通过两个因素依赖于其<strong class="lx ir">分布</strong>:</strong></p><ul class=""><li id="3b29" class="mr ms iq lx b ly mt mb mu me mv mi mw mm mx mq my mz na nb bi translated"><strong class="lx ir">其权重</strong>:其分布可以增加或减少其重要性。比方说，我们正在研究性别和其他因素在泰坦尼克号死亡概率中的重要性:在女性群体中，我们预计性别占主导地位，而对于男性，另一个因素可能更重要。</li><li id="d267" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated"><strong class="lx ir">相互作用</strong>:一个变量的分布会受到另一个变量分布变化的影响</li></ul><p id="842d" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">通常有三种<strong class="lx ir">方法</strong>来衡量变量的重要性:</p><ul class=""><li id="f197" class="mr ms iq lx b ly mt mb mu me mv mi mw mm mx mq my mz na nb bi translated">通过<strong class="lx ir">线性回归</strong>近似模型，并通过p值分析<strong class="lx ir">权重</strong></li><li id="8cc0" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated">执行更多的<strong class="lx ir">高级统计测试</strong> (chi2，t student，fisher，ANOVA …)</li><li id="18e9" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated"><strong class="lx ir">功能分解</strong></li></ul><p id="f521" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">Sobol指数尤其基于后者——应用于<strong class="lx ir">方差</strong>的<strong class="lx ir">函数分解</strong>。</p><h1 id="9254" class="ld le iq bd lf lg nr li lj lk ns lm ln jw nt jx lp jz nu ka lr kc nv kd lt lu bi translated">Sobol指数</h1><h2 id="72e5" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">直觉</h2><p id="eee4" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">一个<strong class="lx ir">输入变量<em class="nn"> X_i </em> </strong>的重要性由其负责的Y的方差的<strong class="lx ir">部分来衡量，即如果我们固定<strong class="lx ir"> <em class="nn"> X_i </em> </strong>，我们看<strong class="lx ir">(Y的)方差减少了多少</strong>。如果<strong class="lx ir">显著下降</strong>，那么变量<strong class="lx ir"> <em class="nn"> X_i </em> </strong>测量的是Y的大部分方差，因此<strong class="lx ir"> <em class="nn"> X_i </em>是一个重要变量</strong>。因此，<strong class="lx ir">Y的不确定性归因于<em class="nn">X _ I</em>T33】的不确定性，因为它主要代表其方差。</strong></strong></p><h2 id="09cc" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">一阶</h2><p id="f93d" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">Sobol指数<strong class="lx ir">有不同的顺序，反映了相互影响的变量数量</strong>。因此，一阶量化了由于唯一变量<em class="nn"> X_i </em> 导致的Y中的方差份额<strong class="lx ir">。如果有<strong class="lx ir"> p </strong>变量，就会有<strong class="lx ir"> p </strong>一阶指数。数学上，关系如下:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/08aacd0812e866ea72ff3805b63ad7b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/0*wcqVi3BKBm3xBhIP"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">一阶Sobol指数</p></figure><p id="5df6" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated"><strong class="lx ir">期望值<em class="nn"> 𝔼(Y|X_i) </em> </strong>是<strong class="lx ir"> <em class="nn"> Y </em> </strong>的平均值，其中只有<strong class="lx ir"> <em class="nn"> X_i </em> </strong>的值是有条件的(<strong class="lx ir">固定</strong>)。</p><p id="20ab" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated"><strong class="lx ir">除以总方差<em class="nn"> V(Y) </em>简化了结果</strong>的解释:指数越接近1，变量(如果顺序为1)或变量组(顺序为&gt; 1)越重要。</p><p id="2427" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">k阶的索引使得<strong class="lx ir"> k个变量相互作用</strong> <strong class="lx ir"> <em class="nn"> X_i1 </em> </strong>，<strong class="lx ir"> <em class="nn"> X_i2 </em> </strong>，…，以及<strong class="lx ir"> <em class="nn"> X_ik </em> </strong>通过<strong class="lx ir">以与第一阶相同的方式</strong>固定它们的值。下一部分的目的是尽可能简单地描述到达<strong class="lx ir">广义公式</strong>(针对每一个订单)的路径。</p><h2 id="3f01" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">通式</h2><p id="20ba" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">起点是ANOVA的<strong class="lx ir">功能分解。</strong>将其他假设(例如正交性)添加到这个定理中，Sobol证明了这个分解是<strong class="lx ir">唯一的</strong>。他将定理中的<strong class="lx ir">方差</strong>积分，得到如下等式:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/b82a3eb867b7a380ffab060db4690a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LmWKg-TfO53yvrT7"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Sobol的泛函分解是基于ANOVA的分解(在某些假设下)</p></figure><p id="ccb4" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">最后，<strong class="lx ir">阶k </strong>的Sobol指数的正式定义是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/8c6e351ed48abce909534e3e6ed819c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9kmeaIm3oN2KnECP"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">所有订单的Sobol索引(1到p)</p></figure><p id="f9e0" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">这种方法的缺点是它的<strong class="lx ir">算法成本</strong>。的确，有“p选1”的一阶指数，有“p选2”的二阶指数或p*(p-1)/2指数，…，也只有一个p阶指数，综上，有<strong class="lx ir"> 2^p — 1指数</strong>。这种<strong class="lx ir">指数级</strong>的复杂性使得在高维空间中研究灵敏度变得困难。</p><p id="7652" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">幸运的是，<strong class="lx ir"> Homma和Saltelli </strong>已经找到了解决这个问题的方法:计算变量的总索引。该指数汇总了感兴趣的变量出现的所有<strong class="lx ir">指数</strong>。例如，对于3个变量，S_T1 = S_1 + S_12 + S_13 + S_123。</p><p id="7b57" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">他们建立了<strong class="lx ir">以下关系</strong>:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/cc65c6363c91e7e0c484467896ecd2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/0*cGgmw5WjdNrW4lxd"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">总指数</p></figure><p id="5fff" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated"><strong class="lx ir"><em class="nn">【v(𝔼(y|x~i】)</em>这一项是X~i </strong>的一阶效应，即这一项是y条件作用对所有变量<strong class="lx ir">的期望方差，除了</strong><strong class="lx ir"><em class="nn">x _ I</em></strong>所考虑的变量。</p><p id="2c3c" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">如果我们用一阶指数减去总数，我们就可以得到特定变量的指数之和<strong class="lx ir">大于1 </strong>。当然，我们没有每一阶的精确值，但是这允许我们<strong class="lx ir">对更高阶的一组值</strong>有所了解。</p><h2 id="98ac" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">在实践中</h2><p id="d988" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">现实中，直接计算是不可能的。因此，我们使用<strong class="lx ir">估计器</strong>，特别是<strong class="lx ir">蒙特卡罗方法</strong>。</p><p id="7659" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">后者基于来自原始数据集的N个示例的两个样本，从而使用了两个不同的矩阵，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/3552cd2c655e0234d89c93df02ec555c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ClUvLEK8xuw6lqz7"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">对于<strong class="bd on"> p </strong>变量的<strong class="bd on"> N </strong>示例的数据的2个样本</p></figure><p id="b854" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">如果<strong class="lx ir"> <em class="nn"> i1、… ik </em> </strong>是我们感兴趣的指数的<strong class="lx ir"> <em class="nn"> k </em> </strong>变量，我们定义一个<strong class="lx ir">三阶矩阵等于<em class="nn"> B </em> </strong>，但是用<strong class="lx ir"><em class="nn"/></strong>的值来表示<strong class="lx ir"> <em class="nn"> k </em> </strong>变量:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/340042749540944f9a94bcc85bbd3068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6rozhWicOYyoXhxG"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">矩阵B中k个变量的值来自A</p></figure><p id="3167" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">3个输出写如下:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/d9a0773503aab3358e6616f05ee193b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*In8ANwq9rgjb0QTP"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">输出符号</p></figure><p id="e73b" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">对于一阶，Sobol的方法在于重写等式，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/fc27fed5856b44f0c85ffa82e65785cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*TtMjxcUds8f1m7TvuLXV5Q.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Sobol方法下的一阶指数</p></figure><p id="4dec" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">因此，可以估计每个量，以获得第k个变量的一阶指数:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/edc1dc4411bdb6cf00758c238764337b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i8mAmclTbsdE210TRWUCag.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第k个变量的一阶估计量(Y_i是向量列Y的第I个元素)</p></figure><p id="4d74" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">以同样的方式，总索引被重写:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/5892393b29946fd199c785488d7b4f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*9UpF1T9aV_9kEvEMGe6NLg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">计算第k个变量总指数的Sobol方法</p></figure><p id="ac15" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">这导致以下估计量:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/344aba18da56c4af7f67326ab765e0dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tK4Hnm1Lo3TJnrgOu3_0lg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">变量k总效应的估计量</p></figure><p id="8976" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">根据定义，<strong class="lx ir"> S_Tk大于S_k </strong>，因为它<strong class="lx ir">包含了输入变量X_k的主要效应和所有交互作用</strong></p><p id="e8fc" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">现在，让我们把这个方法应用到一个<strong class="lx ir">玩具的例子中！</strong></p><h2 id="55d8" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">应用</h2><p id="15b6" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">我将使用一个<a class="ae kv" href="https://archive.ics.uci.edu/ml/datasets/Seoul+Bike+Sharing+Demand" rel="noopener ugc nofollow" target="_blank"> <strong class="lx ir">数据集</strong> </a> <strong class="lx ir"> </strong>，根据一些天气变量(温度、降雨量(毫米)、能见度……)以及下表所示的其他变量，给出首尔<strong class="lx ir">每小时租赁的自行车数量</strong>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou ov l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用的原始数据集</p></figure><p id="bea2" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">预处理阶段将被省略，因为主题是索引。但是，必须提到一个步骤:需要在0和1 之间标准化<strong class="lx ir">数据。事实上，ANOVA函数分解依赖于一个<strong class="lx ir">强假设</strong>:函数的定义域必须在<strong class="lx ir"> 0和1 </strong>之间，才能有一个<strong class="lx ir">唯一的</strong>分解(<strong class="lx ir">必要条件</strong>)。</strong></p><p id="0e27" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">代码可分为<strong class="lx ir"> 3块。</strong></p><h2 id="6e38" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">第一区</h2><p id="25fb" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">在<strong class="lx ir">清理</strong>数据后，我实现了<strong class="lx ir"> 3个函数</strong>，分别创建矩阵A、矩阵B和矩阵AB。代码如下:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ov l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">为了简单起见，为了生成两个数据样本，我应用了最简单的样本替换技术。(可选择其他样品技术)</p></figure><h2 id="c4db" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">第二区</h2><p id="3a44" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">然后，我创建了一个主函数，它将为一个特定的变量计算它的<strong class="lx ir">一阶效应和总效应</strong>，这样:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ov l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">计算变量的Sobol索引(第一个和全部)的函数(在参数中称为“varaible_index”)</p></figure><h2 id="bac8" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">第三区</h2><p id="6eaa" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">最后，我展示了一个简单的<strong class="lx ir">函数来绘制</strong>一个堆叠条形图，以方便地表示每个变量的第一阶<strong class="lx ir">效应和总</strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow ov l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">plot函数得到下图(X是训练数据)</p></figure><h2 id="eb2f" class="nw le iq bd lf nx ny dn lj nz oa dp ln me ob oc lp mi od oe lr mm of og lt oh bi translated">结果</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/35cfc252354f415d85f103e76da2805b.png" data-original-src="https://miro.medium.com/v2/resize:fit:758/format:webp/1*jRHraA7U1yXg4rDG87Q1aQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">将上述3个模块的应用结果应用于之前显示的数据集</p></figure><p id="59fd" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">经过几次测试和不同的数据后，我注意到对于1000个例子来说，估计量是无效的。<strong class="lx ir">从5000 </strong>开始，我开始得到如上的不错的成绩。</p><p id="95d5" class="pw-post-body-paragraph lv lw iq lx b ly mt jr ma mb mu ju md me nh mg mh mi ni mk ml mm nj mo mp mq ij bi translated">Sobol指数从<strong class="lx ir">的另一个角度</strong>提供结果:</p><ul class=""><li id="f43f" class="mr ms iq lx b ly mt mb mu me mv mi mw mm mx mq my mz na nb bi translated">温度在每小时租赁自行车的数量中起着主导作用，因为几乎80%的Y 的变化似乎是由温度估计的。</li><li id="1cec" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated">对于除温度之外的所有变量，由于<strong class="lx ir">相互作用</strong> <strong class="lx ir">产生的Sobol指数在一阶上占优势</strong>。也就是说，单独来看，这些变量对输出没有主要贡献，但是<strong class="lx ir">它们与其他变量的相互作用使得变量更加重要</strong>。</li><li id="d9e2" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated">值得注意的是，在没有提及<strong class="lx ir">标准偏差</strong>的情况下，数值分析仍然<strong class="lx ir">统计性较差</strong>。比如我们看到变量“露点温度”有一个<strong class="lx ir">负一阶</strong>，理论上<strong class="lx ir">不可能</strong>。如果我们有标准偏差和p值，我们可能会看到这个变量<strong class="lx ir">对模型来说可能不重要</strong>。</li></ul><h1 id="485f" class="ld le iq bd lf lg nr li lj lk ns lm ln jw nt jx lp jz nu ka lr kc nv kd lt lu bi translated">结论</h1><p id="8a9b" class="pw-post-body-paragraph lv lw iq lx b ly lz jr ma mb mc ju md me mf mg mh mi mj mk ml mm mn mo mp mq ij bi translated">在一个项目中，这种方法可以用来支持其他更传统的测量<strong class="lx ir">变量重要性</strong>的方法(线性回归，统计测试)。此外，对于非科学观众来说，这个解释可能很难。然而，它通过估计器和统计效率进行计算的简单性可能会吸引那些想用另一种方法来衡量独立变量重要性的科学家。</p><blockquote class="nk nl nm"><p id="1b23" class="lv lw nn lx b ly mt jr ma mb mu ju md no nh mg mh np ni mk ml nq nj mo mp mq ij bi translated"><strong class="lx ir">注:</strong>每一个手工人物都是我亲手制作的。</p></blockquote><h1 id="ef9d" class="ld le iq bd lf lg nr li lj lk ns lm ln jw nt jx lp jz nu ka lr kc nv kd lt lu bi translated">来源</h1><ul class=""><li id="1de5" class="mr ms iq lx b ly lz mb mc me oy mi oz mm pa mq my mz na nb bi translated">https://artowen.su.domains/pubtalks/siamUQ.pdf<a class="ae kv" href="https://artowen.su.domains/pubtalks/siamUQ.pdf" rel="noopener ugc nofollow" target="_blank">(索博尔指数的深层数学解释)</a></li><li id="2221" class="mr ms iq lx b ly nc mb nd me ne mi nf mm ng mq my mz na nb bi translated">[2]<a class="ae kv" href="https://foundation.scor.com/sites/default/files/2022-01/Silvia_Bucci_Memoire_ia-light.pdf" rel="noopener ugc nofollow" target="_blank">https://foundation . SCOR . com/sites/default/files/2022-01/Silvia _ Bucci _ Memoire _ ia-light . pdf</a>(一篇有趣的提到Sobol指数的法国论文)</li></ul></div></div>    
</body>
</html>