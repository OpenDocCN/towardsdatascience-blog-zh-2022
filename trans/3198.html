<html>
<head>
<title>9 One-Liners Anyone Learning Python Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">任何学习Python的人都应该知道的9个一行程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/9-one-liners-anyone-learning-python-should-know-29fdea7c540c#2022-07-15">https://towardsdatascience.com/9-one-liners-anyone-learning-python-should-know-29fdea7c540c#2022-07-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="46b5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这些一行程序使您的Python代码简洁</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e8fa25fd854006af3f056cc2d01c847d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R9WD2iq1RC5XzQjBM4oBhw.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来自Shutterstock，授权给Frank Andrade</p></figure><p id="23bc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们开始学习Python时，我们通常会编写完成工作的代码，而不会关注我们代码的可读性以及它有多简洁和高效。</p><p id="2f5e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这很好，但是有一些方法可以在不忽略可读性的情况下使我们的Python代码更短。这就是一行程序的全部内容(如果您正确使用它们的话)。</p><p id="26fb" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里是任何学习Python的人都应该知道的9个一行程序。</p><p id="d9a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">如果你不想看，可以看我的YouTube视频。</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lv lw l"/></div></figure><h1 id="2820" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">1.If — Else语句</h1><p id="be9f" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">if-else语句是我们在Python中学习的第一批语句之一。它用于执行给定条件的真和假部分。</p><p id="76b4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们经常使用这种说法，但是你知道它可以简化成一行代码吗？在这种情况下，if和else语句将位于同一行。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="558d" class="mz ly it mv b gy na nb l nc nd">age = 18</span><span id="4b0a" class="mz ly it mv b gy ne nb l nc nd">valid = "You're an adult"<br/>invalid = "You're NOT an adult"</span><span id="09ec" class="mz ly it mv b gy ne nb l nc nd"><strong class="mv iu">print</strong>(valid) <strong class="mv iu">if</strong> age &gt;= 18 <strong class="mv iu">else</strong> <strong class="mv iu">print</strong>(invalid)</span></pre><h1 id="1fca" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">2.基于现有列表创建列表</h1><p id="b12e" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">列表是存储数据的一种常见方式，但是您知道吗？您可以使用一行代码基于现有列表创建一个新列表。</p><p id="7e22" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确实如此！它被称为list comprehension，它提供了一个简短的语法来基于现有列表的值创建一个列表。列表理解比制作列表的函数和循环更紧凑。</p><p id="a47a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是语法，我们将使用。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="4a80" class="mz ly it mv b gy na nb l nc nd">[expression <strong class="mv iu">for</strong> item <strong class="mv iu">in</strong> list]</span></pre><p id="a0c7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个例子:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="560d" class="mz ly it mv b gy na nb l nc nd">words = ['united states', 'brazil', 'united kingdom']<br/><br/>capitalized = [word.title() <strong class="mv iu">for</strong> word <strong class="mv iu">in</strong> words]</span><span id="7f4b" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; capitalized<br/>['United States', 'Brazil', 'United Kingdom']</span></pre><p id="26f9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看起来好多了，不是吗？记住，我们应该让代码对用户友好，所以不要在一行中写很长的理解列表。</p><h1 id="9b66" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">3.词典理解</h1><p id="8f3f" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">与列表理解类似，Python中也有字典理解。想法是一样的。Dictionary comprehension提供了一个简短的语法，可以在一行代码中创建一个字典。</p><p id="b255" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是语法，我们将使用:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="71d9" class="mz ly it mv b gy na nb l nc nd">{key: value <strong class="mv iu">for</strong> key, value <strong class="mv iu">in</strong> iterable}</span></pre><p id="8b54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里有一个例子:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="3a1d" class="mz ly it mv b gy na nb l nc nd">dict_numbers = {x:x*x <strong class="mv iu">for</strong> x <strong class="mv iu">in</strong> range(1,6) }</span><span id="674e" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; dict_numbers<br/>{1: 1, 2: 4, 3: 9, 4: 16, 5:25}</span></pre><h1 id="4f07" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">4.加入词典</h1><p id="7829" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">加入字典有不同的方法。可以使用<code class="fe nf ng nh mv b">update()</code>方法、<code class="fe nf ng nh mv b">merge()</code>运算符，甚至字典理解。</p><p id="79a3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也就是说，在Python中有一种更简单的连接字典的方法。这是通过使用解包操作符<code class="fe nf ng nh mv b">**</code>实现的。我们只需要在我们想要组合的每个字典前面添加<code class="fe nf ng nh mv b">**</code>，并使用一个额外的字典来存储输出。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="d758" class="mz ly it mv b gy na nb l nc nd">dict_1 = {'a': 1, 'b': 2}<br/>dict_2 = {'c': 3, 'd': 4}</span><span id="f419" class="mz ly it mv b gy ne nb l nc nd">merged_dict = {<strong class="mv iu">**</strong>dict_1, <strong class="mv iu">**</strong>dict_2}</span><span id="f30b" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; merged_dict<br/>{'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></pre><p id="b6ca" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们将<code class="fe nf ng nh mv b">**</code>操作符应用到字典之后，两者都将扩展它们的内容并组合起来创建一个新字典。</p><h1 id="4f24" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">5.删除列表中的重复项</h1><p id="51e1" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">有时我们需要确保列表中没有任何重复的值。虽然没有一种方法可以轻松地处理它，但是您可以使用集合来消除重复。</p><p id="8d1b" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">集合是项目的无序集合，其中每个元素都是唯一的。这意味着，如果我们把我们的列表变成一个集合，我们可以删除重复的。然后我们只需要再次将集合转换成列表。</p><p id="f0aa" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看一个基本的例子来掌握它的窍门。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="436c" class="mz ly it mv b gy na nb l nc nd">numbers = [1,1,1,2,2,3,4,5,6,7,7,8,9,9,9]<br/><br/>&gt;&gt;&gt; <strong class="mv iu">list</strong>(<strong class="mv iu">set</strong>(numbers))<br/>[1, 2, 3, 4, 5, 6, 7, 8, 9]</span></pre><h1 id="3eb6" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">6.用Python在一行中分配多个变量</h1><p id="cd31" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">每当你需要给多个变量赋值时，不用一行一行的赋值，你可以在Python中一行的赋值(甚至是不同类型的变量)。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="73c8" class="mz ly it mv b gy na nb l nc nd">a, b, c = 1, "abc",  True</span><span id="557c" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; a<br/>1</span><span id="c654" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; b<br/>'abc'</span><span id="cf61" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; c<br/>True</span></pre><p id="ac54" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">更紧凑，不是吗？但是要小心！你分配的变量越多，给它们分配错误值的机会就越大。</p><h1 id="4d72" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">7.从列表中筛选值</h1><p id="3140" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">假设我们想从列表中过滤一些值。您可以使用许多方法来做到这一点，但是一个简单的方法是使用<code class="fe nf ng nh mv b">filter()</code>函数。</p><p id="cfac" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下面是<code class="fe nf ng nh mv b">filter</code>函数的语法:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="868f" class="mz ly it mv b gy na nb l nc nd"><strong class="mv iu">filter</strong>(function, iterable)</span></pre><p id="d817" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您在<code class="fe nf ng nh mv b">filter</code>函数中添加一个<code class="fe nf ng nh mv b">lambda</code>函数，事情会变得更好！</p><p id="3af9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们通过从列表中过滤偶数来掌握它的窍门。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="b2c5" class="mz ly it mv b gy na nb l nc nd">my_list = [10, 11, 12, 13, 14, 15]</span><span id="3d82" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;&gt; <strong class="mv iu">list</strong>(<strong class="mv iu">filter</strong>(<strong class="mv iu">lambda</strong> x: x%2 == 0, my_list ))<br/>[10, 12, 14]</span></pre><h1 id="fc9d" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">8.按关键字对字典排序</h1><p id="1c85" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">对字典进行排序不像对列表进行排序那么简单——我们不能像对列表那样使用<code class="fe nf ng nh mv b">sort() </code>或<code class="fe nf ng nh mv b">sorted()</code>对字典进行排序。</p><p id="7ff6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">好消息是，我们可以将字典理解与<code class="fe nf ng nh mv b">sorted()</code>函数结合起来，按关键字对字典进行排序。</p><p id="3c02" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们看一看。在下面的例子中，我们将按产品名称对字典进行排序。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="e8b4" class="mz ly it mv b gy na nb l nc nd">product_prices = {'Z': 9.99, 'Y': 9.99, 'X': 9.99}</span><span id="8849" class="mz ly it mv b gy ne nb l nc nd">&gt;&gt;{key:product_prices[key] <strong class="mv iu">for</strong> key <strong class="mv iu">in</strong> <strong class="mv iu">sorted</strong>(product_prices.keys())}<br/>{'X': 9.99, 'Y': 9.99, 'Z': 9.99}</span></pre><h1 id="7645" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">9.按值对字典排序</h1><p id="9179" class="pw-post-body-paragraph ky kz it la b lb mp ju ld le mq jx lg lh mr lj lk ll ms ln lo lp mt lr ls lt im bi translated">类似于按键排序字典，我们需要使用<code class="fe nf ng nh mv b">sorted()</code>函数和list comprehension来按值排序字典。但是，除此之外，我们还需要添加一个<code class="fe nf ng nh mv b">lambda</code>函数。</p><p id="e961" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，让我们看看<code class="fe nf ng nh mv b">sorted()</code>函数的所有参数。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="5f01" class="mz ly it mv b gy na nb l nc nd">sorted(iterable, key=None, reverse=False)</span></pre><p id="fb92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了按值对字典进行排序，我们需要使用<em class="lu">键</em>参数。此参数接受作为排序比较的键的函数。这里我们可以使用一个<code class="fe nf ng nh mv b">lambda</code>函数来简化事情。</p><p id="9175" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有一个包含人口值的字典，我们想按值对它进行排序。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="5adc" class="mz ly it mv b gy na nb l nc nd">population = {'USA':329.5, 'Brazil': 212.6, 'UK': 67.2}<br/><br/>&gt;&gt;&gt; <strong class="mv iu">sorted</strong>(population.items(), <strong class="mv iu">key</strong>=<strong class="mv iu">lambda</strong> x:x[1])<br/>[('UK', 67.2), ('Brazil', 212.6), ('USA', 329.5)]</span></pre><p id="1f31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在唯一剩下的就是加字典理解了。</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="6ed6" class="mz ly it mv b gy na nb l nc nd">population = {'USA':329.5, 'Brazil': 212.6, 'UK': 67.2}<br/><br/>&gt;&gt;&gt; {k:v <strong class="mv iu">for</strong> k, v <strong class="mv iu">in</strong> <strong class="mv iu">sorted</strong>(population.items(), <strong class="mv iu">key</strong>=<strong class="mv iu">lambda</strong> x:x[1])}<br/>{'UK': 67.2, 'Brazil': 212.6, 'USA': 329.5}</span></pre></div><div class="ab cl ni nj hx nk" role="separator"><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn no"/><span class="nl bw bk nm nn"/></div><div class="im in io ip iq"><p id="6d0e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用Python学习数据科学？<a class="ae np" href="https://frankandrade.ck.page/26b76e9130" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu">通过加入我的10k+人电子邮件列表，获取我的免费Python for Data Science备忘单。</strong> </a></p><p id="a5f0" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，可以考虑报名成为一名媒体成员。每月5美元，让您可以无限制地访问数以千计的Python指南和数据科学文章。如果你使用<a class="ae np" href="https://frank-andrade.medium.com/membership" rel="noopener">我的链接</a>注册，我会赚一小笔佣金，不需要你额外付费。</p><div class="nq nr gp gr ns nt"><a href="https://frank-andrade.medium.com/membership" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">通过我的推荐链接加入媒体——弗兰克·安德拉德</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">frank-andrade.medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ks nt"/></div></div></a></div></div></div>    
</body>
</html>