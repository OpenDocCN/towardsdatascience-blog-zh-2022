<html>
<head>
<title>Seeded Topic Models as a Yard Stick: Implement them in R with keyATM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">种子主题模型:用keyATM在R中实现它们</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-to-use-seeded-topic-models-in-your-next-project-and-how-to-implement-them-in-r-8502d15d6e8d#2022-09-07">https://towardsdatascience.com/why-to-use-seeded-topic-models-in-your-next-project-and-how-to-implement-them-in-r-8502d15d6e8d#2022-09-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f646" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">基于英国议会记录的地缘政治风险建模</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/757f918ae273e84a0f67077a0e278c4a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BTfjPiIvLkfX9Q-kpPVoSw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="24e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在文本分析中，主题模型是从大量文档中提取主题的重要方法。也许在这个领域中最广泛使用的模型是<strong class="kx ir">潜在狄利克雷分配(LDA) </strong>。</p><p id="6b64" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">LDA是一种<strong class="kx ir">概率主题模型</strong>，存在多种变体。今天我们来看看其中的一个:种子LDA模型。</p><p id="a3b8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">种子主题模型允许研究者将一组关键词传递给模型，该模型在评估之前概述了所寻找的主题。这种播种提供了对评估过程的更多控制，并且也导致了结果的<strong class="kx ir">【更好的】可解释性</strong>。</p><p id="679f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我最近的硕士论文中，我探讨了如何基于<strong class="kx ir">文本数据</strong>来<strong class="kx ir">度量</strong>地缘政治风险<strong class="kx ir">的抽象概念。为此，我使用了过去200年<a class="ae lr" href="https://hansard.parliament.uk" rel="noopener ugc nofollow" target="_blank">英国下议院议会辩论的记录</a>，并应用了<strong class="kx ir">种子话题模型</strong>。</strong></p><p id="4e33" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">数据科学可以帮助提供<strong class="kx ir">新的测量工具</strong>，并使我们能够将新的或者更精确的变量纳入<strong class="kx ir">经济计量模型</strong> 。</p><p id="78d1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在我的申请中，这意味着用一个种子<a class="ae lr" href="https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation" rel="noopener ugc nofollow" target="_blank"> LDA </a>主题模型来衡量地缘政治风险，并将这一衡量结果插入一个<a class="ae lr" href="https://en.wikipedia.org/wiki/Vector_autoregression" rel="noopener ugc nofollow" target="_blank">向量自回归</a>。</p><p id="235b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我想给你一个种子LDA模型的概述，并提供一些基本设置的代码片段。</p><h1 id="151d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么是艾达？</h1><p id="ac22" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">LDA模型假设文档由不同主题的混合组成，并且这些主题中的每一个都是单词的混合。</p><p id="ed6b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您可以通过多种方式扩展LDA模型。例如，您可以在文档中加入元信息，如作者或发布时间。</p><p id="d61c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对我来说，动态种子LDA模型似乎足够了。因为它是一个动态的模型，你的主题可以随着时间的推移而发展，创造历史的线索，而不是快照。</p><p id="9eb5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在过去的200年里，世界发生了巨大的变化。与2010年的辩论相比，冷战、核武器的发明或语言的变化等发展可能会改变1810年的辩论。</p><h1 id="8d5d" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">为什么播种LDA？</h1><p id="8b1b" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">解释常规LDA模型发现的主题的诱惑是巨大的。</p><p id="6c46" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">一个包含诸如<em class="mp">战争</em>、<em class="mp">军事</em>或<em class="mp">武器</em>等词汇的话题，必须是关于地缘政治风险的——对吗？</p><p id="d4a5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不对。至少在严格的意义上。</p><p id="b42c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你想衡量一个概念，重要的是要有一个工具来传递<strong class="kx ir">客观可解释的主题</strong>。</p><p id="b4a8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这种情况下，<em class="mp">目标</em>意味着，在实际评估您的模型之前，您需要通过概念<strong class="kx ir">的明确定义。否则，你会发现自己事后挑剔，做出<em class="mp">主观</em>的解读。</strong></p><p id="e919" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">把这比作向你的朋友证明你可以用篮球打半场球:为了做好这件事，你必须先<strong class="kx ir">宣布</strong>投篮<strong class="kx ir"/>，然后得分。而不是<strong class="kx ir">打一枪</strong>，事后大喊“我早告诉你了”<strong class="kx ir">。</strong></p><h1 id="2163" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">工具箱:Quanteda和keyATM</h1><p id="d033" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">我推荐用R来处理种子LDA，主要是因为有库<code class="fe mq mr ms mt b"><a class="ae lr" href="https://quanteda.io/" rel="noopener ugc nofollow" target="_blank">quanteda</a></code>(数据清理)和<code class="fe mq mr ms mt b"><a class="ae lr" href="https://keyatm.github.io/keyATM/index.html" rel="noopener ugc nofollow" target="_blank">keyATM</a></code>(种子LDA模型)。</p><p id="1b0e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我想向您简要介绍一下计算动态种子LDA模型所需的步骤。</p><p id="85cd" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有关更深入的解释，请分别访问<a class="ae lr" href="https://quanteda.io/index.html" rel="noopener ugc nofollow" target="_blank"> quanteda </a>和<a class="ae lr" href="https://keyatm.github.io/keyATM/" rel="noopener ugc nofollow" target="_blank"> keyATM </a>的文档。</p><h1 id="35c5" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">预处理数据</h1><p id="274e" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">首先，需要对数据进行预处理。为此，我们首先创建一个语料库。</p><p id="1306" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第二步，我们可以用函数<code class="fe mq mr ms mt b">tokens</code>预处理这个语料库，并用<code class="fe mq mr ms mt b">keyATM_read</code>将其转换成适合keyATM模型的格式。</p><p id="2115" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于动态植入LDA模型，有必要创建一个周期变量，该变量从1开始，每个周期递增1。在下面的代码中，一个周期反映了从1805年开始的5年。</p><h1 id="b213" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">关键词词典</h1><p id="e8ca" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">我们用一个关键字字典作为主题模型的种子。</p><p id="429f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">每个主题可以传递任意多的关键字。然而，模型的拟合度很大程度上取决于你的关键词的<strong class="kx ir">质量。例如，好的关键字出现在许多文档中，并且是感兴趣的概念所特有的。</strong></p><h1 id="a125" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">指定和评估模型</h1><p id="bd31" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">现在，我们可以为我们的模型指定一些超参数。同样，要获得更深入的解释，请访问上面提到的文档。</p><p id="864e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请注意，考虑到<code class="fe mq mr ms mt b">no_keyword_topics</code>是很重要的，因为它使模型也能够<strong class="kx ir">自由探索数据中的模式</strong>。</p><p id="bb74" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后，我们可以将所有这些组件作为参数组合在<code class="fe mq mr ms mt b">keyATM</code>中来评估我们的模型。</p><p id="cdea" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">重要的是要记住，估计<em class="mp">可能会</em>花费很长时间，并且可能需要大量资源。除其他因素外，计算成本还取决于文档的数量和长度。</p><h1 id="eb40" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">例子:用辩论记录衡量地缘政治风险</h1><p id="c4a7" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">在评估之后，我们应该以整体的方式评估模型，即以不同的方式评估拟合的质量。</p><p id="cd2d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，我们可以查看我们的结果主题。我们用函数<code class="fe mq mr ms mt b">top_words</code>得到一个主题中最“重要”的词，正如我们的模型所估计的那样。</p><p id="0b18" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于我的应用程序，像<em class="mp">军事</em>、<em class="mp">国防</em>或<em class="mp">陆军</em>这样的词是代表地缘政治风险(话题战争)的话题的顶级词。请注意，我们如何以相同的估计得到财政、教育和和平概念的主题。通过在关键字字典中指定更多的主题，我们可以一次获得多个种子主题:虽然计算时间略有增加，但我们可以“几乎”免费获得额外的度量。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mu"><img src="../Images/b80f84dcf34e6837131920aff21b062c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mja9Fxd2yTF7EES6.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="6a7f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于动态主题模型，您还希望绘制出主题在一段时间内的发展情况。下图显示了一段时间内辩论中地缘政治风险的估计份额。阴影区域代表英国的军事冲突时期。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mv"><img src="../Images/a42373b51d40a62550076ad9302c0f1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mC0MQfo4Y8JG-2L2.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="7865" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您还可以看到<strong class="kx ir">所有主题的份额</strong>随时间的发展。所有非关键词话题的分享都被聚集到下面的白色区域。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/5889bed49416510fbb017d0137c12dfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*cC6toJWKErdXc5zO.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="8eee" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">虽然其中一些主题的时间趋势似乎是合理的，如第一次世界大战前“殖民地”主题的重要性，但也有一些主题不太适合，如和平主题。</p><p id="ec03" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">此外，这些话题相对于彼此的重要性可能令人难以置信，因为很难相信“战争”这个话题在第二次世界大战期间只占话语的15%左右。</p><p id="fd5c" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，种子主题模型是基于非结构化数据(例如文本)创建度量的令人兴奋的工具。在未来，重要的是加入更多的元数据，并改进种子关键词。在我的情况下，这可能意味着在模型中包括一个讨论者的政治倾向，或者使我的关键字字典更精确地适应这个概念。</p></div></div>    
</body>
</html>