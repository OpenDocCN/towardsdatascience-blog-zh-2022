<html>
<head>
<title>NLP2Chart — Information Visualization in Natural Language -Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NLP2Chart —自然语言中的信息可视化—第2部分</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/nlp2chart-information-visualization-in-natural-language-part-2-a325c5e636dc#2022-08-19">https://towardsdatascience.com/nlp2chart-information-visualization-in-natural-language-part-2-a325c5e636dc#2022-08-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="530d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一个扩展的应用程序，使用CodeX用自然语言的命令创建图表</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/605feeae41f8ea97cbef4e4c17976dcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTP4yHlj9AU00AlU1dQ_jQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的界面/图片</p></figure><p id="db8a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<a class="ae lr" rel="noopener" target="_blank" href="/nlp2chart-9bc732719ba0">之前的文章</a>中，我展示了一个方法的原型，它允许使用自然语言的指令创建信息图和图表。在这篇文章中，我想给出一个扩展和修改的版本，并展示一些例子和用户一起研究的结果。</p><p id="e0e4" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这项工作于2022年7月19日至22日在“奥地利维也纳技术大学”举行的第26届国际信息可视化会议(IV)上发表，论文发表在会议出版物上。</p><h1 id="1173" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">信息可视化软件中的自然语言接口</h1><p id="89f3" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">自然语言界面已经进入了可视化数据分析的软件产品。它们旨在帮助人们使用各种分析方法分析和可视化数据。商业软件“Tableau”的市场领导者和微软的“Power BI”在其当前版本中集成了相应的组件。</p><p id="477a" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有了Tableau的“问数据”，你可以用常用语言输入一个问题，直接在Tableau里立刻收到答案。答案以自动数据可视化的形式出现，无需您手动拖放字段、调用菜单或理解错综复杂的数据结构。</p><p id="2f75" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">微软的对应物叫做“Power BI问答”。然而，获得正确的说明仍然是用户的一个主要障碍。更强大的语言模型可能会有所帮助。</p><p id="b8d3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">近年来，通过对大型文本数据集进行预处理，基于Transformer架构的强大的新语言模型已经出现，主导了所有当前的NLP基准。这项工作的目的是探索数据可视化的NLIs是否以及以何种方式从这些模型中受益。为此，我基于OpenAI Codex模型创建了一个可视化软件原型。</p><div class="mp mq gp gr mr ms"><a href="https://openai.com/blog/openai-codex/" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">开放法典</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">我们已经创建了一个OpenAI Codex的改进版本，我们的人工智能系统可以将自然语言翻译成代码，我们…</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">openai.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng kp ms"/></div></div></a></div><p id="2d12" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第二个原型实现了基于NL的数据可视化的基线管道。它使用开源的“<a class="ae lr" href="https://nl4dv.github.io/nl4dv/" rel="noopener ugc nofollow" target="_blank">数据可视化自然语言”(NL4DV) </a>工具包来解释自然语言语句。该工具包将一个数据集和对应于该数据集的话语作为输入，返回一个JSON对象，该对象包含一个有序的<a class="ae lr" href="https://vega.github.io/vega-lite/" rel="noopener ugc nofollow" target="_blank"> Vega-Lite </a>规范列表，可以作为输出呈现。</p><h1 id="f680" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">界面</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nh ni l"/></div></figure><p id="0d19" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了测试在深度学习语言模型的帮助下生成图表的可能性，创建了一个web应用程序的原型，该原型允许使用文本输入创建数据可视化，然后使用上下文相关的调色板进行优化。文本命令用于定义可视化的基本结构，然后调色板可用于设置额外的规范，如线宽或颜色(见上图)。原型是一个混合主动性的可视化系统，允许通过图形用户界面(GUI)进行自然语言输入和直接操作交互。</p><p id="402d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于数据处理，原型提供了上传CSV文件或通过选择框加载现有文件的可能性。在此之下，数据字段与其数据类型一起显示。作为导出选项，原型中提供了PNG图像和HTML导出。</p><p id="9766" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除了可以观看简短的教程视频之外，屏幕的中央区域还提供了一个多行文本输入栏，在其中可以用自然语言输入指令。在这下面，显示生成的可视化。在一个原型变体中，这是一个Matplotlib图形，而在另一个原型变体中，这是一个Vega-Lite图表。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nj"><img src="../Images/e706a1a074bbbfdf2144d2b53f8c5686.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qpCm2BpZTC6vTDffQEXZuw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">GUI元素/作者提供的图片</p></figure><p id="8ae7" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">除了文本命令之外，右栏还提供了一些GUI元素。可以指定标题、标注轴和设置限制。根据所创建的图表类型，会显示其他元素，如线宽、调色板或条形的颜色。</p><h1 id="ae18" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">应用程序的架构</h1><p id="bbbb" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">原型的两个版本都是用Python实现的web应用程序。在每种情况下都使用了框架“<a class="ae lr" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>”。数据可以CSV格式处理，并导出为PNG或HTML格式。这两种变体在NLP和可视化方面有所不同。下图显示了使用CodeX生成代码的版本的系统架构。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nk"><img src="../Images/349180b59d2ec5b3f4b4c57f707994e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VShUKhQ3ouNhldRrE0127w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的系统架构/图像</p></figure><p id="ab57" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">不同部分的细节可以在文件中找到。</p><h1 id="7e81" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">例子</h1><p id="2b2d" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">为了说明和评估，我在基于证据的世界观上用来自Gapminder.org<a class="ae lr" href="https://www.gapminder.org/data/" rel="noopener ugc nofollow" target="_blank">的数据测试了这个应用程序。测试人员必须完成以下练习:</a></p><ol class=""><li id="2e90" class="nl nm iq kx b ky kz lb lc le nn li no lm np lq nq nr ns nt bi translated">为数字特征创建直方图</li><li id="0ec3" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">使用条形图绘制每个洲的数字特征。</li><li id="9750" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">借助条形图显示每个国家的GDP。前15个国家应该以降序显示。</li><li id="1485" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">创建一个饼图，显示世界各大洲的人口分布。</li><li id="3a3e" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">创建一个图表，显示所有国家平均预期寿命的时间进程。使用一个折线图。</li><li id="eefc" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">借助散点图显示一个国家的人均GDP和预期寿命之间的关系。此外，使用反映人口数量的颜色代码。</li><li id="278d" class="nl nm iq kx b ky nu lb nv le nw li nx lm ny lq nq nr ns nt bi translated">使用气泡图显示一个国家的人均GDP与预期寿命和人口数量之间的关系。</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/b9697c5c5117a7ff48aee12ad5abd3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AQa-DoEwSu7GyHq6pCVgNg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的图表输出/图像示例</p></figure><p id="d707" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">实验过程的细节可以在论文中找到。</p><h1 id="10b6" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">测试结果</h1><p id="fb60" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">参与者给深度学习语言模型的原型的平均<a class="ae lr" href="https://www.usability.gov/how-to-and-tools/methods/system-usability-scale.html" rel="noopener ugc nofollow" target="_blank"> SUS分数</a>为71.1，给NL4DV的版本的平均分数为68.2。得分≥ 68被认为是可用性良好的指标。</p><p id="4ee8" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">评估表明，深度学习模型具有表达性文本输入的潜力，但并不总是产生完全可预测的结果，因此可能会使用户困惑。</p><h1 id="9add" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">将来的</h1><p id="8932" class="pw-post-body-paragraph kv kw iq kx b ky mk jr la lb ml ju ld le mm lg lh li mn lk ll lm mo lo lp lq ij bi translated">我使用的Codex语言模型是一个用于生成通用源代码的模型，并没有针对我们的任务进行优化。目前，可以通过API微调GPT3的自然语言变体，因此模型可以更好地适应任务。这对于法典模式来说还不可能。一旦这成为可能，我期望我的方法会有很大的进步，因为在这里将有可能专门用源代码来创建信息图，从而更有针对性的图表。</p><p id="c6de" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">该论文将很快在IEEE Xplore数字图书馆<a class="ae lr" href="https://ieeexplore.ieee.org/xpl/conhome/1000370/all-proceedings" rel="noopener ugc nofollow" target="_blank">获得https://IEEE Xplore . IEEE . org/xpl/con home/1000370/all-proceedings</a></p><p id="74e6" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">代码@github:</p><p id="a37f" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">【https://github.com/astoeckl/NLP2Chart2 T4】</p></div></div>    
</body>
</html>