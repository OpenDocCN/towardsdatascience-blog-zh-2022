<html>
<head>
<title>SeqRep — Simple Framework for ML workflow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">seq rep——ML工作流的简单框架</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/seqrep-simple-framework-for-ml-workflow-2eec279b25b0#2022-04-03">https://towardsdatascience.com/seqrep-simple-framework-for-ml-workflow-2eec279b25b0#2022-04-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0df8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从标记数据到用几行代码评估模型</h2></div><p id="1631" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你有没有担心过<strong class="kk iu">构建正确的机器学习(ML)流水线</strong>？<br/>你是想专注于模型还是预处理部分，你<strong class="kk iu">不想费心把所有东西都放在一起</strong>？<br/>你想只使用<strong class="kk iu">几行代码</strong>来测试你的想法吗？</p><p id="684b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你对任何一个问题的回答是肯定的，或者你只是好奇，继续读下去！</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/24a891b304172e4e69bbe7c645f24b4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*B-VdtH3d84Q7yg93"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@goran_ivos?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Goran Ivos </a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="da37" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">SeqRep是什么？</h1><p id="1dd2" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">SeqRep是一个简单的Python库，用于简化ML任务的编码。它主要侧重于序列(时间序列)数据；但是，它也可以用于其他类型的数据。</p><p id="89cf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在任何ML任务的开始，我们都有<strong class="kk iu">数据</strong>。最终，我们要得到一个模型的<strong class="kk iu">性能结果</strong>。在这两个阶段之间，有几个步骤。有时候我们需要做更多，有时候几步就够了。SeqRep 就是来缓解这种情况的。我们可以像玩具积木一样构建工作流。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="d926" class="lv lw it bd lx ly na ma mb mc nb me mf jz nc ka mh kc nd kd mj kf ne kg ml mm bi translated"><code class="fe nf ng nh ni b">PipelineEvaluator</code> -主程序块</h1><p id="5488" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated"><em class="ms">序列</em>的基本类是<code class="fe nf ng nh ni b">PipelineEvaluator</code>类。这是放置我们特殊积木的地方。通常，我们会插入一个<code class="fe nf ng nh ni b">Splitter</code>,因为我们希望在不同于用于训练的数据上评估模型。然后我们添加一个模型。<em class="ms"> SeqRep </em>指望模型有<code class="fe nf ng nh ni b">fit</code>和<code class="fe nf ng nh ni b">predict</code>方法。因此，您可以轻松使用任何型号的<em class="ms"> Scikit </em>。最后，可以添加<code class="fe nf ng nh ni b">Evaluator</code>对象来获得一些评估度量值。您可以使用一些预定义的指标，也可以实现自己的指标(例如，使用您想要的指标，比如<a class="ae lu" rel="noopener" target="_blank" href="/finally-remember-precision-and-recall-94b4d481f9bf">精度和</a>)。</p><p id="7915" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">代码可能如下。</p><pre class="lf lg lh li gt nj ni nk nl aw nm bi"><span id="8b50" class="nn lw it ni b gy no np l nq nr">pipe_eval = PipelineEvaluator(labeler = NextColorLabeler(),<br/>                              splitter = TrainTestSplitter(),<br/>                              model = SVC(),<br/>                              evaluator = ClassificationEvaluator(),<br/>                              )<br/>result = pipe_eval.run(data=data)</span></pre></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="234b" class="lv lw it bd lx ly na ma mb mc nb me mf jz nc ka mh kc nd kd mj kf ne kg ml mm bi translated">添加其他块</h1><p id="f5b4" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">让我们通过<strong class="kk iu">添加其他模块</strong>来构建更大更复杂的东西。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi ns"><img src="../Images/b2063029f83aa5141ea340997ddb995f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*HiMauTPjoPMfFDSV"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">由<a class="ae lu" href="https://unsplash.com/@bozu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米歇尔·bożek</a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="92fa" class="nn lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">标记</h2><p id="15d8" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">有时，我们有数据，但我们没有标签(我们将使用监督模型)。例如，它适用于任务是预测下一个值的时间序列数据(例如，<a class="ae lu" href="https://github.com/MIR-MU/seqrep/blob/main/examples/RegressionExample-Temperature.ipynb" rel="noopener ugc nofollow" target="_blank">温度预测</a>或<a class="ae lu" href="https://github.com/MIR-MU/seqrep/blob/main/examples/RegressionExample-Electric_Power_Constumption.ipynb" rel="noopener ugc nofollow" target="_blank">功耗预测</a>)。这可以使用<code class="fe nf ng nh ni b">Labeler</code>对象来解决。同样，您可以通过继承<code class="fe nf ng nh ni b">Labeler</code>类或使用任何实现的。</p><p id="56a3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么当<strong class="kk iu">您分别拥有数据和标签</strong>时，情况会怎样呢？没问题，<code class="fe nf ng nh ni b">labeler</code>不需要使用。您可以直接将数据和标签添加到主对象中。请参见下面的代码片段。</p><pre class="lf lg lh li gt nj ni nk nl aw nm bi"><span id="60b9" class="nn lw it ni b gy no np l nq nr">pipe_eval.data = X_data<br/>pipe_eval.labels = labels</span></pre><p id="8dc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">同样，如果您的数据已经分离，您就不必使用<code class="fe nf ng nh ni b">TrainTestSplitter</code>。</p><pre class="lf lg lh li gt nj ni nk nl aw nm bi"><span id="9e84" class="nn lw it ni b gy no np l nq nr">pipe_eval.X_train = X_train<br/>pipe_eval.y_train = y_train<br/>pipe_eval.X_test = X_test<br/>pipe_eval.y_test = y_test</span></pre><p id="16ff" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里要注意的是，预定义的<code class="fe nf ng nh ni b">TrainTestSplitter</code>并没有对数据进行洗牌(参数<code class="fe nf ng nh ni b">shuffle</code>的默认值为<em class="ms"> False </em>)。这是因为我们通常不想重新排列时序数据<strong class="kk iu">。然而，在某些情况下，它可能是有意义的。所以要照顾好这个参数！</strong></p><h2 id="915c" class="nn lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">预处理</h2><p id="adff" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">有时<strong class="kk iu">适当的预处理比模型选择更重要。</strong></p><p id="37fd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在<em class="ms"> SeqRep </em>中，我们使用了来自<em class="ms"> ScikitLearn </em>的<code class="fe nf ng nh ni b">Pipeline</code>；但是，你可以定义你的<code class="fe nf ng nh ni b">FeatureExtractor</code>。通常，预处理的最后一步(有时是唯一的一步)是<em class="ms">缩放</em>。您可能想要(根据可用数据)创建要素。一些实现的提取器(例如，用于计算价格、心率变异性特征等技术指标)已经可用。</p><p id="f11c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">可以使用简单的<code class="fe nf ng nh ni b">PreviousValuesExtractor</code>，它是为顺序数据设计的。它只是增加了前一个示例的功能。尽管如此，您可以通过继承类<code class="fe nf ng nh ni b">FeatureExtractor</code>来定义自己的提取器。唯一需要实现的方法是<code class="fe nf ng nh ni b">transform</code>方法。</p><h2 id="9bc4" class="nn lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">特征的减少或选择</h2><p id="4377" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">添加有价值的功能是值得的；但是，有时候，<strong class="kk iu">有无价值的特性</strong>。</p><p id="00a4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><code class="fe nf ng nh ni b">FeatureReductor</code>可用于选择(不知何故)好的特征。在输入模型之前，应该省略一些(原始)特征(例如，文本特征)。<code class="fe nf ng nh ni b">FeatureSelector</code>就是来帮你做这件事的！</p><p id="cf4e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里就不赘述了。然而，基本的特征约简方法已经在包中实现。</p><h1 id="de39" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">形象化</h1><p id="9808" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated"><em class="ms"> SeqRep </em>包能够<strong class="kk iu">为您可视化各个步骤</strong>(如果您想要的话)。在主类(<code class="fe nf ng nh ni b">PipelineEvaluator</code>)初始化期间，将您想要绘制的模块名称写入参数<code class="fe nf ng nh ni b">visualize</code>。</p><p id="dd42" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，看到可视化的训练数据可能会很好；但是，处理从x要素到二维的向下投影可能需要一些时间。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi oe"><img src="../Images/ee85157ff9b7cf977bee966fbd8429b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Lu6OqnFgXro_e1gJ"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated"><a class="ae lu" href="https://unsplash.com/@firmbee?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Firmbee.com</a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="5e91" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">SeqRep的高级使用</h1><p id="bbcc" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated"><em class="ms"> SeqRep </em>包非常<strong class="kk iu">可定制</strong>。您可以定义自己的单个步骤的实例。</p><p id="d2f3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一些步骤可以省略，包括学习和评估。因此您可以创建仅用于预处理的工作流。但是，您可以将输出用于主类的其他实例(<code class="fe nf ng nh ni b">PipelineEvaluator</code>)以及一些模型和评估器。如果我们想要测试更多的模型(或者不同的模型设置)，这可能是有益的。你可以在<a class="ae lu" href="https://github.com/MIR-MU/seqrep/blob/main/examples/RegressionExample-Electric_Power_Constumption.ipynb" rel="noopener ugc nofollow" target="_blank">这个例子</a>中看到这个用法。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h1 id="c8df" class="lv lw it bd lx ly na ma mb mc nb me mf jz nc ka mh kc nd kd mj kf ne kg ml mm bi translated">下一步是什么？</h1><p id="9e74" class="pw-post-body-paragraph ki kj it kk b kl mn ju kn ko mo jx kq kr mp kt ku kv mq kx ky kz mr lb lc ld im bi translated">您可以查看存储库中的<a class="ae lu" href="https://github.com/MIR-MU/seqrep/tree/main/examples" rel="noopener ugc nofollow" target="_blank">示例。</a></p><p id="267d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以通过打开<a class="ae lu" href="https://github.com/MIR-MU/seqrep/blob/main/examples/TEMPLATE.ipynb" rel="noopener ugc nofollow" target="_blank">模板Jupyter笔记本</a>开始使用<em class="ms"> SeqRep </em>包。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="a3c2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">欢迎反馈！没有什么是完美的，所以我会感谢你的评论。如果你觉得<em class="ms"> SeqRep </em>包有帮助，我会很高兴你<strong class="kk iu">给</strong> <a class="ae lu" href="https://github.com/MIR-MU/seqrep" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu">仓库</strong> </a>打一颗星。</p><div class="of og gp gr oh oi"><a href="https://github.com/MIR-MU/seqrep" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">GitHub - MIR-MU/seqrep:顺序数据表示的科学框架</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">用顺序数据表示的科学框架单击展开！该软件包旨在简化工作流程…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">github.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow lo oi"/></div></div></a></div></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><p id="96b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">今天，我们简单介绍了一下<em class="ms"> SeqRep </em>包的功能。希望可以理解。我计划写另一篇文章，关于使用基因组数据包<strong class="kk iu"/>的<strong class="kk iu">案例研究</strong>。</p></div><div class="ab cl mt mu hx mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="im in io ip iq"><h2 id="73fb" class="nn lw it bd lx nt nu dn mb nv nw dp mf kr nx ny mh kv nz oa mj kz ob oc ml od bi translated">新到中？<a class="ae lu" href="https://medium.com/@jakubrysavy/membership" rel="noopener">解锁</a>无限访问(并支持我)！</h2></div></div>    
</body>
</html>