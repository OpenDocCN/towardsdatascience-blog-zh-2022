<html>
<head>
<title>Spatial Data Science: Spatial Queries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">空间数据科学:空间查询</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spatial-data-science-spatial-queries-8d6709fd9747#2022-07-16">https://towardsdatascience.com/spatial-data-science-spatial-queries-8d6709fd9747#2022-07-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/efe429604123c77f9e3c101485d935f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cYDa7oxloEeR9FIiR51bLw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">里尼和作者(2022)</p></figure><div class=""/><div class=""><h2 id="5dc9" class="pw-subtitle-paragraph kf jh ji bd b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw dk translated">用SQL回答每个“在哪里”的问题；举例说明</h2></div><h1 id="3548" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">介绍</h1><p id="181f" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我们通常通过地理过程(如ArcGIS和Qgis中的缓冲区、联合和相交)逐个过程地进行适宜性分析。单击一个工具按钮，创建一个输出，并将其用作其他流程的输入。这导致在你的缓存文件夹中有许多暂存文件，从而产生了记住使用哪些文件的奇迹。对于像这样简单的适宜性分析，从技术上讲，我们可以在ArcGIS和Qgis中使用模型构建器，但更好的方法是以更易于计算机解析的方式来表达我们的适宜性请求。</p><p id="e922" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">适宜性分析只是我们对空间数据集提出的一组要求，例如:</p><p id="741f" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我想寻找土地开发成农场，所以我们有这样一套说明:</p><ul class=""><li id="b882" class="mq mr ji lr b ls ml lv mm ly ms mc mt mg mu mk mv mw mx my bi translated">获取非保护区和可耕地之间的交集</li><li id="8a02" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">从交叉点，查询所有现有的空地土地使用</li><li id="89b5" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">从那些确定的空地中，过滤掉那些不在1公里灌溉范围内的空地，以保证农场的用水</li></ul><p id="124f" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">有一种方法可以翻译这些指令，只需单击一次“enter”就可以从我们所有的数据集中进行查询。</p><h1 id="f517" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">SQL —结构化查询语言</h1><p id="fbaa" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">对于本文上下文，结构化查询语言(SQL)是一种将查询数据参数表达成数据库管理员能够理解的指令的语言。我们可以做得更多，但就目前而言，这个解释就足够了。它是一个指令；请求数据库返回我们想要的数据。相信大家都已经知道什么是数据库了。</p><p id="068d" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">SQL看起来怎么样？它看起来像这样:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="cc4f" class="nn ky ji nj b gy no np l nq nr">SELECT * FROM land_use</span></pre><p id="cd3c" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这意味着“从land_use shapefile中选择所有列”。不是shapefile本身，而是来自<code class="fe ns nt nu nj b">land_use</code>表(包含地理信息)。另一个例子:</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="8063" class="nn ky ji nj b gy no np l nq nr">SELECT name, length, geometry FROM irrigation WHERE length &lt; 2000</span></pre><p id="b8bb" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这意味着“返回长度小于2000的灌溉线，但只有列名、长度及其几何图形”。这省略了除名称、长度和几何图形之外的其他列，因为灌溉表可能包含许多不必要的列，如类型、开发者等等。返回太多的列会导致不必要的带宽和大量计算资源的消耗。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nv"><img src="../Images/a122304af15465c23567451de5daf818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7zgbaPR6IjCOf8PJYACPxw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">空间表中的SQL示例(来源:作者，2022)</p></figure><h2 id="ebfb" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">这个想法</h2><p id="a7a5" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated"><strong class="lr jj">我们的想法是制定查询指令，使其返回满足我们查询的空间数据。</strong>这意味着我们字面上键入指令；使未来的分析师能够审计我们的流程并复制它。这也有助于我们跟踪我们一直在做的事情。看看PostGIS文档中的一些空间查询示例。</p><p id="013d" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">空间查询的一些示例(从where开始):</p><ul class=""><li id="7365" class="mq mr ji lr b ls ml lv mm ly ms mc mt mg mu mk mv mw mx my bi translated">我应该住在哪里？</li><li id="f842" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">我应该在哪里开我的新店？</li><li id="9b88" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">工业区旁边的住宅区在哪里？</li><li id="e317" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">我的办公室应该搬迁到广告中的物业吗？</li><li id="cbf2" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">濒危动物在哪里？</li><li id="effa" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">如果我建造一条高速铁路，这会对该地区的生物多样性产生什么影响？</li></ul><h2 id="2323" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">空间查询</h2><p id="da31" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">当我们在SQL脚本中引入空间查询函数时，空间查询就开始了。这些功能因软件而异，但我认为最流行的是带有PostGIS扩展的Postgresql，或者我们称之为(只是)Postgis。我将在本文末尾讨论PostgreSQL。其他软件也提供这种能力；例如使用Google BigQuery或Microsoft SQL Server。</p><p id="a687" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">以下脚本是postgis中SQL的官方示例。</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="2032" class="nn ky ji nj b gy no np l nq nr">WITH city AS <br/>(SELECT 'Gotham' AS name,  ST_Buffer(ST_Point(0,0), 10) AS geom),</span><span id="9de5" class="nn ky ji nj b gy oi np l nq nr">superhero(name,geom) AS (VALUES<br/>('Bat Boy', ST_Point(0.1,0)), <br/>('Bat Girl', ST_Point(1,1)))</span><span id="1f3e" class="nn ky ji nj b gy oi np l nq nr">SELECT superhero.name FROM city INNER JOIN superhero ON ST_Contains(city.geom, superhero.geom);</span></pre><p id="907d" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated"><a class="ae oh" href="https://postgis.net/docs/reference.html" rel="noopener ugc nofollow" target="_blank">你可以在这个官方参考文档</a>中看到所有的函数和操作符。像buffer、union和clip这样的常用工具就在那里！</p><p id="ac06" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">让我们开始行动吧</p><h1 id="2eb1" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">案例:使用空间SQL识别濒危住区</h1><p id="9a7e" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">假设有一个城市很容易发生洪水之类的自然灾害，但我们不知道哪个居民区处于危险之中。我们需要为这些市民制定缓解措施，但我们不知道为谁。</p><p id="f6c2" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们有土地利用数据，还有洪水危险区(红色散列多边形)。当我们叠加数据时，就产生了这张地图。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/61f91572d4b2bf2c19fd8bf4331bf84a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*RK6gHQqyUd8FK8cIoDn9WQ.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">案例数据(来源:作者，2022年)</p></figure><p id="3402" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这对我们来说很容易理解，但在现实生活中，这可能是一个地区或一个省的大小；大到我们的大脑无法理解。</p><p id="e25d" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这里我们可以看到，定居点和危险区之间有重叠；我们如何获得那块区域？换句话说，<strong class="lr jj">哪些地方是容易发生洪水的聚居地？</strong></p><h2 id="41e2" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">普通的方式</h2><p id="7d74" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">常见的方法是</p><ul class=""><li id="c4ea" class="mq mr ji lr b ls ml lv mm ly ms mc mt mg mu mk mv mw mx my bi translated">根据土地使用数据的属性进行选择，其中土地使用等于“定居点”(顺便说一下，这实际上是SQL)</li><li id="92cd" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">选择仍处于活动状态时，打开裁剪/相交工具</li><li id="faa6" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">将所选土地利用设置为输入，将危险区域设置为相交要素</li><li id="4195" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">执行交集，并将结果保存在内存或某个目录中</li></ul><p id="84e5" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">现在让我们用空间SQL来做这件事</p><h2 id="ed63" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">更好的空间SQL</h2><p id="fcbb" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">使用空间SQL函数创建SQL脚本:<code class="fe ns nt nu nj b">ST_Intersection()</code>如下</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="325c" class="nn ky ji nj b gy no np l nq nr">select <strong class="nj jj">ST_Intersection</strong>(danger_zone.geom, landuse_demo.geom) as geom FROM danger_zone , landuse_demo where landuse_demo.landuse = settlements</span></pre><p id="0560" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">并且结果如下层(回答危险区的居民点在哪里？).</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/6724c5717649b274a9d8e98d38542ea8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*qE4SjJPn6po44EqfcZpOEw.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(来源:作者，2022)</p></figure><h1 id="8b15" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">看起来更复杂，为什么要这么麻烦呢？</h1><p id="a8ba" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">有几个主要原因:</p><ul class=""><li id="3c49" class="mq mr ji lr b ls ml lv mm ly ms mc mt mg mu mk mv mw mx my bi translated">速度和性能:更快地完成工作，加载您不需要的所有数据！</li><li id="1f12" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">再现性和责任性:记录和了解你所做的事情</li><li id="680a" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">多功能性:灵活，可与其他应用程序互操作。</li><li id="fdbd" class="mq mr ji lr b ls mz lv na ly nb mc nc mg nd mk mv mw mx my bi translated">问责:审计脚本更容易，因为它是流程的文字形式，而不是流程图。</li></ul><p id="1232" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这是复杂性和灵活性之间的权衡，但如果以上几点是您正在寻找的，这是一个选项。</p><p id="aec0" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">让我们进一步讨论原因</p><h2 id="860d" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">速度和性能</h2><p id="58f5" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">每次执行SQL时，我都会生成一个地图。因此，转换标准来制作地图将会非常快<strong class="lr jj"/>。</p><p id="6358" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">现在，我想将标准从定居点切换到工业区，我可以像这样编辑脚本的结尾</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="ff3d" class="nn ky ji nj b gy no np l nq nr">select ST_Intersection(danger_zone.geom, landuse_demo.geom) as geom FROM danger_zone , landuse_demo where landuse_demo.landuse = <strong class="nj jj">pastures</strong></span></pre><p id="67b5" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">请注意，我将最后的<code class="fe ns nt nu nj b">landuse</code>参数从settlement切换到industrial。结果现在是这样的</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/8413e4c794a8b86e1b230af36f83a9b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*uuzlof4HDWAduMmu0HKI2w.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(来源:作者，2022)</p></figure><p id="f7e3" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">或者像这样切换到<code class="fe ns nt nu nj b">industrial</code>。</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="e61b" class="nn ky ji nj b gy no np l nq nr">select ST_Intersection(danger_zone.geom, landuse_demo.geom) as geom FROM danger_zone , landuse_demo where landuse_demo.landuse = <strong class="nj jj">industrial</strong></span></pre><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/ab0d10cca0bad4a8dca485143751cb79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1210/format:webp/1*z6BUfj-ENT6HpvIbRQQ4jA.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">(来源:作者，2022)</p></figure><p id="8493" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">这只是掌握空间SQL概念的一个简单例子。在自动化至关重要的开发环境中，这种脚本是一种提高性能的技术。我甚至没有使用QGIS或ArcGIS来制作您看到的地图。<strong class="lr jj">所有这些都可以通过一个显示器和一个键盘来完成(</strong>)，前提是你在PostGIS服务器上有高质量的数据，但是，嘿，这是另一篇文章的不同故事<strong class="lr jj"> ) </strong>。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/47c7d5e79b2bab449e305fb3f1655450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBLu_PK2vuiOLcBmXfn8qw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">Geopandas中的Postgis SQL，(来源:作者，2022)</p></figure><p id="12b9" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">执行SQL会在不加载整个数据集的情况下生成图层。你不需要加载4 GB的shapefile然后过滤它；只要输入你想看的东西，图层就在你的画布上了。你做错什么了吗？只需更改查询脚本。</p><p id="8245" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">想象一下用老方法做，你必须再次点击工具，当事情变得复杂时，你会迷失方向。当然，我们可以用模型构建器来实现这一点；它是这类脚本的图形化表示。当然，如果这对你有用，这也没什么不好；但是很多时候，一旦我学会了如何写脚本，我就不喜欢点击按钮了。</p><p id="0600" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们还将处理任务切换到服务器，而不是我们的机器。当数据复杂且庞大，但我们没有一台非常强大的计算机时，这非常有用；虽然这意味着我们需要一个更可靠的服务器。但是，嘿，这就是为什么我们有云计算！</p><h2 id="0c50" class="nn ky ji bd kz nw nx dn ld ny nz dp lh ly oa ob lj mc oc od ll mg oe of ln og bi translated">多功能性、可复制性和责任性</h2><p id="9155" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">因此，空间SQL实现了通用性和可再现性。我可以把这个脚本给我的同事，他们执行的时候也会有同样的结果。同事们可以看到我们在做什么，并在git工作流环境中协作编辑脚本。从我个人的经验来看，一旦你熟悉了SQL和脚本环境，你会变得非常快，对你的分析更加负责。当事情出错时，我们可以追溯我们做了什么，只需读取我们执行的指令。</p><p id="2e61" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">它是通用的，因为我们可以复制SQL脚本来开发许多应用程序。SQL是通用语言；我们可以在javascript web-gis应用程序上传递它，比如传单/OpenLayers，或者作为服务器端的视图传递它。与在GUI桌面工作流环境中点击按钮或步骤的模糊指示相比。对于桌面环境，您只能在软件、操作系统和软件版本中实现。从ArcGIS切换到QGIS，说明会有所不同；但不是用SQL脚本，会是一样的！</p><h1 id="fc52" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">将查询加载到GIS图层</h1><p id="2321" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在QGIS中执行SQL并以图层形式查看结果是可能的。如果你正在使用Qgis 3.2以上，有一个工具可以做到这一点。该工具的名称是使用PostgreSQL作为数据库引擎来执行和加载SQL。</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/87038b51bf86babdd6a4021b91987957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*EiVNl0UsTQK6-NXuqPKy6g.png"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">QGIS的SQL提示截图(来源:作者，2022)</p></figure><p id="a609" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们可以键入我们的SQL指令，工具会返回我们所请求的内容。</p><p id="9de6" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">顺便说一下，我们一直在用PostgreSQL和postgis讨论SQL但是什么是PostgreSQL呢？</p><h1 id="99c2" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">PostgreSQL和Postgis — RDBMS</h1><p id="0dd8" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">PostgreSQL是一个数据库管理器。像ArcGIS中的ArcCatalog或Qgis中的浏览器一样查看它。它旨在用于一般的数据库目的，但通过其扩展Postgis，我们可以从引擎中获得空间数据功能。如果我们开发一个web-gis应用程序，通常的做法是使用PostgreSQL作为存储数据的数据库引擎。出于GIS的目的，人们通常只说PostGIS而不是PostgreSQL，尽管Postgis并不是真正的引擎。只是更朗朗上口，更优雅！</p><p id="6820" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">"您是否将空间数据保存在shapefile或地理数据库中？"</p><p id="90aa" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">“不，我将它存储在我的PostGIS服务器中”(:</p><figure class="ne nf ng nh gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/d6c51ba827c196b1c85f1ea8f0598308.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fgtt5jQtIkdhMo03iH3ACA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">使用PgAdmin for PostgreSQL管理空间数据(来源:作者，2022)</p></figure><h1 id="3115" class="kx ky ji bd kz la lb lc ld le lf lg lh ko li kp lj kr lk ks ll ku lm kv ln lo bi translated">结论</h1><p id="e4d7" class="pw-post-body-paragraph lp lq ji lr b ls lt kj lu lv lw km lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">SQL是我们构造查询的方式，这样计算机就能理解我们的问题，从而给出答案。SQL本身并不是GIS的专属。它是数据科学社区中使用的通用语言，而空间数据恰好是包含地理信息(如坐标和高程)的普通数据。Postgis允许我们在SQL中考虑空间数据之间的交互。</p><p id="8314" class="pw-post-body-paragraph lp lq ji lr b ls ml kj lu lv mm km lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">然而，欣赏空间交互性需要一般数据科学中的一个额外步骤，正如我提到的，通常是空间不可知的。这种交互性可通过Postgis使用空间SQL进行查询，从而确保再现性和分析保证。这是一种对空间数据建模的方法和处理空间数据的技术。</p></div></div>    
</body>
</html>