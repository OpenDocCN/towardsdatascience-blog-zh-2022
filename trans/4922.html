<html>
<head>
<title>Modeling Starbucks Waiting Time Using Markov Chains, with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用马尔可夫链对星巴克等待时间建模，用Python编写</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/modeling-starbucks-waiting-time-using-markov-chains-with-python-ab267670d02c#2022-11-02">https://towardsdatascience.com/modeling-starbucks-waiting-time-using-markov-chains-with-python-ab267670d02c#2022-11-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a917" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">以下是如何使用马尔可夫链来确定你等待星巴克咖啡的时间</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/571fb96c5e110f6f8bf06255f8671e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NF8t25IwDZo-5F6V"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">乔恩·泰森在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="d57b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我来自意大利，可以肯定地说，对我们来说，咖啡是一种T4宗教。我们喝咖啡是为了社交，早上喝咖啡是为了提神，午饭后喝咖啡，晚饭后喝咖啡。当你有一段时间没见朋友时，我们会说</p><blockquote class="ls"><p id="ba8b" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">"我在一家咖啡馆"</p></blockquote><p id="433d" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">这意味着</p><blockquote class="ls"><p id="00b0" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">“过来，我们喝杯咖啡”</p></blockquote><p id="de43" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">我住在美国，美国人对咖啡的态度是不同的。我上班时喝咖啡带走。我工作的时候喝咖啡。我一边看电影一边喝咖啡。美国人不喝“浓缩咖啡”，但他们喜欢花很长时间喝完一大杯咖啡。还有一点:<strong class="ky ir">咖啡有多种！</strong></p><p id="f57e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你走进一家星巴克，你可能会看到100种可能的咖啡。可以是黑咖啡，可以是玛奇朵，可以是拿铁，可以是星冰乐，可以是其他很多我都不知道的东西。😅</p><p id="c716" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有一些非常容易制作的咖啡，也有一些比较复杂的，需要更多的时间来制作。假设你在星巴克排队买咖啡。如果你前面有3个人，他们都点了黑咖啡，你可能要等大约<strong class="ky ir"> 3分钟才能点。</strong></p><p id="1a21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管如此，如果他们点了一份“额外的奶油焦糖玛奇朵，加糖屑和肉桂，加豆奶”……嗯，那可能会让你的等待时间延长一倍，或者至少你得多等几分钟。</p><p id="0715" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以问题是…</p><blockquote class="ls"><p id="4b9b" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">“我要等多久才能得到我的咖啡，我可以写一篇关于我要等多久才能得到我的咖啡的文章？”</p></blockquote><p id="6758" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">当然，我们不知道其他人会点什么，所以这是一个<strong class="ky ir">概率</strong>问题(或者如果你想要一个<strong class="ky ir">随机过程</strong>)。那么我们怎么解决呢？</p><p id="15d4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个可行的方法是建立一个<strong class="ky ir">马尔可夫链。</strong>特别是，我们将需要一个<strong class="ky ir">依赖于时间的马尔可夫链</strong>。</p><p id="062f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们来建题吧！</p><h1 id="ffba" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">1.理论介绍</h1><p id="7428" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们先从理论上介绍一下这个问题，然后把它纠正过来。</p><p id="f03e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">先说最简单的情况。我们走进星巴克，点了咖啡。假设从数学上来说，我们可以处于这三种<strong class="ky ir">状态</strong>之一。</p><p id="1b50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">第一个状态(O)是我们<strong class="ky ir">点</strong>咖啡的状态。第二家(<strong class="ky ir"> M </strong>)是我们已经<strong class="ky ir">点了</strong>我们的咖啡，正在等着拿的那家。因为他们正在做一杯咖啡。然后你得到了咖啡，并朝着<strong class="ky ir">离开</strong>州的方向转移。这意味着你的咖啡准备好了，你可以走了。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/f30a1ff3b68e80c9ad5395dab53f6c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lNogje2LzdByPjFM5FubBg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="9a60" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了。现在，可能的转变是什么？</p><ol class=""><li id="fb3a" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated">你肯定会从订购走向制作。(<strong class="ky ir"> O </strong>到<strong class="ky ir"> M </strong>)。</li><li id="4cc7" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">可以从<strong class="ky ir"> M </strong>到<strong class="ky ir"> M(保持等待)</strong>。</li><li id="6c13" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">最终，你会从<strong class="ky ir">米</strong>到<strong class="ky ir">米</strong></li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/e85b090b91948ee9b500cb9d877d585d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KDx91Uj3QLgLkEPEgFwv9g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="bcc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在我们如何形式化它？</p><h2 id="e3c4" class="nu mi iq bd mj nv nw dn mn nx ny dp mr lf nz oa mt lj ob oc mv ln od oe mx of bi translated">1.1关于马尔可夫链</h2><p id="6fce" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">马尔可夫链的假设是什么？假设如下:</p><blockquote class="og oh oi"><p id="71f9" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">“处于下一个状态的概率只取决于你当前的状态”</p></blockquote><p id="20fe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如:</p><blockquote class="og oh oi"><p id="fc57" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">在时间步长t = 5中处于状态<strong class="ky ir"> L </strong>的概率只取决于你在时间步长t = 4中处于状态<strong class="ky ir">M</strong>make的事实。</p></blockquote><p id="ea20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们把它形式化:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/a35d5c77b56782556e61155ecb1fc52e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4f8QOf8yeDYWS2sS0ZFgRw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="9303" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的符号中，我们知道，在时间t，在空间s_t (O，M，L)中的概率只取决于我们在时间t-1的状态。</p><p id="8712" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的具体实验中，我们需要记住的是，这个概率也必须依赖于时间。这是事实，因为，当然，如果我等了5分钟，下一分钟离开的概率比我只等了1分钟就离开的概率高。</p><p id="b686" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这意味着:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/81a97bde1a03b9b556b2a8d1545f2d72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Im-ig9dk7T96v4tFseTKkg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="f637" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这正是我们之前谈论的概念。</p><p id="15d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，当然，不仅仅是我们在星巴克。还有很多其他的顾客！所以我们一会儿会把这个设置复杂化。但是你在上面看到的是我们将要做的一切的起点。</p><p id="9a12" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧！🤩</p><h1 id="2c7c" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">2.一个顾客一杯饮料的例子</h1><p id="5365" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们尽可能举一个最简单的例子。我们知道要喝什么，咖啡店里只有我们。假设我们想要一杯焦糖玛奇朵。 <a class="ae kv" href="https://www.allrecipes.com/recipe/258686/iced-caramel-macchiato/" rel="noopener ugc nofollow" target="_blank">所有食谱</a>都提示需要5分钟。假设点餐和支付需要30秒。所以总等待时间是5.30分钟。但是让我们更进一步。假设<strong class="ky ir"> 5分钟是平均开始时间。我们还可以说，我们可以在4分钟或6:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/4d5fba65a61ae677042fe3cfc1f4806f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eaDORliCTRp9TIBtV2gxLg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="424d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了。现在假设我们的时间刻度是30秒(0.5分钟)。30秒后，非常不幸的是，我们点了焦糖玛奇朵。8分钟后，非常不幸的是，我们仍然在等待。</p><h2 id="1629" class="nu mi iq bd mj nv nw dn mn nx ny dp mr lf nz oa mt lj ob oc mv ln od oe mx of bi translated">2.2实际实施</h2><p id="3518" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">让我们实现这一点。让我们从导入一些库开始:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="ca98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们定义我们的状态:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="f22e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">太好了。现在让我们运行上面描述的整个过程。我们将使用这个函数来实现:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="8767" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是一个例子:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><h1 id="3de6" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">3.一个顾客多杯饮料的例子</h1><p id="f885" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">现在，让我们增加模型的复杂性，使它更加真实。<br/>假设我们不知道特定客户想要什么。这更现实，因为我们在星巴克有150多种饮料，它们可能需要不同的等待时间。</p><p id="001a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在马尔可夫链看起来像这样</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/fe593f23fb823d5db1e5e39f337a2762.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pt-KUNHrh5SWd_vke54vRQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="5661" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与前一个不同的是，我们有一个概率分布，我们称之为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/fe039f3abc84f16e6bb681ff75397af1.png" data-original-src="https://miro.medium.com/v2/resize:fit:146/format:webp/1*Q6BAC4oU2jq8MNs-MmDfFA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="2506" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">特别是，这是我们能得到的所有可能饮料的概率分布，我们称之为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/86fcbae6c41435e3bd3b4d2d18289bf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:122/format:webp/1*MrPd5HbrPEGeAluhwxw8qw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="ee50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">例如:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/7c62cb40f2035c5f91b95f9f82b43f7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n9i1h_sGmKNijNaYWpFhlg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="0fd0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们可以说:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/e605bc2ae9833ae49fb16f4e58d4ad91.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*tmeouDaqkkWVKVsiniW-sw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><h2 id="188e" class="nu mi iq bd mj nv nw dn mn nx ny dp mr lf nz oa mt lj ob oc mv ln od oe mx of bi translated">3.2动手实施</h2><p id="c855" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">从这个<a class="ae kv" href="https://www.kaggle.com/datasets/ashishpatel26/starbucks-menu-nutrition-drinks" rel="noopener ugc nofollow" target="_blank"> Kaggle数据集</a> ( <a class="ae kv" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank"> CC0:公共域</a>)我们可以导入所有的星巴克饮料:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="5c0c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们不需要其他的柱子。<br/>现在，我们不知道最常选择的饮料是什么，让我们为我们的目的创建一个假的分布:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="e802" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们提取50到100之间的值，然后用总和归一化，这样我们就有了一个概率向量。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="8928" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以我们有了概率分布。我们该拿它怎么办？这个概率分布将为我们排序:我们将从分布中抽取样本。那么我们必须假设每种咖啡需要不同的时间来制作。</p><p id="78f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，客观地说，没有那么大的区别。假设“最简单”的咖啡(假设这是一杯guess…☕️黑咖啡)需要3分钟(平均值),最复杂的咖啡需要6分钟(平均值)(假设额外的搅打奶油焦糖玛奇朵加糖屑和肉桂加豆奶🙃).</p><p id="39d7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们玩不同的变化(从0.1到1)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/926536aad22de2929db2e1e9c4f2d00e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXYLHjentcZnUt_rEyCZSQ.png"/></div></div></figure><p id="a4e9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如我们之前看到的，我们有从3到6的平均值，所以你可以有3到6分钟的平均等待时间，有时，你会比其他时间有更多的不确定性。例如，当你喝咖啡“A”时，你可能有一个最大的方差。</p><p id="f537" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们实现以下情况:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="822f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我相信在这一点上我们可以提取一些有意义的信息。比如说…</p><blockquote class="og oh oi"><p id="1d50" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">"在星巴克喝一杯咖啡通常需要多长时间？"</p></blockquote><p id="759b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个问题非常笼统，所以我们不妨用一些统计数据来回答*:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><blockquote class="og oh oi"><p id="eca0" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">*我把所有的“<strong class="ky ir">打印</strong><em class="iq">”</em><strong class="ky ir"><em class="iq"/></strong>都去掉了，这样我的电脑就不会爆炸了。🥲</p></blockquote><h1 id="e1cb" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">4.多个客户多种饮料示例</h1><p id="1faa" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">太好了。现在我们有多个客户。我们该怎么办？<br/>情况看起来是这样的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/f50762b619501902b36d5a01067458f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dcSovrzOsK-EvwPnY_tMnQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="a609" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，认为我们必须等一杯咖啡煮好了，他们才开始煮你的咖啡，这是不现实的。通常你在星巴克有3，4个咖啡师。</p><p id="7498" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这使代码变得有点复杂，因为我们需要跟踪所有咖啡师实际上忙不忙的事实。为此，我们将考虑的函数是顾客数量和咖啡师数量的函数。</p><p id="8626" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个函数就是这样做的:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="1acd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">好的，让我们测试一个案例，我们有4个顾客和2个咖啡师。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><p id="8a32" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你在前两个案例中看到的，我们有免费的咖啡师，他们分别等待7分钟和6.5分钟。</p><blockquote class="og oh oi"><p id="cd25" class="kw kx oj ky b kz la jr lb lc ld ju le ok lg lh li ol lk ll lm om lo lp lq lr ij bi translated">* <strong class="ky ir">注</strong>！这不是一个错误！只是意味着第二杯咖啡比第一杯咖啡快+点餐时间。想想也有道理。如果你点了一杯复杂的咖啡，而我只点了一杯拿铁，即使你比我先点，我等的时间也可能比你少。</p></blockquote><p id="ddea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后咖啡师就忙了。所以我们必须再等6分钟，我才能真正点菜。(我可以让它更真实，减去1分钟的点餐时间，但你明白了吗？)</p><p id="d5b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当第四个顾客点餐时，有一个免费的咖啡师，所以他不用等那么久。他只等了5.5分钟。</p><p id="ce4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意这个模型会变得多么复杂，情况会变得多么有趣。这是一个有<strong class="ky ir"> 10名顾客</strong>和<strong class="ky ir"> 5名咖啡师的案例:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oq or l"/></div></figure><h1 id="9809" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">5.考虑</h1><p id="1f85" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">在这篇文章中，我们讨论了一个队列中等待时间的一般性问题。当然有多种情况:</p><ol class=""><li id="22e5" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated">我们可能是店里唯一一个知道自己想要什么的人</li><li id="8283" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">我们可能是店里唯一一个不知道自己到底想要什么的人</li><li id="499a" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">我们可能是<strong class="ky ir">商店里很多人不知道我们到底想要什么</strong></li></ol><p id="da85" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这三个场景当然越来越复杂。由于这个原因，马尔可夫链变得越来越复杂，就像我们之前看到的那样。</p><ol class=""><li id="5cbf" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated">在<strong class="ky ir">第一种情况下，</strong>唯一的概率分布是过程中“制作咖啡”的那一部分。例如，制作焦糖玛奇朵平均需要5分钟，高斯分布和方差为1</li><li id="066d" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">在<strong class="ky ir">第二种情况</strong>中，我们得到了我们采摘的咖啡的概率分布<strong class="ky ir">加上</strong>咖啡制作位的概率分布，这就是之前的那个</li><li id="74c9" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">在<strong class="ky ir">第三种情况</strong>中，以上两种情况我们都有，咖啡师的数量成为另一个需要考虑的事情</li></ol><p id="b5d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们当然可以把这个模型复杂化很多。我们可以考虑机器会被损坏的事实。我们可以考虑咖啡师的短缺。我们可以考虑咖啡师的数量随时间变化的事实。我们可以考虑一些咖啡师比其他人更快。以及更多的可能性。</p><p id="c75a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这个起点可以用来以几乎所有你想要的方式使模型复杂化。请记住，我们使用的工具是<strong class="ky ir">依赖于时间的马尔可夫链</strong>，并从那里开始构建😎</p><h1 id="06b8" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">6.结论</h1><p id="97c8" class="pw-post-body-paragraph kw kx iq ky b kz mz jr lb lc na ju le lf nb lh li lj nc ll lm ln nd lp lq lr ij bi translated">如果你喜欢这篇文章，你想知道更多关于机器学习的知识，或者你只是想问我一些你可以问的问题:</p><p id="309b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">A.在<a class="ae kv" href="https://www.linkedin.com/in/pieropaialunga/" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir"> Linkedin </strong> </a>上关注我，在那里我发布我所有的故事<br/> B .订阅我的<a class="ae kv" href="https://piero-paialunga.medium.com/subscribe" rel="noopener"> <strong class="ky ir">简讯</strong> </a>。这会让你了解新的故事，并给你机会发短信给我，让我收到你所有的更正或疑问。<br/> C .成为<a class="ae kv" href="https://piero-paialunga.medium.com/membership" rel="noopener"> <strong class="ky ir">推荐会员</strong> </a>，这样你就不会有任何“本月最大数量的故事”，你可以阅读我(以及成千上万其他机器学习和数据科学顶级作家)写的任何关于最新可用技术的文章。</p></div></div>    
</body>
</html>