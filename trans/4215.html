<html>
<head>
<title>3 Matplotlib Tips You Need to Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你需要知道的3个Matplotlib技巧</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/3-matplotlib-tips-you-need-to-know-1b24e41552d5#2022-09-19">https://towardsdatascience.com/3-matplotlib-tips-you-need-to-know-1b24e41552d5#2022-09-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6280" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">定制坐标轴、添加标签并润色您的视觉效果</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4a0348f9eb261a963d0665068c5e0ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bD5w3n-gRsK8BgGt"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@isaacmsmith?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾萨克·史密斯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="cd27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib是典型的数据可视化库。然而，图书馆是如此之大，以至于经常很难找到你能用它完成的所有酷的事情。</p><p id="cfc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本教程中，您将学习三种不同的技巧，帮助您创建漂亮的可视化效果。首先，您将学习如何更精确地设置坐标轴的格式，尤其是在处理日期时。然后，您将学习如何注释您的图表。最后，您将学习如何以《经济学人》的风格添加标题！</p><p id="9d11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧！</p><h1 id="ac81" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">创造你的第一个视觉效果</h1><p id="d8b0" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">让我们从创建基础视觉开始，看看我们从哪里开始。我们将使用Pandas和NumPy来生成一个看起来像样本股票信息的数据帧。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">创建样本数据并在Matplotlib中可视化</p></figure><p id="76c8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分解一下我们在上面的代码中做了什么:</p><ol class=""><li id="6c6e" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated">我们导入了我们的库，并在Matplotlib中启用了retina模式</li><li id="c78b" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后，我们设置一个随机种子，使我们的结果可重复</li><li id="b9c3" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">我们创建了涵盖日期范围和随机数量的数据框架</li><li id="9c2d" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">最后，我们使用默认参数绘制数据</li></ol><p id="b802" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看这个可视化是什么样子的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/37fc3bd214af8ae0cd2a877a428cc532.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIb4YA3rYdYgb0vT5dKyqQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们最初的可视化(来源:作者)</p></figure><p id="506c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧…所以这种视觉效果并不令人振奋！下面我们来分解一下如何通过添加更干净的x轴标签来改善。</p><h1 id="5b87" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">自定义日期x轴标签</h1><p id="fdde" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">Matplotlib试图找到显示每个轴中的值的最佳方式。然而，这不一定是您想要的数据显示方式。</p><p id="e600" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Matplotlib提供了大量不同的方法来定制你的坐标轴——你将学习到如何使用定制显示日期以及它们是如何显示的！</p><p id="f844" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了使这个工作，让我们再得到两个导入:</p><ol class=""><li id="fbe3" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated"><code class="fe nk nl nm nn b">DateFormatter</code>修改日期的显示方式</li><li id="51bb" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated"><code class="fe nk nl nm nn b">mdates</code>能够找到具体的日期</li></ol><p id="5a62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看下面的代码。我们一会儿将探究发生了什么。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">在Matplotlib中自定义日期时间刻度。</p></figure><p id="e8ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分解一下代码在做什么:</p><ol class=""><li id="40ba" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated">我们创建一个日期格式，使用<code class="fe nk nl nm nn b">DateFormatter</code>类显示年份，并使用格式化的<code class="fe nk nl nm nn b">'%Y-%n'</code>显示一个月的第一个字母。</li><li id="209c" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后我们使用<code class="fe nk nl nm nn b">.set_major_formatter()</code>方法，用我们指定的格式来格式化x轴上的主要标签</li><li id="e856" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后每月用<code class="fe nk nl nm nn b">.set_minor_formatter()</code>方法<em class="nj">定位</em>并显示</li></ol><p id="da32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看现在我们的可视化是什么样子的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/5dceb9b11f91e0765ca9f957e78183ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NDX2Hd5sZ6qnNc0SKAinyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用日期刻度标签(来源:作者)</p></figure><p id="d52c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以看到，我们的x轴现在以我们希望的格式显示了一些更清晰的日期。</p><h1 id="7e9c" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">在Matplotlib中标注数据点</h1><p id="be86" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">有时你会想把注意力吸引到一个点(或多个点)上。Matplotlib通过使用<code class="fe nk nl nm nn b">.annotate()</code>方法使这变得简单！我们可以选择标签和箭头类型。</p><p id="e1a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来看看如何做到这一点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">注释Matplotlib可视化。</p></figure><p id="0bd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第27–33行，我们添加了我们的注释。让我们看看如何实现这一点:</p><ol class=""><li id="ebe3" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated">我们添加了<code class="fe nk nl nm nn b">text=</code>参数来修改我们想要使用的文本</li><li id="6898" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后，我们选择希望标签指向的位置和希望文本出现的位置。我们在第24行和第25行定义了这些参数。</li><li id="d508" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后，我们使用接受样式字典的<code class="fe nk nl nm nn b">arrowprops=</code>参数定义我们希望箭头采用的样式。</li></ol><p id="8cf0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看现在是什么样子:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/851e12603622aba9925f46fb19609fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AkdQNxFpdGIpt15r8zxB9w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">向我们的Matplotlib可视化添加标签(来源:作者)</p></figure><p id="45ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很棒，对吧？</p><h1 id="8e0e" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">让我们的土地更漂亮</h1><p id="40e7" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在这最后一部分，我们将看看如何使我们的视觉效果看起来更加完美。Matplotlib提供了一个<em class="nj">吨</em>的定制能力。这通常会让人不知所措，所以让我们来看看一些关键功能。</p><p id="1356" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的代码中，我们添加了第30–41行来定制我们的视觉效果。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ms mt l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">给我们的视觉增添一些光彩。</p></figure><p id="bc4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们来分析一下这几行代码在做什么:</p><ol class=""><li id="90f0" class="mu mv it lb b lc ld lf lg li mw lm mx lq my lu mz na nb nc bi translated">我们从顶部和右侧移除脊柱</li><li id="2e52" class="mu mv it lb b lc nd lf ne li nf lm ng lq nh lu mz na nb nc bi translated">然后我们使用<code class="fe nk nl nm nn b">.text()</code>方法来添加标题和副标题</li></ol><p id="fccd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加文本的过程可能有点启发性。最好的办法就是稍微试验一下，直到你得到满意的结果！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/571a6e244667cc41fe55437703efaffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tjr8EC2OesJhcOzxHyhNOQ.png"/></div></div></figure><p id="dd0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看起来很精致，对吧？与我们开始的地方相比，这是一个巨大的进步！</p><h1 id="fa5f" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">结论</h1><p id="36ee" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">在本指南中，您学习了如何将Matplotlib可视化提升到一个新的水平。因为Matplotlib提供了如此多的功能，所以常常不知道从哪里开始。希望这个指南为你提供了一些好的资源，让你开始让你的可视化效果更丰富、更漂亮！</p></div></div>    
</body>
</html>