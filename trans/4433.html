<html>
<head>
<title>Document Your Machine Learning Project in a Smart Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用聪明的方式记录你的机器学习项目</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/document-your-machine-learning-project-in-a-smart-way-35c68aa5fc0e#2022-10-01">https://towardsdatascience.com/document-your-machine-learning-project-in-a-smart-way-35c68aa5fc0e#2022-10-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7f48" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何使用Sphinx和顶点AI管道的分步教程。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/0fd10c9a28bf5463544b35fe755ef79d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5MN5sdLCqTrPI9Ty"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者:<a class="ae ky" href="https://unsplash.com/@sigmund" rel="noopener ugc nofollow" target="_blank">@西格蒙德</a>，unsplash.com</p></figure><p id="84fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文的目的是分享使用Sphinx自动生成机器学习项目文档的过程。</p><p id="f3b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将使用Sphinx的高级功能，例如添加了<strong class="lb iu">徽标</strong>、<strong class="lb iu">注释</strong>、<strong class="lb iu">图像</strong>和<strong class="lb iu">降价文档</strong>。此外，我将展示您需要的python包，以便Sphinx可以提取顶点管道中的文档字符串。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9c05" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">一些背景</h1><p id="0a44" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们开始吧！如你所知，拥有最新的机器学习项目文档对于生产和概念验证阶段都是至关重要的。<strong class="lb iu"> <em class="mz"> </em>为什么它至关重要？</strong>因为它有助于澄清和简化你的模块，与你的团队合作，快速整合新的团队成员，更快地发展，并与业务所有者分享。</p><p id="0d02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就我个人而言，我经历过很多这样的情况，由于上市时间的限制，文档被忽略了，但是一旦项目在生产中发布，这就变成了致命的。因此，我建议你避开任何手动程序来生成你的文档，因为这样的程序总是以失去同步和耗时而告终。</p><p id="ca0e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，在发布您的项目之前，花一些时间检查您的项目的可读性。在我的例子中，我倾向于使用以下文件:</p><ul class=""><li id="4280" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">自述文件</strong> —一个易于阅读的文件，提供项目的介绍和一般信息，如目的、技术信息、软件组件</li><li id="77c6" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">许可</strong> —一个文件，提到了贡献者需要遵循的许可分步程序</li><li id="f3e6" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">用法</strong> —解释如何使用项目的文件</li><li id="5224" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu"> CHANGELOG </strong> —一个跟踪项目变更和发布版本的文件</li></ul><p id="bf89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，最重要的文件是自述文件。贡献和使用信息可以直接添加到自述文件中。可以在生产中发布项目之前添加changelog文件。要编辑文件，您可以使用<a class="ae ky" href="https://www.markdownguide.org/" rel="noopener ugc nofollow" target="_blank"><em class="mz"/></a><em class="mz">、简单文本、</em>或<em class="mz"> </em> <a class="ae ky" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html" rel="noopener ugc nofollow" target="_blank"> <em class="mz">重组文本</em> </a> <strong class="lb iu"> <em class="mz">。</em>T41】</strong></p><p id="0b33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参见下面我们将要描述的过程的概述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/42f1438e81fbab87c2f46237a44de3d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KhQBCH1grOHempScdJVaCw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">过程概述(图片由作者提供)</p></figure><p id="1f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">斯芬克斯是什么？</p><p id="185f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Sphinx是一个强大且易于使用的开源自动生成器工具，被Python社区广泛使用。它能够生成优秀的结构化文档。存在一些替代品，如MkDocs、Doxygen、pdoc等，但是Sphinx仍然是一个完整且易于使用的强有力的竞争对手。</p><p id="d6e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">主要特点:</p><ul class=""><li id="995a" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">支持多种输出格式:HTML、PDF、纯文本、EPUB、TeX等。</li><li id="877d" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">文档的自动生成</li><li id="6243" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">自动链接生成</li><li id="5c20" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">多语言支持</li><li id="1675" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">各种扩展可用</li></ul><h1 id="bf5b" class="mc md it bd me mf np mh mi mj nq ml mm jz nr ka mo kc ns kd mq kf nt kg ms mt bi translated">步骤:</h1><blockquote class="nu nv nw"><p id="f2c6" class="kz la mz lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated"><em class="it">一、设置环境</em></p><p id="0999" class="kz la mz lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated"><em class="it">二世。安装虚拟环境</em></p><p id="5516" class="kz la mz lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">三。安装Sphinx</p><p id="e977" class="kz la mz lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">四。设置Sphinx</p><p id="542f" class="kz la mz lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">动词 （verb的缩写）建立文档</p></blockquote><h2 id="8bae" class="oa md it bd me ob oc dn mi od oe dp mm li of og mo lm oh oi mq lq oj ok ms ol bi translated"><strong class="ak">一、搭建环境</strong></h2><ul class=""><li id="81f0" class="na nb it lb b lc mu lf mv li om lm on lq oo lu nf ng nh ni bi translated"><em class="mz"> Python 3 </em></li><li id="3c46" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><em class="mz">本地虚拟机或Vertex AI工作台(用Python 3运行在虚拟环境中的Jupyter笔记本)</em></li><li id="e2d4" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><em class="mz">包含顶点AI代码的Python项目</em></li><li id="5fb5" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><em class="mz">虚拟人</em></li><li id="89d3" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu"><em class="mz">Kfx</em></strong><em class="mz">—e</em>kube flow管道sdk扩展</li><li id="04bc" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">MyST解析器Markdown风格</li><li id="1286" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><em class="mz">包含sdk管道的顶点项目</em></li></ul><p id="d1b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用一个Apache-2.0许可下的顶点AI管道  <strong class="lb iu"> </strong>的端到端<strong class="lb iu"> </strong> <a class="ae ky" href="https://github.com/GoogleCloudPlatform/vertex-pipelines-end-to-end-samples.git" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">开源例子。该项目是一个很好的例子，因为该项目使用顶点管道，而不使用文档生成器。</strong></a></p><p id="6a4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先克隆源代码，转到<strong class="lb iu">顶点-管道-端到端-样本</strong> <em class="mz"> </em>目录<em class="mz"> : </em></p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="567d" class="oa md it oq b gy ou ov l ow ox">git clone <a class="ae ky" href="https://github.com/GoogleCloudPlatform/vertex-pipelines-end-to-end-samples.git" rel="noopener ugc nofollow" target="_blank">https://github.com/GoogleCloudPlatform/vertex-pipelines-end-to-end-samples.git</a><br/>cd vertex-pipelines-end-to-end-samples</span></pre><p id="f2cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">二。创建一个虚拟环境&amp;激活它</strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oz l"/></div></figure><h2 id="54cd" class="oa md it bd me ob oc dn mi od oe dp mm li of og mo lm oh oi mq lq oj ok ms ol bi translated"><strong class="ak"> III。安装斯芬克斯</strong></h2><p id="38fa" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">创建一个文件requirements-sphinx.txt并添加:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="eb97" class="oa md it oq b gy ou ov l ow ox">myst-parser==0.15<br/>requests==2.28.1<br/>sphinx==4.5.0<br/>sphinx-click==4.3.0<br/>sphinx-me==0.3<br/>sphinx-rtd-theme==1.0.0<br/>rst2pdf==0.99<br/>kfx</span></pre><p id="749a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">立即安装需求-sphinx.txt中列出的Sphinx及其扩展:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="bd2a" class="oa md it oq b gy ou ov l ow ox">pip install -r requirements-sphinx.txt</span></pre><p id="a36c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建一个docs目录(如果不存在)来存储Sphinx布局:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="43fa" class="oa md it oq b gy ou ov l ow ox">mkdir docs <br/>cd docs </span></pre><p id="b4da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<strong class="lb iu"> sphinx-quickstart </strong>命令生成初始目录结构:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="d3ad" class="oa md it oq b gy ou ov l ow ox"><strong class="oq iu">sphinx-quickstart</strong></span></pre><p id="e875" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择单独的源代码和构建目录、项目名称、作者姓名、项目版本和项目语言。您可以在下面找到我的配置:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/ec5b10b7ef9916a2042d312fa7a35f7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-oZVSnqdP58pGG_YX9yrlQ.png"/></div></div></figure><p id="eaf7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该获得以下树结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b3351dbb7f47b3dee2e8944ac10d21d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*JPprKG6wsgq7LeQdsYRICQ.png"/></div></figure><p id="760e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如你所见，我们选择分离<em class="mz">构建</em>和<em class="mz">源</em>目录。关于它的内容我们来做几个说明。</p><p id="b051" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz"> build/ </em> </strong>目录是用来保存生成的文档<em class="mz">。因为我们还没有生成任何文档，所以它现在是空的。</em></p><p id="71f3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"><em class="mz">make . bat(Windows)</em></strong>和<strong class="lb iu"> <em class="mz"> Makefile(Unix) </em> </strong>文件是简化文档生成的脚本。</p><p id="1c27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz"> source/conf.py </em> </strong>是Sphinx项目的配置文件。它包含默认的配置密钥和您为sphinx-quickstart指定的配置。</p><p id="6cb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"><em class="mz">source/index . rst</em></strong><em class="mz"/>是包含目录树(toctree)指令的项目的根文档，您应该在其中列出您想要包含在文档中的所有模块。</p><p id="85d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> _static </strong>目录包含自定义样式表和其他<strong class="lb iu">静态</strong>文件。</p><p id="a435" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> _templates </strong>目录存储了Sphinx模板。</p><h2 id="00ad" class="oa md it bd me ob oc dn mi od oe dp mm li of og mo lm oh oi mq lq oj ok ms ol bi translated"><strong class="ak">四。设置狮身人面像</strong></h2><p id="e507" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">识别python模块:/pipelines </em> </strong></p><p id="6655" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">目录/ <strong class="lb iu">管道</strong>包含我们想要包含在Sphinx文档中的python代码。<strong class="lb iu">注意</strong>只有当您添加__init__时，Sphinx才会看到pipelines包中的子模块。/ <strong class="lb iu">管道</strong>目录下的py文件。</p><p id="d622" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">生成狮身人面像来源</em> </strong></p><p id="07db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<em class="mz"> sphinx-apidoc </em>构建您的API文档(确保您位于项目的根目录)。创建的Sphinx源代码存储在docs/source/pipelines中。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="77e0" class="oa md it oq b gy ou ov l ow ox"><br/>sphinx-apidoc -f -o docs/source/pipelines pipelines/</span></pre><p id="0b9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以检查以下文件是在docs/source/pipelines中创建的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/05b2a692a2c82290c93cbad727c17a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ol86pRScg0lWzUUP7YEc7Q.png"/></div></div></figure><p id="87ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">将降价文件复制到docs/source </em> </strong></p><p id="90d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Sphinx源目录(docs/source/)中自动复制README.md、CONTRIBUTING.md和USAGE.md文件。在docs/Makefile中添加以下行以自动同步降价文件:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="a35f" class="oa md it oq b gy ou ov l ow ox">COPY_README = ../README.md<br/>COPY_CONTRIBUTING = ../CONTRIBUTING.md<br/>COPY_USAGE = ../USAGE.md</span><span id="ba6d" class="oa md it oq b gy pd ov l ow ox">#sincronyze MD files<br/>$(shell cp -f $(COPY_README) $(SOURCEDIR))<br/>$(shell cp -f $(COPY_CONTRIBUTING) $(SOURCEDIR))<br/>$(shell cp -f $(COPY_USAGE) $(SOURCEDIR))</span></pre><p id="699c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">编辑index.rst 编辑</strong></p><p id="3ffd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<strong class="lb iu"/><strong class="lb iu">注释</strong>指令获取您想要突出显示的信息。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="bd92" class="oa md it oq b gy ou ov l ow ox">.. note::  Sphinx with Vertex AI.</span></pre><p id="e15c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用<strong class="lb iu">图像</strong>指令添加图像。推荐的图像尺寸宽度在400-800像素之间。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="c156" class="oa md it oq b gy ou ov l ow ox">.. image:: ../images/xgboost_architecture.png<br/>    :align: center<br/>    :width: 800px<br/>    :alt: alternate text</span></pre><p id="23ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在<strong class="lb iu">to tree</strong>指令下，列出你希望包含在最终文档中的所有模块(自述文件、模块)。</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="5d68" class="oa md it oq b gy ou ov l ow ox">.. toctree::<br/>   :maxdepth: 2<br/>   :caption: Contents:</span><span id="bbf3" class="oa md it oq b gy pd ov l ow ox">   README<br/>   pipelines/modules<br/>   CONTRIBUTING<br/>   USAGE</span></pre><p id="1ef3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请在下面找到我的index.rst:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="3726" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">编辑conf . py—Sphinx</em></strong>的主配置文件</p><p id="823c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">定义路径:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="0ae0" class="oa md it oq b gy ou ov l ow ox"># Define path<br/>sys.path.insert(0, os.path.abspath("../.."))</span></pre><p id="4f89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加您的扩展:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="e81d" class="oa md it oq b gy ou ov l ow ox">extensions = [<br/>    "sphinx.ext.duration", <br/>    "sphinx.ext.doctest",<br/>    "sphinx.ext.viewcode",<br/>    "sphinx.ext.autosummary",<br/>    "sphinx.ext.intersphinx",<br/>    "sphinx_rtd_theme",<br/>    "sphinx_click",<br/>    "myst_parser",<br/>    "sphinx.ext.todo",<br/>    "sphinx.ext.coverage",<br/>    "myst_parser",<br/>]</span></pre><p id="cc77" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列出要解析的文件列表:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="7986" class="oa md it oq b gy ou ov l ow ox">source_suffix = {<br/>    ".rst": "restructuredtext",<br/>    ".md": "markdown",<br/>}</span></pre><p id="6d5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">指定HTML主题:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="7f2d" class="oa md it oq b gy ou ov l ow ox">html_theme = "sphinx_rtd_theme"</span></pre><p id="3047" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要添加<strong class="lb iu">一个徽标</strong>，请确保图像出现在<strong class="lb iu">/_ static</strong>源中。我用过v <a class="ae ky" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Ftechcrunch.com%2F2021%2F05%2F18%2Fgoogle-cloud-launches-vertex-a-new-managed-machine-learning-platform%2F&amp;psig=AOvVaw2yIk5iHnn12J135DQba3AU&amp;ust=1664401523881000&amp;source=images&amp;cd=vfe&amp;ved=0CAwQjRxqFwoTCNCrwP_4tfoCFQAAAAAdAAAAABAD" rel="noopener ugc nofollow" target="_blank"> ertex AI logo </a>。然后，您可以定义徽标路径:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="6b57" class="oa md it oq b gy ou ov l ow ox">html_logo = "_static/vertex.png"</span></pre><p id="f493" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列出降价文件中存在的所有外部链接:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="3e94" class="oa md it oq b gy ou ov l ow ox">intersphinx_mapping = {    "python": ("<a class="ae ky" href="https://python.readthedocs.org/en/latest/" rel="noopener ugc nofollow" target="_blank">https://python.readthedocs.org/en/latest/</a>", None)}</span></pre><p id="409d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请参阅我的配置文件conf.py:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oy oz l"/></div></figure><h2 id="1401" class="oa md it bd me ob oc dn mi od oe dp mm li of og mo lm oh oi mq lq oj ok ms ol bi translated"><strong class="ak"> V .构建文档</strong></h2><p id="293a" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">要使用Sphinx生成HTML文档，请转到/docs并使用命令:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="0530" class="oa md it oq b gy ou ov l ow ox">make html</span></pre><p id="fc97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用Firefox打开HTML页面:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="a2a2" class="oa md it oq b gy ou ov l ow ox">firefox docs/build/html/index.html</span></pre><p id="a580" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你设法完成了所有的步骤，你应该能够看到一个更吸引人的HTML页面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/80d80ac5fbc6a3c93e95f53782c7ac2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Jj06jLUGS8tmBk3Fq0Unw.png"/></div></div></figure><h2 id="6482" class="oa md it bd me ob oc dn mi od oe dp mm li of og mo lm oh oi mq lq oj ok ms ol bi translated">KFX扩展将使Sphinx能够读取Kubeflow组件、函数名、参数和文档字符串。</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/acf044e629c844e46f114034a18172a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*piOArUJuao95QWr30Z-AOQ.png"/></div></div></figure><p id="5782" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mz">使用Makefile(位于项目的根目录)自动构建</em> </strong>文档。编辑Makefile并添加以下几行:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="530e" class="oa md it oq b gy ou ov l ow ox">create-sphinx-sources:<br/> cd docs; make clean; cd ..; rm -r docs/source/pipelines; sphinx-apidoc -f -o docs/source/pipelines pipelines/</span><span id="3374" class="oa md it oq b gy pd ov l ow ox">generate-doc:<br/> @ $(MAKE) create-sphinx-sources &amp;&amp; \<br/> cd docs; make html</span></pre><p id="256c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后调用make generate-doc:</p><pre class="kj kk kl km gt op oq or os aw ot bi"><span id="ed35" class="oa md it oq b gy ou ov l ow ox">make generate-doc</span></pre><p id="297c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们带着斯芬克斯到达了旅程的终点。我希望这些内容对你有用！</p><h1 id="bbdf" class="mc md it bd me mf np mh mi mj nq ml mm jz nr ka mo kc ns kd mq kf nt kg ms mt bi translated">摘要</h1><p id="9468" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">我们已经看到了如何使用Sphinx，这是一个为您的机器学习项目生成文档的强大工具。我们定制了带有徽标、图像和降价内容的文档。当然，Sphinx附带了许多其他扩展，您可以使用它们来使您的文档更加吸引人。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fcd1" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">感谢您的阅读！</h1><p id="8e79" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你想在收件箱里收到我未来的故事，别忘了订阅。</p><p id="b216" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz">如果您喜欢阅读我的故事，并希望支持我成为一名作家，请考虑注册成为Medium会员，并获得数千篇数据工程和数据科学文章。</em></p><div class="pg ph gp gr pi pj"><a href="https://medium.com/@anna.bildea/membership" rel="noopener follow" target="_blank"><div class="pk ab fo"><div class="pl ab pm cl cj pn"><h2 class="bd iu gy z fp po fr fs pp fu fw is bi translated">通过我的推荐链接加入Medium—Bildea Ana</h2><div class="pq l"><h3 class="bd b gy z fp po fr fs pp fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pr l"><p class="bd b dl z fp po fr fs pp fu fw dk translated">medium.com</p></div></div><div class="ps l"><div class="pt l pu pv pw ps px ks pj"/></div></div></a></div><p id="a255" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz">在</em><a class="ae ky" href="https://www.linkedin.com/in/ana-bildea-phd-2339b728/" rel="noopener ugc nofollow" target="_blank"><em class="mz">LinkedIn</em></a><em class="mz">和</em> <a class="ae ky" href="https://twitter.com/AnaBildea" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上找我！</p></div></div>    
</body>
</html>