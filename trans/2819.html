<html>
<head>
<title>Time-Series Forecasting Based on Trend and Seasonal components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于趋势和季节成分的时间序列预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/time-series-forecasting-based-on-the-trend-and-seasonal-components-26b92866e548#2022-06-20">https://towardsdatascience.com/time-series-forecasting-based-on-the-trend-and-seasonal-components-26b92866e548#2022-06-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6555" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">分析时间序列的趋势和季节性，以分解时间序列并实现预测模型</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/231ade05af5499e5b2c0ef7a4f70a821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xcMV1_IrkZ01UCcX.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://www.pexels.com/@goumbik" rel="noopener ugc nofollow" target="_blank">卢卡斯</a>在<a class="ae ky" href="https://www.pexels.com/photo/chart-close-up-data-desk-590022/" rel="noopener ugc nofollow" target="_blank">像素</a>上拍摄</p></figure><p id="1dec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">时间序列预测是基于带有时间戳的历史数据进行预测的任务。它包括建立模型以进行观察，并在天气、工程、经济、金融或商业预测等应用中推动未来的决策。</p><p id="949e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文旨在介绍时间序列预测。结构展开如下。首先，描述任何时间序列的两个主要模式(趋势和季节性)。其次，根据这些模式对时间序列进行分解。最后，实现了一种称为Holt-Winters季节性方法的预测模型，适用于具有趋势和/或季节性成分的时间序列数据。</p><p id="43ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了涵盖所有这些内容，我创建了一个数据集来模拟2010年至2020年间北半球城市(如塞维利亚)的温度。任何感兴趣的人都可以免费获得合成数据集和用于创建它的方法。代码可以在下面的<a class="ae ky" href="https://github.com/javiferfer/medium/blob/master/time_series_forecast/modeling_synthetic_dataset.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库中找到。</p><h2 id="c3b0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">1.导入库和数据</h2><p id="38d6" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">首先，导入运行代码所需的以下库。除了最典型的库之外，代码基于由<a class="ae ky" href="https://www.statsmodels.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"> statsmodels </a>库提供的函数，该库提供了用于估计许多不同统计模型的类和函数，例如统计测试和预测模型。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="3c64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是创建数据集的代码。该数据由两列组成，一列是日期，另一列是2010年到2020年之间的温度。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mv"><img src="../Images/a98368801ca5023a2ae863acead719a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5IL5CxYxoaMfeQ-GbHIC8A.png"/></div></div></figure><h2 id="5869" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">2.可视化数据集</h2><p id="2e1a" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在我们开始分析时间序列的模式之前，让我们将数据可视化，其中每条垂直虚线对应于一年的开始。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/b650246447514df661595cb3a3b03232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2RjjaFDxWdRlbbiqhTqEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图1 </strong>。温度时间序列。<strong class="bd mx">参考</strong>:作者图片</p></figure><p id="f423" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在进入下一部分之前，让我们花点时间看看数据。有趣的是，这些数据似乎有季节性变化，因为冬季气温升高，夏季气温下降(南半球)。此外，温度似乎不会随着时间的推移而显著升高，因为无论哪一年，平均温度都几乎相同。</p><h2 id="0627" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">3.时间序列模式</h2><p id="f014" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">时间序列预测模型使用数学方程来寻找一系列历史数据中的模式。然后，这些等式被用于将数据中的历史时间模式投射到未来[1]。</p><p id="beb0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有四种类型的时间序列模式:</p><ul class=""><li id="2bb7" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated"><em class="nh">趋势</em>:数据的长期增减。趋势可以是任何函数，例如线性或指数函数，并且可以随时间改变方向。</li><li id="3f02" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated"><em class="nh">季节性</em>:以固定频率(一天中的小时、一周、一月、一年等)在序列中重复循环。).季节性模式存在于一个固定的已知时期。</li><li id="27ab" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated"><em class="nh">周期性</em>:当数据上升和下降时出现，但没有固定的频率和持续时间，例如由经济条件造成的。</li><li id="3929" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated"><em class="nh">噪声</em>:序列中的随机变化。</li></ul><p id="81bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数时间序列数据将包含一个或多个模式，但可能不是全部。这里有一些例子，我们可以确定其中的一些时间序列模式:</p><ol class=""><li id="50e8" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nn ne nf ng bi translated">维基百科年度受众(左图):在该图中，我们可以发现一个增长趋势，因为受众每年都在线性增长。</li><li id="4868" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">美国用电量的季节性曲线图(中间图):每条线对应一年，因此我们可以观察到年度季节性，因为消耗每年重复一次。</li><li id="32a0" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">IBEX 35日收盘(右图):这个时间序列随着时间的推移有一个增加的趋势，以及一个周期模式，因为有一些时期IBEX 35由于经济原因而下降。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/94e2482f697b3382f19ff29fe1f486fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FTTtN5l4fOHaL3jjGaB8JA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图2 </strong>。从左到右，维基百科的年度观众，美国用电量的季节性图，IBEX 35日收盘。<strong class="bd mx">参考</strong>:从左到右依次为【3】、【4】、【5】</p></figure><p id="3b5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们假设这些模式的加法分解，我们可以写为:</p><p id="7e98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Y[t] = T[t] + S[t] + e[t]</p><p id="c4bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中Y[t]是数据，T[t]是趋势周期分量，S[t]是季节分量，e[t]是噪声，都在周期T内。</p><p id="d75d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，乘法分解可以写成:</p><p id="a43b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Y[t] = T[t] *S[t] *e[t]</p><p id="e3af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当季节波动不随时间序列水平变化时，加法分解是最合适的。相反，当季节性成分的变化似乎与时间序列的水平成比例时，则乘法分解更合适[2]。</p><h2 id="eed1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">4.分解数据</h2><p id="3496" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">平稳时间序列被定义为其性质不依赖于观察时间的时间序列。因此，具有趋势或季节性的时间序列不是平稳的，而白噪声序列是平稳的[6]。从更数学的意义上来说，如果一个时间序列有一个恒定的均值和方差，并且协方差与时间无关，则称该时间序列是平稳的。在[ <a class="ae ky" href="https://f0nzie.github.io/hyndman-bookdown-rsuite/stationarity-and-differencing.html" rel="noopener ugc nofollow" target="_blank"> 6 </a> ]中，你有不同的说明性例子来比较平稳和非平稳时间序列。一般来说，一个平稳的时间序列不会有长期可预测的模式。</p><p id="9f2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，为什么平稳性很重要呢？</p><p id="d6e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，平稳性已经成为时间序列分析中许多实践和工具的共同假设。其中包括趋势估计、预测和因果推断等。因此，在许多情况下，您需要确定数据是否是由平稳过程生成的，并将其转换为由该过程生成的样本的属性[7]。</p><p id="34d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，如何检验时间序列的平稳性呢？</p><p id="93c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以用两种方法检查静止的。一方面，我们可以通过检查时间序列的均值和方差来手动检查它。另一方面，我们可以使用测试函数来评估平稳性[8]。</p><p id="c00c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些情况可能会令人困惑。例如，没有趋势和季节性但具有周期行为的时间序列是稳定的，因为周期不是固定长度的。</p><p id="d42f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4.1。检查趋势</strong></p><p id="bff5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了分析时间序列的趋势和季节性，我们首先使用30天和365天窗口的滚动平均法分析一段时间内的平均值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/2ccc30b9c14ea7456282864bb35683df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrtW5l00FYSJJs8KhMi-tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图三</strong>。滚动平均值和标准差。<strong class="bd mx"> Ref </strong>:图片作者。</p></figure><p id="b5d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在图中，我们可以看到由于数据的季节性模式，使用30天窗口时的滚动平均值是如何随时间振荡的。此外，使用365天窗口时的滚动平均值随着时间的推移而增加，表明随着时间的推移略有增加的趋势。</p><p id="2e0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这也可以使用几个测试进行评估，如迪基-富勒(ADF)和科维亚特科夫斯基、菲利普、施密特和申(KPSS):</p><ul class=""><li id="fefe" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">ADF测试的结果(p值低于0.05)表明，单位根存在的零假设可以在95%的置信水平上被拒绝。因此，如果p值低于0.05，时间序列是稳定的。</li><li id="4c89" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated">KPSS检验的结果(p值大于0.05)表明，不存在单位根和存在单位根的零假设不能在95%的置信水平下被拒绝。因此，如果p值低于0.05，时间序列就不是稳定的。</li></ul><p id="b720" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然这些测试似乎是为了检查数据的平稳性，但它们对于分析时间序列的趋势而非季节性是有用的，如[9]所示。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="c6e8" class="lv lw it nr b gy nv nw l nx ny">Results of Dickey-Fuller Test:<br/>Test Statistic                  -3.69171446<br/>p-value                          0.00423122<br/>Lags Used                       30.00000000<br/>Number of Observations Used   3621.00000000<br/>Critical Value (1%)             -3.43215722<br/>Critical Value (5%)             -2.86233853<br/>Critical Value (10%)            -2.56719507<br/>dtype: float64</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="2e02" class="lv lw it nr b gy nv nw l nx ny">Results of KPSS Test:<br/>Test Statistic           1.04843270<br/>p-value                  0.01000000<br/>Lags Used               37.00000000<br/>Critical Value (10%)     0.34700000<br/>Critical Value (5%)      0.46300000<br/>Critical Value (2.5%)    0.57400000<br/>Critical Value (1%)      0.73900000<br/>dtype: float64</span></pre><p id="2955" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有趣的是，统计结果揭示了时间序列平稳性的影响。然而，两种检验的零假设是相反的。ADF检验表明时间序列是平稳的(p值&gt; 0.05)，而KPSS检验表明它不是平稳的(p值&gt; 0.05)。该数据集是以轻微趋势创建的，因此结果表明KPSS检验对于分析该数据集更为准确。</p><p id="f772" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了降低数据集的趋势，我们可以实现以下去趋势方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/be060a1693c8c5e440dd2fc43858a85c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yv20590-wjCNYQhfjEauYQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图4 </strong>。去除时间序列趋势后的滚动平均值和标准差。<strong class="bd mx">参考号</strong>:图片由作者提供。</p></figure><p id="7e16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4.2。检查季节性</strong></p><p id="88aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如之前从滚动std中观察到的，我们的时间序列中有一个季节性模式。因此，我们应该采用差分方法来消除时间序列中潜在的季节性或周期性模式。由于样本数据集有12个月的季节性，我使用了365-滞后差异的差异:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/d5cb6e2b5d99e2cf60e9c462580f249f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SsUeTuD3pjoS1dlkBUs_AQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图5 </strong>。时间序列差分后的滚动平均值和标准差。<strong class="bd mx"> Ref </strong>:图片作者。</p></figure><p id="b15a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，滚动平均值和标准差在一段时间内基本保持不变，所以我们有一个稳定的时间序列。</p><p id="3a46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">去趋势和差分方法的组合实现如下:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/29ed451fbd0585c0dc11634c369ce9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fxIGNwoHm8206R1m60JZGw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图6 </strong>。时间序列去趋势和差分后的滚动平均值和标准差。<strong class="bd mx">参考</strong>:图片由作者提供。</p></figure><p id="6de3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4.3。分解</strong></p><p id="b2a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于上述模式的分解可以通过<a class="ae ky" href="https://www.statsmodels.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">【stats models】包</strong> </a>中的一个有用的Python函数<a class="ae ky" href="https://www.statsmodels.org/dev/generated/statsmodels.tsa.seasonal.seasonal_decompose.html" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">seasonal _ decompose</strong></a>来实现:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/6f3c8d0b12db8f3856d38e76715a1599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pY1yX0_1ANqJfKa_0J7XWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图7 </strong>。时间序列分解。<strong class="bd mx">参考</strong>:图片由作者提供。</p></figure><p id="ebbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在查看了分解图的四个部分后，我们可以说，在我们的时间序列中有一个很强的年度季节性成分，以及一个随时间推移而增加的趋势模式。</p><h2 id="c773" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">5.建模</h2><p id="a972" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">时间序列数据的合适模型将取决于数据的特定特征，例如，数据集是否具有总体趋势或季节性。请务必选择最适合您的数据的模型。</p><p id="d3a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">时间序列数据的合适模型将取决于数据的特定特征，如趋势和季节性[10]。请确保选择最适合您的数据的模型:</p><ol class=""><li id="bbbe" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nn ne nf ng bi translated">自回归(AR)</li><li id="a85b" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">移动平均线</li><li id="3f22" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">自回归移动平均(ARMA)</li><li id="fa26" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">自回归综合移动平均(ARIMA)</li><li id="e436" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">季节性自回归综合移动平均(SARIMA)</li><li id="ec5c" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">带有外生回归量的季节性自回归综合移动平均(SARIMAX)</li><li id="afb0" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">向量自回归(VAR)</li><li id="5d08" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">向量自回归移动平均(VARMA)</li><li id="08ad" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">带外生回归量的向量自回归移动平均(VARMAX)</li><li id="89fc" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">简单指数平滑(SES)</li><li id="4182" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nn ne nf ng bi translated">霍尔特·温特的指数平滑法</li></ol><p id="9452" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于我们的数据中存在季节性，实施的模型是霍尔特-温特斯指数平滑法，因为它适用于具有趋势和/或季节性成分的时间序列数据。</p><p id="6e89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种方法使用指数平滑对过去的大量值进行编码，并使用它们来预测现在和未来的“典型”值。指数平滑是指使用指数加权移动平均(EWMA)来“平滑”时间序列[11]。</p><p id="c4af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在实施之前，让我们创建培训和测试数据集:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><p id="0472" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是使用均方根误差(RMSE)作为度量来评估模型误差的实现。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mt mu l"/></div></figure><pre class="kj kk kl km gt nq nr ns nt aw nu bi"><span id="c4cb" class="lv lw it nr b gy nv nw l nx ny">The Root Mean Squared Error of additive trend, additive seasonal of period season_length=365 and a Box-Cox transformation 6.27</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/18e2d707782d1229c3e376c9b5cf58de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IFbu0Tjihc1ODCsxFx88YQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd mx">图8 </strong>。霍尔特-温特斯指数平滑法的结果。<strong class="bd mx">参考号</strong>:图片由作者提供。</p></figure><p id="a63f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从图中，我们可以观察到模型是如何捕捉时间序列的季节性和趋势的，在异常值的预测中有一个错误。</p><h2 id="7763" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">6.结论</h2><p id="358c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">了解主要的时间序列模式并学习如何实现时间序列预测模型是至关重要的，因为它们有许多应用。</p><p id="16aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在整篇文章中，我们通过一个基于温度数据集的实际例子介绍了趋势和季节性。除了检查趋势和季节性，我们还看到了如何减少它，以及如何创建一个基本模型，使用这些模式来推断未来几天的温度。</p><p id="2d3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从这里开始，接下来的步骤是理解其他预测模型，如第5节中列出的模型。在这里，我留下了两个链接[ <a class="ae ky" href="https://www.bounteous.com/insights/2020/09/15/forecasting-time-series-model-using-python-part-two/" rel="noopener ugc nofollow" target="_blank"> 10 </a>，<a class="ae ky" href="https://medium.com/towards-data-science/find-the-order-of-arima-models-b4d99d474e7a" rel="noopener"> 12 </a> ]，链接到其他可以被认为是这篇文章的延伸的文章。</p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><p id="6d32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nh">如果你喜欢这篇文章，请考虑</em> </strong> <a class="ae ky" href="https://javiferfer.medium.com/membership" rel="noopener"> <strong class="lb iu"> <em class="nh">订阅</em> </strong> </a> <strong class="lb iu"> <em class="nh">。你将获得我所有的内容+所有其他来自牛逼创作者的文章！</em> </strong></p></div><div class="ab cl oe of hx og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="im in io ip iq"><h2 id="17e0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">参考</h2><p id="4196" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">[1] Science Direct，<a class="ae ky" href="https://www.sciencedirect.com/science/article/pii/B9780128034545000171" rel="noopener ugc nofollow" target="_blank">智慧餐厅:顾客需求调查及销售预测</a></p><p id="972b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2] Otexts，<a class="ae ky" href="https://otexts.com/fpp2/components.html" rel="noopener ugc nofollow" target="_blank">时序组件</a></p><p id="c902" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[3]维基媒体，<a class="ae ky" href="https://commons.wikimedia.org/wiki/File:Wikipedia.org_audience_trend.png" rel="noopener ugc nofollow" target="_blank">维基百科的年度受众</a></p><p id="7642" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[4]维基媒体，<a class="ae ky" href="https://commons.wikimedia.org/wiki/File:SeasonalplotUS.png" rel="noopener ugc nofollow" target="_blank">美国用电量的季节性图表</a></p><p id="82e4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[5]维基媒体，【1986年12月至2012年9月的IBEX 35(每日收盘)</p><p id="4698" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[6] Otexts，<a class="ae ky" href="https://otexts.com/fpp2/stationarity.html" rel="noopener ugc nofollow" target="_blank">平稳性和差分性</a></p><p id="180f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[7]中等，<a class="ae ky" rel="noopener" target="_blank" href="/stationarity-in-time-series-analysis-90c94f27322">时间序列分析中的平稳性</a></p><p id="15a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[8] Medium，<a class="ae ky" href="https://medium.com/@cmukesh8688/why-is-augmented-dickey-fuller-test-adf-test-so-important-in-time-series-analysis-6fc97c6be2f0" rel="noopener">为什么增强的Dickey-Fuller检验(ADF检验)在时间序列分析中如此重要</a></p><p id="0e4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[9]堆栈交换，<a class="ae ky" href="https://stats.stackexchange.com/questions/225087/seasonal-data-deemed-stationary-by-adf-and-kpss-tests" rel="noopener ugc nofollow" target="_blank">被ADF和KPSS检验视为平稳的季节性数据</a></p><p id="c67b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[10]boundous，<a class="ae ky" href="https://www.bounteous.com/insights/2020/09/15/forecasting-time-series-model-using-python-part-two/" rel="noopener ugc nofollow" target="_blank">使用Python进行时间序列模型预测:第二部分</a></p><p id="324b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[11] Orangematter，<a class="ae ky" href="https://orangematter.solarwinds.com/2019/12/15/holt-winters-forecasting-simplified/#:~:text=What%20Is%20the%20Holt%2DWinters,cyclical%20repeating%20pattern%20(seasonality)." rel="noopener ugc nofollow" target="_blank">霍尔特-温特斯预测和指数平滑简化</a></p><p id="6465" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[12]中等，<a class="ae ky" rel="noopener" target="_blank" href="/find-the-order-of-arima-models-b4d99d474e7a">找到ARIMA车型的订单</a></p><p id="f82b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其他:</p><ul class=""><li id="76e9" class="my mz it lb b lc ld lf lg li na lm nb lq nc lu nd ne nf ng bi translated">使用Python使用时间序列模型进行预测:第一部分</li><li id="888e" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated">中，<a class="ae ky" rel="noopener" target="_blank" href="/time-series-decomposition-in-python-8acac385a5b2">Python中的时间序列分解</a></li><li id="b1fa" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated">机器学习大师，<a class="ae ky" href="https://machinelearningmastery.com/time-series-seasonality-with-python/" rel="noopener ugc nofollow" target="_blank">用Python研究时间序列的季节性</a></li><li id="5526" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated">时间序列数据的自相关性、季节性和平稳性概述</li><li id="4abd" class="my mz it lb b lc ni lf nj li nk lm nl lq nm lu nd ne nf ng bi translated">中，<a class="ae ky" href="https://medium.com/@llmkhoa511/time-series-analysis-and-weather-forecast-in-python-e80b664c7f71" rel="noopener">Python中的时间序列分析和天气预报</a></li></ul></div></div>    
</body>
</html>