<html>
<head>
<title>4 Methods for Adding New Items to Python Lists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">向 Python 列表添加新项目的 4 种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-methods-for-adding-new-items-to-python-lists-7c4243e93416#2022-12-02">https://towardsdatascience.com/4-methods-for-adding-new-items-to-python-lists-7c4243e93416#2022-12-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="99d7" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">列表是 Python 的核心数据结构</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/37b7af736531d661d732e23977fce5dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k6EJPQDYsXsMFodA1R_2lA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">凯利·西克玛在<a class="ae ky" href="https://unsplash.com/s/photos/list?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="16b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">数据结构对于任何编程语言都非常重要，因为如何存储、访问和管理数据是设计高效程序的关键因素之一。</p><p id="42d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python 有 4 种内置数据结构:</p><ul class=""><li id="e29a" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">目录</li><li id="a895" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">一组</li><li id="5a30" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">元组</li><li id="6bcb" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">词典</li></ul><p id="8348" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">列表表示为方括号中的数据点集合，可用于存储不同数据类型的值。下面是一个列表示例:</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="01a8" class="mo mp it mk b be mq mr l ms mt">mylist = [1, 2, 3, "Jane", True]</span></pre><p id="af4c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将学习 4 种向 Python 列表添加新项的方法。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="9f9d" class="nb mp it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">1.附加</h1><p id="4491" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">append 方法用于向列表中添加单个项目。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="af99" class="mo mp it mk b be mq mr l ms mt">mylist.append(7)<br/><br/>print(mylist)<br/><br/># output<br/>[1, 2, 3, 'Jane', True, 7]</span></pre><p id="db04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您尝试使用 append 方法添加项目集合(例如列表、元组)，该集合将作为单个项目追加到列表中。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="4b81" class="mo mp it mk b be mq mr l ms mt">mylist.append(["Max", "John"])<br/><br/>print(mylist)<br/><br/># output<br/>[1, 2, 3, 'Jane', True, 7, ['Max', 'John']]</span></pre><p id="7504" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量 mylist 不单独包含项目“Max”和“John”。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="d7df" class="mo mp it mk b be mq mr l ms mt">"Max" in mylist<br/># output<br/>False<br/><br/>["Max", "John"] in mylist<br/># output<br/>True</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><p id="0155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="nx">提示</em> </strong>:如果你不小心把一个物品列表追加为单个物品，但需要新的物品在原列表中作为单独的物品，可以使用熊猫的分解功能。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="03b6" class="mo mp it mk b be mq mr l ms mt">import pandas as pd<br/><br/>mylist = [1, 2, 3, 'Jane', True, 7, ['Max', 'John']]<br/><br/>pd.Series(mylist).explode(ignore_index=True)<br/># output<br/>0       1<br/>1       2<br/>2       3<br/>3    Jane<br/>4    True<br/>5       7<br/>6     Max<br/>7    John<br/>dtype: object</span></pre><p id="5fc3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以使用 list 构造函数将输出转换回 list:</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="8d60" class="mo mp it mk b be mq mr l ms mt">import pandas as pd<br/><br/>mylist = [1, 2, 3, 'Jane', True, 7, ['Max', 'John']]<br/><br/>list(pd.Series(mylist).explode(ignore_index=True))<br/># output<br/>[1, 2, 3, 'Jane', True, 7, 'Max', 'John']</span></pre></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="f11b" class="nb mp it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">2.插入</h1><p id="1d8b" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">append 方法将新项添加到列表的末尾(即作为最后一项)。如果要在开头或特定索引处添加项目，请改用 insert 方法。</p><p id="3ffc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它需要两个参数:</p><ol class=""><li id="974e" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ny mb mc md bi translated">要添加的项的索引</li><li id="f997" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ny mb mc md bi translated">项目本身</li></ol><p id="579a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">索引从 0 开始，所以我们需要使用索引 0 在开头添加一个新项。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="248a" class="mo mp it mk b be mq mr l ms mt">mylist = ["Jane", "Jennifer"]<br/><br/>mylist.insert(0, "Matt")<br/><br/>print(mylist)<br/># output<br/>['Matt', 'Jane', 'Jennifer']</span></pre><p id="1a00" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们再做一个例子，添加新的条目作为第三个条目。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="bf30" class="mo mp it mk b be mq mr l ms mt">mylist = [1, 2, 3, 4]<br/><br/>mylist.insert(2, 10000)<br/><br/>print(mylist)<br/># output<br/>[1, 2, 10000, 3, 4]</span></pre><p id="92b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就像 append 方法一样，insert 方法只能用于向列表中添加单个项目。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="153c" class="nb mp it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">3.扩展</h1><p id="7ca3" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">extend 方法使用给定集合中的项扩展列表。</p><p id="a429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它也可以用于向列表中添加单个项目，但是 append 方法更适合于此任务。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="e4c8" class="mo mp it mk b be mq mr l ms mt">mylist = ["Jane", "Jennifer"]<br/><br/>mylist.extend(["Max", "John"])<br/><br/>print(mylist)<br/># output<br/>['Jane', 'Jennifer', 'Max', 'John']</span></pre><p id="5304" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在“Max”和“John”作为单独的项目添加到列表中。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="f04f" class="mo mp it mk b be mq mr l ms mt">"Max" in mylist<br/># output<br/>True</span></pre><p id="33ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用 extend 方法添加字符串的单个项时要小心。因为字符串可以被看作是字符的集合，所以 extend 方法将每个字符作为单独的项添加到列表中。</p><p id="b51e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个例子:</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="756a" class="mo mp it mk b be mq mr l ms mt">mylist = ["Jane", "Jennifer"]<br/><br/>mylist.extend("Matt")<br/><br/>print(mylist)<br/># output<br/>['Jane', 'Jennifer', 'M', 'a', 't', 't']</span></pre><p id="5d4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用 append 方法将单个项目添加到列表中总是更好。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="6b45" class="nb mp it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">4.加法运算符(+)</h1><p id="118a" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">加法运算符可用于连接列表，这也意味着将一个项目列表添加到另一个列表中。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="5780" class="mo mp it mk b be mq mr l ms mt">mylist = [1, 2, 3, 4]<br/><br/>mylist = mylist + [8, 9]<br/><br/>print(mylist)<br/># output<br/>[1, 2, 3, 4, 8, 9]</span></pre><p id="e86c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，我们只能使用这个方法将一个列表中的项目添加到另一个列表中。它不能用于向列表中添加不同类型的项目(例如，整数、元组、字符串)。</p><p id="e4d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来做一个例子，用一个整数来演示这种情况。</p><pre class="kj kk kl km gt mj mk ml bn mm mn bi"><span id="1889" class="mo mp it mk b be mq mr l ms mt">mylist = [1, 2, 3, 4]<br/><br/>mylist = mylist + 10<br/><br/># output<br/>TypeError: can only concatenate list (not "int") to list</span></pre><p id="8332" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在上面的输出中看到的，这引发了一个类型错误。</p></div><div class="ab cl mu mv hx mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="im in io ip iq"><h1 id="b755" class="nb mp it bd nc nd ne nf ng nh ni nj nk jz nl ka nm kc nn kd no kf np kg nq nr bi translated">结论</h1><p id="8c14" class="pw-post-body-paragraph kz la it lb b lc ns ju le lf nt jx lh li nu lk ll lm nv lo lp lq nw ls lt lu im bi translated">列表是 Python 中最常用的数据结构之一。因此，学习与列表交互的方法来创建健壮的程序是很重要的。在本文中，我们学习了如何通过添加新项目来修改列表。</p><p id="7f64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nx">你可以成为</em> <a class="ae ky" href="https://sonery.medium.com/membership" rel="noopener"> <em class="nx">媒介会员</em> </a> <em class="nx">解锁我的全部写作权限，外加其余媒介。如果你已经是了，别忘了订阅</em><a class="ae ky" href="https://sonery.medium.com/subscribe" rel="noopener"><em class="nx"/></a><em class="nx">如果你想在我发表新文章时收到电子邮件。</em></p><p id="0977" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>