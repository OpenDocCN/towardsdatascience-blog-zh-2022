<html>
<head>
<title>Outlier Detection (Part 2)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">离群点检测(第二部分)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/outlier-detection-part-2-6839f6199768#2022-06-10">https://towardsdatascience.com/outlier-detection-part-2-6839f6199768#2022-06-10</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="8f15" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">偏斜分布的校正箱线图</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/c44723c65f0ba4629329003bd91c0feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8smsAWc8O5la-fOZZe-rQg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片来自<a class="ae kz" href="https://unsplash.com/photos/g95sf8-fEQg" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><blockquote class="la lb lc"><p id="2d1c" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">简介</strong></p></blockquote><p id="a33d" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在<a class="ae kz" href="https://medium.com/@mdsohel-mahmood/outlier-detection-part1-821d714524c" rel="noopener">之前的文章</a>中，我已经讨论了大多数正态分布的异常值检测程序。这些程序包括</p><ol class=""><li id="582c" class="md me iu lg b lh li lk ll ma mf mb mg mc mh lz mi mj mk ml bi translated">IQR(四分位数间距)</li><li id="7fdf" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">标准偏差</li><li id="e64f" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">z分数</li><li id="1464" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">修改的Z分数</li></ol><p id="cc39" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在实施了上述程序后，我们仔细查看了箱线图，并显示了每种情况下异常值的数量。在真实数据集中，分布并不总是正态的。通常，它们是有偏差的，并且包含不想要的极端值。在本文中，我将详细介绍偏斜分布的异常值检测过程，并相应地调整箱线图。</p><blockquote class="la lb lc"><p id="fb42" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">偏态分布</strong></p></blockquote><p id="f39c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">IQR方法以及标准差、Z得分和修正Z得分非常适合正态或接近正态的类型分布。然而，大多数真实的工作数据是不正常的，并且经常是有偏差的。这意味着数据可以在分布的低端或高端有尾部。这些类型的偏态分布如下所示。对于偏斜数据，相应的箱线图也会变得不对称。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mr"><img src="../Images/b9e28386557d4e642ec1e8acbd6ab449.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1x1d53EX4ppSABL_WuxCkw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">免费可重复使用的图片来自<a class="ae kz" href="https://commons.wikimedia.org/wiki/File:Skew_with_quartiles_and_box_plots.png" rel="noopener ugc nofollow" target="_blank">维基媒体</a></p></figure><blockquote class="la lb lc"><p id="330a" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">半四分位数范围</strong></p></blockquote><p id="f15a" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Aucremanne L .等人[1]提出使用半四分位间距(SIQR)来调整这些偏斜分布的上限和下限，但后来发现它不支持对长尾分布的箱线图进行适当调整。例如，我们想要比较同一个<a class="ae kz" href="https://www.kaggle.com/datasets/airbnb/boston" rel="noopener ugc nofollow" target="_blank"> AirBnB数据</a>的一个倾斜箱线图，并提取联排别墅的价格。使用标准IQR方法会产生一个异常值，SIQR也会产生一个异常值。因此，不幸的是SIQR方法在我们的情况下对调整箱线图没有多大帮助[2]。</p><p id="7483" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">用于SIQR实施的公式为</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ms"><img src="../Images/16b54d7870b9760d3ecee39fbba83379.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*XohFJICbNKEPOksJ843xXw.png"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mt"><img src="../Images/b795531c12f4ddf8ae461ed6efb2fb56.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*fXw5VrN2DyjmpirlatQv7w.png"/></div></figure><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mw"><img src="../Images/5b87b65e0a2a7b4dfaf9a937f850afc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Irz6BP3CPG5a9nLeb5efBQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">标准IQR和SIQR程序产生相同的箱线图。左图来自标准IQR方法，右图来自SIQR方法。[图片由作者提供]</p></figure><blockquote class="la lb lc"><p id="47b3" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">医疗所</strong></p></blockquote><p id="b89f" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Brys等人引入了对数偶的概念来度量具有连续单峰分布的单变量样本的偏斜度。这意味着感兴趣的参数应该具有一个清晰的单峰，而没有与另一个可能的峰的任何重叠。它定义了下面的内核函数</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mx"><img src="../Images/1954217861d766683817c3e3c818775d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*PcdLGIZ1tNu3sk1CROEfrQ.png"/></div></figure><p id="9b8e" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">其中xi &lt; Q2 &lt; xj。核函数h也由下式定义</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj my"><img src="../Images/04a946a3d7b5c507848ded76f4279927.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLLUCpYifNByIVrWMj4r-w.png"/></div></div></figure><p id="8508" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">这个定义非常类似于Bowley [4]提出的四分位数偏斜度的测量</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mz"><img src="../Images/230fa855b71107df118d74e046ff77b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4Ugqe8HJp4ab7ErB-vrCGw.png"/></div></div></figure><p id="15e2" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">[2]中设定了一组新的异常值限值，其中包含了下图所示的热电偶。</p><blockquote class="na"><p id="4b45" class="nb nc iu bd nd ne nf ng nh ni nj lz dk translated"><em class="nk">下限:Q1-h_low (MC) * IQR </em></p><p id="3b5a" class="nb nc iu bd nd ne nf ng nh ni nj lz dk translated"><em class="nk">上限:Q3+ h_high (MC) * IQR </em></p></blockquote><p id="9a8c" class="pw-post-body-paragraph ld le iu lg b lh nl jv lj lk nm jy lm ma nn lp lq mb no lt lu mc np lx ly lz in bi translated">显然，该核函数可以被线性或二次或指数模型利用。然而，我们不会详细讨论这些细节，但是我们将用python实现medcouple计算，如果读者有兴趣了解更多，可以浏览[2]。简而言之，很明显，与固定的IQR乘数1.5相比，这里我们基本上部署到不同的核函数(h_low和h_high)，因此，我们将获得非对称边界，而不像标准的IQR过程。</p><blockquote class="la lb lc"><p id="416e" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">python中的医疗所</strong></p></blockquote><p id="8a18" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">使用stasmodel库在python中实现medcouple的计算非常简单。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mu mv l"/></div></figure><p id="b2ed" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">对于这个数组，medcouple值是0.145，这是上面讨论的所有核函数值的中值。据报道，与二次模型相比，指数模型更加有效和方便，因为它只有一个参数要处理，而二次模型可以根据模型的复杂性确定几个未知变量。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nq"><img src="../Images/9b69d84190ab67bfb934015a44c6331a.png" data-original-src="https://miro.medium.com/v2/resize:fit:472/format:webp/1*U6meAT8eSKq_HVbkDLQg1g.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">与[2]不同的核函数(指数模型)将导致不对称极限</p></figure><p id="77d7" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在[2]中，指数项的乘数取为1.5，a和b的值可以通过用不同的值拟合数据来计算。我们可以在以后的文章中讨论利用线性、二次和指数模型。但是现在，通过阅读到目前为止，你已经很好地理解了为什么传统的IQR方法和箱线图不能用于偏斜分布。</p><blockquote class="la lb lc"><p id="2d82" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结论</strong></p></blockquote><p id="4789" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在本文中，我们已经了解了偏态分布的基本概念，并展示了为什么确定异常值的传统方法可能会产生一些后果。常规IQR极限之外的数据点不一定是真正的异常值。利用medcouple程序，我们可以获得不对称的边界，并更有效地提取异常值，这些异常值有更多的机会表现出与大多数群体不同的行为。</p><p id="2f04" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">感谢阅读。</p><blockquote class="la lb lc"><p id="bcd0" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">有用的链接</strong></p></blockquote><p id="283c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://mdsohelmahmood.github.io/data-science/2020/05/04/Outlier-detection-part2.html" rel="noopener ugc nofollow" target="_blank"> Github页面</a></p><p id="207a" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://www.learningfromdata.net/" rel="noopener ugc nofollow" target="_blank">我的网站:从数据中学习</a></p><p id="eb61" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://www.youtube.com/watch?v=N0YCn3sfUm4" rel="noopener ugc nofollow" target="_blank"> Youtube </a></p><div class="nr ns gq gs nt nu"><a href="https://mdsohel-mahmood.medium.com/membership" rel="noopener follow" target="_blank"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">用我的推荐链接加入媒体</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi kt nu"/></div></div></a></div><div class="nr ns gq gs nt nu"><a href="https://mdsohel-mahmood.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">每当Md Sohel Mahmood发表文章时，都会收到一封电子邮件。</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">每当Md Sohel Mahmood发表文章时，都会收到一封电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="od l"><div class="oj l of og oh od oi kt nu"/></div></div></a></div><blockquote class="la lb lc"><p id="e3a3" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">参考文献</strong></p></blockquote><ol class=""><li id="4ffa" class="md me iu lg b lh li lk ll ma mf mb mg mc mh lz mi mj mk ml bi translated">Aucremanne，Luc &amp; Brys，Guy &amp; Hubert，Mia &amp; Rousseeuw，Peter &amp; Struyf，Anja。(2004).对比利时通货膨胀、相对价格和名义刚性的研究，使用新的稳健的偏度和尾部权重测量。10.1007/978–3–0348–7958–3_2.</li><li id="0a4c" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">米（meter的缩写））休伯特和e .范德维伦，“偏斜<br/>分布的调整箱线图”，<a class="ae kz" href="https://www.sciencedirect.com/journal/computational-statistics-and-data-analysis" rel="noopener ugc nofollow" target="_blank">计算统计&amp;数据分析</a>，<a class="ae kz" href="https://www.sciencedirect.com/journal/computational-statistics-and-data-analysis/vol/52/issue/12" rel="noopener ugc nofollow" target="_blank">第52卷，第12期</a>，2008年8月15日，第5186–5201页</li><li id="09ba" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">Brys，g ,, Hubert，m ,, Struyf，A,“一个稳健的偏度度量”，计算和图形统计杂志，2004年，第13卷，996 -1017</li><li id="1259" class="md me iu lg b lh mm lk mn ma mo mb mp mc mq lz mi mj mk ml bi translated">鲍里，洛杉矶，1920年。统计学原理。查尔斯·斯克里布纳的儿子，纽约</li></ol></div></div>    
</body>
</html>