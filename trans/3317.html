<html>
<head>
<title>How Bayesian statistics works in updating probabilities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">贝叶斯统计如何更新概率</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-bayesian-statistics-works-in-updating-probabilities-625b1b8599ec#2022-07-23">https://towardsdatascience.com/how-bayesian-statistics-works-in-updating-probabilities-625b1b8599ec#2022-07-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9bed" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">实验如何更新知识导致准确的概率估计</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ff9488771648d3ba8ab650da57ca2c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmEtXhCXmBZt793AjYj6kg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">掷骰子的人和卖鸟的人聚集在一块石板周围——赌徒的主人——布面油画(公共领域图片来自维基百科)</p></figure><p id="af43" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过研究一个骗子的赢款，在不知道他的资源的情况下，通过应用<strong class="la iu">贝叶斯定理</strong>，有可能找出他得到点数的概率。在这个故事中，我们看到了如何进行一些“实验”,使得正确估计事件发生的概率成为可能，即使我们不知道从中提取的样本的成分。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="9562" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">根据贝叶斯理论，概率是主观的<strong class="la iu"/>。主观猜测可能会导致有意义的结果，这听起来可能有点奇怪。这个故事的目的是通过一个例子来说明这是可能的。</p><p id="8edc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">毕竟概率<strong class="la iu">一定</strong>是主观的，因为没有办法估计一个客观的概率，除非你已经知道了，因为你已经以某种方式准备好了系统。</p><p id="79bd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">考虑一个里面有6个球的骨灰盒。这些球可以是红色(R)，绿色(G)或蓝色(B)。只有知道骨灰盒里有几个，才能知道抽到的客观概率，比如一个红球。否则，你只能猜测，在抽球之前，你只能给它分配一个主观概率:换句话说，你可以只根据你的<em class="mb">感觉</em>打赌你会在第一次抽中一个红球，这取决于你觉得自己有多幸运。但是，观察别人的下注，你就能对那个概率有个准确的概念。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="8bb4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的例子中，骨灰盒包含三个红色球，两个绿色球和一个蓝色球。然而，假设我们对瓮中之物一无所知。我们只能说有以下几种可能。</p><ol class=""><li id="6adb" class="mc md it la b lb lc le lf lh me ll mf lp mg lt mh mi mj mk bi translated">骨灰盒里没有红色的球。我们将此条件表示为P(R|0)=0，其中P(R|0)是在假设有0个红球的情况下，抽取红球的概率。P(R|0)称为抽R的<strong class="la iu">条件概率</strong>，骨灰盒里没有红球。</li><li id="3803" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">骨灰盒里只有一个红色的球。在这种情况下，P(R|1)=1/6，也就是说，有六分之一的可能性抽到一个红球。</li><li id="b4a3" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">如果骨灰盒里有2个红球，P(R|2)=2/6=1/3。</li><li id="1df4" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">P(R|3)=3/6=1/2是抽中一个红球的概率，如果骨灰盒里有3个红球。</li><li id="1fbd" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">P(R|4)=4/6=2/3是瓮中有四个红球的情况下抽到红球的概率。</li><li id="e161" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">如果红球的数量是5，P(R|5)=5/6。</li><li id="39c9" class="mc md it la b lb ml le mm lh mn ll mo lp mp lt mh mi mj mk bi translated">当然，如果所有的球都是红色的，P(R|6)=1。</li></ol><p id="5d23" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以上概率是客观存在的，但是，我们对假设一无所知，对此我们需要进行猜测。根据贝叶斯定理</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/548d2f3269c40c01de1c0322bc257111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*h3fArygf7Tl1DEOuG58f1w@2x.png"/></div></figure><p id="b29a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个公式P(H|x)中，假定事件<em class="mb"> x </em>已经发生，则<strong class="la iu">后验</strong>代表<strong class="la iu">更新后的</strong>H为真的概率。它由之前的<strong class="la iu">P(H)和<strong class="la iu">可能性</strong> P(x|H)的乘积除以P(x)给出，P(x)只不过是一个归一化因子，称为<strong class="la iu">证据</strong>。</strong></p><p id="742a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们的例子中，P(H)是假设H为真的(先验)概率。我们的先验概率只能是主观的，我们只能做出有根据的猜测。我们必须相信P(H)有一个给定值。它被称为“先验”，因为它必须在实验之前进行评估。既然我们不能从一个值中选择另一个值，我们可以设P(H)=1/7，因为有七种可能的假设，而我们没有选择其中一种的线索。</p><p id="6968" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">给定假设H，可能性P( <em class="mb"> x </em> |H)表示从瓮中抽取<em class="mb"> x </em>的可能性。上面列出了<em class="mb"> x </em> =R的P( <em class="mb"> x </em> |H)，当然，P取决于H。比如对于<em class="mb"> x </em> =R，H=4，P( <em class="mb"> x </em> |H)=2/3。</p><p id="b4ef" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">证据P( <em class="mb"> x </em>)是在不考虑假设的情况下，抽到一个<em class="mb"> x </em>的概率。它被称为证据，因为它可以作为实验的结果来评估。因为它是一个标准化因子，所以可以通过<strong class="la iu">忽略</strong>概率来评估，如下所示。</p><p id="0312" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在第一次抽签后，我们可以根据贝叶斯定理，通过计算后验概率(即实验完成后的概率)来更新我们的知识。换句话说，我们想要评估P(H| <em class="mb"> x </em>)假设H为真，给定事件<em class="mb"> x </em>发生。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="c0ff" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们在第一次尝试中抽到了一个绿色球(<em class="mb"> x </em> =G)。然后，我们可以构建下表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/6e5ff48a7539f1fc1801d7b7e704eca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WR-0QeoBZXlbG_5P05Gr9Q.png"/></div></div></figure><p id="aa36" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">第二列中的P(H)是第一列中列出的假设H的概率。为了方便起见，在第三列中示出了可能性P(R|H)。在我们的例子中，事件<em class="mb"> x </em> =G，我们需要计算抽到一个不是红色的球的可能性，即1-P(R|H)。给定H，事件<em class="mb"> x </em> =G发生的乘积P(H)P( <em class="mb"> x </em> |H)显示在倒数第二列。</p><p id="83f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">倒数第二列中所有概率的总和给出P( <em class="mb"> x </em>)，不考虑h .它是1/2。将表的最后一列除以这个数，得到后验概率，它作为表的最后一列添加。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/b850c2f6b1c3d0f27f21f3f363c23985.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7czsN-m6eA1HX2vF-_GEg.png"/></div></div></figure><p id="3534" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，所有H的P(H)和P(H|x)之和必须为1。从表中我们可以看到，由于实验的进行，我们的信念是如何演变的。假设6(所有的球都是红色的)已经被排除:它的概率为零。实验结束后，每个假设的概率随着投票箱中红球的数量而减少。事实上，如果瓮中的红球数量是5个，我们很可能抽到一个红球，然而，如果只有一个球，抽到一个绿球的概率更高。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="5c33" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每次我们做实验，我们都会更新概率。现在，我们的先验是第一次实验后得到的后验。我们更确信瓮中有一个红色的球，而不是五个，并且我们确信不是所有的球都是红色的。然后，让我们重新构建该表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/1d0d3e7a5c65796c91168e936991f8c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Sq8bN9zNP1p4K9n6VoYLeA.png"/></div></div></figure><p id="48d4" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，让我们进行另一个实验，假设我们画了一个红球(<em class="mb"> x </em> =R)。在这种情况下，贝叶斯定理的分子是乘积P(H)P(R|H ),并且表格改变为</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mr"><img src="../Images/f46f3814472e0a89f12f29c680f679f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uhjQPNwAUT2uxFlIeKgQwA.png"/></div></div></figure><p id="afdc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">将每个分子除以5/18，即分子总数，我们得到后验概率:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ms"><img src="../Images/1e79e29879cd1d2c4393bbd7335c7f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8xdLUAFxETUnllJe_VQq2g.png"/></div></div></figure><p id="f0ab" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">值得注意的是，现在后验概率相对于假设3是对称的。对称性是由于我们画了一个绿色的球和一个红色的球，在这些实验之后，我们可以得出结论，假设与频率一致，画一个红色的球的概率等于画一个非红色的球的概率。</p><p id="47a6" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也排除了另一个假设:H=0。其实画了一个红球，H=0是不可能为真的。</p><p id="04fc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，假设H=3是最有可能的(实际上，这是真的)。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="1ee1" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以多次重复这个过程。每一次，我们都会更新关于骨灰盒内容的知识。有趣的是，将概率的演变绘制成实验次数的函数(我们模拟了200次抽签，每次都计算后验概率):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/eb791406c5c1ac58bbaf6f90e9d59da8.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*M3yGjPnPlkjWIOIvAu7Fww.png"/></div></figure><p id="221e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">正如我们所看到的，所有的先验最终都趋向于零，除了正确的一个，P(3)，它趋向于1，正如大数定律所预测的那样(即通过频率主义方法)。</p><p id="8368" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae mv" href="https://colab.research.google.com/drive/1rZ22a6lF51BhB_GM8m7z7sVkdwhAnnEX?usp=sharing" rel="noopener ugc nofollow" target="_blank">在这里</a>，你可以找到一个jupyter笔记本，用来计算随机抽取一个球后的后验概率，并迭代这个过程。使用该工具，您可以看到后验概率如何随着实验次数的增加而演变，并理解贝叶斯定理如何从一个<em class="mb">主观</em>概率导出一个<em class="mb">客观</em>概率。</p><p id="6516" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过使用这个工具，你甚至可以改变初始的先验，并看到最终的结果独立于初始的猜测。例如，你可以从完全随机的先验P(H)开始。最终，结果总是P(3)趋向于1。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><p id="6e42" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">引用Bruno De Finetti的话，“概率是不存在的”，因为它绝不是客观的，也就是说，它不是任何真正的实验所固有的。虽然没有客观概率这种东西，但贝叶斯定理导致对它的估计，其值随着我们对系统的了解而演变，并在每次实验后更新，导致尽可能客观的估计。在这个故事中，我们已经说明了更新过程是如何工作的，以及为什么它会导致正确的答案。</p></div><div class="ab cl lu lv hx lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="im in io ip iq"><blockquote class="mw mx my"><p id="4e0b" class="ky kz mb la b lb lc ju ld le lf jx lg mz li lj lk na lm ln lo nb lq lr ls lt im bi translated">这样的故事还要继续看下去吗？不要错过订阅媒体的新故事:<a class="ae mv" href="https://giovanni-organtini.medium.com/membership" rel="noopener">https://giovanni-organtini.medium.com/membership</a></p></blockquote></div></div>    
</body>
</html>