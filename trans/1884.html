<html>
<head>
<title>How to Make GIFs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python制作gif</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-make-gifs-in-python-664d15ed4256#2022-05-02">https://towardsdatascience.com/how-to-make-gifs-in-python-664d15ed4256#2022-05-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="0914" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在数据分析中使用gif，发现它们严肃的一面</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3ed39a52a05e04ccf4a9c9bd057c6ecd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f5RoWoAC5TAEhr_h"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@grakozy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">格雷格·拉科齐</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="5c2f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">多亏了社交媒体，你可能已经非常熟悉gif了。在短短的几帧中，他们传达了非常具体的反应，只有图片才能传达。gif在交流数据时也有类似的效果。</p><p id="8faa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">GIF或图形交换格式是一种流行的图像格式，因为它们是被许多应用程序接受的紧凑、计算成本低的文件。本质上，gif是把一堆图片串在一起，就像一本动画书。这种类似“动画书”的格式是展示多个图表趋势的理想方式。通过在帧之间快速移动，它们以静态图无法传达的方式揭示了数据中的趋势和模式。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/55062b0a99f34579c7727dd631811553.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/1*6mptyKT-z5epn5Uaa9ktIA.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h1 id="a968" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">密码</h1><p id="a0d7" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">这个项目的回购可以在<a class="ae ky" href="https://github.com/katyhagerty/create_gif" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h2 id="0bab" class="mu ly it bd lz mv mw dn md mx my dp mh li mz na mj lm nb nc ml lq nd ne mn nf bi translated">从现有图像创建GIF</h2><p id="9eb5" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">首先，加载数据。本文使用来自<code class="fe ng nh ni nj b">bokeh</code>库的人口数据集。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="a573" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是数据集的结构:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/f8333fb0c98f85f2b4ec72ac7c2ce1de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LPOAEFCRMR4gxc-3iv4jw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="89b2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，创建<code class="fe ng nh ni nj b">filter_loc</code>，一个基于国家过滤数据集的函数。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="3363" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，创建一个函数来绘制数据集中每年的人口密度。这个函数创建构成GIF的图(或帧)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="8a54" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用一个循环来调用<code class="fe ng nh ni nj b">make_plot</code>的所有年份的利息。尽管数据集包括预测数据，但该GIF仅使用过去几年的数据。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="6365" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">把这些单独的图像串在一起，生成一个GIF。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1095" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lw"><img src="../Images/f11f4d665945d8832e4b930b08b5227a.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/1*838KioWjFOlakYkdmpP_Cg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><h2 id="6352" class="mu ly it bd lz mv mw dn md mx my dp mh li mz na mj lm nb nc ml lq nd ne mn nf bi translated">创建GIF而不输出多个图像</h2><p id="09c5" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">在上面的例子中，代码输出静态图，然后将它们编译成GIF。但是，可能会有不希望输出图的情况。例如，如果GIF有1000帧会怎样？如果GIF捕获了所有相关信息，为什么还要浪费存储空间呢？</p><p id="d4bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><code class="fe ng nh ni nj b">matplotlib</code>可以将一个函数作为输入并创建一个GIF，而不是将文件名列表作为输入。使用函数消除了保存单个帧的需要。</p><p id="5a85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，初始化绘图，这样函数就可以在以后覆盖。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="1ac2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，定义<code class="fe ng nh ni nj b">run</code>，这个函数为GIF创建不同的框架。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><h2 id="6696" class="mu ly it bd lz mv mw dn md mx my dp mh li mz na mj lm nb nc ml lq nd ne mn nf bi translated">GIF vs静态图</h2><p id="c60c" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">gif在很短的时间内显示大量数据，在某些情况下比静态图更有优势。为了说明这一点，将美国人口密度GIF与下面的静态图进行比较。两者显示了完全相同的信息。然而，GIF更清楚地显示了人口是如何趋向于均匀分布的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/47a96bb26a62da86b4c2ed0ba1be26c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8f8Klmi3iUOqjHvRKYmwLg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h2 id="6f41" class="mu ly it bd lz mv mw dn md mx my dp mh li mz na mj lm nb nc ml lq nd ne mn nf bi translated">一图多gif</h2><p id="6e02" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">如果您想比较多个国家多年的人口分布情况，该怎么办？在一张图上绘制多个gif可以更容易地比较图表。</p><p id="5249" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，创建必要的框架。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="cc21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，创建一个具有多个轴的图形。在适当的轴上绘制上面创建的框架。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nk nl l"/></div></figure><p id="774c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是成品:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/faaf99d11b1608a253db8404d0108781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0EsxmiWpKPeD4Sn4SZev8A.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者。</p></figure><p id="2f12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上图并排绘制了三幅gif图，以说明阿富汗、印度和美国人口分布的差异。选择这三个国家是因为它们有不同的经济和生活水平。</p><p id="571b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于高生育率和低存活率，阿富汗的人口分布偏向年轻人。印度的分布逐渐变得更加均匀。美国的图表显示了代表婴儿潮一代的聚类，但总体而言，趋向于均匀分布。</p><h1 id="6de8" class="lx ly it bd lz ma mb mc md me mf mg mh jz mi ka mj kc mk kd ml kf mm kg mn mo bi translated">结论</h1><p id="25ad" class="pw-post-body-paragraph kz la it lb b lc mp ju le lf mq jx lh li mr lk ll lm ms lo lp lq mt ls lt lu im bi translated">感谢您阅读我的文章。我希望这篇文章能启发你考虑使用gif来整合数据和说明趋势。如果你喜欢我的内容，<em class="lv">请考虑关注我</em>。此外，欢迎所有反馈。我总是渴望学习新的或更好的做事方法。请随时留下您的评论或联系我katyhagerty19@gmail.com。</p><p id="f03c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢我的写作，请考虑关注我。你也可以通过订阅Medium来支持我和其他作家。通过订阅我下面的推荐链接，我收到了部分费用。不过，<strong class="lb iu"> <em class="lv">没有额外的费用给你</em> </strong>。谢谢你。</p><div class="np nq gp gr nr ns"><a href="https://medium.com/@katyhagerty19/membership" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">加入我的介绍链接媒体-凯蒂哈格蒂</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ks ns"/></div></div></a></div></div></div>    
</body>
</html>