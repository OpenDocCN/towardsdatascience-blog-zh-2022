<html>
<head>
<title>Spotify Data Science Interview Question Walkthrough</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Spotify数据科学面试问题演练</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/spotify-data-science-interview-question-walkthrough-2d50bc45abb9#2022-04-04">https://towardsdatascience.com/spotify-data-science-interview-question-walkthrough-2d50bc45abb9#2022-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="47c6" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">Spotify在2020年《财富》杂志评选的未来50强中排名第十，它为雄心勃勃的数据科学家提供了一系列多样化的工作选择</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/4016d066d7f3cf11086b86029e082971.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_hSDUPesHstLGRtIiAIPg.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者在<a class="ae kw" href="https://canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>上创建的图片</p></figure><p id="5a97" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在Spotify的网站上快速搜索一下，就会看到对希望探索数据科学不同领域的数据科学家来说很有吸引力的选择:营销、用户研究、产品洞察等。在今天的文章中，我们将探讨以下来自最近Spotify数据科学采访的采访问题。</p><h1 id="1340" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">Spotify数据科学面试问题</h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi ml"><img src="../Images/da101569a3e155bb9dda730f6a3e5a40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G2lHEoWM-6jDG-GHmO0_Sw.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9744-artist-of-the-decade?python=&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><p id="2930" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">问题链接:<a class="ae kw" href="https://platform.stratascratch.com/coding/9744-artist-of-the-decade?python=&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">https://platform . stratascratch . com/coding/9744-十年最佳艺人</a></p><p id="7976" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在StrataScratch，请跟随我们，与Frederik Müller一起了解如何首先接近Spotify数据科学面试问题，然后再解决这个问题。请注意，自录制之日起，此面试问题已被修改。方法仍然是一样的，但输出占过去20年的历史，而不是10年。</p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="mm mn l"/></div></figure><h1 id="30db" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">Spotify数据科学面试问题中使用的技巧</h1><p id="3475" class="pw-post-body-paragraph kx ky iq kz b la mo jr lc ld mp ju lf lg mq li lj lk mr lm ln lo ms lq lr ls ij bi translated">在解决这个问题的方法中，将使用以下技巧:</p><ul class=""><li id="c60c" class="mt mu iq kz b la lb ld le lg mv lk mw lo mx ls my mz na nb bi translated">算术运算</li><li id="5ca3" class="mt mu iq kz b la nc ld nd lg ne lk nf lo ng ls my mz na nb bi translated">COUNT() /分组依据</li><li id="d62a" class="mt mu iq kz b la nc ld nd lg ne lk nf lo ng ls my mz na nb bi translated">内置日期函数</li></ul><h1 id="4f5e" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">方法</h1><p id="9cff" class="pw-post-body-paragraph kx ky iq kz b la mo jr lc ld mp ju lf lg mq li lj lk mr lm ln lo ms lq lr ls ij bi translated">任何面试数据科学面试问题的第一种方法都包括几个初始步骤:</p><ol class=""><li id="9a90" class="mt mu iq kz b la lb ld le lg mv lk mw lo mx ls nh mz na nb bi translated">收集和审查提供的所有数据</li><li id="4d41" class="mt mu iq kz b la nc ld nd lg ne lk nf lo ng ls nh mz na nb bi translated">记录预期产出，以及</li><li id="4e9c" class="mt mu iq kz b la nc ld nd lg ne lk nf lo ng ls nh mz na nb bi translated">澄清解决方案中是否存在任何必须解决的独特性或挑战</li></ol><p id="da0c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个问题的数据全部呈现在一个表格里:billboard_top_100_year_end。此表列出了所有进入billboard top 100的歌曲，以及年份、艺术家姓名、组合名称和歌曲排名。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/6a56fce2908ecfaa9852d94c6d049ec3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*NNVSh-l9hXKwr9PKTp1-4w.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9744-artist-of-the-decade?python=&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><p id="5470" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们的预期输出是艺术家名字的列表，以及他们在过去20年中出现在billboard top 100图表中的总次数。列表应该按照出现的次数从高到低排序。在提供的数据集中，已经存在一列艺术家姓名，我们将使用它作为第一个返回的列。因为一个艺术家除了个人事业之外还可能是多个团体的一部分，所以我们的查询选择artist列而不是group_name列。查询返回的第二列是每个艺术家在列表中出现的次数。这将需要使用COUNT()函数。这是我们将用来构建查询的基础知识。</p><h2 id="7e45" class="nj lu iq bd lv nk nl dn lz nm nn dp md lg no np mf lk nq nr mh lo ns nt mj nu bi translated">构建查询</h2><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/8328587a5131712a1a69200372f40fb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*89yfss9865VlXvBnrRyArg.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者在<a class="ae kw" href="https://canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>上创建的图像</p></figure><p id="826f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="nv">在下面构建查询时，通过运行提供的代码来跟踪每个步骤，看看查询是如何发展的。</em></p><p id="04a6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们首先找到表中的所有艺术家，并返回每个艺术家出现的总次数。摘要还告诉我们按出现频率对结果进行排序，所以让我们按第2列排序，这是COUNT(*)的结果:</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="9585" class="nj lu iq nx b gy ob oc l od oe">SELECT artist,<br/>       COUNT(*) as count_20yrs<br/>FROM billboard_top_100_year_end<br/>GROUP BY artist<br/>ORDER BY 2 DESC</span></pre><p id="1e5b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">由于这个Spotify数据科学面试问题只要求过去20年*的结果，因此添加了一个WHERE子句来过滤结果。此时，目标是测试准确性——稍后将对查询进行细化。</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="2c97" class="nj lu iq nx b gy ob oc l od oe">SELECT artist,<br/>       COUNT(*) AS count_20yrs<br/>FROM billboard_top_100_year_end<br/>WHERE YEAR &gt;= 2002<br/>GROUP BY artist<br/>ORDER BY 2 DESC</span></pre><p id="c65f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="nv">*请注意，示例中的年份取决于本文的发布日期。</em></p><p id="1f31" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">以下是当前存在的查询结果:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/0e36b1975287950b0dade50acf105551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*XSYivLyb-9Erb7DV3F-E1w.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9744-artist-of-the-decade?python=&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><h2 id="77c5" class="nj lu iq bd lv nk nl dn lz nm nn dp md lg no np mf lk nq nr mh lo ns nt mj nu bi translated">细化查询</h2><p id="0ef3" class="pw-post-body-paragraph kx ky iq kz b la mo jr lc ld mp ju lf lg mq li lj lk mr lm ln lo ms lq lr ls ij bi translated">既然查询已经有了准确的解决方案，那么是时候改进WHERE子句以获得更好的适用性了。编写有效查询的目标是确保代码是“经得起未来考验的”，也就是说，随着时间的推移，查询应该像预期的那样工作。我们的输出应该只包括billboard过去20年的历史数据，所以我们将在查询中使用DATE_PART()和CURRENT_DATE来隔离当前年份:</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="281c" class="nj lu iq nx b gy ob oc l od oe">DATE_PART(‘YEAR’, CURRENT_DATE)</span></pre><p id="909d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">要查找过去20年的结果，我们使用—运算符从当前年份中减去年份列中的值，并且仅在结果&lt; = 20时显示该行。最后，最佳实践包括尽可能指定列名，而不是星号(*)[所有列]。虽然COUNT(*)在这种情况下有效，因为表中的所有行都是唯一的，但指定artist列有助于可读性和处理时间:</p><pre class="kh ki kj kk gt nw nx ny nz aw oa bi"><span id="612e" class="nj lu iq nx b gy ob oc l od oe">SELECT artist,<br/>       COUNT(artist) AS count_20yrs<br/>FROM billboard_top_100_year_end<br/>WHERE DATE_PART('year', CURRENT_DATE) - YEAR &lt;= 20<br/>GROUP BY artist<br/>ORDER BY COUNT(artist) DESC</span></pre><p id="7803" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">正如我们在下面所看到的，这里的输出与前面未经提炼的代码相同，尽管这种修改确保了结果将保持准确的久而久之。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/f84b490c52f9d391af62f9b7dac31866.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*iMsduISY8GG1aTMNYbe23w.png"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9744-artist-of-the-decade?python=&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><h2 id="663b" class="nj lu iq bd lv nk nl dn lz nm nn dp md lg no np mf lk nq nr mh lo ns nt mj nu bi translated">结论</h2><p id="afd7" class="pw-post-body-paragraph kx ky iq kz b la mo jr lc ld mp ju lf lg mq li lj lk mr lm ln lo ms lq lr ls ij bi translated">通过本文和相关视频，我们已经完成了评估Spotify数据科学采访问题的步骤、提供的数据、对这些数据的假设，并完成了解决方案。问题解决后，我们回顾了解决方案，并为了将来的可读性而改进了查询。我们使用COUNT()查找所有艺术家的计数，使用DATE_PART()从CURRENT_DATE中分离出year值，使用减法(-)和比较(&lt;=) operators to produce the final result. Check out our post “<a class="ae kw" href="https://www.stratascratch.com/blog/40-data-science-interview-questions-from-top-companies/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> <em class="nv">顶级公司的数据科学面试问题</em> </a>)来练习其他顶级公司的更多此类问题。</p></div><div class="ab cl of og hu oh" role="separator"><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok ol"/><span class="oi bw bk oj ok"/></div><div class="ij ik il im in"><p id="4b2a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="nv">原载于</em><a class="ae kw" href="https://www.stratascratch.com/blog/spotify-data-science-interview-question-walkthrough/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"><em class="nv">https://www.stratascratch.com</em></a><em class="nv">。</em></p></div></div>    
</body>
</html>