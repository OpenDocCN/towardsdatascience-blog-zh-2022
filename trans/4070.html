<html>
<head>
<title>Run a new Jupyter Notebook in an already existing virtual environment</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在现有的虚拟环境中运行新的Jupyter笔记本电脑</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/run-a-new-jupyter-notebook-in-an-already-existing-virtual-environment-7490b3dd5ab6#2022-09-09">https://towardsdatascience.com/run-a-new-jupyter-notebook-in-an-already-existing-virtual-environment-7490b3dd5ab6#2022-09-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3f39" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">解决无法从默认的Jupyter笔记本安装中访问虚拟环境模块的问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/674dff1552084ee04500cc913c8307aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8kPTg5Sq2v1SaYzG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/es/@scottwebb?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯科特·韦伯</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="e77e" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">问题是</h1><p id="17dd" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">有几种不同的Python工作流，了解多种工作流可以让您在处理不同类型的问题时更加容易。对我来说，我喜欢使用VS代码和终端，但是当我需要一些快速的数据可视化时，没有什么比Jupyter笔记本更适合快速迭代了。</p><p id="1071" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">问题是，<strong class="lt iu">你如何从现有的虚拟环境中运行你的Jupyter笔记本？</strong>如果您运行命令<code class="fe ms mt mu mv b">jupyter notebook</code>，即使是在<a class="ae ky" href="https://medium.com/swlh/painless-easy-virtual-environment-setup-for-your-python-project-5aed144acebf" rel="noopener">虚拟环境</a>中，它也会使用默认内核启动Jupyter笔记本服务器，例如:<em class="mw"> Python 3 (ipykernel)。</em>如果您尝试导入您环境中安装的任何模块，您可能会得到<em class="mw">模块未找到</em>错误。</p><p id="d1d2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> Extra: </strong>在此阅读更多关于设置虚拟环境的信息:</p><div class="mx my gp gr mz na"><a href="https://medium.com/swlh/painless-easy-virtual-environment-setup-for-your-python-project-5aed144acebf" rel="noopener follow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd iu gy z fp nf fr fs ng fu fw is bi translated">虚拟环境其实很简单……(如果你不把它们弄复杂的话)。</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">一个超级简单、轻量级的解决方案，可以快速高效地为您的Python项目设置可移植环境…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">medium.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ks na"/></div></div></a></div><p id="adab" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">经过一番疯狂的谷歌搜索，我终于找到了这个快速可靠的解决方案:</p><h1 id="80e2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">设置Jupyter笔记本</h1><ol class=""><li id="b278" class="np nq it lt b lu lv lx ly ma nr me ns mi nt mm nu nv nw nx bi translated">导航并激活您的虚拟环境<em class="mw">(如果您在这一步需要帮助，请参阅上面的文章)。</em></li><li id="d88e" class="np nq it lt b lu ny lx nz ma oa me ob mi oc mm nu nv nw nx bi translated">使用以下命令在您的虚拟环境中安装一个Jupyter内核:</li></ol><pre class="kj kk kl km gt od mv oe of aw og bi"><span id="9f8e" class="oh la it mv b gy oi oj l ok ol">ipython kernel install --user --name=venv</span></pre><p id="36c7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其中<code class="fe ms mt mu mv b">--user</code>将安装限制在本地用户，而<code class="fe ms mt mu mv b">--name</code>在步骤1中被设置为环境名。</p><p id="733a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3.接下来，用恰当命名的命令打开您的笔记本:</p><p id="6ea1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe ms mt mu mv b">jupyter notebook</code></p><p id="74bd" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4.查看笔记本的右上角，看看哪个内核正在运行。它可能会以默认内核启动。点击菜单栏中的<em class="mw">内核</em>，导航至<em class="mw">更改内核</em>。然后，从下拉列表中选择您在上一步中提供的环境名称。</p><p id="34e3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">重述:<em class="mw"> </em> </strong>从菜单中选择<em class="mw">内核→更改内核→您的内核名称</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/6ed2df4924dfc415e9c6decfaa367541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t9q-yiqcTRPS5xVk0k7qaQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将内核更改为您在上面的示例中设置的内核。在这里，选择“venv”将允许访问安装在该环境中的所有模块。</p></figure><h1 id="49c5" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">提示和技巧</h1><ol class=""><li id="f50d" class="np nq it lt b lu lv lx ly ma nr me ns mi nt mm nu nv nw nx bi translated">如果您想查看已经设置的可用内核，请键入以下命令:</li></ol><p id="b544" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe ms mt mu mv b">jupyter kernelspec list</code></p><p id="0ad5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2.要删除以前安装的内核，请使用:</p><p id="4546" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><code class="fe ms mt mu mv b">jupyter kernelspec uninstall venv</code></p><p id="9271" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其中"<em class="mw"> venv" </em>是您的环境的名称。</p><h1 id="b2d1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">关闭</h1><p id="603e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">应该可以了！现在，当您在笔记本(即<code class="fe ms mt mu mv b">import pandas as pd</code>)中运行导入语句时，您将可以访问您环境中的所有模块。现在，您已经了解在虚拟环境中运行Jupyter笔记本电脑需要什么了。</p><p id="ed32" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">注意:</strong>在这个用例中，我没有安装Anaconda。如果您安装了Anaconda，有一个有用的GUI可以帮助您管理环境设置，有些人可能更喜欢这种方法。</p></div><div class="ab cl on oo hx op" role="separator"><span class="oq bw bk or os ot"/><span class="oq bw bk or os ot"/><span class="oq bw bk or os"/></div><div class="im in io ip iq"><p id="314c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">写这篇文章是为了在你多次遇到这个问题时，作为一个快速的书签参考。</p></div></div>    
</body>
</html>