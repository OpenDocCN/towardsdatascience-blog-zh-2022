<html>
<head>
<title>Generating Color Palettes in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在R中生成调色板</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/generating-color-palettes-in-r-64394117a662#2022-02-26">https://towardsdatascience.com/generating-color-palettes-in-r-64394117a662#2022-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ece1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">从图像生成调色板的R包列表</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/475c2fe60c5838d28b92c3552773d49f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nsflPeJkTFtMvt2H"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安德鲁·雷德利在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class="kz la gp gr lb lc"><a href="https://abhinav-malasi.medium.com/membership" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">加入我的介绍链接媒体-阿比纳夫马拉斯</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">abhinav-malasi.medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq ks lc"/></div></div></a></div><p id="afcf" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在过去的几个月里，我一直在尝试生成艺术，但我的大部分艺术作品都以灰色为结尾。我从来没有办法让我的作品看起来像你在网上看到的其他艺术家的作品一样漂亮。</p><p id="fb38" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">所以，我开始从网上使用调色板提取工具。这让我思考，我在R本身有这些选项吗？因为从在线编辑器中复制十六进制代码是非常无聊的。我搜索并找到了一些R包，它们有能力从图像中提取调色板，并对结果进行充分的控制。</p><p id="4afc" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了展示包的功能，我将使用来自<code class="fe mn mo mp mq b">imgpalr</code>包的图像作为参考。为了保持一致，调色板的大小固定为10。要复制你的作品，别忘了播种。我们开始吧。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><h1 id="20e9" class="my mz it bd na nb nc nd ne nf ng nh ni jz nj ka nk kc nl kd nm kf nn kg no np bi translated">帕莱特</h1><p id="226d" class="pw-post-body-paragraph lr ls it lt b lu nq ju lw lx nr jx lz ma ns mc md me nt mg mh mi nu mk ml mm im bi translated">作者:安德烈亚·西里洛</p><p id="318c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">一个简单而强大的工具，从图像中提取颜色并创建调色板。颜色提取器使用k-means算法。</p><p id="d7ec" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这个包使用<code class="fe mn mo mp mq b">create_palette()</code>来创建调色板。开始工作的基本参数是提供文件路径、调色板的大小以及将变量的类型设置为分类。通过提供亮度和饱和度的临界值参数，可以进行进一步的微调。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn nw nx ny nz oa paragraph-image"><img src="../Images/f28e011bb5715519334ad7071bcdf0ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*k72naroX1r3dvV_pW6VrSg.png"/></figure><figure class="nv kn ob nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/d4bf4e6396a28fa61dd39b0293f9c159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1148/format:webp/1*OW-bfYXsPXe423N3r6zT0Q.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk oc di od oe translated">提取的调色板(L)，提取的调色板用于使用ggplot (R)绘图。(图片由作者提供)</p></figure></div><p id="f1ce" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">上述调色板的变体通过将参数<code class="fe mn mo mp mq b">filter_on_low_brightness</code>和<code class="fe mn mo mp mq b">filter_on_saturation</code>的值设置为<code class="fe mn mo mp mq b">FALSE</code>来实现。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn of nx ny nz oa paragraph-image"><img src="../Images/29dd996e32bf1e8cab308e9789a68c1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:700/format:webp/1*-Gvi_MhrxXro5LdtPLO_uQ.png"/></figure><figure class="nv kn og nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/2db1533f4af54f455d97a427180fe783.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*OP8MSr9h9IuprLjLKu69qg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk oc di od oe translated">提取的变体调色板(L)，用于使用ggplot (R)绘图的变体提取调色板。(图片由作者提供)</p></figure></div><p id="d125" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">甚至连上帝都认可这个方案。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh oi l"/></div></figure><h1 id="a1b8" class="my mz it bd na nb oj nd ne nf ok nh ni jz ol ka nk kc om kd nm kf on kg no np bi translated">imgpalr</h1><p id="58d3" class="pw-post-body-paragraph lr ls it lt b lu nq ju lw lx nr jx lz ma ns mc md me nt mg mh mi nu mk ml mm im bi translated">作者:马修·莱昂纳维茨</p><p id="0a1b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Imgpalr还使用k-means算法来创建调色板。调色板生成器的<code class="fe mn mo mp mq b">image_pal()</code>功能可以更广泛地控制从图像创建调色板。基本参数包括文件路径和要识别的颜色数量。通过设置参数的范围，如<code class="fe mn mo mp mq b">saturation</code>、<code class="fe mn mo mp mq b">brightness</code>和<code class="fe mn mo mp mq b">bw</code>(用于黑白像素)，可以调整生成的调色板。参数<code class="fe mn mo mp mq b">type</code>有助于定义顺序的、定性的或发散的调色板。此外，可以使用<code class="fe mn mo mp mq b">seq_by</code>参数通过<code class="fe mn mo mp mq b">hsv</code>、<code class="fe mn mo mp mq b">svh</code>或<code class="fe mn mo mp mq b">vhs</code>对连续调色板进行排序。此外，还可以调整k-means集群大小参数。</p><p id="aab5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面的调色板是用默认值生成的。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/f8a14e68c75ab5a4d2fb1ae4d67c28af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*cqWllZrsAHklKZf5ZzJZtw.png"/></div></figure><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ba87b582da1533c4506ac85b810a5d87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*aJDHZ5HPrTJJbZkiML3sTQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk op di oq oe translated">用默认值生成调色板(L)，调色板用于绘图目的(R)。(图片由作者提供)</p></figure></div><p id="8541" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">只需改变截止饱和度范围，调色板可以调整如下所示。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/14a7becda9e68302e19eaeec4f0739e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*NHVw0Ac9a9B63LG6OYg_EQ.png"/></div></figure><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/cf929a4688412f51f4e9b7076aa35766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*-y3qLp5dDpaP7L7F84U1LA.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk op di oq oe translated">通过调整饱和度范围生成的调色板(L)，调色板用于绘图目的(R)。(图片由作者提供)</p></figure></div><h1 id="8ac9" class="my mz it bd na nb oj nd ne nf ok nh ni jz ol ka nk kc om kd nm kf on kg no np bi translated">colorfindr</h1><p id="9579" class="pw-post-body-paragraph lr ls it lt b lu nq ju lw lx nr jx lz ma ns mc md me nt mg mh mi nu mk ml mm im bi translated">作者:大卫·尊巴赫和玛拉·阿威克</p><p id="1939" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该包使用<code class="fe mn mo mp mq b">get_colors()</code>函数提取颜色。除了使用基于频率的参数<code class="fe mn mo mp mq b">top_n</code>定义调色板的大小。也可以通过使用<code class="fe mn mo mp mq b">min_share</code>参数定义颜色共享来创建调色板。<code class="fe mn mo mp mq b">min_share</code>参数的取值范围在0-1之间。它还包含使用参数<code class="fe mn mo mp mq b">exclude_col</code>和<code class="fe mn mo mp mq b">exclude_rad</code>从调色板中排除颜色的选项。<code class="fe mn mo mp mq b">make_palette()</code>函数创建调色板。它可以选择设置两种流行的聚类技术:k-means和中位数切割。可以使用参数<code class="fe mn mo mp mq b">clust_method</code>设置集群的选择。</p><p id="01bb" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用默认设置生成调色板，并将<code class="fe mn mo mp mq b">clust_method</code>参数设置为kmeans。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn or nx ny nz oa paragraph-image"><img src="../Images/3d12a577917558952267470eb6dca1e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*KdGmGk3HNVNbZdyEAsmhXA.jpeg"/></figure><figure class="nv kn os nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c5d6e62d766e5a21e9a14fbfbc951822.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*OiF4ZJTkSqvEOe2XQq_wTQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk ot di ou oe translated">使用k-means的调色板生成。(图片由作者提供)</p></figure></div><p id="f44c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这是当<code class="fe mn mo mp mq b">clust_method</code>的参数设置为中间切割时生成的调色板。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn ov nx ny nz oa paragraph-image"><img src="../Images/6b1c308de073d283f79630702690d2a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*hsopYs9T2ellX8FHHyoKRg.jpeg"/></figure><figure class="nv kn ow nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/69f982f8726dc47d4cae5f35d510befc.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*dbwkgiPtTZucgDl6aVxDOg.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk ox di oy oe translated">使用中间切割生成调色板。(图片由作者提供)</p></figure></div><h1 id="6780" class="my mz it bd na nb oj nd ne nf ok nh ni jz ol ka nk kc om kd nm kf on kg no np bi translated">边缘调色板</h1><p id="f38c" class="pw-post-body-paragraph lr ls it lt b lu nq ju lw lx nr jx lz ma ns mc md me nt mg mh mi nu mk ml mm im bi translated">作者:乔尔·卡尔森</p><p id="f018" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该软件包使用中值切割算法从图像中提取主色。<code class="fe mn mo mp mq b">image_palette()</code>函数用于提取颜色。像往常一样，参数是图像路径、调色板的颜色数量、<code class="fe mn mo mp mq b">choice</code>参数定义了如何选择颜色的函数。</p><p id="012d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该软件包具有其他与ggplot2集成的酷功能。函数<code class="fe mn mo mp mq b">scale_color_image()</code>和<code class="fe mn mo mp mq b">scale_fill_image()</code>可以直接使用ggplot2中生成的调色板。</p><p id="4561" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面的调色板是使用默认设置生成的，调色板的颜色数设置为10。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/96ffda53854175e52e326a2f5567f813.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*g6BzmS0xER8OnNBf2RQXag.png"/></div></figure><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/788d0d38e4fce8c60e84e70ab20408ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*PJri0MhTUdYip1kEkye7XQ.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk op di oq oe translated">使用默认设置生成的调色板。(图片由作者提供)</p></figure></div><p id="637c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面的图是使用scale_color_image()和scale_fill_image()函数生成调色板而生成的。这种变化是通过将<code class="fe mn mo mp mq b">choice</code>参数设置为min来实现的。</p><div class="kj kk kl km gt ab cb"><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/c6600e8b9148769e3bfd32b84724dec7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*In4YINdAnwLQI7AbXecgzQ.png"/></div></figure><figure class="nv kn oo nx ny nz oa paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/022c797859f5cd9e7978840af5320e77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*jd9u7b5x2l1oRhzuSoYEaw.jpeg"/></div><p class="ku kv gj gh gi kw kx bd b be z dk op di oq oe translated">通过将choice参数设置为min生成的调色板变量。(图片由作者提供)</p></figure></div><h1 id="40e6" class="my mz it bd na nb oj nd ne nf ok nh ni jz ol ka nk kc om kd nm kf on kg no np bi translated">魔法</h1><p id="1329" class="pw-post-body-paragraph lr ls it lt b lu nq ju lw lx nr jx lz ma ns mc md me nt mg mh mi nu mk ml mm im bi translated">作者:rOpenSci</p><p id="bad8" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Magick是r中用于图像处理的goto包。该包有一个名为<code class="fe mn mo mp mq b">image_quantize()</code>的函数，它为我们完成了这个任务，但不是一条简单的路径。Chisato的博客对此做了很好的解释。</p></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="b1af" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">使用的代码:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oz oi l"/></div></figure></div><div class="ab cl mr ms hx mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="im in io ip iq"><p id="d973" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">这些是我发现在r中生成个性化调色板非常有用的一些包，我希望这对你们有些人有帮助。</p><div class="kz la gp gr lb lc"><a href="https://abhinav-malasi.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">每当阿比纳夫·马拉斯发表文章时，就收到一封电子邮件。</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">每当阿比纳夫·马拉斯发表文章时，就收到一封电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">abhinav-malasi.medium.com</p></div></div><div class="ll l"><div class="pa l ln lo lp ll lq ks lc"/></div></div></a></div><h2 id="cc94" class="pb mz it bd na pc pd dn ne pe pf dp ni ma pg ph nk me pi pj nm mi pk pl no pm bi translated">参考</h2><ol class=""><li id="4178" class="pn po it lt b lu nq lx nr ma pp me pq mi pr mm ps pt pu pv bi translated"><a class="ae ky" href="https://github.com/AndreaCirilloAC/paletter" rel="noopener ugc nofollow" target="_blank">https://github.com/AndreaCirilloAC/paletter</a></li></ol><p id="9a6e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">2.<a class="ae ky" href="https://github.com/leonawicz/imgpalr" rel="noopener ugc nofollow" target="_blank">https://github.com/leonawicz/imgpalr</a></p><p id="8b29" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">3.<a class="ae ky" href="https://github.com/zumbov2/colorfindr" rel="noopener ugc nofollow" target="_blank">https://github.com/zumbov2/colorfindr</a></p><p id="886b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">4.<a class="ae ky" href="https://cran.r-project.org/web/packages/magick/vignettes/intro.html" rel="noopener ugc nofollow" target="_blank">https://cran . r-project . org/web/packages/magick/vignettes/intro . html</a></p><p id="14e1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">5.<a class="ae ky" href="https://www.r-bloggers.com/2019/01/extracting-colours-from-your-images-with-image-quantization/" rel="noopener ugc nofollow" target="_blank">https://www . r-bloggers . com/2019/01/用图像量化从图像中提取颜色/ </a></p><p id="3414" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="pw">可以在</em> <a class="ae ky" href="https://www.linkedin.com/in/abhinav-malasi/" rel="noopener ugc nofollow" target="_blank"> <em class="pw"> LinkedIn </em> </a> <em class="pw">和</em><a class="ae ky" href="https://twitter.com/malasi_abhinav" rel="noopener ugc nofollow" target="_blank"><em class="pw">Twitter</em></a><em class="pw">上与我连线，跟随我的数据科学和数据可视化之旅。或者您可以在Medium上关注我，了解有关R和ggplot2包的数据可视化的最新文章。</em></p></div></div>    
</body>
</html>