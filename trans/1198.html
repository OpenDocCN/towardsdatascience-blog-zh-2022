<html>
<head>
<title>You Don’t Need Sample Data, You Need Python Faker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">不需要样本数据，需要 Python Faker</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/you-dont-need-sample-data-you-need-python-faker-fa87c2a119a9#2022-03-28">https://towardsdatascience.com/you-dont-need-sample-data-you-need-python-faker-fa87c2a119a9#2022-03-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4be8a0714a2c584caade4d0bcdabf92e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aWICDrTkrBkx5mWQtb7lRw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2014555" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/anncapictures-1564471/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2014555" rel="noopener ugc nofollow" target="_blank"> anncapictures </a></p></figure><div class=""/><div class=""><h2 id="df1b" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">一个可扩展的 Python 库，它生成假数据来“填充”你的项目</h2></div><p id="d3fb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python 有一个内置模块“random”，允许我们随机生成多种类型的数据，比如数字和字符串。但是，它不能生成任何“有意义”的数据，如人名。有时，当我们需要生成一些虚拟数据以方便演示或实验时，将人名命名为“Christopher Tao”会比“Llisdfkjwe Asdfsdf”好得多:)</p><p id="d999" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一个常见的解决方案可能是从开源数据集中下载一些样本数据。然而，如果我们对数据的分布或虚拟数据的特定模式没有任何偏好，那么最好和最简单的解决方案就是生成假数据。</p><p id="7cd7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我将介绍这样一个 Python 第三方库——Faker。它可以生成各种类型的假数据，而不仅仅是姓名。现在我们应该开始了。</p><h1 id="22f2" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">1.基础</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e39158f139d0e74dd9fc5ebc8189c709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f7vje0HC8Qz-cxqrTrD54g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=167089" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/sarajuggernaut-28237/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=167089" rel="noopener ugc nofollow" target="_blank">sarajughernaut</a></p></figure><p id="dce2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，我们需要使用<code class="fe mq mr ms mt b">pip</code>安装库，如下所示。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="ade3" class="my lv jj mt b gy mz na l nb nc">pip install Faker</span></pre><p id="3a66" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，让我们从一些基本的使用模式开始。在生成任何假数据之前，我们需要如下实例化 Faker 的对象。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="631a" class="my lv jj mt b gy mz na l nb nc">from faker import Faker<br/>fake = Faker()</span></pre><p id="243b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一旦我们有了“假”实例，一切都很简单。比如生成一个人的名字，我们就用它的<code class="fe mq mr ms mt b">name()</code>方法。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="e8f1" class="my lv jj mt b gy mz na l nb nc">fake.name()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/fd558a12e107f87c00760d31d62b9820.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*Sc3TWI8UZ4_k-FGWcUzHAw.png"/></div></figure><p id="4ec8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要生成一个地址，我们可以使用它的<code class="fe mq mr ms mt b">address()</code>方法。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="ab7f" class="my lv jj mt b gy mz na l nb nc">fake.address()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ne"><img src="../Images/4d457993a6ce18866b9a5a1ec1833111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MY7SHtATkVF4BDMTLn8dWQ.png"/></div></div></figure><p id="471c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们也可以使用 Faker 来生成一些文本。这没有任何意义，但至少看起来像真实的句子。这个阶段不要期望太高，这里没有机器学习模型这样的魔法。一切都是基于随机性。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="881d" class="my lv jj mt b gy mz na l nb nc">fake.text()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/674cdf125a5b6f83b4753e762ce182bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IFNEfaFEKlLvxsMfIP0J7g.png"/></div></div></figure><p id="c97b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在 Faker 库术语中，上述每种类型的“生成器”都被称为“提供者”。供应商太多了，我无法一一列举。然而，当您继续阅读时，可以在本文的其余部分找到一些新的提供者。如果您想获得它们的完整列表，文档总是您的好朋友。</p><div class="is it gp gr iu ng"><a href="https://faker.readthedocs.io/en/stable/" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd jk gy z fp nl fr fs nm fu fw ji bi translated">欢迎来到 Faker 的文档！- Faker 13.3.3 文件</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">Faker 是一个为你生成假数据的 Python 包。无论您是否需要引导数据库，创建…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">faker.readthedocs.io</p></div></div></div></a></div><h1 id="c307" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">2.批量生成</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/25b8ac3d7600224ecdf853f12e2f18a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2EsY01cx3lrp6O0m4JiwKA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/pixel2013-2364555/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3099605" rel="noopener ugc nofollow" target="_blank"> S .赫尔曼&amp; F .里克特</a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3099605" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</p></figure><p id="6106" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们每次只能生成一个假数据的话，用处不会很大。因此，了解我们可以批量生成假数据是很重要的。</p><h2 id="dfc7" class="my lv jj bd lw np nq dn ma nr ns dp me lh nt nu mg ll nv nw mi lp nx ny mk nz bi translated">2.1 使用 For 循环</h2><p id="3d9c" class="pw-post-body-paragraph ky kz jj la b lb oa kk ld le ob kn lg lh oc lj lk ll od ln lo lp oe lr ls lt im bi translated">假设我们想要生成一些虚假的用户资料。每个配置文件应该包含用户的名字/姓氏，家庭住址，职位和他们工作的公司。最简单的方法是将所有内容放入一个 for 循环，如下所示。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="89fa" class="my lv jj mt b gy mz na l nb nc">for _ in range(3):<br/>    print('Name:', fake.name())<br/>    print('Address:', fake.street_address())<br/>    print('Job:', fake.job())<br/>    print('Company:', fake.company())<br/>    print()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/c938d1bc0aa61f0ae93e9bbcdf1be991.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFniiDJYrXoHiamQQtxp6A.png"/></div></div></figure><p id="1d42" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以看出，虽然我们只是重复调用这些方法，但配置文件是不同的。Faker 的内部机制是基于随机性的。因此，我们每次生成的假数据也是随机的。</p><h2 id="011a" class="my lv jj bd lw np nq dn ma nr ns dp me lh nt nu mg ll nv nw mi lp nx ny mk nz bi translated">2.2 使用内置提供程序</h2><p id="3a48" class="pw-post-body-paragraph ky kz jj la b lb oa kk ld le ob kn lg lh oc lj lk ll od ln lo lp oe lr ls lt im bi translated">Fake 不仅能够每次生成一种类型的数据。以用户配置文件为例，我们实际上不必单独生成每个字段，因为 Faker 有能力生成假的配置文件。就调用它的<code class="fe mq mr ms mt b">fake.profile()</code>方法。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="0b18" class="my lv jj mt b gy mz na l nb nc">import pprint</span><span id="f91e" class="my lv jj mt b gy og na l nb nc">for _ in range(3):<br/>    pprint.pprint(fake.profile())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/e69d5aa67b40eed4c38db3ef0f245010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*463d5k6YCMfcZ0BGqv0y4A.png"/></div></div></figure><h2 id="5ca9" class="my lv jj bd lw np nq dn ma nr ns dp me lh nt nu mg ll nv nw mi lp nx ny mk nz bi translated">2.3 生成熊猫数据框架</h2><p id="9153" class="pw-post-body-paragraph ky kz jj la b lb oa kk ld le ob kn lg lh oc lj lk ll od ln lo lp oe lr ls lt im bi translated">使用像<code class="fe mq mr ms mt b">profile()</code>这样的高级伪提供者的好处在于，它为我们生成字典。这意味着我们可以将它与熊猫等其他工具无缝集成。</p><p id="8ddc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们想在熊猫数据框架中生成用户配置文件。Faker 的设计让它变得非常容易。从字面上看，只有一行代码。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="d2a1" class="my lv jj mt b gy mz na l nb nc">import pandas as pd</span><span id="e1b4" class="my lv jj mt b gy og na l nb nc">pd.DataFrame([fake.profile() for _ in range(10)])</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/679ccade546f40c626ae3ac099fac270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fi161TnmJ9_6hj8PG1Yeyw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">点击图像放大</p></figure><h2 id="63a6" class="my lv jj bd lw np nq dn ma nr ns dp me lh nt nu mg ll nv nw mi lp nx ny mk nz bi translated"><em class="oj">再贴一张有部分栏目的截图，以防上面的完整截图在你的设备上不太可读</em></h2><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/9910b5570a37440c7dad0257d93768e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D4t2y9XeH7l3xdgkd4GABw.png"/></div></div></figure><h1 id="8354" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">3.扩展提供程序</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/e70f86bd11cc001443889c1bb91351aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WBUVEZndFhM0-7ZvYS54Zw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3149305" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/anaterate-2348028/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3149305" rel="noopener ugc nofollow" target="_blank">沃尔夫冈·埃克特</a></p></figure><p id="40b4" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Faker 有许多内置的提供程序，可以在大多数时候满足我们的要求。这些可以在官方文档中获得。</p><p id="ff6d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，如果事实证明我们找不到我们需要的提供商呢？不要担心，Faker 已经开放了它的“协议”,以便社区可以贡献更多的提供商。在 Faker，他们称这些为“扩展提供商”。这是目前为止他们的名单。</p><div class="is it gp gr iu ng"><a href="https://faker.readthedocs.io/en/stable/communityproviders.html" rel="noopener  ugc nofollow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd jk gy z fp nl fr fs nm fu fw ji bi translated">社区提供商- Faker 13.3.3 文档</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">这里有一个由社区编写的提供者列表:如果你想将你自己的提供者添加到这个列表中，请提交一个…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">faker.readthedocs.io</p></div></div></div></a></div><p id="e16e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将选择这辆车作为展示的例子。Faker 无法生成车辆品牌、型号等，但已经有一个扩展提供商可以提供帮助。</p><p id="bc31" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，根据文档，我们需要首先安装扩展的提供程序。也可以用<code class="fe mq mr ms mt b">pip</code>安装。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="ee67" class="my lv jj mt b gy mz na l nb nc">pip install faker_vehicle</span></pre><p id="b16d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，我们需要向 faker 实例注册这个扩展提供者。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="b3a9" class="my lv jj mt b gy mz na l nb nc">from faker_vehicle import VehicleProvider</span><span id="d38e" class="my lv jj mt b gy og na l nb nc">fake.add_provider(VehicleProvider)</span></pre><p id="bbd5" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">完成后，我们现在就可以开始使用它了。生成汽车制造商的简单示例。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="365f" class="my lv jj mt b gy mz na l nb nc">fake.vehicle_make()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/06e8b83637394fadef3380f0b30754f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*0erFDWMh1x9YtRp9AA4jQA.png"/></div></figure><p id="0579" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这个扩展提供程序也有一些高级方法。例如，我们可以使用方法<code class="fe mq mr ms mt b">fake.vehicle_year_make_model()</code>生成汽车的轮廓。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="dc88" class="my lv jj mt b gy mz na l nb nc">for _ in range(5):<br/>    print(fake.vehicle_year_make_model())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi om"><img src="../Images/0bdf897568fee0df556565138017560f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*-QznX2I1cqblkh3iTVFcCw.png"/></div></figure><p id="ed24" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">还注意到品牌和型号可以匹配。非常感谢这个扩展提供者的作者。</p><h1 id="3f3a" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">4.定制的 Lorem</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/f1a7e2a6cc7409e2d66c30711b26c4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7P_jkeEifsVTHVsgd5E1fw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4013402" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/blende12-201217/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4013402" rel="noopener ugc nofollow" target="_blank">格哈德 G. </a></p></figure><p id="f1b1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以如下使用 Faker 生成一个句子。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="918d" class="my lv jj mt b gy mz na l nb nc">fake.sentence()</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/629dfe1cf35d7f1002f74607add66485.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BEFcfTQuUODsB2bgUuqXsw.png"/></div></div></figure><p id="5ae2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，如果我们希望句子是从我们的“字典”中生成的呢？换句话说，我们希望使用有限的单词作为我们将要生成的所有随机句子的库。</p><p id="0532" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">一些造假者支持定制，<code class="fe mq mr ms mt b">sentence()</code>方法就是其中之一。我们可以传入一个单词列表，这样所有的句子都将在预定义的单词库中生成。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="ad91" class="my lv jj mt b gy mz na l nb nc">my_words = [<br/>    'only', 'these', 'words', 'are',<br/>    'allowed', 'to', 'be', 'used'<br/>]</span><span id="c8e1" class="my lv jj mt b gy og na l nb nc">for _ in range(5):<br/>    print(fake.sentence(ext_word_list=my_words))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/bd2da9b98c74e3f0cddc4b940ed3f875.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8mgajOF6frIBuuh6HSpD3Q.png"/></div></div></figure><h1 id="a26b" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">5.独特的价值观</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/1bf218996120199efe75a5c41e4c77a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEYiOP2q8EPbZG_GebUVfg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1155808" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="18a0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过了解 Fake 的机制是从后台的现有池中随机生成假数据，您可能会担心，如果我们为足够的卷生成一种类型的假数据，它可能会生成重复数据。</p><p id="b456" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">答案是肯定的。如果我们使用不带任何注释的方法，就有可能生成重复的数据。让我们做一个简单的实验，生成 500 个名字。这里我们生成名而不是全名是为了更容易产生问题。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="aeab" class="my lv jj mt b gy mz na l nb nc">names = [fake.first_name() for _ in range(500)]<br/>print('Unique sentences:', len(set(names)))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/cc7ada5d87fdc80f2d867a5af4f52918.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fieTLkts9VlmbtDYu5dL9w.png"/></div></div></figure><p id="9b9b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以看到，在我们生成的 500 个名称中，只有 244 个名称是唯一的。</p><p id="047b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Faker 提供了这个问题的解决方案。也就是说，在调用方法之前调用<code class="fe mq mr ms mt b">unique</code>属性。例如，我们应该使用<code class="fe mq mr ms mt b">fake.unique.first_name()</code>，而不是使用<code class="fe mq mr ms mt b">fake.first_name()</code>。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="fabe" class="my lv jj mt b gy mz na l nb nc">names = [fake.unique.first_name() for _ in range(500)]<br/>print('Unique sentences:', len(set(names)))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/3d3c786efc23b5565aadd788fe289591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uJTo_fHuOPxbVmTduCoRew.png"/></div></div></figure><p id="75e1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这一次，我们让所有 500 个名字都变得独一无二。然而，如果你和我一样好奇，你可能会问这样一个问题:如果我生成了更多的名字呢？让我们测试 2000 个名字。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="d456" class="my lv jj mt b gy mz na l nb nc">names = [fake.unique.first_name() for _ in range(2000)]<br/>print('Unique sentences:', len(set(names)))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/d0566ba1f59673b11239d13040dae548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mhb06mBlhhpUyq6dFNT08A.png"/></div></div></figure><p id="9002" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">很明显，名字池在 1000 个名字之后就耗尽了。因此，Faker 也有其自身的局限性，但这是可以理解的，因为有意义的虚拟数据不可能是无限的。好的一面是，当它不能满足我们的要求时，它会抛出错误。</p><h1 id="4bf9" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">6.随机性中的确定性</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a6e098315a24a945f5eae6dc44e18206.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BpE77ksTGpxNYGTATFySrw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2016797" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/anncapictures-1564471/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2016797" rel="noopener ugc nofollow" target="_blank"> anncapictures </a></p></figure><p id="ddb9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们知道 Faker 会随机生成数据。这是否意味着我们可以复制一些演示？不，如果我们一开始就计划好，我们总是可以复制假数据的。那就是使用种子号。</p><p id="d497" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们实例化一个新的 faker 对象。我们可以如下指定它的种子号。种子数量可以是任何整数。我们就用 123 吧。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="3e0a" class="my lv jj mt b gy mz na l nb nc">fake = Faker()<br/>Faker.seed(123)</span></pre><p id="1cf9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，让我们生成 5 个名字。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="2e2d" class="my lv jj mt b gy mz na l nb nc">for _ in range(5):<br/>    print(fake.name())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/e16e0db47df30c7eaf17029dfe12e28f.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*CTJR8l5l8PonfgoL81O6dA.png"/></div></figure><p id="9a03" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">记住这些名字。现在，让我们在不分配种子号的情况下更新 faker 实例。然后，生成另外 5 个名字。</p><pre class="mm mn mo mp gt mu mt mv mw aw mx bi"><span id="d53b" class="my lv jj mt b gy mz na l nb nc">fake = Faker()</span><span id="0460" class="my lv jj mt b gy og na l nb nc">for _ in range(5):<br/>    print(fake.name())</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/37d0e8135e590dd88419a1f5bb6aebb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:852/format:webp/1*BI3P8V4PxHc6o7hVuaLPLQ.png"/></div></figure><p id="4688" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当然，它们会有所不同，因为它们是随机的。</p><p id="2048" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们下次用同样的 123 号种子再做一次。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/0ede6f278ff76d88f293398a3a71da7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:844/format:webp/1*pEGxe0TDutkilrUKtWBadw.png"/></div></figure><p id="7ea9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果您将这 5 个名称与我们第一次使用相同的种子号时进行比较，它们是相同的。</p><p id="5e18" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，如果要重现同样的假数据生成，用种子号就行了。</p><h1 id="4a04" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/c2552f2621416ae799f369f0a04f9fcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9UNC_Ft2TEGpKv4anUeaDA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2174258" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/jingsun-4581544/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2174258" rel="noopener ugc nofollow" target="_blank">孙静</a></p></figure><p id="84cf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在本文中，我介绍了 Faker 库，它是 Python 社区中令人惊叹的反重力库之一。它确实非常容易使用，而且会非常有用。当你只需要一些哑数据，并且不关心数据的分布时，可以考虑先用 Faker。</p><div class="is it gp gr iu ng"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="nh ab fo"><div class="ni ab nj cl cj nk"><h2 class="bd jk gy z fp nl fr fs nm fu fw ji bi translated">通过我的推荐链接加入灵媒-陶</h2><div class="nn l"><h3 class="bd b gy z fp nl fr fs nm fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="no l"><p class="bd b dl z fp nl fr fs nm fu fw dk translated">medium.com</p></div></div><div class="ov l"><div class="ow l ox oy oz ov pa ja ng"/></div></div></a></div><p id="2763" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入 Medium 会员来支持我和成千上万的其他作者！(点击上面的链接)</p></div></div>    
</body>
</html>