<html>
<head>
<title>Extracting GPS Data from Photos using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 从照片中提取 GPS 数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/extracting-gps-data-from-photos-using-python-e8be352acf15#2022-12-05">https://towardsdatascience.com/extracting-gps-data-from-photos-using-python-e8be352acf15#2022-12-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="122e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">提取元数据的非常简单和直接的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/68a98dd748cf4bcb49651488cefe137c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hRPtcJqSPd70UExE"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">罗伯特·佩纳洛萨在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4d46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如今智能手机拍摄的大多数照片都包含大量元数据，包括 GPS 数据。GPS 数据是指照片拍摄地的经纬度坐标。</p><p id="331c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们得到照片的 GPS 坐标时，我们甚至可以将它输入到<a class="ae ky" href="https://support.google.com/maps/answer/18539" rel="noopener ugc nofollow" target="_blank">谷歌地图</a>中，并看到确切的位置。只需在谷歌地图的搜索栏中输入<em class="lv">【经度】，【纬度】</em>，我们就能立刻看到位置。</p><p id="17c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们只是想查看单张照片的 GPS 坐标，那是非常容易的。坐标以及许多其他元数据都可以在图像本身的属性中找到。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi lw"><img src="../Images/b1e22e6e6fbf9b450fca6dfe702d681b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HiECYJoix6XhHHatwpR0Yw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Windows 中的图像属性|按作者分类的图像</p></figure><p id="b386" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，如果我们有数百张照片，并且我们需要提取 GPS 坐标，该怎么办？</p><h2 id="b461" class="lx ly it bd lz ma mb dn mc md me dp mf li mg mh mi lm mj mk ml lq mm mn mo mp bi translated">Python 解决方案</h2><p id="1f45" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">我们将使用 GPSPhoto 库，它可以很容易地通过 pip 安装。</p><p id="b6c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码将生成我们想要提取 GPS 坐标的照片列表。它将获取指定文件夹中所有以<em class="lv"> jpg </em>结尾的照片。</p><pre class="kj kk kl km gt mv mw mx bn my mz bi"><span id="0943" class="na ly it mw b be nb nc l nd ne">pip install GPSPhoto<br/>import os<br/><br/>os.chdir('C:\\Users\\my_personal_profile\\image_folder')<br/>image_list = os.listdir()<br/>image_list = [a for a in image_list if a.endswith('jpg')]<br/><br/>print(image_list)</span></pre><p id="3b4a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能还需要安装库的依赖项，例如<em class="lv"> exifread </em>和<em class="lv"> piexif，</em>也可以通过 pip 安装。</p><p id="e536" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们打印 image_list，我们将得到所有的列表。image_folder 文件夹中的 jpg 图像。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/7453e795069fb3e8305a6541f9d5af3e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-K-X6QQeoCLUp2kdFMaxXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">要分析的照片列表|作者提供的图片</p></figure><p id="87f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦我们验证了图像文件名的列表，我们就可以提取 GPS 坐标。</p><pre class="kj kk kl km gt mv mw mx bn my mz bi"><span id="b5c6" class="na ly it mw b be nb nc l nd ne">from GPSPhoto import gpsphoto<br/><br/>for a in image_list: <br/>  data = gpsphoto.getGPSData(os.getcwd() + f'\\{a}')<br/>  print(data)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/68f7d2953423b641636b29514e468235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_JsvRyz26d4TGgF049Da7A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">输出:GPS 坐标和其他元数据|作者图片</p></figure><h2 id="9880" class="lx ly it bd lz ma mb dn mc md me dp mf li mg mh mi lm mj mk ml lq mm mn mo mp bi translated">激动人心的使用案例</h2><p id="a874" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">在寻找拍摄地点时，我最近在手机上浏览旧照片，发现了这张美丽的照片。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/d69dfd82395d3d08332804dd1f089235.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xenizG0tnkoX5vxOITy8gg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">双溪布洛湿地保护区的一个豆荚里</p></figure><p id="d0c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我很想再去那里拍一张合适的照片。我知道这是双溪布洛湿地保护区的一只豆荚。然而，公园里有几个类似的豆荚，尽管型号略有不同，阳光效果也不同。为了识别它们，我在谷歌上搜索豆荚的名称，例如弹涂鱼豆荚、翠鸟豆荚、鹰角豆荚等，看看是否匹配。然而，我不能确定，因为在谷歌上找到的图片有时会被用户错误标记。</p><p id="e823" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不用去谷歌街景，一个一个地探索这些地方(在公园里很多时候有谷歌街景没有覆盖的区域)，这个解决方案非常有效。我刚刚从我在双溪布洛湿地保护区拍摄的许多照片中提取了 GPS 坐标，我能够得到准确的位置。这帮助我制定了一个好的摄影计划。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/d0a4404458e22d10628a36dcbca7b1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1CwQ3BRHB8OrTwIUaheSjg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">精确定位豆荚的确切位置:翠鸟豆荚——图片由作者提供</p></figure><h2 id="936a" class="lx ly it bd lz ma mb dn mc md me dp mf li mg mh mi lm mj mk ml lq mm mn mo mp bi translated">警告</h2><p id="699f" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">如果你担心你拍摄并上传到社交媒体或通过信息应用分享的照片会泄露你的位置，不要担心！并非所有照片都包含此类信息。我也检查了在谷歌搜索上找到的照片，脸书上朋友上传的照片，甚至我直接在 WhatsApp 上分享的照片。它们不包含这样的信息。如果您共享照片的原始文件，那么照片很可能包含 GPS 坐标。</p><h2 id="5748" class="lx ly it bd lz ma mb dn mc md me dp mf li mg mh mi lm mj mk ml lq mm mn mo mp bi translated">结论</h2><p id="0a2f" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">希望这篇文章能帮助你从照片中自动提取 GPS 坐标。如果您想从照片中提取其他元数据，可以使用其他库。但是，如果您只想提取 GPS 数据，这是目前最简单的方法。</p></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><p id="5cf4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">查看我的其他文章:</p><div class="nq nr gp gr ns nt"><a rel="noopener follow" target="_blank" href="/7-data-visualization-best-practices-everyone-must-know-b68ebe329b1e"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">每个人都必须知道的 7 个数据可视化最佳实践</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">以更有效的方式传达你的故事</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ks nt"/></div></div></a></div><div class="nq nr gp gr ns nt"><a href="https://medium.com/illumination/demings-14-management-principles-every-managers-should-know-60d37ce02ad9" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">每个管理者都应该知道的戴明的 14 条管理原则</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">改编自《日本质量革命背后的男人》</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">medium.com</p></div></div><div class="oc l"><div class="oi l oe of og oc oh ks nt"/></div></div></a></div></div></div>    
</body>
</html>