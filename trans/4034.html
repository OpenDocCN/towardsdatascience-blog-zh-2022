<html>
<head>
<title>9 Visualizations with Python to show Proportions or Percentages instead of a Pie chart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">9用Python可视化显示比例或百分比，而不是饼图</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/9-visualizations-to-show-proportions-or-percentages-instead-of-a-pie-chart-4e8d81617451#2022-09-08">https://towardsdatascience.com/9-visualizations-to-show-proportions-or-percentages-instead-of-a-pie-chart-4e8d81617451#2022-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7be0" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用Python创建替代饼状图的方法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b2612065eba1792d68eae0e97f1a0f48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j1r72nReb---thvY"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/ja/@elliethailand64?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Elle inlom </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3570" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">饼图是显示分类数据比例的典型图表。基本上，这是一个分成若干部分的圆形图形，用来显示数据占总数的比例。通过计算等于100%的总360度，面积可以用百分比表示。</p><p id="bfd0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该图表经常用于数据可视化，因为其概念易于创建，结果也易于理解。</p><p id="2a87" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，有一些有争议的问题。一些消息来源解释说，人类很难从图上的切片中测量数量(<a class="ae ky" href="https://scc.ms.unimelb.edu.au/resources/data-visualisation-and-exploration/no_pie-charts#:~:text=The%20quantities%20in%20each%20category,slices%20can%20be%20hard%20work." rel="noopener ugc nofollow" target="_blank">链接</a>)。而且信息会被扭曲，误导读者(<a class="ae ky" href="https://en.wikipedia.org/wiki/Misleading_graph#:~:text=Comparing%20pie%20charts%20of%20different,the%20sample%20size%20is%20small." rel="noopener ugc nofollow" target="_blank">链接</a>)。</p><p id="9e57" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">幸运的是，饼状图不是我们可以使用的唯一选择。有各种图形可以表示比例或百分比。本文将介绍九种替代方法，它们可以像饼图一样展示相同的数据维度。</p><div class="kj kk kl km gt ab cb"><figure class="lv kn lw lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/9a2f69c05dcc32684267fc5a2712c826.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*YU88F4NzBLWEdFFHUri4Uw.png"/></div></figure><figure class="lv kn mb lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/52a3485edde06df0aa46c4d238370c75.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*Z35vPDR0wVr9-yaZJ2X1dQ.png"/></div></figure><figure class="lv kn mc lx ly lz ma paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ab1a6129465ff2da8cb91804561441aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:638/format:webp/1*5ojI4PcfKA0Me4MCLoS6Vg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk md di me mf translated">本文中的一些可视化示例。图片由作者提供。</p></figure></div><h2 id="cc79" class="mg mh it bd mi mj mk dn ml mm mn dp mo li mp mq mr lm ms mt mu lq mv mw mx my bi translated">免责声明！！</h2><p id="0ca2" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">这篇文章的意图不是反对饼状图。每个图表都有它的优点和缺点。主要目的是指导一些图表，这些图表可以用与总数相比的比例或百分比来表示数据。</p><p id="d22a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请考虑到这些可视化并不完美；它们也有利弊。</p><p id="4417" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们开始吧。</p><h1 id="45cd" class="ne mh it bd mi nf ng nh ml ni nj nk mo jz nl ka mr kc nm kd mu kf nn kg mx no bi translated">检索数据</h1><p id="817e" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">从导入库开始</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="32cb" class="mg mh it nq b gy nu nv l nw nx">import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="8c07" class="mg mh it nq b gy ny nv l nw nx">%matplotlib inline</span></pre><p id="da7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了说明本文中提到的方法可以应用于现实世界的数据，我将使用维基百科上按煤炭产量列出的国家列表中的数据。本文列出了截至2020年煤炭产量超过500万吨的主权国家和地区。</p><p id="e9cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">来自维基百科的数据是根据<a class="ae ky" href="https://en.wikipedia.org/wiki/Wikipedia:Copyrights" rel="noopener ugc nofollow" target="_blank">知识共享署名-类似共享3.0未授权许可</a>的条款使用的。</p><p id="58de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我按照有用且实用的步骤从<a class="ae ky" href="https://medium.com/analytics-vidhya/web-scraping-a-wikipedia-table-into-a-dataframe-c52617e1f451" rel="noopener">网上下载数据，将维基百科的一个表格抓取到一个数据帧</a>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="a907" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载后，用<a class="ae ky" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>解析下载的数据</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/879cd4a0f103a6ce441cc88012fb0f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XHjB7sB_3kCojuTtl7VrCA.png"/></div></div></figure><p id="b7a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将选择一些2020年煤炭产量的欧洲国家。例如，选定的国家有俄罗斯、德国、波兰、捷克共和国、乌克兰、罗马尼亚、希腊和保加利亚。</p><p id="0f05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您想选择其他国家或更改年份，请随意修改下面的代码。</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="a1ea" class="mg mh it nq b gy nu nv l nw nx">list_country = ['Russia', 'Germany', 'Poland', 'Czech Republic',<br/>                'Ukraine', 'Romania', 'Greece', 'Bulgaria']</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/e7e96c562140c0cc09d190bf204054c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sTFDb_3ODVFKpZmQaPL8Vg.png"/></div></div></figure><p id="8ce8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熔化数据帧，并创建一个百分比列以备后用</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/a32c0ed1c739e6fba41852ba2cb074d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7O2o2fNTLKx-MxxQJm8H3A.png"/></div></div></figure><p id="398f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在继续之前，让我们绘制一个饼图，以便与本文后面获得的结果进行比较。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/deacf6d39241e3358db06e2a8a566376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RJqBt_LQVejPVfxJmgoUcw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">饼图显示了2020年煤炭产量超过500万吨的欧洲国家的比例。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure><h1 id="eb0f" class="ne mh it bd mi nf ng nh ml ni nj nk mo jz nl ka mr kc nm kd mu kf nn kg mx no bi translated">数据可视化</h1><p id="27c1" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">本文将介绍9种可视化方法来代替饼图。这些备选方案可分为两组:</p><p id="67f4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">圆形图形</strong></p><ul class=""><li id="c74a" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">哑铃图(又名杠铃图)</li><li id="77fb" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">泡泡图</li><li id="15f5" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">圆形包装</li><li id="abdc" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">交互式饼图</li><li id="f18d" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">交互式圆环图</li></ul><p id="4648" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">其他形式</strong></p><ul class=""><li id="cfd5" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">树形图</li><li id="a000" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">华夫饼图表</li><li id="b9ac" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">条形图</li><li id="cff7" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">堆积条形图</li></ul><p id="eb39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 1用哑铃图(又名杠铃图)比较每个类别</strong></p><p id="3dcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">哑铃图是比较两个数据点的图表。如前所述，比较饼图中的切片可能很困难。我们可以用哑铃图对每一类进行比较。</p><p id="c9a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">顾名思义，哑铃图由两个用一条直线统一的圆形图形组成。通常，Dumbell图表用于比较数据值。在本文中，我们将设置X轴范围从0到100 %,以显示煤炭产量的百分比。</p><p id="4db7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，我们可以比较国家或显示每个国家与其他国家相比的百分比。首先，我们将创建另一个数据框架来应用哑铃图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/8d307d757a0be5be655278a5e1d8bf14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*voLTIArnwUwO8h_q3-iwGw.png"/></div></div></figure><p id="a3b1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">画出2020年煤炭产量最高的两个国家</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/f0d20304c2163fe278ccf41808f4c701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7srxUfcqizzn1Wd6jlb1SA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哑铃图比较了所选数据集中2020年煤炭产量最高的两个欧洲国家。图片由作者提供。</p></figure><p id="f80d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">画出每个国家与其他国家相比的百分比</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/917a6e15493090a2c2f51158d8c1e83e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A5zPSM6lhuF5wgehkdMRPQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哑铃形图表显示了与所选数据集中其他国家的数据相比，每个欧洲国家的煤炭产量的百分比。图片由作者提供。</p></figure><p id="9450" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果看起来不错，但是数据点都是相等的。这可能不方便进行国与国之间的比较。我们可以通过根据百分比值改变圆形大小来改善结果。不同的尺寸将有助于比较不同类别的百分比。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/9d5c2a13aec2bdaa9d4443f27dedd3c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gAbGtCie1c_HUZuLmGuTpA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哑铃形图表显示了与所选数据集中其他国家的数据相比，每个欧洲国家的煤炭产量的百分比。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="48d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2使用带有气泡图的圆形区域</strong></p><p id="56c4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用气泡图中的多个圆，而不是饼图中的一个圆。基本上，气泡图是一个具有不同大小数据点的<a class="ae ky" href="https://en.wikipedia.org/wiki/Scatter_plot" rel="noopener ugc nofollow" target="_blank">散点图</a>。这是显示三维数据、X值、Y值和数据大小的理想绘图。</p><p id="f240" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用气泡图替代饼图的好处是，我们不必担心X和Y值。气泡可以按照我们想要的方式定位。例如，让我们水平绘制气泡。</p><p id="9a90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在绘制之前对值进行排序将使结果看起来有条理。</p><p id="9846" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">添加X和Y列</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="bffa" class="mg mh it nq b gy nu nv l nw nx">df_coal['Y'] = [1]*len(df_coal)<br/>list_x = list(range(0,len(df_coal)))<br/>df_coal['X'] = list_x<br/>df_coal</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/c576fd826e6fa6204eae2612c344689f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uFtI_-oQD-yniWlV7FstEA.png"/></div></div></figure><p id="b054" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制气泡图</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/c127da719cba75eff10fa6647b417f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j1URrmzuruYUOOQRBBQP1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">气泡图显示了2020年煤炭产量超过500万吨的欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure><p id="f537" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用气泡图的一个问题是绘图空间。绘制的圆越多，需要的面积就越大。</p></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="4412" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 3用圆形包装组织气泡</strong></p><p id="5bcc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">圆形包装由多个具有较少间隙和无重叠区域的圆形组成。当处理许多圆形图形时，这种技术有助于节省绘图空间。</p><p id="1f8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">圆形包装的一个缺点是很难区分大小相近的气泡。一个简单的解决方法是给每个圈标上它的信息。</p><p id="1c12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在绘图之前，我们需要计算每个圆的大小和位置。幸运的是，可以使用一个名为<a class="ae ky" href="https://pypi.org/project/circlify/" rel="noopener ugc nofollow" target="_blank"> circlify </a>的库来简化计算。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="9a52" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制圆形包装</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/0fe263a4f890d14c60f611fc5105ed5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s50RCsllM6jfv9I3vS8QZw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">圆形包装显示了2020年煤炭产量超过500万吨的欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="d503" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 4坚持用饼状图……没问题……我们来做个互动饼状图吧。</strong></p><p id="c388" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管饼状图有一些缺点，如前所述，我们不能否认它很容易理解。了解你的观众是必须的。如果你的读者不习惯复杂的图表，饼图仍然是传达信息的好选择。</p><p id="37c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以制作一个交互式饼图来改进一个典型的饼图。通过这样做，读者可以过滤和处理图表，以获得他们想要的数据。然而，有时，读者可能不知道这些功能。应该有说明或注释来告知如何使用它。</p><p id="305e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://plotly.com/python/pie-charts/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>是一个创建交互式图表的有用库。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/b55763cde0467b59ff6957d69b2704ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YJqzqA_JwFhVqCG4TdibrQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交互式饼图显示了2020年煤炭产量超过500万吨的每个欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="b659" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 5切掉中心，创建一个交互式圆环图</strong></p><p id="3d5b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">实际上，圆环图是一个中间空白的饼图。顺便说一下，一些消息来源解释说它比饼状图有一些优势，例如便于读者叙述<strong class="lb iu"> </strong>或者可以在中心添加更多信息(<a class="ae ky" href="https://moqups.com/templates/charts-graphs/pie-donut-chart/" rel="noopener ugc nofollow" target="_blank"> link1 </a>和<a class="ae ky" href="https://datavizcatalogue.com/methods/donut_chart.html" rel="noopener ugc nofollow" target="_blank"> link2 </a>)。</p><p id="6a90" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">交互式圆环图与交互式饼图有一些相同的优点和缺点。我们还可以用<a class="ae ky" href="https://plotly.com/python/pie-charts/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>创建一个交互式圆环图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/afba89afba0c46c14862b1e0aee8ca9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*P1CQrj0sn0n6sP9FXanmKw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">交互式圆环图显示了2020年煤炭产量超过500万吨的每个欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="d224" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 6使用带树形图的矩形区域</strong></p><p id="63ea" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理论上，树形图是显示分层数据的可视化方式。在一个大矩形内，使用多个矩形区域来比较比例。即使我们的数据没有层次，我们仍然可以应用该方法来显示比例贡献。</p><p id="358c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与饼图相同，总面积之和等于100%。</p><p id="4992" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">需要考虑的一件事是，如果价值观之间有太多的类别或差异，小区域可能很难与其他区域区分开来。</p><p id="94e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制一张树状图</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/cd51f2ed32542047393940f7457faa1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GN8yDpbmNeXrKlnb_qibnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Treemap显示了2020年煤炭产量超过500万吨的欧洲国家。与所选数据集中的其他国家/地区进行比较时的比例。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="3f16" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 7将小矩形与华夫饼图表结合起来</strong></p><p id="be9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用了一个饼图和圆环图；现在是时候做一个华夫图了。有了这个花里胡哨的名字，这个图形将多个大小相同的小矩形组合成一个大矩形图形。</p><p id="3a8b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">华夫格图通常用于显示任务的进度百分比。因此，我们可以应用这个概念来显示分类数据的百分比。</p><p id="0bd2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制一个华夫饼图表</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/b4d597fbe23247d6b1508136fa38be52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z3zF0XIcYgbnEEqy8YV0uA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">华夫格图显示了2020年煤炭产量超过500万吨的欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure><p id="79af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">尽管结果看起来不错，但可以注意到区分相近的颜色可能很困难。这可能是对许多分类数据应用华夫图的一个缺点。</p><p id="b1b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了解决这个问题，我们可以绘制每个类别的百分比，并将它们组合成一张照片拼贴画。请注意，下面代码的结果将被导出到您的计算机上，以便以后导入。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/a0163b6147f7237c758f8f7a1fdf5db5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/1*zIz-IRLAUjmjySmMIWxGtA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">绘制华夫饼图表的结果，该图表显示每个国家相对于所选数据集中其他国家的百分比。图片由作者提供。</p></figure><p id="07ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">定义一个函数来创建一个照片拼贴。我在下面找到了一段很棒的代码，用来组合来自Stack Overflow( <a class="ae ky" href="https://stackoverflow.com/questions/35438802/making-a-collage-in-pil" rel="noopener ugc nofollow" target="_blank"> link </a>)的情节。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="c2e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">应用该功能</p><pre class="kj kk kl km gt np nq nr ns aw nt bi"><span id="c6b8" class="mg mh it nq b gy nu nv l nw nx"># to create a fit photo collage: <br/># width = number of columns * figure width<br/># height = number of rows * figure height</span><span id="9157" class="mg mh it nq b gy ny nv l nw nx">get_collage(1, 7, 644, 123*7, keep_sname, 'collage_waffle.png')</span></pre><p id="dd62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/9dc9481f73c9312a5d2efe104ef03792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*OKyl4Yhk4lrFgM1NtijJ_w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">华夫格图显示了2020年煤炭产量超过500万吨的每个欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure><p id="690a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们可以比之前的结果更清楚地看到每个国家的百分比。照片拼贴也可以用作信息图。</p></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="26e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">第八回</strong> <strong class="lb iu">基本带条形图</strong></p><p id="ab68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个典型的图形是条形图，它是一个二维图形，在X轴或Y轴上有矩形条。这些条形用于通过比较高度或长度来分析数据值。与饼图相比，条形图需要更多的空间来处理大量的类别。</p><p id="1a44" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们将通过使用<a class="ae ky" href="https://plotly.com/python/bar-charts/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>来改进一个普通的条形图，当光标悬停在条形图上时显示信息。建议在绘图前对数据进行排序，以便于分析。</p><p id="ef91" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">创建交互式条形图的一个好处是，当光标悬停在每个条形图上时，带有小注释文本的类别更容易阅读。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/c027b7b01e6383ae65c0df876b165bb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ttui6V2OYrcJorfoHqoSxQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">条形图显示了2020年煤炭产量超过500万吨的每个欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="582b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 9使用堆叠条形图节省空间</strong></p><p id="f662" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">堆积条形图是一种显示单个数据点占总数的比例的条形图。根据这个概念，我们将应用一个堆积条形图来显示我们拥有的数据的比例。总面积等于100%。</p><p id="210a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它和条形图有同样的问题。如果有太多的类别或类别之间的差异，小区域可能很难阅读。创建交互式堆积条形图将有助于在光标悬停在该区域上时显示信息。</p><p id="1d0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">绘制堆积条形图</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nz oa l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/4b0386bfe5b44627524307dc96c614f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dOsWiQY3GhZ43Uf3ODuTfg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">堆积条形图显示了2020年煤炭产量超过500万吨的每个欧洲国家。与所选数据集中的其他国家/地区进行比较时的百分比。图片由作者提供。</p></figure><p id="1b56" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以注意到，在这种情况下，堆积条形图与条形图相比可以节省绘图区域。</p></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><h2 id="371e" class="mg mh it bd mi mj mk dn ml mm mn dp mo li mp mq mr lm ms mt mu lq mv mw mx my bi translated"><strong class="ak">总结</strong></h2><p id="08ba" class="pw-post-body-paragraph kz la it lb b lc mz ju le lf na jx lh li nb lk ll lm nc lo lp lq nd ls lt lu im bi translated">饼图是典型的数据可视化。它具有节省绘图空间、易于理解等优点。然而，没有什么是完美的。有一些缺点，如读者很难估计数量，信息可能会被扭曲。</p><p id="1896" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章展示了9种替代饼图的方法。请考虑到它们也各有利弊。</p><p id="8943" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我敢肯定，除了本文中提到的，还有更多图表可以显示比例或百分比。如果有什么建议，欢迎留言。</p><p id="5317" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，<strong class="lb iu">条形图</strong>是另一个和饼图一样常用的图表。顺便说一句，使用太多的条形图可能会导致单调的显示。如果你正在寻找可以代替条形图使用的想法，你可能会发现文章<a class="ae ky" rel="noopener" target="_blank" href="/9-visualizations-that-catch-more-attention-than-a-bar-chart-72d3aeb2e091"> 9可视化比条形图</a>更吸引人的注意。</p><p id="48d4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢阅读。</p></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="04e7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是您可能会感兴趣的关于数据可视化的其他文章:</p><ul class=""><li id="77aa" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">9个比条形图更引人注目的Python可视化(<a class="ae ky" rel="noopener" target="_blank" href="/9-visualizations-that-catch-more-attention-than-a-bar-chart-72d3aeb2e091">链接</a>)</li><li id="ebbc" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">用Python处理超长时间序列数据的6个可视化技巧(<a class="ae ky" rel="noopener" target="_blank" href="/6-visualization-tricks-to-handle-ultra-long-time-series-data-57dad97e0fc2">链接</a>)</li><li id="468a" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">8用Python处理多个时序数据的可视化(<a class="ae ky" rel="noopener" target="_blank" href="/8-visualizations-with-python-to-handle-multiple-time-series-data-19b5b2e66dd0">链接</a>)</li><li id="7d81" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">使用Python ( <a class="ae ky" href="https://medium.com/p/87e8f1bb5fd2/" rel="noopener">链接</a>)最大化聚类散点图</li></ul></div><div class="ab cl ou ov hx ow" role="separator"><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz pa"/><span class="ox bw bk oy oz"/></div><div class="im in io ip iq"><p id="f861" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">参考文献</strong></p><ul class=""><li id="527c" class="oe of it lb b lc ld lf lg li og lm oh lq oi lu oj ok ol om bi translated">维基媒体基金会。(2022年4月21日)。<em class="pk">煤炭生产国家列表</em>。维基百科。2022年9月3日检索，来自<a class="ae ky" href="https://en.wikipedia.org/wiki/List_of_countries_by_coal_production" rel="noopener ugc nofollow" target="_blank">https://en . Wikipedia . org/wiki/List _ of _ countries _ by _ coal _ production</a></li><li id="b8fb" class="oe of it lb b lc on lf oo li op lm oq lq or lu oj ok ol om bi translated">拉克霍迪亚，N. (2021年1月11日)。<em class="pk">将维基百科表格抓取成数据帧</em>。中等。2022年8月3日检索，来自<a class="ae ky" href="https://medium.com/analytics-vidhya/web-scraping-a-wikipedia-table-into-a-dataframe-c52617e1f451" rel="noopener">https://medium . com/analytics-vid hya/web-scraping-a-Wikipedia-table-into-a-data frame-c 52617 E1 f 451</a></li></ul></div></div>    
</body>
</html>