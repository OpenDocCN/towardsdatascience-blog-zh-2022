<html>
<head>
<title>How To Write NumPy Array Into CSV File</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将NumPy数组写入CSV文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/numpy-to-csv-53df45d3948e#2022-05-26">https://towardsdatascience.com/numpy-to-csv-53df45d3948e#2022-05-26</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="e1d2" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">展示了如何将NumPy数组转储到？csv文件</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/3369b952ed872b4fea425656cf31e513.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvuAdAS7HtW8jSvDQb_Wyg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">由<a class="ae kz" href="https://unsplash.com/@kellysikkema?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">凯利·西克玛</a>在<a class="ae kz" href="https://unsplash.com/s/photos/write?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h2 id="32e0" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="26a7" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在NumPy和Python中使用数组时，我们通常需要将它们转储到各种形式的输出文件中，包括逗号分隔值(CSV)。</p><p id="8be0" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在今天的简短教程中，我们将讨论将NumPy数组写入此类文件的几种不同方法。最后，我们将讨论一种将NumPy数组转储到文件中时通常应该避免的方法。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><p id="4638" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">首先，让我们创建一个示例numpy数组，我们将在这个简短的教程中引用它来演示一些概念。</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="4625" class="la lb iu nc b gz ng nh l ni nj">import numpy as np</span><span id="01ea" class="la lb iu nc b gz nk nh l ni nj"><br/>arr = <!-- -->np.asarray([ <br/>    [1, 150, 10.5], <br/>    [2, 220, 3.1], <br/>    [3, 121, 10.1],<br/>    [4, 300, 3.2], <br/>    [5, 541, 6.7], <br/>    [6, 321, 9.9],<br/>])</span><span id="447c" class="la lb iu nc b gz nk nh l ni nj">print(arr)<br/><strong class="nc iv"><em class="nl">array([[  1. , 150. ,  10.5],<br/>       [  2. , 220. ,   3.1],<br/>       [  3. , 121. ,  10.1], <br/>       [  4. , 300. ,   3.2],<br/>       [  5. , 541. ,   6.7],<br/>       [  6. , 321. ,   9.9]])</em></strong></span></pre></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="3446" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用<code class="fe nm nn no nc b">numpy.savetxt()</code>方法</h2><p id="6274" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">当我们需要将一个NumPy数组转储到一个输出文件中时，我们的第一个选择是使用<code class="fe nm nn no nc b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.savetxt.html" rel="noopener ugc nofollow" target="_blank">numpy.savetxt()</a></code>方法将一个数组保存到一个文本文件中。该方法允许用户指定分隔符，在我们的例子中应该是逗号:</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="2441" class="la lb iu nc b gz ng nh l ni nj">np.savetxt('output.csv', arr, delimiter=',')</span></pre><p id="3fc8" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">请注意，输出将使用科学符号，如下所示。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj np"><img src="../Images/4c3c1f395c67dce653b1497533032e16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1068/format:webp/1*FkgCZpzk79lSIkoolTDGtw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">示例输出—来源:作者</p></figure><p id="cb7b" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">如果你想避免使用科学符号，那么你可以指定一个合适的<code class="fe nm nn no nc b">fmt</code>。举个例子，</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="e2a8" class="la lb iu nc b gz ng nh l ni nj">np.savetxt('output.csv', arr, delimiter=',', fmt='%f')</span></pre><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nq"><img src="../Images/5d54a2b2e6e4a32c08d720337302af23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1132/format:webp/1*o441cZmGdnyk0vFvmMyZQg.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">没有科学符号的输出示例—来源:作者</p></figure></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="70a5" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用numpy.tofile()方法</h2><p id="6f87" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">第二个选项是<code class="fe nm nn no nc b"><a class="ae kz" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.tofile.html" rel="noopener ugc nofollow" target="_blank">numpy.ndarray.tofile()</a></code>方法，用于将数组以文本或二进制形式写入文件。同样，我们可以指定分隔符(<code class="fe nm nn no nc b">sep</code>和<code class="fe nm nn no nc b">format</code>):</p><pre class="kk kl km kn gu nb nc nd ne aw nf bi"><span id="dc4b" class="la lb iu nc b gz ng nh l ni nj">arr.tofile('output.csv', sep=',', format='%f')</span></pre></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="1ed3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">要避免什么</h2><p id="7bbb" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">另一种流行的(但不是很聪明的)方法是首先将NumPy数组转换成pandas数据帧，然后使用<code class="fe nm nn no nc b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.to_csv.html" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.to_csv()</a></code>方法将结果数据帧写入输出csv文件。</p><p id="5960" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">但是，请注意，这不是一个好的做法，因为它会毫无理由地消耗太多的内存——尤其是当您使用相当大的数组时。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="78f3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短教程中，我们展示了一些将NumPy数组写入CSV文件的不同方法。更具体地说，我们讨论了如何使用<code class="fe nm nn no nc b">numpy.savetxt()</code>和<code class="fe nm nn no nc b">numpy.tofile()</code>方法做到这一点。</p><p id="f4b0" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">最后，我们强调了避免让pandas参与到将NumPy数组转储到CSV文件的过程中的重要性，因为这在内存方面是非常昂贵的。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="nr ns gq gs nt nu"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><strong class="ly iv">相关文章你可能也喜欢</strong></p><div class="nr ns gq gs nt nu"><a rel="noopener follow" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">Python中的requirements.txt与setup.py</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">了解Python中requirements.txt、setup.py和setup.cfg在开发和分发时的用途…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="oj l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nu"><a rel="noopener follow" target="_blank" href="/how-to-merge-pandas-dataframes-221e49c41bec"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">如何合并熊猫数据帧</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">对熊猫数据帧执行左、右、内和反连接</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ok l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nu"><a rel="noopener follow" target="_blank" href="/euclidean-distance-numpy-1b2784e966fc"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">如何在NumPy中计算欧氏距离</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">展示如何在NumPy数组中计算欧几里得距离</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ol l of og oh od oi kt nu"/></div></div></a></div></div></div>    
</body>
</html>