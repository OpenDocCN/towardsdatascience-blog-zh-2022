<html>
<head>
<title>D3Blocks: The Python Library to Create Interactive and Standalone D3js Charts.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">D3Blocks:Python库，用于创建交互式和独立的D3js图表。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/d3blocks-the-python-library-to-create-interactive-and-standalone-d3js-charts-3dda98ce97d4#2022-09-22">https://towardsdatascience.com/d3blocks-the-python-library-to-create-interactive-and-standalone-d3js-charts-3dda98ce97d4#2022-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c53b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">创建交互式的、独立的、视觉上吸引人的图表，这些图表建立在d3 javascript (d3js)的图形之上，但是可以用Python进行配置。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9d4205303e34d7d948b6b9546adabca5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AiEdRKUJxkIWL5Hb0lkcSw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">D3Blocks中支持的前十个块。(图片由作者提供)。</p></figure><p id="870c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python已经成为分析和可视化数据的最流行的编程语言之一。可视化可能是项目成功的关键，因为它可以揭示数据中隐藏的见解，并提高理解。理解和解释数据的最好方法是让它具有交互性。尽管Python中提供了许多可视化软件包，但创建美观、独立、交互式的图表，并且在您自己的机器之外也能工作，仍然具有挑战性。在<a class="ae lu" rel="noopener" target="_blank" href="/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7">之前的博客</a>中，我已经展示了如何为<em class="lv">网络图</em>创建一个独立的交互式图表。<strong class="la iu"> <em class="lv">用D3Blocks我们超越了单一的图表</em></strong><strong class="la iu"><em class="lv">创造了一个框架</em> </strong>现在包含了<strong class="la iu"><em class="lv"/></strong><em class="lv"/><strong class="la iu"><em class="lv">漂亮的图表</em> </strong>。它是开源的，不需要安装除Python之外的任何东西来创建D3图表。输出是一个交互式图表，你只需要一个(互联网)浏览器；分享和发布因此变得超级容易。<strong class="la iu"> <em class="lv">在这篇博客中，我将介绍一下D3Blocks，并结合动手实例简单描述一下这10个Blocks。</em>T25】</strong></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="edb7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lv">如果你觉得这篇文章很有帮助，可以使用我的</em> <a class="ae lu" href="https://medium.com/@erdogant/membership" rel="noopener"> <em class="lv">推荐链接</em> </a> <em class="lv">继续无限制学习，并注册成为中级会员。另外，</em> <a class="ae lu" href="http://erdogant.medium.com" rel="noopener"> <em class="lv">关注我</em> </a> <em class="lv">保持我的最新内容！</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2bf7" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">何必用D3.js呢？</h1><p id="992d" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">近年来，Python社区开发了一系列令人印象深刻的可视化库，如<a class="ae lu" href="https://mode.com/blog/python-data-visualization-libraries/#matplotlib" rel="noopener ugc nofollow" target="_blank"> Matplotlib </a>、<a class="ae lu" href="https://mode.com/blog/python-data-visualization-libraries/#Seaborn" rel="noopener ugc nofollow" target="_blank"> Seaborn </a>、<a class="ae lu" href="https://mode.com/blog/python-data-visualization-libraries/#Bokeh" rel="noopener ugc nofollow" target="_blank"> Bokeh </a>、<a class="ae lu" href="https://mode.com/blog/python-data-visualization-libraries/#Plotly" rel="noopener ugc nofollow" target="_blank"> Plotly </a>、<a class="ae lu" href="https://mode.com/blog/python-data-visualization-libraries/#Folium" rel="noopener ugc nofollow" target="_blank">follow</a>等等。一些库也允许图形是交互式的，但是在这种情况下，它们仍然需要来自Python或其他web服务的服务来保持运行。d3的优势在于它的高性能、可深度定制的图表，并且它符合web标准。名称"<em class="lv"> D3 </em>"是<strong class="la iu"><em class="lv">D</em></strong><em class="lv">ATA-</em><strong class="la iu"><em class="lv">D</em></strong><em class="lv">riven</em><strong class="la iu"><em class="lv">D</em></strong><em class="lv">documents，</em>是一个用于生成动态、交互式数据可视化的Javascript库，它速度快、看起来漂亮，并且可以添加您所有的创意。此外，除了浏览器之外，您不需要任何其他技术来绘制图表。</p><blockquote class="na nb nc"><p id="2023" class="ky kz lv la b lb lc ju ld le lf jx lg nd li lj lk ne lm ln lo nf lq lr ls lt im bi translated">“D3帮助您使用HTML、SVG和CSS将数据变为现实。D3对web标准的重视使您可以获得现代浏览器的全部功能，而无需将自己束缚于专有框架，将强大的可视化组件和数据驱动的DOM操作方法结合起来。”——<a class="ae lu" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank">d3js.org</a></p></blockquote><p id="3aa9" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="lv"> D3 </em> </strong>也叫<strong class="la iu"> <em class="lv"> D3.js </em> </strong>或<strong class="la iu"> <em class="lv"> d3js。</em> </strong>我将这两个名字互换使用。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="f806" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">使用d3Blocks创建独立的D3图表非常简单。</h1><p id="4bf8" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">我刚刚提到了d3的优点，但也有缺点。首先，要将你的创意转化为图表，你需要熟悉SVG、HTML、CSS和Javascript。但是即使你这样做了，d3js图表也不容易概括不同的数据集。换句话说，d3js脚本通常是一个静态脚本，它被优化为显示一个特定数据集的结果。更改数据集需要更改各种参数，例如轴的最小值/最大值、列名，很可能还需要更改图表的方向和位置。</p><p id="2214" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用D3Blocks，我们通过将数据转换成适合下游d3js脚本的格式来克服这些挑战。此外，所有必需的参数，(列)命名、格式、定位、方向等。也是经过的。以这种方式，我们可以利用两个世界的优势；Python用于数据管理、预处理、分析、建模，d3js用于可视化。在<a class="ae lu" rel="noopener" target="_blank" href="/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7">之前的博客</a>中，我展示了如何将d3js与Python相结合，在D3Blocks中，我们超越了单一的图表。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="f39d" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">D3Blocks中的第一个blocks准备好了！</h1><p id="48f7" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">对于每个开发的区块(或图表)，都有一个Python部分和一个d3js部分。d3js部分以这样一种方式开发，它可以处理具有不同属性的不同数据集，但依赖于Python部分。输出是一个HTML文件，其中包含一组特定于图表的d3库。</p><blockquote class="ng"><p id="6b86" class="nh ni it bd nj nk nl nm nn no np lt dk translated">D3Blocks创建的每个图表都完全封装在一个HTML文件中，这使得共享和发布成为可能，除了浏览器之外，您不需要任何其他技术。</p></blockquote><p id="0c43" class="pw-post-body-paragraph ky kz it la b lb nq ju ld le nr jx lg lh ns lj lk ll nt ln lo lp nu lr ls lt im bi translated">前10个区块分为以下几类:</p><ul class=""><li id="1684" class="nv nw it la b lb lc le lf lh nx ll ny lp nz lt oa ob oc od bi translated"><strong class="la iu"> <em class="lv">关系图:</em> </strong> <em class="lv">网络(d3graph)，三键，弦，热图。</em></li><li id="7754" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><strong class="la iu"> <em class="lv">带时间元素的图表:</em> </strong> <em class="lv">时间序列，并移动气泡。</em></li><li id="1a31" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><strong class="la iu"> <em class="lv">用于成像的图表:</em> </strong> <em class="lv">图像滑块。</em></li><li id="e4e5" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><strong class="la iu"> <em class="lv">图表多样:</em> </strong> <em class="lv">散点、小提琴、粒子。</em></li></ul><p id="c706" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">尽管每个块都有自己的属性，但我们保持输入数据的一致性。这允许在没有数据管理的情况下在块之间切换。让我们通过一个小的动手示例来浏览每个模块。首先，你首先需要<em class="lv"> pip安装D3Blocks </em>库:</p><pre class="kj kk kl km gt oj ok ol om aw on bi"><span id="7a01" class="oo me it ok b gy op oq l or os">pip install d3blocks</span></pre></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="eb10" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">绘制关系的图表</h1><p id="b95f" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">当一个记录与另一个或多个记录相关联时，就描述了关系。在图论中描述了许多形式来存储这种关系，例如，邻接矩阵是对称的正方形矩阵，或者编码顶点-顶点对关系的<a class="ae lu" href="https://en.wikipedia.org/wiki/Incidence_matrix" rel="noopener ugc nofollow" target="_blank">关联矩阵</a>。无论矩阵的形式是什么，绘制关系图都有助于更好地理解数据。例如，它可以揭示出<strong class="la iu"> <em class="lv">演化模式</em> </strong>，其中节点被复制成两个或更多组，代表阶段。在这种情况下，用<strong class="la iu">和弦</strong>或<strong class="la iu">桑基</strong>图来表示关系是理想的。或者，也可以有<strong class="la iu"> <em class="lv">源到端</em> </strong>的模式，其中它从某个点开始，并以可能的中间步骤结束。在这种情况下，<strong class="la iu">网络图</strong>会很有用。另一方面,<strong class="la iu">热图图</strong>在交互数量很大并且网络等图形变成巨大的毛球时变得有用。对于所有这四个图表，输入数据保持一致，并且需要包含列<em class="lv">源、目标和权重</em>的数据框。在下面的四个例子中，我将使用公开可用的<a class="ae lu" href="https://observablehq.com/@d3/sankey" rel="noopener ugc nofollow" target="_blank"> <em class="lv">能量数据集</em></a><em class="lv">【1】</em>，其包含与列的68个关系；<em class="lv">来源，目标，</em>和<em class="lv">权重</em>。</p><h2 id="4943" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">网络图。</h2><p id="c637" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">有了<a class="ae lu" rel="noopener" target="_blank" href="/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7"><strong class="la iu"><em class="lv">D3 graph</em></strong></a><strong class="la iu"><em class="lv"/></strong>块，我们就可以用D3力定向图来绘制网络交互(更多细节可以在<a class="ae lu" rel="noopener" target="_blank" href="/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7">这里找到</a>【5】)。在<em class="lv">代码部分1 </em>中，我们加载<em class="lv">能量数据集</em><em class="lv">【1】</em>，然后使用d3graph块分析数据。节点根据Louvain聚类试探法进行着色，边的宽度基于权重。现在可以以交互方式探索网络(<em class="lv">图1) </em>，其中可以根据边的强度断开边(使用位于顶部的滑块)。这保持了最强连接节点的完整性。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码部分1。创建D3graph的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/ce651316d9cb1cf057f78bb99012227b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MuJdA_T0qMzvS_VQMP7gVA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图一。使用d3graph块的能源数据集的交互式网络图。在Louvain算法聚类方法中，节点被着色，边的大小基于输入的权重。可以使用顶部的滑块根据边权重断开网络。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="a4e4" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">桑基图。</h2><p id="a0cb" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">Sankey图是一个可视化的图，显示了从一组值到另一组值的流动。矩形框代表节点，箭头的宽度与流速成比例。当您想要显示多对多关系或通过一组阶段发现多条路径时，最好使用Sankeys。例如，流量如何从(起始)页面流向网站上的其他页面。为了进行演示，<em class="lv">能量数据集【1】</em>被用作<em class="lv">桑基块</em> ( <em class="lv">代码段2) </em>的输入，从而产生图2。作为开发<em class="lv"> Sankey </em>块的起点，d3js代码是从<a class="ae lu" href="https://observablehq.com/@d3/sankey" rel="noopener ugc nofollow" target="_blank"> Mike Bostock </a>派生出来的，然后被then化。关于使用<em class="lv"> D3Blocks </em>的Sankey图表用法的更多细节可以在<a class="ae lu" rel="noopener" target="_blank" href="/hands-on-guide-to-create-beautiful-sankey-charts-in-d3js-with-python-8ddab43edb43">本博客【8】</a>中找到。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码部分2。创建桑基图的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/7b5f9a747467e6c550c6b71b227b6415.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*U8ZiQR2W4qw5iE6Kbrychg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图二。使用默认参数的能量数据集的散点图。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="0fed" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">和弦图。</h2><p id="6f39" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">一个<em class="lv">弦图</em>表示几个实体或节点之间的流或连接。每个实体由圆形布局外部的片段表示。然后，在每个实体之间绘制圆弧。弧线的大小与流量的重要性成正比。为了进行演示，将<em class="lv">能量数据集[1] </em>用作<em class="lv">弦块</em> ( <em class="lv">代码段3) </em>的输入，从而产生图3。作为开发<em class="lv"> Chord </em>块的起点，d3js代码是从<a class="ae lu" href="https://observablehq.com/@d3/directed-chord-diagram" rel="noopener ugc nofollow" target="_blank"> Mike Bostock </a>派生出来的，然后被then化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第三部分。创建和弦图的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/496563cd16e8a509d915b9df7fdb8660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gq1LerOmEitQWD1lbJW_Wg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3。使用默认参数的能量数据集的弦图。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="ba6b" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">热图。</h2><p id="5ab7" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">利用来自<a class="ae lu" href="https://github.com/erdogant/d3heatmap" rel="noopener ugc nofollow" target="_blank"><strong class="la iu"><em class="lv">D3热图库</em> </strong> </a> <strong class="la iu"> <em class="lv"> </em> </strong>的<em class="lv">热图</em>，其从(邻接)矩阵创建热图。在<em class="lv">代码段4 </em>中，我们加载<em class="lv">能量数据集【1】</em>，将数据重新格式化为邻接矩阵，然后创建热图(<em class="lv">图4 </em>)。热图可以进行交互式聚类和分析。作为开发<em class="lv">热图</em>块的起点，d3js代码是从<a class="ae lu" href="https://bost.ocks.org/mike/" rel="noopener ugc nofollow" target="_blank">迈克·博斯托克</a>派生出来的，然后被then化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第4部分。创建热图的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/199735693efbc6506619a5189a7bd5ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oO-Hobc_2-WWukd8QqCgyA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4。使用默认参数的能源数据集的热图。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="9f9c" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">绘制时间序列数据的图表。</h1><p id="b65a" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">在时间序列数据中，必须有一个<em class="lv">日期时间</em>元素以及该时间点的<em class="lv">状态</em>。时间序列最直观的例子是<strong class="la iu"> <em class="lv">股票数据</em> </strong>，可以使用<strong class="la iu"> <em class="lv">时间序列</em> </strong> <em class="lv">块</em> <strong class="la iu"> <em class="lv">进行可视化。</em> </strong>可替换地，也可以有时间依赖性，其中一个动作跟随另一个动作(例如，像一个过程)。在这种情况下，<strong class="la iu"> <em class="lv">运动气泡图</em> </strong>有助于理解运动，以及在特定时间点是否出现集群。</p><h2 id="4fe4" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">时间序列。</h2><p id="f77c" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated"><em class="lv">时间序列</em>图表可用于日期-时间元素可用的情况，并且这些值直接相互跟随。使用<em class="lv">时间序列</em>块，您可以启用/禁用感兴趣的列，并执行刷屏和缩放以快速聚焦感兴趣的区域。显示了<em class="lv">代码第5节</em>中的一个示例，其中各种<a class="ae lu" href="https://www.kaggle.com/datasets/sumanthvrao/daily-climate-time-series-data" rel="noopener ugc nofollow" target="_blank">气候</a>变量被可视化(<em class="lv">图5) </em>。作为开发<em class="lv"> Timeseries </em>块的起点，d3js代码是从<a class="ae lu" href="https://bl.ocks.org/mbostock/34f08d5e11952a80609169b7917d4172" rel="noopener ugc nofollow" target="_blank"> Mike Bostock </a>派生出来的，然后被then化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第五部分。创建时间序列图的示例。这里我们导入气候数据。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/c7dfac9b7aec17d8dff6acb031faef56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aMB0kQcZcUrvA9BdfNtHVQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5。使用默认参数的时间序列图。右侧面板用于选择(取消选择)可用的气候变量，而底部面板用于刷牙和缩放。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h2 id="619b" class="oo me it bd mf ot ou dn mj ov ow dp mn lh ox oy mp ll oz pa mr lp pb pc mt pd bi translated">移动的气泡。</h2><p id="365f" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated"><em class="lv">移动气泡</em>图提供了对行动如何及时跟进的洞察。它可以帮助理解实体的移动，以及集群是否在特定的时间点和状态发生。虽然可视化方法不是最有效的，但它对力导向和碰撞节点非常有效。静态图表来自一篇名为“<em class="lv">美国人的一天生活</em>”的帖子，然后进行了大量修改，以确保图表可以概括不同类型的数据集、州数、方向、格式、颜色等。我们创建了一个函数来生成具有各种状态和随机时间点的随机数据集。在<em class="lv">代码段6 </em>中显示了创建<em class="lv">移动气泡</em>图表的演示，这导致了在<em class="lv">图6 </em>中描述的图表。更多信息和例子见<a class="ae lu" rel="noopener" target="_blank" href="/how-to-create-storytelling-moving-bubbles-charts-in-d3js-with-python-b31cec7b8226"> movingbubbles博客</a> [ <a class="ae lu" rel="noopener" target="_blank" href="/how-to-create-storytelling-moving-bubbles-charts-in-d3js-with-python-b31cec7b8226"> 7 </a>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码部分6。创建移动气泡图的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl pl"><img src="../Images/ca4f4c517d1019e28310c765eebe3db8.png" data-original-src="https://miro.medium.com/v2/1*Rs0Z-hZw0xKBdk7CkX64uw.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6。使用默认参数移动气泡图。左侧面板可用于选择时间移动的速度，而右侧面板中的实体在特定时间点从一种状态移动到另一种状态。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="8455" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">图像滑块。</h1><p id="5f27" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">当您想要比较两幅图像时，<em class="lv"> ImageSlider </em>非常有用。这在 之前有<strong class="la iu"> <em class="lv">和</em> </strong>状态之后有<strong class="la iu"> <em class="lv">的情况下最有用。出于演示的目的，我使用了来自<a class="ae lu" href="https://unsplash.com/s/photos/data?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的<a class="ae lu" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Markus Spiske </a>的照片。现在可以很容易地比较两幅图像(<em class="lv">代码段7，图7 </em>)。javascript代码是从<a class="ae lu" href="https://github.com/JohnEdChristensen/WebbCompare/" rel="noopener ugc nofollow" target="_blank"> JohnEdChristensen </a>中派生出来的，然后被then化以方便在图像之间进行比较。</em></strong></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第7部分。创建ImageSlider图形的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/c3d48aedb56c86ceea1751d280f7023b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pqnS1M-AQdN2CxMXF14U1g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7。带有两个输入图像的ImageSlider。将中间的橙色球向左(前)或向右(后)移动后，会显示该图像。(照片由来自<a class="ae lu" href="https://unsplash.com/s/photos/data?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>的<a class="ae lu" href="https://unsplash.com/@markusspiske?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Markus Spiske </a>拍摄)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="e4ed" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">散点图。</h1><p id="8b60" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated"><strong class="la iu">散点图</strong>可能是绘制(x，y)坐标最著名的图形。这样的基本图表是有用的，特别是具有刷和缩放功能。散点图可以按样本着色，并用于检测样本(组)之间的关系。输入是x和y坐标，但也可以设置各种其他参数，如类标签、大小、(边缘)颜色、工具提示信息等。散点图也可以在两组或三组坐标之间转换。这在比较不同的映射集时会很有帮助，正如在<a class="ae lu" href="https://erdogant.medium.com/the-similarity-between-t-sne-umap-pca-and-other-mappings-c6453b80f303" rel="noopener">之前的文章</a> [2]中所描述的。为了进行演示，我将使用来自癌症基因组图谱项目(TCGA) [3]的癌症数据集，该数据集提供了34种不同癌组织的多种类型的分子数据。对分子数据进行处理[4]，并得出t-SNE坐标以及代表患者间相似性的主要成分。使用散点图，我们可以可视化两组坐标(t-SNE和PC <em class="lv"> ) </em>，并更深入地分析结果(<em class="lv">代码第8部分，图8) </em>。关于散点图使用<em class="lv"> D3Blocks </em>的更多细节可以在<a class="ae lu" rel="noopener" target="_blank" href="/get-the-most-out-of-your-scatterplot-by-making-it-interactive-using-d3js-19939e3b046">本博客【9】</a>中找到。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第8部分。创建散点图的示例。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/74cb4cabfc3a079f00800f2a7e6d7119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*a9FjDNhMkUutPqWlMIo1NA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8。散点图。缩放是通过选择一个区域。双击将返回主屏幕。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="ec90" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">小提琴情节。</h1><p id="ea2c" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated"><strong class="la iu"> Violin </strong>图可视化了一个或几个组的数值变量的分布。它是箱线图的一种替代方法，可以洞察大型数据集，箱线图可以<a class="ae lu" href="https://www.data-to-viz.com/caveat/boxplot.html" rel="noopener ugc nofollow" target="_blank">隐藏一部分信息</a>。使用这个模块，我们可以为一个或几个组配置图表，并更改图表中的各种元素，例如颜色、工具提示和框大小。为了进行演示，将<em class="lv">癌症数据集【3】</em>用作<em class="lv">小提琴模块</em> ( <em class="lv">代码段9) </em>的输入，从而得到图9。原始代码是从<a class="ae lu" href="https://d3-graph-gallery.com/graph/violin_jitter.html" rel="noopener ugc nofollow" target="_blank"> D3.js图库</a>中派生出来的，并大量扩展了新功能。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码第9部分。创造小提琴情节的例子。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/c0d568412f61d9df6217e69d64ae550d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ZItjb15A8xR8MHlJwv01sw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图9。小提琴情节。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="be66" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">粒子。</h1><p id="af66" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">有了<strong class="la iu">粒子块，</strong>我们可以把任何单词变成交互式粒子图。鼠标移动或触摸单词会让粒子反弹，然后回到原来的位置。可以将各种属性更改为图表的行为，如反弹、粒子大小和颜色。创建粒子图的示例如<em class="lv">代码段10 </em>所示，结果如<em class="lv">图10 </em>所示。最初的javascript是从伊恩·约翰逊那里派生出来的，然后被then化了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码段10。创建粒子图。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/2fcd01684cad104513040d95bd5655ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*5vEZFo38x4m6HKyaXy3Apg.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10。粒子。(图片由作者提供)</p></figure></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="398f" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">做一个贡献者，建立你自己的区块！</h1><p id="04f7" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">现在创建了第一组十个块，一些被分叉和(大量)调整，而其他的从头开始创建。但是有<a class="ae lu" href="https://observablehq.com/@d3/gallery" rel="noopener ugc nofollow" target="_blank"> <strong class="la iu"> <em class="lv">几百个工作中的d3图表</em></strong></a><strong class="la iu"><em class="lv"/></strong><em class="lv">【1，6】</em><strong class="la iu"><em class="lv"/></strong>在交互和交互过程中与performant增量更新也是有用的，比如<a class="ae lu" href="https://observablehq.com/collection/@d3/d3-drag" rel="noopener ugc nofollow" target="_blank">拖动</a>、<a class="ae lu" href="https://observablehq.com/collection/@d3/d3-brush" rel="noopener ugc nofollow" target="_blank">刷</a>、<a class="ae lu" href="https://observablehq.com/collection/@d3/d3-zoom" rel="noopener ugc nofollow" target="_blank">缩放</a>。图表可用于多种目的，如<em class="lv">定量分析、可视化层次结构和创建网络图、</em>以及<em class="lv">条形图、线图、散点图、辐射图、地理投影、</em>和各种其他交互式可视化，用于探索性解释。我们构建了作为开源软件的D3Blocks，以鼓励您构建自己的block，并加入我们对新Blocks的进一步开发。除了构建全新的块，您还可以决定向现有的块添加新的功能！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="63f4" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">最后的话。</h1><p id="0d1b" class="pw-post-body-paragraph ky kz it la b lb mv ju ld le mw jx lg lh mx lj lk ll my ln lo lp mz lr ls lt im bi translated">D3blocks库包含10个交互式的、独立的、视觉上吸引人的图表，这些图表可以使用Python和d3js中的后端进行配置。d3blocks的输出是将每个图表完全封装到一个HTML文件中，这使得在网站上共享或发布成为可能，除了浏览器之外，您不需要任何其他技术。</p><p id="0fe8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lv">别做梦了，把你的创意加到一块吧！</em></p><p id="65a2" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> <em class="lv">干杯，E. </em> </strong></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="c2b5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lv">如果你觉得这篇文章很有帮助，可以使用我的</em> <a class="ae lu" href="https://medium.com/@erdogant/membership" rel="noopener"> <em class="lv">推荐链接</em> </a> <em class="lv">继续无限制学习，并注册成为中级会员。另外，</em> <a class="ae lu" href="http://erdogant.medium.com" rel="noopener"> <em class="lv">关注我</em> </a> <em class="lv">关注我的最新内容！</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4704" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">软件</h1><ul class=""><li id="a9a7" class="nv nw it la b lb mv le mw lh pq ll pr lp ps lt oa ob oc od bi translated"><a class="ae lu" href="https://github.com/d3blocks/d3blocks" rel="noopener ugc nofollow" target="_blank"> D3Blocks Github </a></li><li id="ca4b" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><a class="ae lu" href="https://d3blocks.github.io/d3blocks/" rel="noopener ugc nofollow" target="_blank"> D3Blocks文档页面</a></li></ul><h1 id="43db" class="md me it bd mf mg pt mi mj mk pu mm mn jz pv ka mp kc pw kd mr kf px kg mt mu bi translated">我们连线吧！</h1><ul class=""><li id="ff1c" class="nv nw it la b lb mv le mw lh pq ll pr lp ps lt oa ob oc od bi translated"><a class="ae lu" href="https://www.linkedin.com/in/erdogant/" rel="noopener ugc nofollow" target="_blank">我们在LinkedIn上连线</a></li><li id="73b8" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><a class="ae lu" href="https://github.com/erdogant" rel="noopener ugc nofollow" target="_blank">在Github上关注我</a></li><li id="2cf0" class="nv nw it la b lb oe le of lh og ll oh lp oi lt oa ob oc od bi translated"><a class="ae lu" href="https://erdogant.medium.com/" rel="noopener">跟随我在媒体上</a></li></ul><h1 id="2aef" class="md me it bd mf mg pt mi mj mk pu mm mn jz pv ka mp kc pw kd mr kf px kg mt mu bi translated">参考</h1><ol class=""><li id="f68c" class="nv nw it la b lb mv le mw lh pq ll pr lp ps lt py ob oc od bi translated">【observablehq.com】，<a class="ae lu" href="https://observablehq.com/@d3/sankey" rel="noopener ugc nofollow" target="_blank"> <em class="lv">能源数据集</em> </a>，2019 (ISC许可)</li><li id="424e" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/the-similarity-between-t-sne-umap-pca-and-other-mappings-c6453b80f303"><em class="lv">t-SNE、UMAP、PCA和其他映射之间的定量比较，</em> </a> Medium，2022</li><li id="68c7" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated">癌症基因组图谱研究，n .等人<em class="lv">癌症基因组图谱泛癌分析项目</em>。<em class="lv"> Nat Genet </em> <strong class="la iu"> 45 </strong>，1113–1120，10.1038/ng.2764 (2013)。</li><li id="1dd1" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" href="https://www.nature.com/articles/srep24949" rel="noopener ugc nofollow" target="_blank"><em class="lv">2D图中的泛癌亚分类显示了由分子特征的特定组合驱动的亚结构</em> </a>，科学报告自然，2016</li><li id="254c" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7"> <em class="lv">用Python创作精美单机互动D3图表，</em> </a>中号，2022</li><li id="de83" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" href="https://bl.ocks.org/" rel="noopener ugc nofollow" target="_blank"> Bl.ocks </a></li><li id="71f6" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/how-to-create-storytelling-moving-bubbles-charts-in-d3js-with-python-b31cec7b8226"> <em class="lv">如何用Python制作d3js中的讲故事移动气泡图</em> </a>，中，2022年9月</li><li id="dce6" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated">使用Python在d3js中创建漂亮的Sankey图表的实践指南。中等，2022年10月</li><li id="9ed6" class="nv nw it la b lb oe le of lh og ll oh lp oi lt py ob oc od bi translated"><a class="ae lu" rel="noopener" target="_blank" href="/get-the-most-out-of-your-scatterplot-by-making-it-interactive-using-d3js-19939e3b046"> <em class="lv">使用D3js和Python </em> </a>、Medium <em class="lv">、</em>2022年11月，使散点图具有交互性，从而充分利用散点图</li></ol></div></div>    
</body>
</html>