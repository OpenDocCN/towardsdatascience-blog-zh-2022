<html>
<head>
<title>How to set up Google CLI command aliases in Windows PowerShell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Windows PowerShell中设置Google CLI命令别名</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-set-up-google-cli-command-aliases-in-windows-powershell-8dac18e3b57#2022-05-07">https://towardsdatascience.com/how-to-set-up-google-cli-command-aliases-in-windows-powershell-8dac18e3b57#2022-05-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f8fb" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">保存常用命令可以节省大量的时间和麻烦</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/38a82b0a894d81acde1f78f8ca299e61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fO8gQGV9HVi7153Jvby2Xg.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">狐狸和狮子。温塞斯拉斯·霍拉德。维基共享资源。</p></figure><h1 id="3642" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">背景</h1><p id="7c91" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">谷歌的<a class="ae kv" href="https://cloud.google.com/sdk/auth_success" rel="noopener ugc nofollow" target="_blank">云软件开发工具包(Cloud SDK) </a>是在本地管理云项目的必要工具。在Linux或Mac中，SDK命令被终端自动继承，使得在您的<em class="mk">中设置命令别名变得容易。巴沙尔和其他地方</em></p><p id="bfe4" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">不幸的是，在Windows中，SDK作为一个独立的应用程序安装，似乎不会继承您的终端配置文件。</p><p id="aaa0" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">设置您的云配置文件需要几个步骤(并且要求您使用PowerShell ),但这是我能想到的最好的方法。并且从长远来看，它节省了时间，而不必复制和/或重新键入命令。</p><h1 id="f292" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">设置</h1><p id="392a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果您使用的是机构笔记本电脑，您需要启用管理员权限。</p><p id="9d66" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">首先，在开始菜单中启动<a class="ae kv" href="https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.2" rel="noopener ugc nofollow" target="_blank"> PowerShell </a>。</p><p id="51da" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">PowerShell通过<a class="ae kv" href="https://cloud.google.com/sdk/gcloud" rel="noopener ugc nofollow" target="_blank"> Google命令行界面(Google CLI </a>)而不是SDK安装了一套略有不同的工具。在PowerShell中运行以下命令(<a class="ae kv" href="https://cloud.google.com/tools/powershell/docs/quickstart" rel="noopener ugc nofollow" target="_blank">指令</a>)。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="0449" class="mv kx iq mr b gy mw mx l my mz">Install-Module -Name GoogleCloud -Repository PSGallery -Force -AllowClobber</span></pre><p id="43c4" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">要保存会话之间持续的命令，您需要设置一个PowerShell配置文件。当您启动新的PowerShell会话时，会加载此配置文件(类似于。bashrc)。</p><p id="fd04" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">这是一篇关于<a class="ae kv" href="https://www.howtogeek.com/50236/customizing-your-powershell-profile/" rel="noopener ugc nofollow" target="_blank">创建PowerShell配置文件</a>的完整文章。下面简单说明。</p><p id="68d2" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">在PowerShell中运行以下命令来创建新的空白配置文件:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="4d34" class="mv kx iq mr b gy mw mx l my mz">New-Item -path $profile -type file -force</span></pre><p id="f6e5" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">这将在你的Documents文件夹中为我创建一个新文件，在<br/>C:\ Users \ * \ Documents \ windows powershell \ Microsoft。PowerShell_profile.ps1</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/60958cf31f8caba7839dffd2209c9d5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qXrBw3anPVeyT6q_HRN-6Q.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">描述配置文件脚本保存位置的PowerShell输出。图片作者。</p></figure><p id="7769" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">打开“微软。PowerShell_profile.ps1”。您可以在这里添加Google CLI命令(或任何其他命令)。</p><p id="d064" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">在PowerShell中，多字命令另存为“函数”。函数的语法是—</p><p id="43b6" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">函数别名{要运行的命令}</p><p id="2bf7" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">例如，您可能希望将用于ssh的命令保存到带有端口转发的DLVM中(注意，Windows中的语法略有不同)。</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="7c88" class="mv kx iq mr b gy mw mx l my mz">Function gssh {gcloud compute ssh my-dlvm --project my-project --zone my-zone '--' -L 8787:127.0.0.1:8787</span></pre><p id="85be" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">这里是我的一些命令的快照</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/4933fdfd27dc340e54b190bf2d4e195e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kgGZ-CnKJ5wbJo-M9qaR7A.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">我的PowerShell配置文件保存了一些常用的Google CLI命令。图片作者。</p></figure><p id="a4fa" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">容易多了！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/4f1fdac1ed76b67c131f56f307628623.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kaWG_mDI56f_2sskxvzseQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在PowerShell中运行命令别名。这是它工作时的样子。图片作者。</p></figure><p id="e37e" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">如果你有更好的方法，请在评论中告诉我…</p><p id="79ab" class="pw-post-body-paragraph lo lp iq lq b lr ml jr lt lu mm ju lw lx mn lz ma mb mo md me mf mp mh mi mj ij bi translated">~噢</p></div></div>    
</body>
</html>