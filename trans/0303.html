<html>
<head>
<title>A Gentle Introduction to Data Lakehouse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据湖之家简介</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-gentle-introduction-to-data-lakehouse-fc0f131f90ff#2022-02-12">https://towardsdatascience.com/a-gentle-introduction-to-data-lakehouse-fc0f131f90ff#2022-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/4b4303b0f5eb30958615c7dd0d4727d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kf9K9UNV7Cde-7zt"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">埃伯哈德·🖐·格罗斯加斯泰格在<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="0df0" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">介绍</h1><p id="17b2" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><em class="lz">数据湖库</em>是一种新的数据架构，在过去的几年中被提及了很多。它的提出是为了解决老的、成熟的数据架构，即数据仓库和数据湖所面临的难题。在本文中，我们将深入探讨这种新的架构，看看它背后的动机是什么，以及它的整体外观。</p><p id="3b36" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated"><strong class="ld ir"> <em class="lz">免责声明</em> </strong> <em class="lz"> : Data Lakehouse 是一个相当新的概念(白皮书发布于 2021 年)。目前还没有一个被普遍接受的架构和定义。本文所写的内容都是基于作者的研究和解读。它可能与其他来源不同。</em></p><h1 id="22f1" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">背景</h1><p id="52aa" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在讨论 Data Lakehouse 之前，了解数据架构的前景很重要，因为这将帮助我们理解我们面临的问题以及为什么需要新的架构。</p><h1 id="be63" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据仓库</h1><p id="5124" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">数据仓库是一个系统，公司在其中保存他们的数据，以便创建报告和可视化来支持数据驱动的决策。来自相关关系数据库的数据在被放入单个位置之前被连接并转换成被称为<em class="lz"> </em> <a class="ae kc" href="https://en.wikipedia.org/wiki/Star_schema" rel="noopener ugc nofollow" target="_blank"> <em class="lz">星形模式</em> </a>的明确定义的结构，以使读取尽可能高效和无缝。</p><h1 id="fc3f" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据湖</h1><p id="3012" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">数据湖是一个存储库，组织在其中存储来自各种数据源的大量数据以备后用。与数据仓库不同，数据通常按原样存储在数据湖中，这意味着它还支持半结构化数据(XML 和 JSON)和非结构化数据(文件、图像、视频、时间序列等)。).数据湖的使用主要是高级分析，如研究、数据科学和机器学习，它们有能力处理杂乱和非结构化的数据。</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mf"><img src="../Images/5e5bc3e1e3f057c9e7d481c1bff8c088.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UGX1PvszAylDP7NukXA1Tg.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">数据仓库 vs 数据湖(图片作者提供)。</p></figure><h1 id="85ae" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据湖和数据仓库的问题</h1><p id="593f" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">数据湖和数据仓库就像阴阳两极。一个擅长另一个不擅长的，反之亦然。数据湖可以处理大量的数据类型，包括图像和视频，数据仓库对这些格式一无所知。但是，当谈到服务，这是一场噩梦。性能非常差，因为数据不是结构化的，提取相关数据的流程过于复杂，因为数据没有经过预处理，等等。另一方面，数据仓库在服务方面是一头野兽，因为数据已经为此做好了准备。但是，它的用途非常有限，因为数据必须在预定义的模式中，而且它是预先转换和聚合的，所以如果需要，您无法更深入地研究它。</p><p id="5667" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">除了数据湖之外，公司通常通过构建数据仓库(或任何其他数据服务)来规避上述问题，然后定期在那里 ETL 相关数据以获得两者的最佳效果。然而，随着数据的不断增长和演变，这种方法由于成本、复杂性、可靠性和陈旧性而开始变得低效。因此，引入了<strong class="ld ir"> <em class="lz">数据仓库</em> </strong>的概念。</p><h1 id="d04f" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据仓库</h1><p id="ba5c" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">数据湖库的关键概念是将数据湖与所有数据服务连接起来。湖边小屋建筑由以下 5 层组成:</p><figure class="mg mh mi mj gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mk"><img src="../Images/276b00fcffdccf4d61a7d9e2af0c9f6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uzS-GhjHr8pY0TJrKumtWg.jpeg"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">数据湖房屋架构(图片由作者提供)。</p></figure><ul class=""><li id="8a9c" class="ml mm iq ld b le ma li mb lm mn lq mo lu mp ly mq mr ms mt bi translated"><strong class="ld ir"> <em class="lz">数据源</em> </strong> <em class="lz"> <br/> </em>任何可能是数据源的东西，如数据库、用户设备、物联网设备和应用程序日志。</li><li id="dd8f" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated"><strong class="ld ir"> <em class="lz">摄取层</em> </strong> <em class="lz"> <br/> </em>将数据摄取到系统中，并使其<em class="lz">可用</em>，例如将其放入有意义的目录结构中。</li><li id="7740" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated"><strong class="ld ir"> <em class="lz">存储层</em> </strong> <em class="lz"> <br/> </em>为海量数据提供持久、可靠、可访问、可扩展的存储。在 Lakehouse 体系结构中，数据仓库和数据湖共享存储以避免相同数据的副本。</li><li id="ace5" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated"><strong class="ld ir"> <em class="lz">元数据层</em> </strong> <em class="lz"> <br/> </em>为存储中的结构化和非结构化数据提供元数据，使其易于被用户发现，并跟踪数据模式(如果存在)版本。</li><li id="de02" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated"><strong class="ld ir"> <em class="lz">处理层</em> </strong> <em class="lz"> <br/> </em>通过数据清洗、验证、规范化、反规范化、浓缩，将数据转换成可消费的格式。</li><li id="c45c" class="ml mm iq ld b le mu li mv lm mw lq mx lu my ly mq mr ms mt bi translated"><strong class="ld ir">服务层</strong> <br/>为所有使用数据目录的用户提供访问存储在湖边小屋中的所有数据的组件。</li></ul><p id="c587" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">数据湖库与双层湖+仓库模型的主要区别在于，湖和仓库是集成的，这意味着不再需要移动数据。元数据层是架构的核心，因为它统一了处理层和服务层的数据(结构化和非结构化)消费。</p><p id="1f1b" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">数据仓库最大的挑战可能是查询性能优化。由于数据不是严格的和结构良好的，它如何能像数据仓库一样达到最先进的查询性能？造成这一挑战的因素有几个，例如是否应该转换数据，什么是可接受的延迟，以及有什么资源可用。所以，在这方面没有放之四海而皆准的解决方案。</p><h1 id="791b" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">结论</h1><p id="803d" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">数据湖之家的想法非常吸引人。拥有一个像数据仓库一样快速有效的一体化数据平台，同时还拥有数据湖的灵活性，这将给任何组织带来巨大的竞争优势。然而，这个概念仍然是相当新的和不断发展的。因此，这可能需要一段时间来看看是否能成为主流。湖边小屋建筑的发展方向是我们都应该感兴趣的。</p><h1 id="8f2b" class="kd ke iq bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">参考</h1><p id="6586" class="pw-post-body-paragraph lb lc iq ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">[1] M .阿姆布鲁斯特，A .古德西，r .辛，m .扎哈利亚，<a class="ae kc" href="http://cidrdb.org/cidr2021/papers/cidr2021_paper17.pdf" rel="noopener ugc nofollow" target="_blank">莱克豪斯:统一数据仓库和高级分析的新一代开放平台</a> (2021)，创新数据系统研究会议(CIDR) 2021</p><p id="b80d" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">[2] P. Kava 和 C. Gong，<a class="ae kc" href="https://aws.amazon.com/blogs/big-data/build-a-lake-house-architecture-on-aws/" rel="noopener ugc nofollow" target="_blank">在 AWS </a> (2021)上建立一个湖屋建筑，AWS 大数据博客</p><p id="d6ee" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">[3] A. Tavakoli-Shiraji，<a class="ae kc" href="https://www.youtube.com/watch?v=JRW70f4CqG8&amp;t=1264s" rel="noopener ugc nofollow" target="_blank">发现数据湖屋</a> (2022)，数据+AI 世界巡回赛虚拟训练</p><p id="f0be" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">[4] A. Ghosdi，<a class="ae kc" href="https://www.youtube.com/watch?v=g11y-kJHr3I" rel="noopener ugc nofollow" target="_blank">实现数据仓库的愿景</a> (2020)，Databricks</p><p id="555d" class="pw-post-body-paragraph lb lc iq ld b le ma lg lh li mb lk ll lm mc lo lp lq md ls lt lu me lw lx ly ij bi translated">[5] Databricks，<a class="ae kc" href="https://databricks.com/glossary/data-lakehouse" rel="noopener ugc nofollow" target="_blank">什么是 Data Lakehouse？</a>、Databricks.com</p></div></div>    
</body>
</html>