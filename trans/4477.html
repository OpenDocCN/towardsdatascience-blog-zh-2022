<html>
<head>
<title>Blending Optimization Tutorial with Linear Programming in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将优化教程与Python中的线性编程相结合</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/blending-optimization-tutorial-with-linear-programming-in-python-74bcc443e4e5#2022-10-04">https://towardsdatascience.com/blending-optimization-tutorial-with-linear-programming-in-python-74bcc443e4e5#2022-10-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="3e45" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">应用于实际的水泥配料优化问题</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/98c32f15ddc06928b08773a8c5d706b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cxSPRP6NNpCTE8uqujHk1A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="7823" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">介绍</h1><p id="e0e7" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在几乎所有行业中，尤其是自然资源行业，通过优化所需资源支出产生的收入，做出最佳决策以最大化每个项目的价值至关重要。运筹学是一门学科，在这门学科中，现实世界的问题被用数学方法描述，并被优化以改进决策。下面的示意图说明了基于分配资源实现的最大净值的最佳项目B，而A和C由于较差的设计或资源可用性而不是最佳的。乍一看，最便宜或最有价值的项目似乎是直观的选择，而最佳项目往往受到许多需要优化的不同和相关变量的影响。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/079420f918778045c0cf74ab28117201.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UT1zMlcTVavFL1C1HXDHxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">比较项目A、B和c的净值和花费的资源的示意图</p></figure><p id="1f1a" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">有了良好的运筹学，许多公司，尤其是自然资源行业的公司，可以更好地瞄准最有可能产生最大净值的最优项目。不幸的是，通常依赖昂贵的软件或外部顾问来概念化和解决这些优化问题。在本文中，我们将展示在Python等开源软件中实现这一点是多么简单。本例中使用的所有代码都存储在<a class="ae mz" href="https://github.com/13ff6/CementOptFF/blob/main/CementBlendOpt_FF.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h2 id="99bc" class="na lg it bd lh nb nc dn ll nd ne dp lp mg nf ng lr mk nh ni lt mo nj nk lv nl bi translated">水泥配料优化问题</h2><p id="6e95" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">本教程将关注1977年水泥和混凝土研究论文[1]中的一个实际水泥混合优化问题。在这种应用中，石灰石、粘土、铝土矿和烧过的黄铁矿以最经济的方式混合，同时保持所需的物理性质。</p><p id="5f49" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">这四种原料中的每一种都有不同的成本，从6美元/吨到230美元/吨不等，并且由不同的成分比例组成。主要成分包括二氧化硅(SiO2)、氧化铝(Al2O3)、氧化铁(Fe2O3)、氧化钙(CaO)和三氧化硫(SO3)，每种成分都需要在一定的比例范围内，以确保水泥满足所需的物理性能。下表总结了使用来自[1]和[2]的真实水泥数据的所有相关值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/bd5c2239755928dbf8ca29650451d2c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8-OaK2wmm3vTogfx6pOzxw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原材料、它们各自的成分百分比和价格。来自[1]和[2]的真实水泥数据。作者图片</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="77a9" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">优化术语和方法</h1><p id="8d8d" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">在我们进行任何优化之前，我们需要理解相关术语，以便从数学上定义手头的问题，一些关键术语包括:</p><ul class=""><li id="aaa9" class="nn no it lz b ma mu md mv mg np mk nq mo nr ms ns nt nu nv bi translated"><strong class="lz iu">目标函数</strong>:在一系列可能的值中，<em class="nw">最小化</em>或<em class="nw">最大化</em>的有值函数</li><li id="0845" class="nn no it lz b ma nx md ny mg nz mk oa mo ob ms ns nt nu nv bi translated"><strong class="lz iu">决策变量</strong>:优化问题中的未知量</li><li id="55bb" class="nn no it lz b ma nx md ny mg nz mk oa mo ob ms ns nt nu nv bi translated"><strong class="lz iu">约束</strong>:通常以等式或不等式的形式必须满足的逻辑条件</li></ul><p id="3b74" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">在我们的混合示例中，<strong class="lz iu">目标函数</strong>就是每种材料的价格之和乘以该材料在四种材料中的比例。<strong class="lz iu">决策变量</strong>是每种材料的比例，比如使用50%石灰石和20%铝矾土。我们可以从根据我们的<strong class="lz iu">决策变量</strong>定义成分开始，并设置<strong class="lz iu">目标函数</strong>以<em class="nw">最小化</em>，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/604d6b253b4e24e59e292b70e81f9c76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KhakqzvPdBTtvNMAc4kKnA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd od">目标函数</strong>最小化价格乘以每种材料的比例之和。作者图片</p></figure><p id="69fb" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">如果我们像上面显示的那样单独运行优化，我们只会得到所有的材料比例等于零，给我们一个很好的零成本，但我们知道这不是一个真正的解决方案。<strong class="lz iu">约束</strong>最终推动优化，因为在遵守物理特性要求的同时，混合成本必须最小化。<strong class="lz iu">约束</strong>在【1】和【2】中被定义为成分的函数，因此我们将引入一些变量(q1至q6 ),类似于论文【1 】,如下所示。注意，在使用scipy minimize的Python中，它们必须用<strong class="lz iu">决策变量</strong>来明确表达。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/1c3ad45108b6373af908cde25e800c3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MODl5rSWqCXKLXnK29LXgA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">驱动<strong class="bd od">约束</strong>的六个变量被定义为<strong class="bd od">决策变量</strong>每种原材料比例的函数。作者图片</p></figure><p id="84aa" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">在这个例子中，<strong class="lz iu">约束</strong>是基于每种成分必须落入的特定范围、几个不同的模数以及燃烧产品的某些元素，这些都是成分比例的函数。对于本文的线性编程部分，有14个<strong class="lz iu">约束</strong>，我们将在下面的Python改编中分解其中两个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/807e894d3e56f57aa7159dc6cbf7fb2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UmzxMQUAt48QaEU6QyHDDw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">前两个<strong class="bd od">约束</strong>的分解显示了每个方程如何以scipy优化格式转换成Python代码。作者图片</p></figure><p id="9da1" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">现在只需要对所有14个<strong class="lz iu">约束</strong>重复上述过程。下面是剩余的12个<strong class="lz iu">约束</strong>，显示在<a class="ae mz" href="https://github.com/13ff6/CementOptFF/blob/main/CementBlendOpt_FF.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的Python代码片段中。将所有的约束转换成代码似乎很难，但是一次只考虑一个等式是很重要的。在引入每个新的<strong class="lz iu">约束</strong>之后，一次运行一行代码可能有助于确保没有明显的输入错误，这些错误在以后会变得很麻烦。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/956eee1cc3516cf173394fafc4fc93e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pTjvp2dAlg92Zu8hsMxF3A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">水泥混合优化问题[1，2]中剩余的12个<strong class="bd od">约束条件T10，以及显示每个线性不等式T11约束条件T12的裁剪代码的屏幕截图。</strong></p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="f06d" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">使用Scipy运行优化</h1><p id="e24f" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">我们终于准备好用我们的<strong class="lz iu">约束</strong>来运行优化，以确定<strong class="lz iu">决策变量</strong>，其<em class="nw">最小化</em>目标函数。就我们的例子而言，我们将得到每种材料的比例，从而得到满足所需物理性质的最经济的混合物。</p><p id="f573" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">我们将使用<code class="fe of og oh oi b">from scipy.optimize import minimize</code>和序列最小二乘编程(SLSQP)方法，该方法可以处理等式和不等式<strong class="lz iu">约束</strong>【3】，如<a class="ae mz" href="https://github.com/13ff6/CementOptFF/blob/main/CementBlendOpt_FF.py" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的代码所示。下表显示了1977年论文[1]中的材料比例与Python教程中的材料比例有多么相似。细微的差异可能是由于舍入或不同的优化方法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/dbe4d2d0e4f4f51a08cae8aefa91bae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tg4AgAZBruIbEz2gufvBsA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">单纯形论文[1]和scipy python教程的最终结果使用SLSQP最小化。</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="3b5c" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">结论</h1><p id="38b4" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">运筹学为更好的决策提供了强有力的工具。虽然有运行线性程序的昂贵软件，但也可以使用开源软件轻松设置，如Python中的scipy optimize。独立地对优化问题进行编码还允许进行一些改变，这些改变在商业软件中可能是不可用的，因为商业软件抽象了许多更好的细节。</p><p id="3779" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">解决这些优化问题可以让公司做出更好的决策或改进复杂操作的程序。在本教程中，用不到30行代码解决了一个实际的水泥混合优化问题。虽然解决方案是针对可用的特定材料和作为示例的一部分出现的<strong class="lz iu">约束</strong>，但是相同的方法适用于任何种类的类似混合问题。</p><p id="54d4" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">本文考虑了一个线性问题，但是也存在优化更复杂的非线性程序的选择。虽然线性问题更容易计算，但它们通常带有假设，导致不可避免的次优解决方案。本教程中使用的论文通过比较线性规划近似和更精确的非线性规划[1]对此进行了更详细的讨论。非线性程序改善事物的程度很可能取决于手头问题的线性有效性。</p></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="2202" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">旁白—水泥的典型使用案例</h1><p id="055e" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">有时候，退一步看看我们所做的所有数据工作在现实世界中的应用是很好的。水泥是混凝土的主要成分，而混凝土是建筑中使用最广泛的材料。下面是一个我和我的叔叔们一起搅拌和浇筑混凝土台阶的整洁视频。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ok ol l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">将水泥与骨料和水混合以浇筑混凝土步骤的时间间隔。作者提供的视频</p></figure></div><div class="ab cl ky kz hx la" role="separator"><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld le"/><span class="lb bw bk lc ld"/></div><div class="im in io ip iq"><h1 id="cd12" class="lf lg it bd lh li lj lk ll lm ln lo lp jz lq ka lr kc ls kd lt kf lu kg lv lw bi translated">参考</h1><p id="e3c8" class="pw-post-body-paragraph lx ly it lz b ma mb ju mc md me jx mf mg mh mi mj mk ml mm mn mo mp mq mr ms im bi translated">[1] Xirokostas，D. A .，&amp; Zoppas，C. E. (1977年)。水泥配料优化问题的数学规划方法。水泥和混凝土研究，7(5)，503–514。</p><p id="94cb" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">[2] Labahn O. (1971年)，《水泥工程师手册》第60页。Bauverlag Cmbh，威斯巴登。</p><p id="b424" class="pw-post-body-paragraph lx ly it lz b ma mu ju mc md mv jx mf mg mw mi mj mk mx mm mn mo my mq mr ms im bi translated">[3]克拉夫特博士(1988年)。序列二次规划软件包。技术。众议员DFVLR-fb88-28，德国航空航天中心德国飞行力学研究所，科隆，德国。</p></div></div>    
</body>
</html>