<html>
<head>
<title>Density-Based Clustering: DBSCAN vs. HDBSCAN</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于密度的聚类:DBSCAN 与 HDBSCAN</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/density-based-clustering-dbscan-vs-hdbscan-39e02af990c7#2022-12-05">https://towardsdatascience.com/density-based-clustering-dbscan-vs-hdbscan-39e02af990c7#2022-12-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9785" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">为您的数据选择哪种算法</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4ff9fe4a43df8e74889b336cb647ba60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*32QG4MjNBvhoXHVxCE85_A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国宇航局在<a class="ae ky" href="https://unsplash.com/photos/_SFJhRPzJHs" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="f528" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="e8ae" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">聚类分析是数据科学中的一个相关领域，它能够将相似的对象分组到不同的子组中。虽然有不同的聚类算法家族，但最广为人知的是<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html" rel="noopener ugc nofollow" target="_blank"> K-Means </a>。这是一种基于质心的算法，这意味着数据中的对象通过被分配到最近的质心来进行聚类。然而，K-Means 的一个主要缺陷是它缺乏对异常值或噪声数据点的检测，这导致它们被错误地分类。此外，K-Means 对球状星团有一种固有的偏好，并且在由任意形状的星团组成的数据上不能很好地工作。这在图 1 中举例说明，其显示了数据集<a class="ae ky" href="https://github.com/lmcinnes/hdbscan/blob/master/notebooks/clusterable_data.npy" rel="noopener ugc nofollow" target="_blank">【1】</a>，该数据集由被噪声数据点包围的任意构象的六个不同聚类组成。K-Means(使用<em class="mn"> n_clusters </em> = 6 运行)很难处理这些变化的形状，此外，还会将所有有噪声的数据点分配给聚类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/5be62b8bf1af0f53907a6613bcfab994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjoEXuDg5iqfB890coBqYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 1:由任意形状的聚类和噪声组成的数据的 K 均值。图片作者。</p></figure><p id="2ebd" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">这种类型的问题可以通过使用基于密度的聚类算法来解决，该算法将聚类描述为通过低密度区域与其他聚类分隔开的高密度区域。这一领域的两个流行算法是<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html#sklearn.cluster.DBSCAN" rel="noopener ugc nofollow" target="_blank"> DBSCAN </a>(基于密度的噪声应用空间聚类)及其分层后继算法<a class="ae ky" href="https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html" rel="noopener ugc nofollow" target="_blank"> HDBSCAN </a>。</p><h1 id="c919" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">基于密度的噪声应用空间聚类</h1><p id="c12d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">该算法<a class="ae ky" href="https://www.aaai.org/Papers/KDD/1996/KDD96-037.pdf" rel="noopener ugc nofollow" target="_blank">【2】</a>基于密度对数据进行聚类，通常要求一个聚类内的密度一致，聚类之间的密度下降。它有两个主要参数，需要仔细选择以获得最佳结果:</p><ol class=""><li id="8c14" class="mu mv it lt b lu mp lx mq ma mw me mx mi my mm mz na nb nc bi translated"><strong class="lt iu"> <em class="mn"> eps </em> </strong>:定义每个数据点周围邻域的半径。</li><li id="0015" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated"><strong class="lt iu"> <em class="mn"> min_samples </em> </strong>:一个数据点被认为是核心点所需的邻域内的最小数据点数。</li></ol><p id="f3d8" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">DBSCAN 将数据点分为三类:</p><ol class=""><li id="f708" class="mu mv it lt b lu mp lx mq ma mw me mx mi my mm mz na nb nc bi translated"><strong class="lt iu">核心点</strong>:在半径<em class="mn"> eps </em>的邻域内至少有<em class="mn"> min_samples </em>个数据点的点。</li><li id="6a82" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated"><strong class="lt iu">边界点</strong>:具有少于<em class="mn"> min_samples </em>的点，但在其邻域内至少有一个核心点。</li><li id="13d3" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated"><strong class="lt iu">噪声</strong>:一个既不是核心点也不是边界点的点，其邻域内的最小样本点少于<em class="mn">个</em>个。</li></ol><p id="cfef" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">该算法从随机选取一个点开始，如果满足参数要求，就开始将数据点分配给聚类。然后通过递归计算每个数据点周围的邻域来扩展聚类，直到访问了所有点。描述 DBSCAN 算法的优秀视觉指南可以在<a class="ae ky" rel="noopener" target="_blank" href="/dbscan-clustering-break-it-down-for-me-859650a723af">这篇文章</a>中找到。</p><h1 id="a8c2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">HDBSCAN</h1><p id="fa07" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">HDBSCAN 是最近开发的一种算法<a class="ae ky" href="https://link.springer.com/chapter/10.1007/978-3-642-37456-2_14" rel="noopener ugc nofollow" target="_blank">【3】</a>，它建立在 DBSCAN 的基础上，与其前身不同，它能够识别不同密度的簇。该算法通过寻找每个数据点的核心距离非常相似地开始。然而，与 DBSCAN 不同，它使用<em class="mn"> eps </em>作为相应树状图的截止点，HDBSCAN 通过查看分裂来压缩树状图，分裂仅产生少量脱离聚类的点。结果是一个更小的树，具有更少的丢失点的聚类(图 2)，然后可以用于选择最稳定和持久的聚类。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/eca4cc262010694d50062e53631195fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTRE2Tz6kIx_jYFo6V8j5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 2:扩展与压缩的树状图。数字摘自<a class="ae ky" href="https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html" rel="noopener ugc nofollow" target="_blank"> hdbscan.readthedocs.io </a>。</p></figure><p id="bf6a" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">保留的簇的大小由 HDBSCAN 唯一需要的输入参数定义:</p><ul class=""><li id="fa09" class="mu mv it lt b lu mp lx mq ma mw me mx mi my mm nj na nb nc bi translated"><strong class="lt iu"><em class="mn">min _ cluster _ size</em></strong>:形成一个聚类的最小数据点数。</li></ul><p id="e400" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">该参数确定点是脱离一个聚类还是分裂形成两个新的聚类。这一过程使得生成的树可以在不同的高度被切割，并根据其稳定性采摘不同密度的簇。</p><p id="86ee" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">关于 HDBSCAN 底层功能的更广泛的解释可以在它的<a class="ae ky" href="https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html" rel="noopener ugc nofollow" target="_blank">相应文档</a>中找到。</p><h1 id="0807" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">比较</h1><h2 id="5e58" class="nk la it bd lb nl nm dn lf nn no dp lj ma np nq ll me nr ns ln mi nt nu lp nv bi translated">因素</h2><p id="507b" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果用户对手头的数据有一些领域知识，DBSCAN 可能会非常有效。这具体指的是<em class="mn"> eps </em>参数，该参数不太直观，通常需要一些关于数据点应被分配到一个聚类的接近度的知识(或微调)(详见<a class="ae ky" href="https://hdbscan.readthedocs.io/en/latest/how_to_use_epsilon.html#:~:text=While%20DBSCAN%20needs%20a%20minimum,size%20as%20single%20input%20parameter." rel="noopener ugc nofollow" target="_blank">本帖</a>)。相比之下，HDBSCAN 的唯一必需参数<em class="mn"> min_cluster_size </em>更直观。</p><h2 id="0239" class="nk la it bd lb nl nm dn lf nn no dp lj ma np nq ll me nr ns ln mi nt nu lp nv bi translated">噪音</h2><p id="eace" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">DBSCAN 对噪声非常敏感(图 3)，这可能导致不正确的聚类。HDBSCAN 虽然并不完美，但在将噪声数据点分配给聚类时通常会更加谨慎。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/cc0daf25b5815c6b02c7eb3bc97c7342.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdFO3Ot7bxH9QHGp8lAnTA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 3: DBSCAN 产生各种小簇，应归类为噪声。HDBSCAN 也可以做到这一点，但程度要小得多。有噪声的数据点以灰色显示。图片作者。</p></figure><h2 id="ba45" class="nk la it bd lb nl nm dn lf nn no dp lj ma np nq ll me nr ns ln mi nt nu lp nv bi translated">变化密度</h2><p id="4c44" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">DBSCAN 往往不能识别具有不均匀密度的簇。这个问题是 HDBSCAN 开发的主要动机，因此，它可以更好地处理不同密度的集群(图 4)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mo"><img src="../Images/5f263ffbb2c5b24a28e17420617ca417.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s0DahS6781CbCsYz6ubydw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 4:由具有不同密度的簇组成的数据的 DBSCAN 与 HDSCAN。图片作者。</p></figure><h2 id="0001" class="nk la it bd lb nl nm dn lf nn no dp lj ma np nq ll me nr ns ln mi nt nu lp nv bi translated">表演</h2><p id="2ad5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">可扩展性研究还表明，随着数据量的增加，HDBSCAN 的计算性能优于 DBSCAN。下图显示，在 200，000 个数据点时，HDBSCAN 的速度大约是 DBSCAN 的两倍(图 5)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/7098f32fa6a3de12fb2ff804dc1d9432.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVJnMfKk1VrWrfna_oxerg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 5:不同聚类算法的性能。图取自并采用自<a class="ae ky" href="https://hdbscan.readthedocs.io/en/latest/performance_and_scalability.html" rel="noopener ugc nofollow" target="_blank"> hdbscan.readthedocs.io </a>。</p></figure><h1 id="be26" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="f025" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">虽然 DBSCAN 和 h DBSCAN 都可以很好地处理包含噪声和任意形状和大小的簇的数据，但它们确实有一些复杂的差异。虽然如果您对数据有领域知识，DBSCAN 的附加<em class="mn"> eps </em>参数会很有用，但它通常被认为是一个非常不直观的参数。相比之下，HDBSCAN 的<em class="mn"> min_cluster_size </em>设置起来更直观。HDBSCAN 在对噪声和不同密度的集群进行分类时也占了上风。最后，HDBSCAN 比 DBSCAN 速度更快，计算效率更高。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><h1 id="ea9d" class="kz la it bd lb lc of le lf lg og li lj jz oh ka ll kc oi kd ln kf oj kg lp lq bi translated">参考</h1><p id="db92" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">[1]麦金尼斯等人(2017 年)。hdbscan:基于分层密度的聚类<em class="mn">。</em>开源软件杂志，《开放杂志》，第 2 卷，第 11 期。2017【数据文件】。</p><p id="fa49" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">[2] Ester 等人(1996 年)。“一种基于密度的算法，用于在带有噪声的大型空间数据库中发现聚类。”KDD 96:第二届知识发现和数据挖掘国际会议论文集，第 226-231 页。</p><p id="d331" class="pw-post-body-paragraph lr ls it lt b lu mp ju lw lx mq jx lz ma mr mc md me ms mg mh mi mt mk ml mm im bi translated">[3]坎佩洛等人(2013 年)。"基于层次密度估计的密度聚类."PAKDD 2013:知识发现和数据挖掘的进展，第 160–172 页。</p></div></div>    
</body>
</html>