<html>
<head>
<title>How to Set a Cell Value in Pandas DataFrame Using Index</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用索引设置熊猫数据框中的单元格值</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/set-cell-value-pandas-2a42d8d28201#2022-02-18">https://towardsdatascience.com/set-cell-value-pandas-2a42d8d28201#2022-02-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="f464" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">在熊猫数据帧的特定单元格中设置值</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/94c1b8da2b0f5261d57bdf51c44c7aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VGJQqH2yZ_EDsH4oWq9CPA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@dilucidus?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Kai Dahms </a>在<a class="ae kz" href="https://unsplash.com/s/photos/cell?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="6c66" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="26a7" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在我以前的一篇文章中，我讨论了关于<a class="ae kz" rel="noopener" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb">的两个熊猫最常用的属性，即</a> <code class="fe mp mq mr ms b"><a class="ae kz" rel="noopener" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb">loc</a></code> <a class="ae kz" rel="noopener" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb">和</a> <code class="fe mp mq mr ms b"><a class="ae kz" rel="noopener" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb">iloc</a></code>。这些属性可用于<strong class="ly iv">分别通过标签和整数位置查找来访问一组行</strong>。</p><p id="11f1" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">在今天的简短教程中，我们将展示如何使用<strong class="ly iv">标签</strong>或<strong class="ly iv">整数位置</strong>在pandas数据帧中的<strong class="ly iv">特定单元格</strong>赋值(即特定列和行的值)。</p></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="2148" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">首先，让我们创建一个pandas数据框架，我们将使用它作为一个例子来演示在pandas数据框架中设置单元格值时的一些概念。</p><pre class="kk kl km kn gu nf ms ng nh aw ni bi"><span id="86bc" class="la lb iu ms b gz nj nk l nl nm">import pandas as pd</span><span id="b504" class="la lb iu ms b gz nn nk l nl nm"><br/>df = pd.DataFrame(<br/>    [<br/>        (1, 'A', 150, True),<br/>        (2, 'A', 120, False),<br/>        (3, 'C', 130, False),<br/>        (4, 'A', 150, False),<br/>        (5, 'B', 140, True),<br/>        (6, 'B', 115, False),<br/>    ], <br/>    columns=['colA', 'colB', 'colC', 'colD']<br/>)<br/></span><span id="6228" class="la lb iu ms b gz nn nk l nl nm">print(df)<br/><strong class="ms iv"><em class="no">   colA colB  colC   colD<br/>0     1    A   150   True<br/>1     2    A   120  False<br/>2     3    C   130  False<br/>3     4    A   150  False<br/>4     5    B   140   True<br/>5     6    B   115  False</em></strong></span></pre></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="6230" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用标签设置特定行和列的值</h2><p id="01bd" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">为了访问行/列标签对的单个值，你可以使用<code class="fe mp mq mr ms b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.at.html" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.at</a></code>属性。注意，这个属性类似于<code class="fe mp mq mr ms b">loc</code>，因为两者都允许基于标签的查找。然而，如果您想访问DataFrame或Series对象中的单个值就应该使用<code class="fe mp mq mr ms b">at</code>属性。</p><p id="88a8" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">例如，假设我们想要将索引<code class="fe mp mq mr ms b">1</code>处的列<code class="fe mp mq mr ms b">colB</code>的值设置为<code class="fe mp mq mr ms b">B</code>。此时，该值被设置为<code class="fe mp mq mr ms b">'A'</code>:</p><pre class="kk kl km kn gu nf ms ng nh aw ni bi"><span id="636e" class="la lb iu ms b gz nj nk l nl nm">&gt;&gt;&gt; df.at[1, 'colB']<br/>'A'</span></pre><p id="15c5" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">为了将它更改为<code class="fe mp mq mr ms b">B</code>，下面的表达式可以解决这个问题:</p><pre class="kk kl km kn gu nf ms ng nh aw ni bi"><span id="a30f" class="la lb iu ms b gz nj nk l nl nm"><strong class="ms iv">df.at[1, 'colB'] = 'B'<br/></strong></span><span id="08cf" class="la lb iu ms b gz nn nk l nl nm">print(df)<br/><em class="no">   colA colB  colC   colD<br/>0     1    A   150   True<br/></em><strong class="ms iv"><em class="no">1     2    B   120  False</em></strong><em class="no"><br/>2     3    C   130  False<br/>3     4    A   150  False<br/>4     5    B   140   True<br/>5     6    B   115  False</em></span></pre></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="789e" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">使用整数位置设置特定行和列的值</h2><p id="a433" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">或者，您可以使用<code class="fe mp mq mr ms b"><a class="ae kz" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.iat.html#pandas.DataFrame.iat" rel="noopener ugc nofollow" target="_blank">pandas.DataFrame.iat</a></code>属性通过<strong class="ly iv">整数位置</strong>访问行/列。这类似于<code class="fe mp mq mr ms b">iloc</code>属性，因为它们都提供基于整数的查找。</p><p id="f8ee" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">同样，让我们访问第二行的列<code class="fe mp mq mr ms b">colB</code>的值(即索引<code class="fe mp mq mr ms b">1</code>)，但这一次，我们将使用整数位置，而不是使用列标签:</p><pre class="kk kl km kn gu nf ms ng nh aw ni bi"><span id="5eb1" class="la lb iu ms b gz nj nk l nl nm">&gt;&gt;&gt; df.iat[1, 1]<br/>'B'</span></pre><p id="ec49" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">现在让我们使用<code class="fe mp mq mr ms b">iat</code>属性和一个整数位置将值改回<code class="fe mp mq mr ms b">'A'</code>:</p><pre class="kk kl km kn gu nf ms ng nh aw ni bi"><span id="d96d" class="la lb iu ms b gz nj nk l nl nm"><strong class="ms iv">df.iat[1, 1] = 'A'</strong></span><span id="6055" class="la lb iu ms b gz nn nk l nl nm">print(df)</span><span id="c907" class="la lb iu ms b gz nn nk l nl nm"><em class="no">colA colB  colC   colD<br/>0     1    A   150   True<br/></em><strong class="ms iv"><em class="no">1     2    A   120  False</em></strong><em class="no"><br/>2     3    C   130  False<br/>3     4    A   150  False<br/>4     5    B   140   True<br/>5     6    B   115  False</em></span></pre></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><h2 id="78f3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的简短教程中，我们展示了如何使用基于标签的查找和<code class="fe mp mq mr ms b">at</code>属性或整数位置查找和<code class="fe mp mq mr ms b">iat</code>属性来设置特定列和行的值。</p><p id="7654" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">注意，这两个属性非常类似于<code class="fe mp mq mr ms b">loc</code>和<code class="fe mp mq mr ms b">iloc</code>属性，但是<code class="fe mp mq mr ms b">at</code>和<code class="fe mp mq mr ms b">iat</code>可以用来访问(和改变)特定的列/行对，而不是访问一组行。</p><p id="831a" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated">关于<code class="fe mp mq mr ms b">loc</code>和<code class="fe mp mq mr ms b">iloc</code>属性的更全面的阅读，你可以参考我最近的一篇文章，分享如下:</p><div class="np nq gq gs nr ns"><a rel="noopener follow" target="_blank" href="/loc-vs-iloc-in-pandas-92fc125ed8eb"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">熊猫中的loc与iloc</h2><div class="nz l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of kt ns"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="np nq gq gs nr ns"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="og l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nz l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="oa l"><div class="oh l oc od oe oa of kt ns"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mt jv mb mc mu jy me lj mv mg mh ln mw mj mk lr mx mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="np nq gq gs nr ns"><a rel="noopener follow" target="_blank" href="/random-seed-numpy-786cf7876a5f"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">random.seed在NumPy中做什么</h2><div class="og l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">理解在Python中使用NumPy生成伪随机结构时如何创建可再现的结果</h3></div><div class="nz l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="oi l oc od oe oa of kt ns"/></div></div></a></div></div><div class="ab cl my mz hy na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu ns"><a rel="noopener follow" target="_blank" href="/how-to-efficiently-convert-a-pyspark-dataframe-to-pandas-8bda2c3875c3"><div class="nt ab fp"><div class="nu ab nv cl cj nw"><h2 class="bd iv gz z fq nx fs ft ny fv fx it bi translated">加快PySpark和Pandas数据帧之间的转换</h2><div class="og l"><h3 class="bd b gz z fq nx fs ft ny fv fx dk translated">将大火花数据帧转换为熊猫时节省时间</h3></div><div class="nz l"><p class="bd b dl z fq nx fs ft ny fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="oj l oc od oe oa of kt ns"/></div></div></a></div></div></div>    
</body>
</html>