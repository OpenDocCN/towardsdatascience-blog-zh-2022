<html>
<head>
<title>Levene’s Test for Equality of Variances Explained (with Python Examples)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">解释 Levene 的方差相等测试(使用 Python 示例)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/levenes-test-for-equality-of-variances-explained-with-python-examples-f0445a19805f#2022-03-17">https://towardsdatascience.com/levenes-test-for-equality-of-variances-explained-with-python-examples-f0445a19805f#2022-03-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1dea" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本教程中，我们将探讨 Levene 的方差相等测试及其在 Python 中的应用</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/1c99afc8ad812ba5c04f15bb14af74ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*PMMSZQNvoqrOUCmC9ixtNA.jpeg"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">照片由<a class="ae ku" href="https://unsplash.com/s/photos/variance?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ku" href="https://unsplash.com/@pritesh557?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Pritesh Sudra </a>拍摄</p></figure><p id="d179" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">目录</strong></p><ul class=""><li id="d60b" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated">介绍</li><li id="7afd" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">抽样资料</li><li id="5501" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">Levene 的测试解释了</li><li id="3732" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">勒文检验假设</li><li id="931a" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">Levenet 检验统计量</li><li id="6810" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">Levene 在 Python 中的测试示例</li><li id="1480" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">结论</li></ul></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="7e6c" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">介绍</h1><p id="2480" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">许多统计测试和程序都假设数据的正态性和方差相等。</p><p id="62db" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这些条件通常决定了研究人员是否可以使用参数或非参数测试，以某种方式阐明他们的假设，等等。</p><p id="e5a0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Levene 检验是推断统计学中最流行的检验之一，它处理从非正态分布中提取的数据。</p><h2 id="f2da" class="nj mn it bd mo nk nl dn ms nm nn dp mw le no np my li nq nr na lm ns nt nc nu bi translated">Levene 的测试是什么？</h2><p id="e016" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">Levene 检验用于检验两个或更多组(样本)计算的变量的方差是否相等。</p><h2 id="8356" class="nj mn it bd mo nk nl dn ms nm nn dp mw le no np my li nq nr na lm ns nt nc nu bi translated">如何解读 Levene 的测试？</h2><p id="f8f3" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">如果 Levene 检验的 p 值小于显著性水平(例如 0.05)，则至少两组的方差不相等。</p><p id="1aef" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">为了继续学习本教程，我们需要以下 Python 库:pandas 和 scipy。</p><p id="5298" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果您没有安装它，请打开“命令提示符”(在 Windows 上)并使用以下代码安装它:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="6835" class="nj mn it nw b gy oa ob l oc od">pip install pandas<br/>pip install scipy</span></pre></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="70b5" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">抽样资料</h1><p id="bfb1" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">要执行本教程示例部分和 Python 实现部分中提到的计算，您将需要一些数据。</p><p id="c272" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在本教程的所有示例中，来自。使用下面的 csv 文件。</p><p id="6515" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">该数据包含三组对新疗法反应的 80 次观察:“对照组”、“治疗 1 组”和“治疗 2 组”。</p><p id="2893" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">数据服从非正态分布。</p><p id="65e6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在此下载示例数据:<a class="ae ku" href="https://pyshark.com/wp-content/uploads/2022/03/data_levenes_test.csv" rel="noopener ugc nofollow" target="_blank">https://pyshark . com/WP-content/uploads/2022/03/data _ levenes _ test . CSV</a></p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="a38c" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">Levene 的测试解释了</h1><p id="f187" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">如前所述，方差相等的假设在统计分析中是很重要的，并且在测量实验和数据分析的结果时经常会影响研究者的工作程序。</p><h2 id="11dc" class="nj mn it bd mo nk nl dn ms nm nn dp mw le no np my li nq nr na lm ns nt nc nu bi translated">勒文检验假设</h2><p id="11e9" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">Levene 检验的无效假设是所有组的方差相等。</p><p id="33c5" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Levene 检验的另一个假设是，至少有一对组的方差不相等。</p><p id="e55a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">给定大小为<em class="oe"> N </em>的变量<em class="oe"> Y </em>，其被分成<em class="oe"> k </em>个组:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/eec5db129ad2e18760cfc67009631b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/0*XlX7lK9OehALb-Es.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/c79ca3e62f3e1b11766c96d40411f891.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/0*smdt0MXjYF3aIAOp.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="de60" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">其中:</p><ul class=""><li id="fe3a" class="lr ls it kx b ky kz lb lc le lt li lu lm lv lq lw lx ly lz bi translated"><em class="oe"> k </em>:总组数(≥2)</li><li id="09c5" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><em class="oe">I</em>:k 组之一</li><li id="a8b7" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated"><em class="oe">j</em>:k 组之一</li><li id="394c" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">(<em class="oe"> i，j </em>):来自<em class="oe"> k </em>组的一对组</li><li id="6fea" class="lr ls it kx b ky ma lb mb le mc li md lm me lq lw lx ly lz bi translated">我≦<em class="oe">j</em>:两个组不是一个组</li></ul><h2 id="36a9" class="nj mn it bd mo nk nl dn ms nm nn dp mw le no np my li nq nr na lm ns nt nc nu bi translated">勒文检验统计量</h2><p id="1102" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">Levene 的检验统计量由下式给出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="oi oj di ok bf ol"><div class="gh gi oh"><img src="../Images/86ac46c0692e18ec77e093f0564efbf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/0*F6ehxhY5OpZ-ngMb.png"/></div></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="4a2f" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">其中:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi om"><img src="../Images/75ba28cf41b08f624e3caa6b0b57c125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*OkNPXGDWPxvr8sh8PjSb7A.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="caaf" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">原始论文仅提出使用平均值计算<em class="oe"> Z_{ij} </em>值，Lavene 检验的进一步扩展提出在计算<em class="oe"> Z_{ij} </em>值时使用中间值和修整平均值。</p><p id="d421" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">计算出 Levene 的测试统计值(<em class="oe"> W </em>)后，应将其与下式给出的上临界值进行比较:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/f57639bc24148334d674f8ba16f1fb9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/0*3bMyR6JDAkjh4ysf.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure><p id="9aa1" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">因此，我们拒绝等方差的零假设，当:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/7bfc7c272a6bee7ca0a1e76e626407f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*8muCucP49FLHTe6G.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">作者图片</p></figure></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="1d08" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">Levene 在 Python 中的测试示例</h1><p id="a1b3" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">为了在实践中看到 Levene 的测试及其在 Python 中的应用，我们将使用前面一节提到的<a class="ae ku" href="https://pyshark.com/levenes-test-for-equality-of-variances-explained-with-python-examples/#sample-data" rel="noopener ugc nofollow" target="_blank">样本数据文件</a>。</p><p id="4bb0" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，导入所需的依赖项:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="4f52" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后阅读。csv 文件提供到 Pandas 数据框架中，并打印前几行:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="41ba" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">您应该得到:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="e125" class="nj mn it nw b gy oa ob l oc od">     group  before_treatment  after_treatment<br/>0  control              27.9             33.8<br/>1  control              16.8              9.3<br/>2  control              27.2             23.4<br/>3  control              12.5             19.9<br/>4  control              14.4             16.0</span></pre><p id="a4bc" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">您可以计算一些组摘要统计信息，以便更好地理解数据:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="47f8" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">您应该得到:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="81ef" class="nj mn it nw b gy oa ob l oc od">        group  avg_bef_tr  var_bef_tr  avg_aft_tr  var_aft_tr<br/>0     control      20.145   18.878436      19.825   28.825513<br/>1  treatment1      19.210   17.007263      15.475    4.649342<br/>2  treatment2      21.510   19.673579      20.315   15.141458</span></pre><p id="9d9e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">这里你可以清楚地看到 3 组之间的“<strong class="kx iu"> var_bef_tr </strong>”(治疗前方差)差异并没有那么大:18.88，17.01，19.67。</p><p id="8247" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然而，3 个组之间的“<strong class="kx iu"> var_aft_tr </strong>”(治疗后方差)差异相当大:28.83、4.65、15.14。</p><p id="0498" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">三组治疗后的方差差异足够大，我们几乎可以肯定它是显著不同的，但是为了从统计上检查它，我们将在 Python 中执行 Levene 的测试！</p><p id="956d" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我们需要创建变量来存储与特定组相关的观察结果:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="2661" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">最后用 Python 执行 Levene 的测试:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="op oq l"/></div></figure><p id="397a" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">您应该得到:</p><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="43f2" class="nj mn it nw b gy oa ob l oc od">Lavene's test statistic: 4.240957881271611<br/>P-value: 0.017895111992486838</span></pre><p id="b66e" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">由于 p 值小于 0.05，我们拒绝零假设，并得出结论，至少有一对组的方差不相等。</p><p id="2688" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><strong class="kx iu">注:</strong></p><p id="b0fc" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">默认情况下，<strong class="kx iu"> levene() </strong>函数使用中值方法计算绝对残差。然而，正如在<a class="ae ku" href="https://pyshark.com/levenes-test-for-equality-of-variances-explained-with-python-examples/#levenes-test-statistic" rel="noopener ugc nofollow" target="_blank">解释部分</a>中提到的，你也可以使用均值和修整均值。<a class="ae ku" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.levene.html" rel="noopener ugc nofollow" target="_blank">官方文档</a>显示了如何更改测试中使用的功能。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><h1 id="5f5c" class="mm mn it bd mo mp mq mr ms mt mu mv mw jz mx ka my kc mz kd na kf nb kg nc nd bi translated">结论</h1><p id="b474" class="pw-post-body-paragraph kv kw it kx b ky ne ju la lb nf jx ld le ng lg lh li nh lk ll lm ni lo lp lq im bi translated">在本文中，我们讨论了如何使用 scipy 库执行 Levene 方差相等测试及其在 Python 中的应用。</p><p id="b7b6" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看更多我的<a class="ae ku" href="https://pyshark.com/category/python-programming/" rel="noopener ugc nofollow" target="_blank">统计</a>文章。</p></div><div class="ab cl mf mg hx mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="im in io ip iq"><p id="76db" class="pw-post-body-paragraph kv kw it kx b ky kz ju la lb lc jx ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><em class="oe">原载于 2022 年 3 月 17 日 https://pyshark.com</em><em class="oe">的</em> <a class="ae ku" href="https://pyshark.com/levenes-test-for-equality-of-variances-explained-with-python-examples/" rel="noopener ugc nofollow" target="_blank"> <em class="oe">。</em></a></p></div></div>    
</body>
</html>