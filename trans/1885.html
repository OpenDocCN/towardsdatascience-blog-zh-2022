<html>
<head>
<title>Workflow Orchestration vs. Data Orchestration — Are Those Different?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">工作流编排与数据编排——它们有什么不同吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/workflow-orchestration-vs-data-orchestration-are-those-different-a661c46d2e88#2022-05-02">https://towardsdatascience.com/workflow-orchestration-vs-data-orchestration-are-those-different-a661c46d2e88#2022-05-02</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="2ab1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">让我们消除这些术语的歧义，以便更好地理解工作流编排——用一个现实生活中的类比！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/e2acee07d1fe86812020855f759ef152.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zrs38KATpASYL062hrQ0bw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自<a class="ae kv" href="https://www.pexels.com/photo/woman-receiving-the-package-from-the-deliveryman-5025636/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kv" href="https://www.pexels.com/@artempodrez?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Artem Podrez </a>摄影</p></figure><p id="9d7c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi ls translated"><span class="l lt lu lv bm lw lx ly lz ma di">随着现代数据堆栈的兴起，业内许多工具开始将自己定位为“数据编排者”，而不是“工作流编排者”本文试图消除这些术语的歧义。我认为<strong class="ky ir">数据编排</strong>这个名字是一个容易混淆的简写术语，而<strong class="ky ir">工作流编排</strong>和<strong class="ky ir">数据流自动化</strong>更好地代表了现代数据堆栈的编排。</span></p><blockquote class="mb mc md"><p id="6519" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated"><strong class="ky ir">注:</strong>当我在<a class="ae kv" href="http://prefect.io/" rel="noopener ugc nofollow" target="_blank">府尹</a>工作时，这篇文章反映了我的观点。把在我的博客上发表的任何东西(而不是在完美博客上发表的)视为不反映我雇主的个人观点。</p></blockquote><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="fc89" class="mn mo iq mj b gy mp mq l mr ms"><strong class="mj ir">Table of contents:</strong></span><span id="38e4" class="mn mo iq mj b gy mt mq l mr ms">· <a class="ae kv" href="#3ef6" rel="noopener ugc nofollow">What is workflow orchestration?</a><br/>· <a class="ae kv" href="#a261" rel="noopener ugc nofollow">What do people mean when they say “data orchestration”?</a><br/>· <a class="ae kv" href="#ff47" rel="noopener ugc nofollow">Workflow orchestration — Explain Like I’m 5</a><br/>  ∘ <a class="ae kv" href="#15c2" rel="noopener ugc nofollow">Sequential, concurrent, and distributed workflow execution</a><br/>  ∘ <a class="ae kv" href="#afe5" rel="noopener ugc nofollow">Scale and graceful failure handling</a><br/>  ∘ <a class="ae kv" href="#3c18" rel="noopener ugc nofollow">Hybrid execution model</a><br/>· <a class="ae kv" href="#97b1" rel="noopener ugc nofollow">Why “workflow orchestration” is a less confusing term than “data orchestration” </a><br/>· <a class="ae kv" href="#7aa6" rel="noopener ugc nofollow">Conclusion</a></span></pre></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="3ef6" class="nb mo iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">什么是工作流编排？</h1><p id="da64" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">工作流编排意味着以尊重<strong class="ky ir">编排规则</strong>和<strong class="ky ir">业务逻辑</strong>的方式管理你的<strong class="ky ir">数据流</strong>。工作流编排工具允许你将任何代码转换成一个工作流，你可以<strong class="ky ir">安排</strong>、<strong class="ky ir">运行</strong>、<strong class="ky ir">观察</strong>。</p><p id="70e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一个<strong class="ky ir">好的</strong>工作流编排工具将为您提供连接到现有数据堆栈的构建模块，并允许您:</p><ul class=""><li id="7b43" class="nx ny iq ky b kz la lc ld lf nz lj oa ln ob lr oc od oe of bi translated"><strong class="ky ir">任务间传递数据</strong>，</li><li id="c685" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">触发<strong class="ky ir">特别</strong>参数化运行<a class="ae kv" href="https://www.prefect.io/blog/how-to-make-your-data-pipelines-more-dynamic-using-parameters-in-prefect/" rel="noopener ugc nofollow" target="_blank">，</a></li><li id="f156" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">分配自定义(复杂)<strong class="ky ir">日程</strong>，</li><li id="ef86" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">提醒</strong>当出现故障时，</li><li id="a6e6" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">重试</strong>并从故障中恢复，</li><li id="f382" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">通过<strong class="ky ir">缓存</strong>避免昂贵的重新计算，</li><li id="3790" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">并且将节省您编写<strong class="ky ir">防御代码</strong>的时间，只是为了确保您的工作流步骤以正确的<strong class="ky ir">顺序</strong>运行，并确保您发现故障何时发生(<strong class="ky ir">可见性</strong>)。</li></ul><p id="e9e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">简而言之，好的工作流软件消除了<a class="ae kv" href="https://medium.com/the-prefect-blog/positive-and-negative-data-engineering-a02cb497583d" rel="noopener">负面工程</a>。</p><blockquote class="mb mc md"><p id="bea5" class="kw kx me ky b kz la jr lb lc ld ju le mf lg lh li mg lk ll lm mh lo lp lq lr ij bi translated">当你考虑好的工作流工具时，你应该考虑当事情出错时它们是如何工作的。工作流只有在事情失败的时候才有意思；他们有点像保险或代码的<strong class="ky ir">风险管理</strong> <strong class="ky ir">。假设事情会出错——它们会出错——正确的工作流工具应该使处理那些“错误的事情”变得快速而简单，并指导您如何修复它们。— <a class="ae kv" href="https://medium.com/the-prefect-blog/your-code-will-fail-but-thats-ok-f0327a208dbe" rel="noopener">耶利米·劳因，2020年5月</a></strong></p></blockquote></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="a261" class="nb mo iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">人们说的“数据编排”是什么意思？</h1><p id="183a" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">它们通常指的是接触数据的工作流节点的<strong class="ky ir">编排</strong>。任何与数据交互的工作流节点，无论是生成数据还是使用数据，都属于这一类别。</p><p id="eebc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据这个定义，“数据编排”是编排数据(或数据仓库)工作流的简写术语，但它仍然描述工作流编排或数据流自动化。</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="ff47" class="nb mo iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">工作流程编排—像5岁小孩一样解释</h1><p id="c630" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">假设工作流编排工具是您的个人交付服务:</p><ul class=""><li id="375e" class="nx ny iq ky b kz la lc ld lf nz lj oa ln ob lr oc od oe of bi translated">每个<strong class="ky ir">订单</strong>(或购物车)反映了你的<strong class="ky ir">工作流程，</strong></li><li id="8449" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">每个<strong class="ky ir">交货</strong>是一个<strong class="ky ir">工作流运行，</strong></li><li id="f316" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">把东西放进购物车非常简单方便——你只需要增加几个装饰工，然后你就可以去参加比赛了。</li><li id="7387" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">在每个订单(或购物车)中，你可能有许多产品被打包进<strong class="ky ir">箱子</strong>——你的<strong class="ky ir">任务</strong>，</li><li id="68ad" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">盒子里的产品</strong>可能有各种<strong class="ky ir">口味、形式和形状，</strong>它们反映了你放入购物车的东西——<strong class="ky ir">你希望被编排成什么样的</strong>以及<strong class="ky ir">如何编排</strong>，</li><li id="ed9e" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">风格</strong>可能反映了您的数据复制工作(例如Airbyte)、数据转换(例如dbt)、数据清理(例如pandas)、ML用例(例如scikit-learn)等等。</li><li id="0cd0" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">你的箱子可能<strong class="ky ir">如你所愿</strong>一样小或一样大——最终是你的订单(你的工作流程设计)，</li><li id="0ed0" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">你盒子里的产品</strong>可能来自各个<strong class="ky ir">厂商</strong>，也就是你的数据工具，比如dbt，Fivetran，你喜欢的ML框架，你定制的数据清理库，</li><li id="1318" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated"><strong class="ky ir">交付地址</strong>可能是你的家庭地址(你的<strong class="ky ir">数据仓库</strong>)、你的度假地址(你的<strong class="ky ir">数据仓库</strong>)，也可能是朋友的地址(某个外部数据库、数据处理服务、微服务或应用)。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/5b4a8e74b4cf6bc6e35b4f815e3cca70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g7_Cx2JaStTegTTU9tCR_w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来自<a class="ae kv" href="https://www.pexels.com/photo/city-road-traffic-man-4391486/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的<a class="ae kv" href="https://www.pexels.com/@norma-mortenson?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Norma Mortenson </a>的照片</p></figure><h2 id="15c2" class="mn mo iq bd nc om on dn ng oo op dp nk lf oq or nm lj os ot no ln ou ov nq ow bi translated">顺序、并发和分布式工作流执行</h2><p id="8332" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">按照交付服务的类比，在编排中，您可以:</p><ul class=""><li id="e0a7" class="nx ny iq ky b kz la lc ld lf nz lj oa ln ob lr oc od oe of bi translated">决定你是想让你的订单一次交付还是按顺序交付——你的任务的执行顺序，</li><li id="21df" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">选择您的<strong class="ky ir">交付类型</strong> —您可以选择标准的(<em class="me">顺序执行</em>)或使用特殊分布式服务的快速交付，例如<strong class="ky ir"> Dask </strong>、<strong class="ky ir"> Ray </strong> ( <em class="me">想象多辆交付卡车</em>)，或者甚至使用<strong class="ky ir">并发</strong>和<strong class="ky ir">异步</strong> ( <em class="me">一个更快更高效的单一交付程序，可以更好地切换上下文</em></li><li id="8977" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">确定你的订单应该如何包装——你可以选择<strong class="ky ir">打包</strong>到一个<strong class="ky ir">子流程</strong>、一个<strong class="ky ir"> Docker </strong>容器、<strong class="ky ir"> Kubernetes </strong>作业或者一个ECS任务中。</li></ul><p id="05fd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">工作流程编排</strong>将负责交付，即<strong class="ky ir">执行</strong>。它将确保您的产品按照预期得到<strong class="ky ir">包装</strong>，按照正确的<strong class="ky ir">时间表</strong>得到<strong class="ky ir">运输</strong>，并且所有箱子都有正确的交付类型——一些包裹需要通过快递快速交付，而其他的可以等待并按顺序执行。</p><h2 id="afe5" class="mn mo iq bd nc om on dn ng oo op dp nk lf oq or nm lj os ot no ln ou ov nq ow bi translated">规模和优雅的故障处理</h2><p id="df52" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">一个好的交付(编排)服务<strong class="ky ir">的伸缩性</strong>非常好。你可以让<strong class="ky ir">的多个交付</strong>安排在同一时间，潜在的<strong class="ky ir">数千辆卡车</strong>(甚至货船车队)<strong class="ky ir">数百万个包裹</strong>，它仍然会让你对每个包裹的交付状态有细粒度的<strong class="ky ir">可见性</strong>。</p><p id="9382" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这种调度服务是<strong class="ky ir">异步</strong>和<strong class="ky ir">高度可用</strong>的，以保证即使在一些供应商生病或一些卡车抛锚的情况下，您的订单也能发货。交付过程中可能会出现许多问题:</p><ul class=""><li id="a564" class="nx ny iq ky b kz la lc ld lf nz lj oa ln ob lr oc od oe of bi translated">有些<strong class="ky ir">盒</strong>可能会损坏<strong class="ky ir">并可能需要退回，即<strong class="ky ir">重试</strong>或<strong class="ky ir">重启</strong>，</strong></li><li id="5d26" class="nx ny iq ky b kz og lc oh lf oi lj oj ln ok lr oc od oe of bi translated">整个交货可能需要<strong class="ky ir">重新安排</strong>，因为那时你不在家。</li></ul><h2 id="3c18" class="mn mo iq bd nc om on dn ng oo op dp nk lf oq or nm lj os ot no ln ou ov nq ow bi translated">混合执行模型</h2><p id="50bc" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">好的<strong class="ky ir">送货服务</strong>也会尊重你的<strong class="ky ir">隐私</strong>并纯粹基于元数据运作，比如你的送货地址、送货类型、包装形式等。然后它负责<strong class="ky ir">传输</strong>和执行(<em class="me">数据流</em>)，但是它不能<strong class="ky ir"> <em class="me">也不应该</em>打开盒子</strong> <strong class="ky ir">去检查</strong> ( <em class="me">你的数据</em>)。</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="97b1" class="nb mo iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">为什么“工作流编排”比“数据编排”更容易混淆</h1><p id="d6b1" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">一个好的工作流程编排工具(<em class="me">您的交付服务</em>)允许您挑选您的产品，将它们放入盒子中，并根据您的意愿定制您的订单，但最终，它负责<strong class="ky ir">数据移动</strong> ( <em class="me">交付、运输、数据流、执行</em>)，而不是关于那些盒子中的实际产品(<em class="me">您的数据</em>)。因此，术语“数据编排”是一个容易混淆的简写，缺少描述数据在系统中流动时的实际移动的词语。<strong class="ky ir">数据流</strong>编排、工作<strong class="ky ir">流程</strong>编排、数据<strong class="ky ir">运动</strong>编排、数据<strong class="ky ir">处理</strong>编排、数据<strong class="ky ir">传输</strong>编排——所有这些都比速记术语“<strong class="ky ir">数据编排</strong>”清晰得多。</p><p id="4ada" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">工作流编排是关于<strong class="ky ir">数据流</strong>和确保你可以<strong class="ky ir">通过各种故障处理机制依赖它的执行</strong>。它可以让你看到交付花了多长时间。它可以为您提供所有货件更新(您的工作流程执行日志)。它可以告诉您一个箱子是否被成功地运送到最终收件人，但它不能直接打开箱子检查里面产品的品牌、质量和产地。</p><p id="8a5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">借用<a class="ae kv" href="https://medium.com/the-prefect-blog/your-code-will-fail-but-thats-ok-f0327a208dbe" rel="noopener">这篇博客文章</a>中的比喻，编排是关于<strong class="ky ir">箭头</strong>的，这些箭头表示不同的盒子(任务)在执行时的转换，而不是关于<strong class="ky ir">盒子</strong>本身(你的数据)。它应该保证您的流程和任务在正确的时间以正确的顺序和正确的并行性运行。它应该防止错误和失败，帮助您从错误和失败中恢复，并正确解释执行状态。</p></div><div class="ab cl mu mv hu mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="ij ik il im in"><h1 id="7aa6" class="nb mo iq bd nc nd ne nf ng nh ni nj nk jw nl jx nm jz nn ka no kc np kd nq nr bi translated">结论</h1><p id="c56b" class="pw-post-body-paragraph kw kx iq ky b kz ns jr lb lc nt ju le lf nu lh li lj nv ll lm ln nw lp lq lr ij bi translated">本文旨在消除这些术语的歧义，并让您对什么是工作流编排有所了解。如果你还有任何问题或者想进一步讨论这个话题，你可以加入提督社区Slack:<a class="ae kv" href="http://prefect.io/slack" rel="noopener ugc nofollow" target="_blank">prefect.io/slack</a>。</p><p id="2d8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读！</p></div></div>    
</body>
</html>