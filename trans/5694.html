<html>
<head>
<title>*args and **kwargs in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">* Python 中的 args 和**kwargs</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/args-and-kwargs-in-python-184ea4e5a46#2022-12-25">https://towardsdatascience.com/args-and-kwargs-in-python-184ea4e5a46#2022-12-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="1256" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在本文中，我们将探索 Python 中的<strong class="ak"> *args </strong>和<strong class="ak"> **kwards </strong>以及它们在函数中的用法，并给出例子</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3dd5acc24c7e9fcf8da1457dde4c819b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*up2pNf1WT03c3lxkKHSK3w.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@hishahadat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">沙哈达特·拉赫曼</a>在<a class="ae ky" href="https://unsplash.com/photos/gnyA8vd3Otc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="d784" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">目录</strong></p><ul class=""><li id="e664" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">介绍</li><li id="de46" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">* Python 中的参数</li><li id="5557" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">* * Python 中的 kwargs</li><li id="330b" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">结论</li></ul></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="efa7" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">介绍</h1><p id="f776" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在 Python 编程中，我们经常使用自己创建的函数，以使代码更易于重用和理解。</p><p id="c021" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们需要多次执行类似的操作，而不是复制粘贴相同的代码，我们创建一个函数，用新的参数调用多次来执行这个操作。</p><p id="037c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> *args </strong>和<strong class="lb iu"> **kwargs </strong>允许我们向函数传递可变数量的参数，因此扩展了我们创建的函数的可重用性。</p><p id="d0af" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<strong class="lb iu"> *args </strong>和<strong class="lb iu"> **kwargs </strong>的用法主要取决于您的函数将执行什么操作，以及它们接受更多参数作为输入的灵活性。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="8083" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">* Python 中的参数</h1><p id="0175" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">我们先来了解一下<strong class="lb iu"> *args </strong>到底是什么，以及如何使用！</p><p id="bd3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> *args </strong>用于传递可变数量的非关键字参数，使用以下语法:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="f8d9" class="ns mr it no b be nt nu l nv nw">def my_func(*args):<br/>    #do something</span></pre><p id="5ff9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当你不确定函数每次使用时会收到多少个参数时，你可以使用<strong class="lb iu"> *args </strong>。</p><p id="8011" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设您有一个将两个数字相加并返回其和的函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="7a19" class="ns mr it no b be nt nu l nx nw">#Define a function<br/>def add(x, y):<br/><br/>    #Add two numbers<br/>    result = x+y<br/><br/>    #Print the result<br/>    print(f'Result: {result}')</span></pre><p id="4d20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您要用样本值测试这个函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="c094" class="ns mr it no b be nt nu l nx nw">#Test with sample values<br/>add(3, 5)</span></pre><p id="6a86" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="181f" class="ns mr it no b be nt nu l nv nw">8</span></pre><p id="0d10" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，<strong class="lb iu"> add() </strong>函数工作正常，因为它只接受两个参数并返回一个结果。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="36cb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想把三个数字加在一起呢？</p><p id="b50a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以尝试使用<strong class="lb iu"> add() </strong>功能:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="a81b" class="ns mr it no b be nt nu l nx nw">#Test with 3 values<br/>add(3, 5, 9)</span></pre><p id="f5de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是你会得到一个类型错误:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="bb30" class="ns mr it no b be nt nu l nv nw">TypeError: add() takes 2 positional arguments but 3 were given</span></pre><p id="7ffd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">发生这种情况是因为当我们定义<strong class="lb iu"> add() </strong>函数时，我们专门用两个参数<strong class="lb iu"> x </strong>和<strong class="lb iu"> y </strong>定义了它，所以当传递第三个参数时，它应该会返回一个错误。</p><p id="24fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我们如何使这个函数更健壮，以便它接受更多的参数作为输入呢？</p><p id="6533" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是<strong class="lb iu"> *args </strong>派上用场的地方！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="b28f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们重写<strong class="lb iu"> add() </strong>函数，将<strong class="lb iu"> *args </strong>作为参数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="103a" class="ns mr it no b be nt nu l nx nw">#Define a function<br/>def add(*args):<br/>    <br/>    #Initialize result at 0<br/>    result = 0<br/><br/>    #Iterate over args tuple<br/>    for arg in args:<br/>        result += arg<br/><br/>    #Print the result<br/>    print(f'Result: {result}')</span></pre><p id="3657" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> *args </strong>将允许我们向<strong class="lb iu"> add() </strong>函数传递可变数量的非关键字参数。它将作为一个<a class="ae ky" href="https://pyshark.com/python-tuple-data-structure/" rel="noopener ugc nofollow" target="_blank">元组</a>被传递，这意味着我们可以使用<strong class="lb iu"> for </strong>循环来迭代它。</p><p id="7671" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们用示例值来测试这个函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="4ecc" class="ns mr it no b be nt nu l nx nw">#Test with 3 arguments<br/>add(3, 5, 9)<br/><br/>#Test with 5 arguments<br/>add(3, 5, 9, 11, 15)</span></pre><p id="ec1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="2849" class="ns mr it no b be nt nu l nx nw">Result: 17<br/>Result: 43</span></pre><p id="e0ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们通过使用<strong class="lb iu"> *args </strong>使<strong class="lb iu"> add() </strong>函数更具可重用性，使其能够处理可变数量的非关键字参数。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="64f2" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">* * Python 中的 kwargs</h1><p id="520b" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">让我们先来了解一下<strong class="lb iu"> *args </strong>到底是什么以及如何使用它！</p><p id="2075" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> **kwargs </strong>用于使用以下语法传递可变数量的关键字参数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="0e96" class="ns mr it no b be nt nu l nv nw">def my_func(**kwargs):<br/>    #do something</span></pre><p id="c584" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您不确定函数每次使用时会收到多少个参数时，您可以使用<strong class="lb iu"> **kwargs </strong>。</p><p id="d667" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，<strong class="lb iu"> *args </strong>和<strong class="lb iu"> **kwargs </strong>的主要区别在于，<strong class="lb iu"> *args </strong>允许可变数量的<em class="ny">非关键字</em>参数，而 as <strong class="lb iu"> **kwargs </strong>允许可变数量的<em class="ny">关键字</em>参数。</p><p id="6a09" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，假设您有一个函数，它接受两个关键字参数并打印它们的值:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="ffce" class="ns mr it no b be nt nu l nx nw">#Define function<br/>def print_vals(name, age):<br/>    <br/>    #Print first argument<br/>    print(f'name: {name}')<br/>    #Print second argument<br/>    print(f'age: {age}')</span></pre><p id="e214" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您要用样本值测试这个函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="82e5" class="ns mr it no b be nt nu l nx nw">#Test with sample values<br/>print_vals(name='Mike', age=20)</span></pre><p id="9bad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="52d0" class="ns mr it no b be nt nu l nx nw">name: Mike<br/>age: 20</span></pre><p id="684d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">到目前为止，<strong class="lb iu"> print_vals() </strong>函数工作正常，因为它只接受 2 个参数并打印它们。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="c4b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想打印 3 个值呢？</p><p id="6baa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以尝试使用<strong class="lb iu"> print_vals() </strong>函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="5b76" class="ns mr it no b be nt nu l nx nw">#Test with 3 values<br/>print_vals(name='Mike', age=20, city='New York')</span></pre><p id="2cdc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是你会得到一个<em class="ny">类型错误</em>:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="64c9" class="ns mr it no b be nt nu l nv nw">TypeError: print_vals() got an unexpected keyword argument 'city'</span></pre><p id="60a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">出现这种情况是因为我们在定义<strong class="lb iu"> print_vals() </strong>函数时，专门用两个关键字参数<strong class="lb iu"> name </strong>和<strong class="lb iu"> age </strong>定义了它，所以当第三个关键字参数被传递时，它应该会返回一个错误。</p><p id="28aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是我们如何使这个函数更加健壮，以便它可以接受更多的关键字参数作为输入呢？</p><p id="c35d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是<strong class="lb iu"> **kwargs </strong>派上用场的地方！</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="16dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们重写<strong class="lb iu"> add() </strong>函数，将<strong class="lb iu"> *args </strong>作为参数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="593e" class="ns mr it no b be nt nu l nx nw">#Define function<br/>def print_vals(**kwargs):<br/>    <br/>    #Iterate over kwargs dictionary<br/>    for key, value in kwargs.items():<br/>        <br/>        #Print key-value pairs<br/>        print(f'{key}: {value}')</span></pre><p id="a04e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> **kwargs </strong>将允许我们向<strong class="lb iu"> print_vals() </strong>函数传递可变数量的关键字参数。它将作为<a class="ae ky" href="https://pyshark.com/python-dictionary-data-structure/" rel="noopener ugc nofollow" target="_blank">字典</a>被传递，这意味着我们可以使用<strong class="lb iu"> for </strong>循环来迭代它。</p><p id="1091" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们用示例值来测试这个函数:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="51b4" class="ns mr it no b be nt nu l nx nw">#Test with 3 keyword arguments<br/>print_vals(name='Mike', age=20, city='New York')<br/><br/>#Test with 5 keyword arguments<br/>print_vals(name='Mike', age=20, city='New York', height=6.0, weight=180)</span></pre><p id="3d9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您应该得到:</p><pre class="kj kk kl km gt nn no np bn nq nr bi"><span id="4c3f" class="ns mr it no b be nt nu l nv nw">name: Mike<br/>age: 20<br/>city: New York<br/><br/>name: Mike<br/>age: 20<br/>city: New York<br/>height: 6.0<br/>weight: 180</span></pre><p id="0c79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们通过使用<strong class="lb iu"> **kwargs </strong>使<strong class="lb iu"> print_vals() </strong>函数具有更高的可重用性，使其能够处理数量可变的关键字参数。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><h1 id="624a" class="mq mr it bd ms mt mu mv mw mx my mz na jz nb ka nc kc nd kd ne kf nf kg ng nh bi translated">结论</h1><p id="d2cb" class="pw-post-body-paragraph kz la it lb b lc ni ju le lf nj jx lh li nk lk ll lm nl lo lp lq nm ls lt lu im bi translated">在这篇文章中，我们将探索<a class="ae ky" href="https://docs.python.org/3/library/" rel="noopener ugc nofollow" target="_blank"> Python </a>中的<strong class="lb iu"> *args </strong>和<strong class="lb iu"> **kwards </strong>以及它们在函数中的使用，并给出例子。</p><p id="2408" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">既然您已经知道了基本的功能，您可以通过在不同的项目中重写一些现有的代码来实践它，并尝试解决更复杂的用例。</p><p id="6298" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有任何问题或者对编辑有任何建议，请在下面留下评论，并查看我的更多<a class="ae ky" href="https://pyshark.com/category/python-functions/" rel="noopener ugc nofollow" target="_blank"> Python 函数</a>教程。</p></div><div class="ab cl mj mk hx ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="im in io ip iq"><p id="02c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ny">原载于 2022 年 12 月 25 日 https://pyshark.com</em><a class="ae ky" href="https://pyshark.com/args-and-kwargs-in-python/" rel="noopener ugc nofollow" target="_blank"><em class="ny"/></a><em class="ny">。</em></p></div></div>    
</body>
</html>