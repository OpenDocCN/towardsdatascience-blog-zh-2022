<html>
<head>
<title>Review of the RStudio Workshop — Building Tidy Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">RStudio工作坊回顾——打造整洁的工具</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/review-of-the-rstudio-workshop-building-tidy-tools-434c606029e2#2022-08-22">https://towardsdatascience.com/review-of-the-rstudio-workshop-building-tidy-tools-434c606029e2#2022-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0a893c407dc4ece65981c0af6f64d168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C8POsurxlJaY9Cm0"/></div></div><p class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kc" href="https://unsplash.com/es/@kvalifik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Kvalifik </a>拍摄的照片</p></figure><p id="af91" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="lb">打造整洁的工具</em>是RStudio每年在其RStudio会议上提供的众多研讨会之一。我参加了2022年7月25日至7月26日在DC举行的上一次会议的研讨会。在这篇博客文章中，你将会看到一份研讨会内容的总结，以及我对整个研讨会的看法。如果你正在考虑参加这个研讨会，希望这篇文章能给你一些帮助。</p><p id="89ec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在进入更多细节之前，这里有一些关于研讨会的快速事实，以帮助您确定这是否是适合您的内容:</p><h2 id="2893" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">这是什么？</h2><p id="e787" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">该研讨会是一个为期两天的实践培训，教授如何使用<em class="lb">【tidy】</em>设计或编码原则在R中构建包，这些原则在包含在包universe—<a class="ae kc" href="https://cran.r-project.org/web/packages/tidyverse/vignettes/paper.html" rel="noopener ugc nofollow" target="_blank"><em class="lb">tidy verse</em></a>中的包中进行了演示。</p><h2 id="89a6" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">谁是主要受众？</h2><p id="06f1" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">该研讨会的官方网站称，任何有编写R函数经验并准备好发布其作品的人都应该是合适的候选人。我认为这是一个相当准确的要求，但为了使它更具体，我想说如果他/她以前已经尝试过构建R包，那么他/她将从这个研讨会中获得最大的收益。但这只是我的看法:)</p><p id="350e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以现在让我们深入了解细节。</p><h1 id="b266" class="ma ld iq bd le mb mc md lh me mf mg lk mh mi mj ln mk ml mm lq mn mo mp lt mq bi translated">用两天时间将功能打包</h1><p id="0b02" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">如前所述，这是两天的事情。我认为这两天的内容针对包开发旅程的两个不同方面:创建包的过程和编写R编程的最佳实践。最终目标是带领培训生实时地构建和改进一个包。事实上，你可以在这里检查你将在研讨会后生产的最终产品，R包。</p><p id="5ebf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了使我的总体回顾更有条理，我将把总结和评论分成几个部分来分享。</p><h2 id="20cc" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">第1天:构建概念验证包</h2><p id="7f34" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">如果你参加这个研讨会的目的是想知道如何扔掉一堆包装在R包中的脚本并开始使用它，那么第一天的材料就足够了！你将在一天之内从理解什么是R包到构建你的第一个R包，甚至为你的包创建一个站点！所有这一切，在我看来，可能是最无痛的方式。</p><p id="3dc5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一天的内容分为四个部分:</p><p id="2e68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">第一场:整场比赛</strong></p><p id="70a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在建立了一些基本规则并讨论了研讨会的议程后，你将会对“什么是R包”有一个温和的介绍。本课程将让您开始R项目，并为开始构建R包做好基础工作。</p><p id="3629" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您将开始您的R包开发项目，设置版本控制，将您的第一个函数添加到包中，了解基本的包开发工作流和许可。除非您遇到一些技术异常，否则这个会议应该会非常顺利，并让您对构建R包有很好的体验。</p><p id="eb7c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">第二场会议:文件-最少</strong></p><p id="12c6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">顾名思义，这一节是关于文档的,“最少”部分意味着这一节的讨论将只解释最少的文档:填写描述文件和函数的最少描述——如果在r。</p><p id="2302" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您将了解描述文件——R包的定义文件之一，了解包含什么和不包含什么。</p><blockquote class="mv mw mx"><p id="d07b" class="kd ke lb kf b kg kh ki kj kk kl km kn my kp kq kr mz kt ku kv na kx ky kz la ij bi translated">请特别注意关于包依赖关系的部分。没有恰当地包含依赖关系会导致很多令人头疼的问题。</p></blockquote><p id="0a0b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于函数文档，您将学习如何使用<em class="lb"> Roxygen、</em>和<em class="lb"> devtool </em>包来自动转换函数脚本中的注释以生成文档。</p><p id="0ba4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">会议03:单元测试</strong></p><p id="f012" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可能是一天中最具挑战性的部分01。您将了解如何使用包<em class="lb"> testthat </em>来设置测试过程，以便在每次迭代或修改函数后自动运行测试。从不同的用例中建立测试用例，将会在一个包的整个生命周期中减少很多不必要的东西。这一节将向您介绍<code class="fe mr ms mt mu b"><em class="lb">expect_*() </em></code>系列函数，它将使设置不同的测试场景变得更加容易。</p><p id="ffff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">第四场会议:文件共享</strong></p><p id="0465" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一节详细介绍了使您的包对其他人有用所需的文档——比如在GitHub页面中建立一个<em class="lb"> readme </em>文件，创建一个<em class="lb">小插图</em>来详细描述包及其内容。</p><p id="9e56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">除了这些文档之外，您还将使用<em class="lb"> GitHub Actions </em>建立一个<a class="ae kc" href="https://en.wikipedia.org/wiki/CI/CD" rel="noopener ugc nofollow" target="_blank"> CI-CD管道</a>,以确保代码中的任何更改一旦被推送到GitHub，所有的测试都会运行，文档都会更新。</p><blockquote class="mv mw mx"><p id="c43f" class="kd ke lb kf b kg kh ki kj kk kl km kn my kp kq kr mz kt ku kv na kx ky kz la ij bi translated">最激动人心的部分——一天下来，你将拥有一个实用的软件包和一个很酷的网站！</p></blockquote><p id="ee03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，第一天进行得很顺利，让大家对拥有一个真正的包裹感到兴奋。它展示了使用像<em class="lb"> usethat </em>和<em class="lb"> devtool </em>这样的包来打包代码是多么容易。</p><h2 id="6646" class="lc ld iq bd le lf lg dn lh li lj dp lk ko ll lm ln ks lo lp lq kw lr ls lt lu bi translated">第2天:为你的长期成功做准备——至少我是这么认为的。</h2><p id="977c" class="pw-post-body-paragraph kd ke iq kf b kg lv ki kj kk lw km kn ko lx kq kr ks ly ku kv kw lz ky kz la ij bi translated">如果第01天是让您对构建R包感到兴奋，那么第02天是为您的长期成功做准备，这意味着它超越了严格的包构建，深入研究了R的一些内部工作，讨论了最佳实践等等。与第一天相似，第二天也是四节课。</p><p id="1de9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">第一场会议:设计</strong></p><p id="beb8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本节首先简要讨论tiyeval 如何工作，然后讨论编写函数的一些最佳实践，例如:命名、大小写、参数序列，以及将纯函数与有副作用的函数分开。第二节课将更详细地讨论带有副作用的纯vs函数。</p><p id="36b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">会议02:控制副作用</strong></p><p id="fc68" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">本节讨论了测试和管理函数产生的副作用的方法。您将练习使用方法来验证输入和中止函数(如果需要的话),以及如何编写用户友好的错误消息。此外，如何在不改变全球环境的情况下发挥作用。</p><p id="829b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">会议03:整洁评估</strong></p><p id="4223" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您已经用R编写了一段时间的代码，并且也涉猎了Python等其他语言，那么您可能已经注意到，与Python不同的是，您可以将R函数中的列名作为非字符串值传递。Tidy eval使R有可能将裸名理解为列名。这是一个方便的特性，但不是我最喜欢的，本节将详细介绍这个功能。</p><p id="1150" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">涵盖的具体主题有:利用三个点(…)作为tidy函数的输入，使用拼接(！！！)功能，使用双花({{}})，实用一些非常具体的整理功能，如any_of()、all_of()、跨和比较代码快照。</p><p id="e2b6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，本节介绍了一些非常具体的工具和功能，这些工具和功能将使功能更加<em class="lb">整洁</em>和易于维护。</p><p id="8933" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">会议04:函数式和面向对象编程(OOP) </strong></p><p id="bd03" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">第2天的课程涵盖了许多需要更多关注和注意才能正确理解的内容。作为最后一次会议，由于时间限制，这部分有点仓促。这个会议是关于如何在r中实现函数式编程的。</p><blockquote class="mv mw mx"><p id="9230" class="kd ke lb kf b kg kh ki kj kk kl km kn my kp kq kr mz kt ku kv na kx ky kz la ij bi translated">使用函数作为参数是函数式编程的基础。—引自会议幻灯片。</p></blockquote><p id="8987" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这次会议中，我没有发现太多关于OOP的内容，老实说，我也不认为R是实践OOP的正确语言。如果你喜欢OOP，那么Python会更适合你。</p><p id="8da1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对利用<em class="lb"> purrr </em>包在r语言中进行函数式编程进行了快速讨论和动手练习。</p><p id="67ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，除了确定的任务列表之外，第02天充满了来自Ian的有用的建议，他是一名教师，有着丰富的编程经验。此外，这些幻灯片还加载了额外的资源，以便浏览和了解更多有关R内部工作方式和一般编码最佳实践的信息。</p><p id="7a35" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">总的来说，我对这个研讨会非常满意——它设计得很好，经过深思熟虑，我觉得它对不同专业水平的人都有帮助。对于对构建R包感兴趣的人来说，第01天是一个很好的激励。对于一个充满热情的R程序员来说，第02天充满了让他们的R之旅更加顺利的建议和技巧。</p><p id="ebe9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，课程材料是开源的。这里是课程<a class="ae kc" href="https://rstudio-conf-2022.github.io/build-tidy-tools/" rel="noopener ugc nofollow" target="_blank">网站</a>，这里是工作坊<a class="ae kc" href="https://github.com/rstudio-conf-2022/build-tidy-tools" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>。</p></div></div>    
</body>
</html>