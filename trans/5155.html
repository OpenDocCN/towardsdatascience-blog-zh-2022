<html>
<head>
<title>Simple Logistic Regression for Ordinal Variables in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R 中序数变量的简单逻辑回归</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-logistic-regression-for-ordinal-variables-in-r-1d95fa278c5e#2022-11-17">https://towardsdatascience.com/simple-logistic-regression-for-ordinal-variables-in-r-1d95fa278c5e#2022-11-17</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="f3ee" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">R 系列中的统计</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/9f42b2f0a28b8101a7691b07065d2bc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fC7qjmWnOC3zhg-HPxG6kw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">苏珊·Q·尹在<a class="ae kz" href="https://unsplash.com/s/photos/education?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><blockquote class="la lb lc"><p id="c012" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">简介</strong></p></blockquote><p id="0e14" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">当我们处理序数变量时，逻辑回归变得相当有趣。与二元变量不同，现在我们有顺序预测变量和响应变量。我们可以有这样的情况，预测变量是有序的，响应变量是二进制的，反之亦然。有序变量是指具有有序数据的变量。例如，我们可以将教育水平数据分为“高中”、“学士”、“硕士”和“博士”。这些数据以有序的方式显示了几个级别的可能分类值。在本文中，我们将深入研究序数变量的简单逻辑回归。</p><p id="f2d3" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在以前的文章中，我们已经经历了简单的和多重的逻辑回归。读者可以看看这些文章，以便更好地理解逻辑回归。</p><div class="md me gq gs mf mg"><a rel="noopener follow" target="_blank" href="/simple-logistic-regression-for-dichotomous-variables-in-r-8befbe3e95b4"><div class="mh ab fp"><div class="mi ab mj cl cj mk"><h2 class="bd iv gz z fq ml fs ft mm fv fx it bi translated">R 中二分变量的简单 Logistic 回归</h2><div class="mn l"><h3 class="bd b gz z fq ml fs ft mm fv fx dk translated">R 系列中的统计</h3></div><div class="mo l"><p class="bd b dl z fq ml fs ft mm fv fx dk translated">towardsdatascience.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu kt mg"/></div></div></a></div><div class="md me gq gs mf mg"><a href="https://mdsohel-mahmood.medium.com/multiple-logistic-regression-in-r-aa65c2a91e22" rel="noopener follow" target="_blank"><div class="mh ab fp"><div class="mi ab mj cl cj mk"><h2 class="bd iv gz z fq ml fs ft mm fv fx it bi translated">R 中二分变量的多元 Logistic 回归</h2><div class="mn l"><h3 class="bd b gz z fq ml fs ft mm fv fx dk translated">R 系列中的统计</h3></div><div class="mo l"><p class="bd b dl z fq ml fs ft mm fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="mp l"><div class="mv l mr ms mt mp mu kt mg"/></div></div></a></div><blockquote class="la lb lc"><p id="db9f" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">数据集</strong></p></blockquote><p id="553f" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">这里，我们将使用来自 UCI 机器学习知识库的<a class="ae kz" href="https://archive.ics.uci.edu/ml/datasets/adult" rel="noopener ugc nofollow" target="_blank"> <strong class="lg iv">成人数据集</strong> </a> <strong class="lg iv"> </strong>。这个数据集有超过 30000 个人的人口统计数据，包括种族，教育，职业，性别，每周工作时间，收入水平等。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mw"><img src="../Images/1c3b34be0b0fa98485430fa326dc406a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QnPjsYCY5mIEitJpVvYvqg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://archive.ics.uci.edu/ml/datasets/adult" rel="noopener ugc nofollow" target="_blank"> <strong class="bd mx">成人数据集</strong> </a> <strong class="bd mx"> </strong>来自 UCI 机器学习资源库</p></figure><p id="432c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">为了进行有序逻辑回归研究，我们需要对给定的数据稍加修改。但首先，我们提出一个学习问题。</p><blockquote class="my"><p id="bdca" class="mz na iu bd nb nc nd ne nf ng nh lz dk translated">受教育程度对收入水平有什么影响？</p></blockquote><p id="0e46" class="pw-post-body-paragraph ld le iu lg b lh ni jv lj lk nj jy lm ma nk lp lq mb nl lt lu mc nm lx ly lz in bi translated">要回答这个问题，我们需要教育和收入水平的标签编码数据。给定数据集的教育水平从一年级一直到博士学位。收入水平是二元的，提供了个人收入是否超过 50000 美元的信息。因此，我们有序数预测变量和二元反应变量。让我们在 r 中执行分析。</p><p id="27b1" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://github.com/mdsohelmahmood/Statistics-in-R-Series/tree/main/Simple%20Logistic%20Regression" rel="noopener ugc nofollow" target="_blank">链接到 github 中的 excel 文件</a>(成人— v2 —适用于 github.xlsx)</p><blockquote class="la lb lc"><p id="37b1" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">在 R 实施</strong></p></blockquote><p id="5402" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们首先完成了“教育标签编码”专栏。由于这是一个序数数据，我们需要设置适当的顺序，并设置数值。顺序和设定值如下所示。我们将使用 Education_code 专栏，并通过利用它来尝试回答手头的问题。我们将看看这种教育水平对收入是否有任何影响。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nn"><img src="../Images/a938b71c6e26da2a034e5c050395f6bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*0VYKBBpIPuMxLtiRUqJ7Nw.png"/></div></figure><p id="be54" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们的收入数据是二进制的。这意味着我们只有两个级别:收入&gt; 50000 美元和收入≤50000 美元。我们还将相应的数据编码为 1(收入&gt; 50000 美元)和 0(收入≤ $50000 美元)。</p><p id="9f3d" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在 R 中，我们将首先读取修改后的数据，并将所需的列传递给 clm()函数。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="no np l"/></div></figure><p id="7512" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">这里，我们使用了 clm()函数来代替 glm()。clm()代表累积链接模型，我们需要安装“顺序”包来使用 clm()函数。</p><blockquote class="la lb lc"><p id="9db0" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结果解读</strong></p></blockquote><p id="e9b4" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">为了阐明研究顺序，我们用不同的顺序变量组运行了三个相似的模型。</p><ol class=""><li id="44a4" class="nq nr iu lg b lh li lk ll ma ns mb nt mc nu lz nv nw nx ny bi translated">模型 1:如上所述，它具有代表不同教育水平的序数预测变量“教育代码”。它还有二进制响应变量“Income_greater_than_50k_code ”,我们通过将最低值分配给收入类别≤$50000，最高值分配给收入类别&gt; $50000，使其成为序数。</li><li id="6860" class="nq nr iu lg b lh nz lk oa ma ob mb oc mc od lz nv nw nx ny bi translated">模型 2:该模型有二元预测变量“单身汉”(如果个体有单身汉，赋值为 1，否则为 0)。响应变量与模型 1 相同。</li><li id="cb2d" class="nq nr iu lg b lh nz lk oa ma ob mb oc mc od lz nv nw nx ny bi translated">模型 3:该模型具有连续的预测变量“Education _ yrs ”,这是一个数字变量，响应变量与之前的模型相同。</li></ol><p id="e7e9" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们将运行我们的数据集，解释每个案例的结果，并进行比较。</p><blockquote class="la lb lc"><p id="c060" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">模型 1 结果</strong></p></blockquote><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/83a53c78ed435eb0a9dcdc50238ff767.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLGbldKLkHwJ9xh5DZMzdQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">模型 1 结果</p></figure><p id="9975" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">clm()的输出窗口与 glm()函数略有不同。第一部分显示了链接函数、阈值选项、观察次数、对数似然值、AIC 统计、迭代次数、对数似然函数的最大绝对梯度和 Hessian 条件数。</p><p id="982a" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">“教育 _ 代码”的系数估计值为正，值为 0.562。其次，个人教育水平每增加一个单位，我们就有相关的 p 值&lt; 0.05 and it indicates statistically significant data for the predictor variable.</p><p id="a36d" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Based on these figures, it can be concluded that there is a 0.562 increase in the logit or log odds of income level being 1 (i.e. income &gt;【50000 美元】。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj of"><img src="../Images/7f8a118c6d9fd16b0990277df389aae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9eij7lBN_ZoiK1BQjueJcw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">模型 1 结果</p></figure><p id="37d1" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">关于伪 R 值，我们的麦克法登值为 0.098，稍后我们将比较其他模型。还将比较 AIC/BIC 的统计数据，因为单个模型的单个值在逻辑回归中没有太大意义。</p><blockquote class="la lb lc"><p id="1665" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">模型 2 结果</strong></p></blockquote><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj og"><img src="../Images/36760a1a826d7281cef68559ef1086f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5oYOotSDBsTPVad7TvyB1A.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">模型 2 结果</p></figure><p id="1efe" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">“单身汉”列数据是二元的，它类似于我们之前做的简单逻辑回归。根据这些数字，我们可以得出结论，个人教育水平每增加一个单位，收入水平的对数或对数优势就增加 1.567。因此，拥有学士学位比仅仅提高教育水平 1 级(来自模型 1)有更大的影响。如果个人拥有学士学位，相关的 p 值也是&lt; 0.05.</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oh"><img src="../Images/3c1695d5fec8b21567f10618cc33ecc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*29i6KpkDDiwjbdm6FRrDPg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Model 2 result</p></figure><p id="7b87" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Regarding the pseudo R² value, we have McFadden value of 0.087 which is smaller than model 1. So, model 2 implies lesser significance for the predictor variable. What I mean is Bachelor column’s data have less significant impact on the income data than the ‘Education_code’ data which represents the ordinal values for education levels.</p><p id="6c59" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">AIC/BIC statistics are also higher in model 2 which also indicates more robustness for model 1.</p><p id="ba2a" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Since both the predictor and the response variable are binary, it makes more sense to use glm() function here. But this glm() should be run before factoring the variables.</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oi"><img src="../Images/8598d902edcd3fea76aae7c650d18881.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sGV7EdEL1LYkm4Nb3uBeuA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Model 2 result using glm()</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oj"><img src="../Images/5a83066455ba6a7a97caf2649ed94644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TcObDngshKA8j4Ksl3W9WA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Model 2 result using glm()</p></figure><p id="e0dc" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Using glm() function, the coefficient becomes 0.314 which implies logit increase of 0.314 for income having &gt;50000 美元。麦克法登的伪 R 值是 0.0978。AIC/BIC 值高于模型 1(类似于模型 2 的 clm()结果)。</p><blockquote class="la lb lc"><p id="a216" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">模型 3 结果</strong></p></blockquote><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ok"><img src="../Images/173688298bb18b8045c690205a378f60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7TQULht6h1nsTJ9OQhlm8w.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">模型 3 结果</p></figure><p id="7291" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">“Education_yrs”列数据在模型 3 中是连续的。根据这些数字，我们可以得出结论，个人受教育年限每增加一个单位，收入水平的 logit 或 log 比值就会增加 0.351。相关的 p 值也是&lt; 0.05.</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj ol"><img src="../Images/ff0a27279a041aad624a78bf8d7ba157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gbUQArq9B0w8ChaSuE263Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Model 3 result</p></figure><p id="f94a" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">Regarding the pseudo R² value, we have McFadden value of 0.106 which is higher than model 1 and model 2.</p><p id="b06c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">AIC/BIC statistics are also smaller in model 3 which also indicates more robustness for this model.</p><blockquote class="la lb lc"><p id="2795" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结论</strong></p></blockquote><p id="80b6" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们已经经历了三个模型，其中包括顺序预测变量和二元反应变量的逻辑回归。第一个模型有顺序教育变量和二元收入变量。第二个模型包含二元教育变量和二元收入变量。第三个模型有连续教育年限变量和二元收入变量。所有这些模型都根据伪 R 和 AIC/BIC 统计进行了比较。读者也可以将模型扩展到序数反应变量。</p><blockquote class="la lb lc"><p id="5e68" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">数据集的确认</strong></p></blockquote><p id="7cf4" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated"><a class="ae kz" href="https://archive.ics.uci.edu/ml/datasets/adult" rel="noopener ugc nofollow" target="_blank"> Dua，d .和 Graff，C. (2019)。UCI 机器学习知识库[http://archive . ics . UCI . edu/ml]。加州欧文:加州大学信息与计算机科学学院。</a></p><p id="b859" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">感谢阅读。</p><div class="md me gq gs mf mg"><a href="https://mdsohel-mahmood.medium.com/membership" rel="noopener follow" target="_blank"><div class="mh ab fp"><div class="mi ab mj cl cj mk"><h2 class="bd iv gz z fq ml fs ft mm fv fx it bi translated">用我的推荐链接加入媒体</h2><div class="mn l"><h3 class="bd b gz z fq ml fs ft mm fv fx dk translated">阅读 Md Sohel Mahmood(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="mo l"><p class="bd b dl z fq ml fs ft mm fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="mp l"><div class="om l mr ms mt mp mu kt mg"/></div></div></a></div><div class="md me gq gs mf mg"><a href="https://mdsohel-mahmood.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="mh ab fp"><div class="mi ab mj cl cj mk"><h2 class="bd iv gz z fq ml fs ft mm fv fx it bi translated">每当 Md Sohel Mahmood 发表文章时，都会收到一封电子邮件。</h2><div class="mn l"><h3 class="bd b gz z fq ml fs ft mm fv fx dk translated">每当 Md Sohel Mahmood 发表文章时，都会收到一封电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="mo l"><p class="bd b dl z fq ml fs ft mm fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="mp l"><div class="on l mr ms mt mp mu kt mg"/></div></div></a></div></div></div>    
</body>
</html>