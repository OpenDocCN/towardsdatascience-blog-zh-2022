<html>
<head>
<title>Delete rows and columns from a DataFrame using Pandas drop()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Pandas drop()从数据帧中删除行和列</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/delete-rows-and-columns-from-a-dataframe-using-pandas-drop-d2533cf7b4bd#2022-02-08">https://towardsdatascience.com/delete-rows-and-columns-from-a-dataframe-using-pandas-drop-d2533cf7b4bd#2022-02-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6d91" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">掌握熊猫滴9招()加速你的数据分析</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3169ed160cbf9ad1ab8a0496e0f37891.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2JLE0tmDy4dkVMk7PMuP9Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@bernardhermant?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">伯纳德·赫尔曼</a>在<a class="ae ky" href="https://unsplash.com/s/photos/remove-keyboard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><blockquote class="kz la lb"><p id="c125" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">数据操作指的是调整数据以使其有组织且更易于阅读的过程。通常，有些数据是不可用的，会干扰重要的数据。应该清理和删除不必要或不准确的数据。</p><p id="4e88" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">来源于solvexia.com[1]</p></blockquote><p id="f906" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">从Pandas数据帧中删除一个或多个行/列可以通过多种方式实现。其中，最常见的就是<code class="fe mc md me mf b">drop()</code>法。这种方法似乎很容易使用，但是仍然有一些技巧你应该知道，以加快你的数据分析。</p><p id="2271" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在本文中，您将学习熊猫<code class="fe mc md me mf b">drop()</code>处理以下用例的技巧:</p><ol class=""><li id="5a79" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly ml mm mn mo bi translated">删除单行</li><li id="e253" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">删除多行</li><li id="b60a" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">基于行位置和自定义范围删除行</li><li id="012a" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">删除单个列</li><li id="b83b" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">删除多列</li><li id="0875" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">基于列位置和自定义范围删除列</li><li id="3eec" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">使用多索引数据框架</li><li id="c849" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">用<code class="fe mc md me mf b">inplace=True</code>做操作到位</li><li id="de7c" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">用<code class="fe mc md me mf b">error='ignore'</code>抑制错误</li></ol><blockquote class="mu"><p id="e412" class="mv mw it bd mx my mz na nb nc nd ly dk translated">请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/063-pandas-drop/pandas-drop.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p></blockquote></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="e742" class="nl nm it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">1.删除单行</h1><p id="49c0" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">默认情况下，熊猫<code class="fe mc md me mf b">drop()</code>会根据它们的<strong class="lf iu">索引值</strong>删除该行。通常，每行的索引值是一个从0开始的整数值。指定行索引会删除它，例如删除索引值为<code class="fe mc md me mf b">1</code>的行。：</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="7bb6" class="om nm it mf b gy on oo l op oq">df.<strong class="mf iu">drop(1)</strong></span><span id="f786" class="om nm it mf b gy or oo l op oq"># It's equivalent to<br/>df.<strong class="mf iu">drop(labels=1)</strong></span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/309b3a6e1e055196839561d7d93ac0ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9OKyJEdsuEmJRtLKbjBdXQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除一行(图片由作者提供)</p></figure><p id="cb7d" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">注意，删除行必须将参数<code class="fe mc md me mf b">axis</code>设置为<code class="fe mc md me mf b">0</code>(在Pandas <code class="fe mc md me mf b">drop()</code>中，<code class="fe mc md me mf b">axis</code>默认为<code class="fe mc md me mf b">0</code>，所以可以省略)。如果指定了<code class="fe mc md me mf b">axis=1</code>，它将删除列。</p><p id="74f0" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">或者，从DataFrame中删除一行的更直观的方法是使用<code class="fe mc md me mf b">index</code>参数。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="1366" class="om nm it mf b gy on oo l op oq"># A more intuitive way<br/>df.drop(<strong class="mf iu">index=1</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ot"><img src="../Images/a9c924937a4c8d9e08edd62978b0be28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M5t91XC4OyxnC13k-r0N1g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除一行(图片由作者提供)</p></figure><h1 id="a128" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">2.删除多行</h1><p id="3d88" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">熊猫<code class="fe mc md me mf b">drop()</code>可以带列表删除多行:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="e50b" class="om nm it mf b gy on oo l op oq">df.drop(<strong class="mf iu">[1,2]</strong>)</span><span id="1803" class="om nm it mf b gy or oo l op oq"># It's equivalent to<br/>df.drop(<strong class="mf iu">labels=[1,2]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/5425524192f3e514bd16dffaba8cb299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHsdaSSpLrs7oaOdJTYawA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除多行(图片由作者提供)</p></figure><p id="21a7" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">类似地，删除多行的更直观的方法是将一个列表传递给<code class="fe mc md me mf b">index</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="0f15" class="om nm it mf b gy on oo l op oq"># A more intuitive way<br/>df.drop(<strong class="mf iu">index=[1,2]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/f19a4febb70600d3520f0632c043d332.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JcQzfFYI88CTnnddLKG-TQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除多行(图片由作者提供)</p></figure><h1 id="99ef" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">3.基于行位置和自定义范围删除行</h1><p id="74ad" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">数据帧索引值可能不是升序，有时它们可以是任何其他值，例如日期时间或字符串标签。对于这些情况，我们可以根据行的位置删除行，例如，删除第二行，我们可以调用<code class="fe mc md me mf b">df.index[<strong class="lf iu">1</strong>]</code>并将其传递给<code class="fe mc md me mf b">index</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="b940" class="om nm it mf b gy on oo l op oq">df.drop(index=<strong class="mf iu">df.index[1]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pb"><img src="../Images/a0f15142cfd2c145ddd0694f4853f836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0qURW-DY29YRPndcaVTw2w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据行位置删除行(作者图片)</p></figure><p id="f44f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要删除最后一行，我们可以使用快捷方式，如标识最后一个索引的<code class="fe mc md me mf b">-1</code>:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="84e8" class="om nm it mf b gy on oo l op oq">df.drop(index=<strong class="mf iu">df.index[-1]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pc"><img src="../Images/ff7160ee3a573afdc9316052c54aea19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uvNd0WIwdPuuxIYuMH9--A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据行位置删除行(作者图片)</p></figure><p id="85d4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">例如，我们还可以使用切片技术来选择一系列行</p><ul class=""><li id="c189" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly pd mm mn mo bi translated">删除最后2行<code class="fe mc md me mf b">df.drop(index=df.index[<strong class="lf iu">-2:</strong>])</code></li><li id="81a2" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly pd mm mn mo bi translated">删除每隔一行<code class="fe mc md me mf b">df.drop(index=df.index[<strong class="lf iu">::2</strong>])</code></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/61a38326d1cec4e105e8783748dd6a4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m6DUoZoC5yRd1D173FH-Wg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据行位置删除行(作者图片)</p></figure><p id="775f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您想了解关于切片技术以及如何使用行索引来选择数据的更多信息，可以查看本文:</p><div class="pf pg gp gr ph pi"><a rel="noopener follow" target="_blank" href="/how-to-use-loc-and-iloc-for-selecting-data-in-pandas-bd09cb4c3d79"><div class="pj ab fo"><div class="pk ab pl cl cj pm"><h2 class="bd iu gy z fp pn fr fs po fu fw is bi translated">如何使用loc和iloc在Pandas中选择数据</h2><div class="pp l"><h3 class="bd b gy z fp pn fr fs po fu fw dk translated">熊猫帮助你开始数据分析的提示和技巧</h3></div><div class="pq l"><p class="bd b dl z fp pn fr fs po fu fw dk translated">towardsdatascience.com</p></div></div><div class="pr l"><div class="ps l pt pu pv pr pw ks pi"/></div></div></a></div><h1 id="9c01" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">4.删除单个列</h1><p id="9bcb" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">类似于删除行，Pandas <code class="fe mc md me mf b">drop()</code>可以通过将<code class="fe mc md me mf b">axis</code>参数指定给<code class="fe mc md me mf b">1</code>来删除列:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="cfaa" class="om nm it mf b gy on oo l op oq">df.drop(<strong class="mf iu">'math', axis=1</strong>)</span><span id="4f80" class="om nm it mf b gy or oo l op oq"># It's equivalent to<br/>df.drop(<strong class="mf iu">labels='math', axis=1</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oz"><img src="../Images/da084ff4ccdade6e337acf5a1c0fb8a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MTmCZ5sCsT8jPDA4dGr0-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除单个列(图片由作者提供)</p></figure><p id="78ca" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">从DataFrame中删除列的更直观的方法是使用<code class="fe mc md me mf b">columns</code>参数。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="fe8c" class="om nm it mf b gy on oo l op oq"># A more intuitive way<br/>df.drop(<strong class="mf iu">columns='math'</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi px"><img src="../Images/002880a62090082efef6402f250e4619.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vY2-Ph9-_4I7sDXGpDJy8w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除单个列(图片由作者提供)</p></figure><h1 id="2448" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">5.删除多列</h1><p id="515a" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">类似地，我们可以通过一个列表来删除多个列:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="9889" class="om nm it mf b gy on oo l op oq">df.drop(<strong class="mf iu">['math', 'physics']</strong>, <strong class="mf iu">axis=1</strong>)</span><span id="e57a" class="om nm it mf b gy or oo l op oq"># It's equivalent to<br/>df.drop(<strong class="mf iu">labels=['math', 'physics']</strong>, <strong class="mf iu">axis=1</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/fabffc2748eb7bf9d3c32c81af873092.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oVlcs3Eq6PonvBPptQ95dA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除多个列(图片由作者提供)</p></figure><p id="3f3f" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">删除多列的一个更直观的方法是将一个列表传递给<code class="fe mc md me mf b">columns</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="85f1" class="om nm it mf b gy on oo l op oq"># A more intuitive way<br/>df.drop(<strong class="mf iu">columns=['math', 'physics']</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/06e2ffd9bcaf623fcd919ddcb6e5c3ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i1pWwAdKrSm0gz2lg5Hfrw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Pandas drop()删除多个列(图片由作者提供)</p></figure><h1 id="d63b" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">6.基于列位置和自定义范围删除列</h1><p id="ffa3" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">我们可以根据列的位置删除一列，例如，删除第二列，我们可以调用<code class="fe mc md me mf b">df.<strong class="lf iu">column</strong>[<strong class="lf iu">1</strong>]</code>并将其传递给<code class="fe mc md me mf b">columns</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="a310" class="om nm it mf b gy on oo l op oq">df.drop(<strong class="mf iu">columns=df.columns[1]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pa"><img src="../Images/4471fef7df69776b4f4094b88a9b5efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e3lAUdZqqhXzrG8gRMteTw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据列的位置删除列(图片由作者提供)</p></figure><p id="5310" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要删除最后一列，我们可以使用快捷方式，如标识最后一个索引的<code class="fe mc md me mf b">-1</code>:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="913a" class="om nm it mf b gy on oo l op oq">df.drop(columns=<strong class="mf iu">df.columns[-1]</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/d98a5ee105e6fafd259c9ab8b34815d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mQ61yHu0Tb6q2t_93mwqXA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据列的位置删除列(图片由作者提供)</p></figure><p id="9ee6" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">类似地，我们也可以使用切片技术来选择一系列列，例如</p><ul class=""><li id="06a6" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly pd mm mn mo bi translated">删除最后2列<code class="fe mc md me mf b">df.drop(columns=df.columns[<strong class="lf iu">-2:</strong>])</code></li><li id="4a7c" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly pd mm mn mo bi translated">删除每隔一栏<code class="fe mc md me mf b">df.drop(columns=df.columns[<strong class="lf iu">::2</strong>])</code></li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qa"><img src="../Images/8517e9ec3c862ad89b5e225cfc27f400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OfNvWhmE61Npsrap_2UjzQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据列的位置删除列(图片由作者提供)</p></figure><h1 id="54ef" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">7.使用多索引</h1><p id="7068" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">一个<strong class="lf iu"> MultiIndex </strong>(也称为层次索引)数据帧允许我们将多列作为一个行标识符，将多行作为一个标题标识符:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qb"><img src="../Images/92263f2ddaf271d4053914207697f2ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ok3JJaHMPa-pIxpurlt9MQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="0bea" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">当在多索引数据帧上调用Pandas <code class="fe mc md me mf b">drop()</code>时，默认情况下，它将删除0级索引和列。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="ec4a" class="om nm it mf b gy on oo l op oq"># Delete all Oxford rows<br/>df.drop(index='Oxford')</span><span id="1cb6" class="om nm it mf b gy or oo l op oq"># Delete all Day columns<br/>df.drop(columns='Day')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qc"><img src="../Images/5be75539365d20fee3bb14879b66d236.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0ksPH237lziAKe23H_Q9pw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多指数中的熊猫下降()</p></figure><p id="7c75" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要指定要删除的级别，我们可以设置<code class="fe mc md me mf b">level</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="2edb" class="om nm it mf b gy on oo l op oq"># remove all 2019-07-04 row at level 1<br/>df.drop(index='2019-07-04', <strong class="mf iu">level=1</strong>)</span><span id="c1dc" class="om nm it mf b gy or oo l op oq"># Drop all Weather column at level 1<br/>df.drop(columns='Weather', <strong class="mf iu">level=1</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qd"><img src="../Images/eba3f20efa425cf5cc13eef92007653d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HC3a5T_7nRYwmJaswV_Rog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多指数中的熊猫下降()</p></figure><p id="16b6" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在某些情况下，我们希望删除特定的索引或列组合。为此，我们可以将一个元组传递给<code class="fe mc md me mf b">index</code>或<code class="fe mc md me mf b">columns</code>参数:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="205b" class="om nm it mf b gy on oo l op oq"># drop the index combination 'Oxford' and '2019-07-04'<br/>df.drop(<strong class="mf iu">index=('Oxford', '2019-07-04')</strong>)</span><span id="a34d" class="om nm it mf b gy or oo l op oq"># drop the column combination 'Day' and 'Weather'<br/>df.drop(<strong class="mf iu">columns=('Day', 'Weather')</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qe"><img src="../Images/c17f0b7e212471a5abf79d3e50d1fbcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rve77XGWUsqnBUKmeCsQPg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">多指数中的熊猫下降()</p></figure><p id="4585" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果您想了解更多关于在多索引数据框架中访问数据的信息，请查阅本文:</p><div class="pf pg gp gr ph pi"><a rel="noopener follow" target="_blank" href="/accessing-data-in-a-multiindex-dataframe-in-pandas-569e8767201d"><div class="pj ab fo"><div class="pk ab pl cl cj pm"><h2 class="bd iu gy z fp pn fr fs po fu fw is bi translated">在熊猫的多索引数据框架中访问数据</h2><div class="pq l"><p class="bd b dl z fp pn fr fs po fu fw dk translated">towardsdatascience.com</p></div></div><div class="pr l"><div class="qf l pt pu pv pr pw ks pi"/></div></div></a></div><h1 id="1ffc" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">8.用<code class="fe mc md me mf b">inplace=True</code>进行就地操作</h1><p id="6e8d" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">默认情况下，Pandas <code class="fe mc md me mf b">drop()</code>返回结果的副本，而不会影响给定的数据帧。我们可以设置参数<code class="fe mc md me mf b">inplace=True</code>来就地执行操作，以避免额外的重新分配并减少内存使用。</p><h1 id="0739" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">9.用<code class="fe mc md me mf b">error='ignore'</code>抑制错误</h1><p id="de2a" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">您可能会注意到，当给定的行或列不存在时，熊猫<code class="fe mc md me mf b">drop()</code>会抛出一个错误。我们可以设置参数<code class="fe mc md me mf b">error='ignore'</code>来抑制错误。</p><h1 id="a3ed" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">结论</h1><p id="5c65" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">在本文中，我们介绍了9个使用熊猫<code class="fe mc md me mf b">drop()</code>删除行和列的用例。该方法本身使用起来非常简单，是数据预处理中操作数据的最受欢迎的方法之一。</p><p id="3069" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">感谢阅读。请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/063-pandas-drop/pandas-drop.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码，如果您对机器学习的实用方面感兴趣，请继续关注。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p><h1 id="3a52" class="nl nm it bd nn no ou nq nr ns ov nu nv jz ow ka nx kc ox kd nz kf oy kg ob oc bi translated">参考</h1><p id="90ac" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">[1] <a class="ae ky" href="https://www.solvexia.com/blog/5-top-tips-for-data-manipulation" rel="noopener ugc nofollow" target="_blank">数据操作的5个技巧</a></p></div></div>    
</body>
</html>