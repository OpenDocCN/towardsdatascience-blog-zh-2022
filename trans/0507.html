<html>
<head>
<title>Creating beautiful stand-alone interactive D3 charts with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python创建漂亮的独立交互式D3图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7#2022-02-21">https://towardsdatascience.com/creating-beautiful-stand-alone-interactive-d3-charts-with-python-804117cb95a7#2022-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7083" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><em class="ki">应用于D3力有向网络图</em></h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/2e47c00c3999c8a9e7dd7afacf5700ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrjvAEwGsuvFhVs7v9BefA.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">截图来自:【https://d3js.org/ T2】</p></figure><p id="7e1c" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">可视化数据可能是项目成功的关键，因为它可以揭示数据中隐藏的见解，并增进理解。说服人们的最好方法是让他们看到自己的数据并与之互动。尽管Python中提供了许多可视化包，但制作漂亮的独立交互式图表并不总是那么简单，这些图表也可以在您自己的机器之外工作。D3的主要优势在于它符合web标准，因此除了浏览器之外，你不需要任何其他技术来使用D3。重要的是，互动图表不仅有助于<em class="lw">告诉</em>读者一些东西，还能让读者看到、参与和提问。在这篇博客中，我将概述如何使用Python构建你自己的独立的、交互式的力导向D3网络。  <em class="lw"> </em>注意步骤与任何其他D3图表相似。<em class="lw"> </em>如果你需要工作版本，<a class="ae kz" href="https://erdogant.github.io/d3graph" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> d3graph </em>库</a>就是给你的！</p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="07ba" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="lw">如果你觉得这篇文章很有帮助，可以使用我的</em> <a class="ae kz" href="https://medium.com/@erdogant/membership" rel="noopener"> <em class="lw">推荐链接</em> </a> <em class="lw">继续无限制学习，并注册成为中级会员。另外，</em> <a class="ae kz" href="http://erdogant.medium.com" rel="noopener"> <em class="lw">关注我</em> </a> <em class="lw">关注我的最新内容！</em></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="4a88" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">使用D3的动机</h1><p id="59ac" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">D3是<em class="lw">数据驱动文档的缩写，</em>是一个JavaScript库，用于在web浏览器中生成动态、交互式数据可视化。它利用了可缩放矢量图形(SVG)、HTML5和级联样式表(CSS)标准。<strong class="lc iu"> <em class="lw"> D3 </em> </strong>又称<strong class="lc iu"> <em class="lw"> D3.js </em> </strong>或<strong class="lc iu"> <em class="lw"> d3js。</em> </strong>我会互换使用这些名字。在交互式Python解决方案上面使用D3的优势有很多，我来列举几个[1]；</p><ul class=""><li id="987f" class="nb nc it lc b ld le lg lh lj nd ln ne lr nf lv ng nh ni nj bi translated">D3是一个Javascript库。因此，它可以用于您选择的任何JS框架，如Angular.js、React.js或Ember.js。</li><li id="31cd" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3专注于数据，所以如果你在数据科学领域，数万个数据点保持交互而不需要付出任何额外的努力，这是一种解脱。</li><li id="0b03" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3是轻量级的，直接与web标准一起工作，因此速度非常快，并且可以很好地处理大型数据集。</li><li id="252a" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3是开源的。因此您可以使用源代码并添加自己的特性。</li><li id="aa5a" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3支持网络标准，所以除了浏览器，你不需要任何其他技术或插件来使用D3。</li><li id="9ead" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3支持HTML、CSS和SVG等web标准，在D3上工作不需要新的学习或调试工具。</li><li id="f241" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated">D3没有提供任何特定的特性，所以它可以让你完全控制你的可视化，以你想要的方式定制它。</li></ul></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="2a13" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">D3图表。</h1><p id="c300" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">D3是被设计成一起工作的模块的集合<a class="ae kz" href="https://github.com/d3" rel="noopener ugc nofollow" target="_blank">；您可以单独使用这些模块，也可以将它们作为默认构建的一部分一起使用。D3网站提供了</a><a class="ae kz" href="https://observablehq.com/@d3/gallery" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> <em class="lw"> 168个工作图表</em> </strong> </a> <strong class="lc iu"> <em class="lw"> </em> </strong>，允许交互过程中的性能增量更新，支持<a class="ae kz" href="https://observablehq.com/collection/@d3/d3-drag" rel="noopener ugc nofollow" target="_blank">拖动</a>、<a class="ae kz" href="https://observablehq.com/collection/@d3/d3-brush" rel="noopener ugc nofollow" target="_blank">刷</a>、<a class="ae kz" href="https://observablehq.com/collection/@d3/d3-zoom" rel="noopener ugc nofollow" target="_blank">缩放</a>等流行交互。图表可用于多种目的，例如<em class="lw">定量分析、可视化层次结构、创建网络图、</em>以及<em class="lw">条形图、线图、散点图、辐射图、地理投影、</em>和各种其他交互式可视化，用于探索性解释。一些精选的图表如图1所示。这些d3js图表的各种各样在<a class="ae kz" href="https://d3blocks.github.io/d3blocks/" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> D3Blocks库</em> </a> <em class="lw">中很容易被python化。</em>阅读<a class="ae kz" rel="noopener" target="_blank" href="/d3blocks-the-python-library-to-create-interactive-and-standalone-d3js-charts-3dda98ce97d4"> <em class="lw"> D3Blocks </em>中型文章</a>了解更多详情。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/2e47c00c3999c8a9e7dd7afacf5700ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrjvAEwGsuvFhVs7v9BefA.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图1:D3图表的各种例子。截图来自<a class="ae kz" href="https://d3js.org/" rel="noopener ugc nofollow" target="_blank">https://d3js.org/</a></p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="9c98" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">入门！</h1><p id="5f7e" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">让我们开始我们的D3-Python项目吧！在我们迈向python化D3图表之前，我们需要理解D3是如何工作的。我将通过在D3中创建一个非常小的力导向网络图(没有Python)来演示它，之后，我将演示Python中的集成。解释D3图表发展的最好方法是将发展分成四个不同的部分；</p><ol class=""><li id="5ef6" class="nb nc it lc b ld le lg lh lj nd ln ne lr nf lv np nh ni nj bi translated"><em class="lw">层叠样式表(CSS)。</em></li><li id="894a" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated"><em class="lw">D3模块包含所有需要的库。</em></li><li id="2c54" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated"><em class="lw"> Javascript构建图表。</em></li><li id="0a29" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated"><em class="lw">数据为JSON文件。</em></li></ol><p id="e39b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">图表中的每个部分都有自己的角色，为了得到一个工作版本，我们需要连接所有部分，这可以在一个HTML文件中完成，如图2所示。在接下来的部分中，我将描述每个部分的作用和实现。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nq"><img src="../Images/79738d2d072e75a88243038b10a6c594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FQzsLNZtrgAfq89AQZV7jQ.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图2:在一个最终的HTML文件中，四个部分被连接起来以构建D3图。图片来自作者。</p></figure><h2 id="de1e" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">1.级联样式表(CSS)</h2><p id="4e3f" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">CSS文件是一种简单的机制，用于以结构化的方式向HTML文件添加样式。例如，CSS文件可以定义HTML元素的<em class="lw">大小、颜色、字体、行距、缩进、边框和位置</em>。我们将创建强制定向网络图，为此我们将定义整体字体大小、字体系列、样式、颜色以及特定于节点和边的属性。您可以相应地更改CSS，并设置您认为最好的属性。我创建的文件可以在<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/style.css" rel="noopener ugc nofollow" target="_blank">这里</a>下载，看起来如下:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">级联样式表(CSS)</p></figure><h2 id="87fd" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">2.D3模块</h2><p id="d57b" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">D3模块是最简单的部分，因为您只需要导入它或将整个内容嵌入到最终的HTML文件中。D3模块包含了创建任何图表的所有函数。不需要对该文件进行编辑。最新版本是<strong class="lc iu"> <em class="lw"> v7 </em> </strong>，可以从本地资源或网站导入。</p><pre class="kk kl km kn gt of og oh oi aw oj bi"><span id="c1f7" class="nr mf it og b gy ok ol l om on">&lt;script src="https://d3js.org/d3.v7.min.js"&gt;&lt;/script&gt;</span></pre><p id="ccbb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我将使用稍微老一点的版本(<em class="lw"> v3 </em>)，因为我已经用这个版本创建了很多脚本。可以在这里<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/d3.v3.js" rel="noopener ugc nofollow" target="_blank">下载</a>，它包含在我下面几个步骤的示例代码中。如果您构建自己的图形，我强烈建议使用最新版本。</p><h2 id="dda4" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">3.构建图表的Javascript。</h2><p id="6241" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">构建图表不需要您从头开始编码。我们可以在<a class="ae kz" href="https://d3js.org" rel="noopener ugc nofollow" target="_blank"> D3网站</a>上找到感兴趣的图表，并使用开源代码。让我们转到<a class="ae kz" href="https://observablehq.com/@d3/force-directed-graph" rel="noopener ugc nofollow" target="_blank">强制导向图页面</a>并阅读“<strong class="lc iu"> <em class="lw">我如何使用这段代码？</em> </strong>。描述如下:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi oo"><img src="../Images/87b1264412ab04c94338e0d11564bbe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-wVsTZd6JlW4ETxYeJt_FQ.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图3:截图来自<a class="ae kz" href="https://observablehq.com/@d3/force-directed-graph" rel="noopener ugc nofollow" target="_blank">https://observablehq.com/@d3/force-directed-graph</a>。</p></figure><p id="7ca9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">它告诉我们复制粘贴整个"<em class="lw"> ForceGraph </em>"函数，如下图所示。我创建了另一个截图(图4)，你可以看到“<em class="lw">函数Forcegraph({ </em>)的一部分，这就是<em class="lw"> ForceGraph函数</em>。您需要复制整个函数并将其粘贴到一个新文件中。我将我的文件命名为<strong class="lc iu"><em class="lw">D3 graph script . js</em></strong>，可以在这里下载<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/d3graphscript.js" rel="noopener ugc nofollow" target="_blank">。请注意，我的函数与这里显示的最新函数略有不同。该网站还告诉我们导入D3模块，我们在前面的部分中已经介绍过了。</a></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi op"><img src="../Images/cef9efee62da6ac2f8f4bf2283694234.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wLtYNB-JCigwZxzAlo_3Aw.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图4:部分ForceGraph代码。截图摘自:<a class="ae kz" href="https://observablehq.com/@d3/force-directed-graph" rel="noopener ugc nofollow" target="_blank">https://observablehq.com/@d3/force-directed-graph</a>。</p></figure><h2 id="62c9" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">4.数据</h2><p id="938f" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">图表的燃料是我们需要得到正确形状的数据。尽管D3有导入本地文件的功能。使用<code class="fe oq or os og b">d3.json()</code>的json-file，它可能无法工作，因为导入带有D3的本地<em class="lw"> csv </em>或<em class="lw"> json </em>文件被认为不安全。一种解决方案是将数据直接嵌入到最终的HTML文件中。但是，根据数据量的不同，它可能会产生大量的HTML文件。然而，将数据直接嵌入到HTML中会将所有脚本和数据集成到一个文件中，这非常实用。下面的方框显示了一个<em class="lw"> json数据文件</em>的例子，其中描述了一些节点和边。我们可以在HTML中嵌入这样的数据块。完整的<em class="lw"> json数据</em>文件可以从<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/json_data.json" rel="noopener ugc nofollow" target="_blank">这里</a>下载。</p><pre class="kk kl km kn gt of og oh oi aw oj bi"><span id="c439" class="nr mf it og b gy ok ol l om on">graph = {"links":[{"node_weight":5,"edge_weight":5,"edge_width":20,"source_label":"node_A","target_label":"node_F","source":0,"target":2},{"node_weight":3,"edge_weight":3,"edge_width":12,"source_label":"node_A","target_label":"node_M","source":0,"target":4}"]}</span></pre><h2 id="608d" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">5.连接零件</h2><p id="3aaf" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">我们现在有了构建图表所需的四个部分(<em class="lw"> CSS、D3、javascript图形和数据)</em>。我创建了一个HTML样板文件，其中的四个部分将被连接起来；下载了<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/index.html.j2" rel="noopener ugc nofollow" target="_blank">这里</a>。这些零件包括如下:</p><ol class=""><li id="f249" class="nb nc it lc b ld le lg lh lj nd ln ne lr nf lv np nh ni nj bi translated"><em class="lw">层叠样式表</em>为<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/style.css" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="lw">Style . CSS</em></strong></a></li><li id="3737" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated"><em class="lw"> D3模块</em>为<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/d3.v3.js" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="lw">D3 . v3 . js</em></strong></a></li><li id="a68a" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated">将<em class="lw"> javascript </em>构建为<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/d3graphscript.js" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="lw">D3 graphscript . js</em></strong></a></li><li id="0da5" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated"><em class="lw">数据</em>为<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/json_data.json" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="lw">JSON _ Data</em></strong></a></li></ol><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="9a0a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要创建最终的HTML，您可以替换每个文件中包含它的行上的内容。或者换句话说，用<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/style.css" rel="noopener ugc nofollow" target="_blank"><strong class="lc iu"><em class="lw">style . CSS</em></strong></a>中的内容替换<em class="lw"> {% include "style.css" %} </em>以此类推。你会得到一张<a class="ae kz" href="https://erdogant.github.io/datasets/d3js/d3forcedirected.html" rel="noopener ugc nofollow" target="_blank">看起来像这样</a>的工作图。检查页面源代码或下面的脚本，查看四个部分的组合。<em class="lw">就是这样！你在D3中创建了一个有向力网络图！因为我们创建了四个构建模块，所以在Python </em>中集成这个图是一小步。</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">制作力定向图的最终HTML。<a class="ae kz" href="https://gist.github.com/erdogant/35aa04ed1bde5c92f08d922a9e832d90" rel="noopener ugc nofollow" target="_blank">在这里下载</a>，粘贴到一个纯文本文件中，去掉标签&lt;！- TEXT - &gt;，并重命名(如forcedirected.html)。双击它。</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="4cb5" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">把D3变成Python</h1><p id="d055" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">Pythonize化D3脚本的步骤是将<em class="lw">静态值改为变量。</em>我们可以为<em class="lw">最终HTML </em>文件和<em class="lw">强制定向javascript文件</em>中的属性执行此操作。想法如下:</p><ol class=""><li id="64f2" class="nb nc it lc b ld le lg lh lj nd ln ne lr nf lv np nh ni nj bi translated">使用Python导入/读取最终的HTML和/或javascript文件。</li><li id="3145" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated">使用Python将变量替换为任何所需的值。</li><li id="a670" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated">将最终调整后的HTML文件写入磁盘。</li></ol><p id="a572" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">但是首先，我们需要在最终的HTML中将静态值手动更改为变量名。让我们把<em class="lw">的宽度、高度、电荷、距离、方向和碰撞</em>转换成<em class="lw">变量</em>。创建唯一的变量名以避免意外的错误替换是很重要的。我的解决方案是创建变量名，如<em class="lw"> {{ width }} </em>，现在可以很容易地在Python中找到并替换为真实值。除了<em class="lw">最终HTML文件</em>和<em class="lw"> javascript图形文件</em>之外，<em class="lw"> json数据文件</em>也包含可以相应更改的变量。注意<em class="lw"> D3模块</em>将保持不变。在开始实现所有这些之前，请阅读下一节！</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">值被转换成变量的HTML文件。</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="1f3b" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">D3图形库</h1><p id="2efa" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated"><a class="ae kz" href="https://erdogant.github.io/d3graph" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> d3graph </em>库</a>的设计方式与以上章节所述类似。这是一个Python库，构建于D3之上，创建了一个独立的、交互式的力导向网络图。输入数据是邻接矩阵，其中列和索引是节点，值为1或更大的元素被视为边。输出是一个包含交互式力定向图的HTML文件。<a class="ae kz" href="https://erdogant.github.io/docs/d3graph/titanic_example/index.html" rel="noopener ugc nofollow" target="_blank">这里的</a>是泰坦尼克号使用案例中的网络演示。我的D3版本有一些扩展，其中一个滑块可以根据边值断开网络的边，双击一个节点会高亮显示该节点及其连接的边。要制作自己的网络图，<a class="ae kz" href="https://erdogant.github.io/d3graph" rel="noopener ugc nofollow" target="_blank"> pip安装<em class="lw"> d3graph </em> </a>包，其中包含:</p><p id="55dd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><code class="fe oq or os og b">pip install d3graph</code></p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><p id="72dc" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，您可以使用各种参数创建交互式网络:</p><figure class="kk kl km kn gt ko"><div class="bz fp l di"><div class="od oe l"/></div></figure><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi ot"><img src="../Images/4fe45b06c7f77d2735a07c3f139919b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*y_Sh8uvjX0RZxUcK.png"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图5:使用d3graph创建的各种图表。图片由作者提供。</p></figure></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h1 id="d3a5" class="me mf it bd mg mh mi mj mk ml mm mn mo jz mp ka mq kc mr kd ms kf mt kg mu mv bi translated">最后的话</h1><p id="a537" class="pw-post-body-paragraph la lb it lc b ld mw ju lf lg mx jx li lj my ll lm ln mz lp lq lr na lt lu lv im bi translated">恭喜你！你刚刚学习了如何创建漂亮的D3图表，特别是使用D3的力定向网络，以及如何将它集成到Python中。我希望这个博客能给你创建任何你想要的D3图表所需要的知识，不管有没有Python。<a class="ae kz" href="https://erdogant.github.io/d3graph" rel="noopener ugc nofollow" target="_blank"><em class="lw">D3图形库</em> </a> <em class="lw"> </em>将帮助你使用Python创建自己的D3力定向图。输出是一个单独的HTML文件，可以独立工作，可以共享或发布在网站上，除了浏览器，你不需要任何其他技术。您还可以将D3网络图作为可视化集成到您现有的库中。<a class="ae kz" rel="noopener" target="_blank" href="/explore-and-understand-your-data-with-a-network-of-significant-associations-9a03cf79d254">阅读这篇关于我如何为</a><a class="ae kz" href="https://erdogant.github.io/hnet" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> HNet库</em> </a>学习联想的博客。如果您想创建其他d3js图表，如<em class="lw">散点图、小提琴图、移动气泡图、桑基图、热图、和弦、时间序列、Imageslider或粒子图</em>，我们创建了<a class="ae kz" href="https://d3blocks.github.io/d3blocks/" rel="noopener ugc nofollow" target="_blank"> <em class="lw"> D3Blocks库</em> </a>，其中包含10个可以用Python创建的漂亮图表。阅读<a class="ae kz" rel="noopener" target="_blank" href="/d3blocks-the-python-library-to-create-interactive-and-standalone-d3js-charts-3dda98ce97d4"> <em class="lw"> D3Blocks </em>中帖【2】</a>了解更多详情。<em class="lw">随意摆弄库，叉源代码。</em></p><p id="45c9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">注意安全。保持冷静。</p><p id="2d8a" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu"> <em class="lw">干杯，E. </em> </strong></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><p id="110e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="lw">如果你觉得这篇文章很有帮助，可以使用我的</em> <a class="ae kz" href="https://medium.com/@erdogant/membership" rel="noopener"> <em class="lw">推荐链接</em> </a> <em class="lw">继续无限制学习，并注册成为中级会员。另外，</em> <a class="ae kz" href="http://erdogant.medium.com" rel="noopener"> <em class="lw">关注我</em> </a> <em class="lw">关注我的最新内容！</em></p></div><div class="ab cl lx ly hx lz" role="separator"><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc md"/><span class="ma bw bk mb mc"/></div><div class="im in io ip iq"><h2 id="c0a0" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">软件</h2><ul class=""><li id="b39b" class="nb nc it lc b ld mw lg mx lj ou ln ov lr ow lv ng nh ni nj bi translated"><a class="ae kz" href="https://erdogant.github.io/d3graph" rel="noopener ugc nofollow" target="_blank">D3图形库</a></li><li id="379b" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae kz" rel="noopener" target="_blank" href="/explore-and-understand-your-data-with-a-network-of-significant-associations-9a03cf79d254"> HNet媒体博客</a></li><li id="4c93" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae kz" href="https://erdogant.github.io/hnet" rel="noopener ugc nofollow" target="_blank"> HNet库</a></li><li id="f7a7" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae kz" href="https://d3blocks.github.io/d3blocks/" rel="noopener ugc nofollow" target="_blank"> D3Blocks库</a></li></ul><h2 id="76e4" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">我们连线吧！</h2><ul class=""><li id="ff1c" class="nb nc it lc b ld mw lg mx lj ou ln ov lr ow lv ng nh ni nj bi translated"><a class="ae kz" href="https://www.linkedin.com/in/erdogant/" rel="noopener ugc nofollow" target="_blank">让我们在LinkedIn上联系</a></li><li id="73b8" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae kz" href="https://github.com/erdogant" rel="noopener ugc nofollow" target="_blank">在Github上关注我</a></li><li id="98dd" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv ng nh ni nj bi translated"><a class="ae kz" href="https://erdogant.medium.com/" rel="noopener">跟随我在媒体上</a></li></ul><h2 id="1418" class="nr mf it bd mg ns nt dn mk nu nv dp mo lj nw nx mq ln ny nz ms lr oa ob mu oc bi translated">参考</h2><ol class=""><li id="0fb7" class="nb nc it lc b ld mw lg mx lj ou ln ov lr ow lv np nh ni nj bi translated"><a class="ae kz" href="https://www.tutorialsteacher.com/d3js" rel="noopener ugc nofollow" target="_blank">https://www.tutorialsteacher.com/d3js</a></li><li id="6c31" class="nb nc it lc b ld nk lg nl lj nm ln nn lr no lv np nh ni nj bi translated">E.Taskesen，<a class="ae kz" rel="noopener" target="_blank" href="/d3blocks-the-python-library-to-create-interactive-and-standalone-d3js-charts-3dda98ce97d4"> <em class="lw"> D3Blocks:创建交互式和独立D3js图表的Python库</em> </a> <em class="lw">，</em> Medium，迈向数据科学，2022年9月</li></ol></div></div>    
</body>
</html>