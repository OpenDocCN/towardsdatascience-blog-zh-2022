<html>
<head>
<title>Airbnb Data Scientist Interview Questions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Airbnb数据科学家面试问题</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/airbnb-data-scientist-interview-questions-9e2dfa7d9df2#2022-05-27">https://towardsdatascience.com/airbnb-data-scientist-interview-questions-9e2dfa7d9df2#2022-05-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="132b" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><em class="kf">本文将教你如何解决Airbnb数据科学家面试中的一个难题</em></h2></div><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/4719c4e1ce3cac07943be308d92f7076.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bu9U45hmu_OAWBaIw8sFwQ.png"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者在<a class="ae kw" href="https://canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>上创建的图片</p></figure><p id="6e40" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Airbnb是最受数据科学家欢迎的<a class="ae kw" href="https://www.stratascratch.com/blog/11-best-companies-to-work-for-as-a-data-scientist/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">公司之一。这是在住宿和酒店行业。虽然传统上，你不会想到这是一个数据科学家高度感兴趣的行业，但Airbnb不同。当然，这种差异反映在他们是一个在线住宿市场，连接着主人和客人。要做到这一点，他们依赖于数据和数据科学家。</a></p><p id="bde5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">你依赖于在工作面试中给人留下深刻印象。如果你有兴趣在Airbnb工作，那就是。让你更容易在面试中表现出色的事情之一是<a class="ae kw" href="https://www.stratascratch.com/blog/airbnb-data-scientist-interview-guide/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">知道他们在Airbnb </a>会问什么类型的问题。</p><p id="f0e8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">另一件事是回答具体的问题，就像我们现在要讨论的问题。</p><h1 id="bfc4" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">Airbnb数据科学家面试问题</h1><p id="04aa" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated"><strong class="kz ir">主机人气租赁价格</strong></p><p id="0fd5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Airbnb面试中的一个难题是:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi mq"><img src="../Images/07cca2b0c3311a11e3666b7a3552f10e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z9fP7hY6nJJtlwRY"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><p id="4ee8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">问题链接:<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">https://platform . stratascratch . com/coding/9632-host-popularity-rental-prices</a></p><figure class="kh ki kj kk gt kl"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="9bc5" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><em class="mt">注意，平台上的问题略有修改。与视频相比，主要的区别是受欢迎程度分级类别和表格的名称。因此，这里的解决方案会略有不同，但方法是相同的。</em></p><h1 id="93da" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">数据</h1><p id="01b4" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">您可以使用airbnb_host_searches表来解决这个问题。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/76db8c28c2ee1fb372e02047fe036c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:676/format:webp/1*qOhf4nVPWhJbU-31iQ9cGw.png"/></div></figure><p id="fb3b" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">运行小部件中的代码来查看数据。</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="cc91" class="na lu iq mw b gy nb nc l nd ne">SELECT * <br/>FROM airbnb_host_searches;</span></pre><p id="c28a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">应该是这样的。我们将只显示前三行。显示整个表格会占用太多空间。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi nf"><img src="../Images/66b7c0e46816aaceb5de0e5d4346e29b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jdtgzh5vcpcET_9y"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><h1 id="c6a2" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">解决方法</h1><p id="dbc7" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">编写解决方案代码的方法可以分为以下几个步骤:</p><ul class=""><li id="b796" class="ng nh iq kz b la lb ld le lg ni lk nj lo nk ls nl nm nn no bi translated">找到不同的主机</li><li id="de9e" class="ng nh iq kz b la np ld nq lg nr lk ns lo nt ls nl nm nn no bi translated">使用CASE WHEN语句创建流行度分级类别</li><li id="038d" class="ng nh iq kz b la np ld nq lg nr lk ns lo nt ls nl nm nn no bi translated">使用聚合函数查找每个类别的最低、平均和最高租赁价格</li><li id="2df5" class="ng nh iq kz b la np ld nq lg nr lk ns lo nt ls nl nm nn no bi translated">按类别分组</li></ul><h1 id="a53d" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">解决方案假设</h1><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="gh gi kg"><img src="../Images/bb8c13f92c6022466e6db23f54f74c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jEdzcvnY9v1CjLY-"/></div></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">作者在<a class="ae kw" href="https://canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a>上创建的图片</p></figure><p id="55ce" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当你参加<a class="ae kw" href="https://www.stratascratch.com/blog/data-science-interview-guide-questions-from-80-different-companies/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">数据科学面试</a>时，陈述你的假设总是明智的。这样，面试官就能理解你的观点，并据此评估你的解决方案。如果你这样做了，你就可以避免你的解决方案因为没有解释解决方案中的假设而被扣分的可能性。</p><p id="8605" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">此外，通过陈述假设，你会对如何解决面试问题有一个更清晰的想法。对于这个Airbnb数据科学家面试问题，我们唯一的假设是:</p><ul class=""><li id="fe6b" class="ng nh iq kz b la lb ld le lg ni lk nj lo nk ls nl nm nn no bi translated">“评论数量”列中的所有值都是整数，不会有空值</li></ul><h1 id="0be7" class="lt lu iq bd lv lw lx ly lz ma mb mc md jw me jx mf jz mg ka mh kc mi kd mj mk bi translated">Airbnb面试问题解决方案</h1><p id="1cd6" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">我们应该遵循上面概述的步骤。</p><p id="beee" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这里要做的第一件事是找到独特的宿主。问题的提示建议我们通过连接几个列来创建自己的host_id。</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="37b4" class="na lu iq mw b gy nb nc l nd ne">SELECT DISTINCT CONCAT(price, room_type, host_since, zipcode, number_of_reviews) AS host_id,<br/>          number_of_reviews,<br/>          price<br/>   FROM airbnb_host_searches</span></pre><p id="bc5d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们使用CONCAT()函数创建主机ID，并将查询写成CTE。我们还需要关于每个主机的评论数量和价格的信息。</p><p id="4735" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个查询被写成一个名为hosts的CTE。它将输出包含以下前几行的结果:</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/0f5a7ccdd8f5bc57a716b9c52e82e755.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/0*fa0Z9I2lOQfZlvi8"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><p id="a5d9" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">下一步是创建评级类别。为此，您需要使用CASE WHEN语句。最实用的方法是将查询的这一部分写成CTE。</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="7973" class="na lu iq mw b gy nb nc l nd ne">SELECT CASE<br/>              WHEN number_of_reviews = 0 THEN 'New'<br/>              WHEN number_of_reviews BETWEEN 1 AND 5 THEN 'Rising'<br/>              WHEN number_of_reviews BETWEEN 6 AND 15 THEN 'Trending Up'<br/>              WHEN number_of_reviews BETWEEN 16 AND 40 THEN 'Popular'<br/>              WHEN number_of_reviews &gt; 40 THEN 'Hot'<br/>          END AS host_popularity,<br/>          price<br/>   FROM hosts;</span></pre><p id="033d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果同时运行第一步和第二步，代码将返回以下结果(仅显示前几行):</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/bcba8762cf1cbbac37463d600ba7902a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/0*2gbsrMr2kwX0zR1z"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><p id="4750" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">现在，我们必须计算最低、平均和最高价格，并根据主持人的受欢迎程度进行分组。为此，我们将编写带有聚合函数的SELECT语句，并使用代码的前一部分作为子查询，如下所示:</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="9864" class="na lu iq mw b gy nb nc l nd ne">SELECT host_popularity AS host_pop_rating,<br/>       MIN(price) AS min_price,<br/>       AVG(price) AS avg_price,<br/>       MAX(price) AS max_price<br/>FROM<br/>  (SELECT CASE<br/>              WHEN number_of_reviews = 0 THEN 'New'<br/>              WHEN number_of_reviews BETWEEN 1 AND 5 THEN 'Rising'<br/>              WHEN number_of_reviews BETWEEN 6 AND 15 THEN 'Trending Up'<br/>              WHEN number_of_reviews BETWEEN 16 AND 40 THEN 'Popular'<br/>              WHEN number_of_reviews &gt; 40 THEN 'Hot'<br/>          END AS host_popularity,<br/>          price<br/>   FROM hosts) a<br/>GROUP BY host_pop_rating;</span></pre><p id="f444" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">所有三个<a class="ae kw" href="https://www.stratascratch.com/blog/the-ultimate-guide-to-sql-aggregate-functions/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> SQL聚合函数</a>都应用于price列，数据取自子查询。另一方面，子查询从CTE中获取数据。</p><p id="2165" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果将所有这些放在一起，最终的解决方案将是:</p><pre class="kh ki kj kk gt mv mw mx my aw mz bi"><span id="1c9e" class="na lu iq mw b gy nb nc l nd ne">WITH hosts AS<br/>  (SELECT DISTINCT CONCAT(price, room_type, host_since, zipcode, number_of_reviews) AS host_id,<br/>          number_of_reviews,<br/>          price<br/>   FROM airbnb_host_searches)</span><span id="0364" class="na lu iq mw b gy nw nc l nd ne">SELECT host_popularity AS host_pop_rating,<br/>       MIN(price) AS min_price,<br/>       AVG(price) AS avg_price,<br/>       MAX(price) AS max_price<br/>FROM<br/>  (SELECT CASE<br/>              WHEN number_of_reviews = 0 THEN 'New'<br/>              WHEN number_of_reviews BETWEEN 1 AND 5 THEN 'Rising'<br/>              WHEN number_of_reviews BETWEEN 6 AND 15 THEN 'Trending Up'<br/>              WHEN number_of_reviews BETWEEN 16 AND 40 THEN 'Popular'<br/>              WHEN number_of_reviews &gt; 40 THEN 'Hot'<br/>          END AS host_popularity,<br/>          price<br/>   FROM hosts) a<br/>GROUP BY host_pop_rating;<!-- --> </span></pre><p id="9060" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">这个查询返回正确的答案。</p><figure class="kh ki kj kk gt kl gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/236aa4ab0486b8799986ddb9cb09238d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/0*carmEzJM4_Yn2Xfe"/></div><p class="ks kt gj gh gi ku kv bd b be z dk translated">截图来自<a class="ae kw" href="https://platform.stratascratch.com/coding/9632-host-popularity-rental-prices?code_type=1&amp;utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank"> StrataScratch </a></p></figure><h2 id="750d" class="na lu iq bd lv ny nz dn lz oa ob dp md lg oc od mf lk oe of mh lo og oh mj oi bi translated">结论</h2><p id="9444" class="pw-post-body-paragraph kx ky iq kz b la ml jr lc ld mm ju lf lg mn li lj lk mo lm ln lo mp lq lr ls ij bi translated">通过在数据科学工作面试中问这个问题，Airbnb测试了几个<a class="ae kw" href="https://www.stratascratch.com/blog/top-sql-interview-concepts-and-questions-to-sail-through-interviews/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">重要的SQL概念</a>。例如，使用CONCAT()函数查找不同的值和操作数据。</p><p id="f60f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">第二个重要的概念是SQL聚合函数。此外，这个Airbnb数据科学家面试问题测试了您在陈述和分组数据时使用CASE的技能。</p><p id="b81c" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">此外，为了让所有这些概念在一个非常简洁的查询中工作，您必须熟练地编写cte和子查询。除了你的技术知识之外，你对问题的理解程度和解决方法也是写出正确答案的重要因素。遵循结构化和编写SQL代码的<a class="ae kw" href="https://www.stratascratch.com/blog/best-practices-to-write-sql-queries-how-to-structure-your-code/?utm_source=blog&amp;utm_medium=click&amp;utm_campaign=medium" rel="noopener ugc nofollow" target="_blank">最佳实践总是一个好主意！</a></p></div></div>    
</body>
</html>