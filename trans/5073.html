<html>
<head>
<title>Monte Carlo Simulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙特 卡罗模拟</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monte-carlo-simulation-bf31bb78d39c#2022-11-11">https://towardsdatascience.com/monte-carlo-simulation-bf31bb78d39c#2022-11-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="577a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">第 6 部分:比较备选方案</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a11fb1a8859cb618c9ce2778397574fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EoqFFb2f7na-2Lrl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@8moments?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">西蒙·伯格</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a14c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本系列的<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-2b24fc810683">第一篇</a>和<a class="ae ky" href="https://medium.com/p/8db846f3d8ed#09a4-6a25f853d2de" rel="noopener">第二篇</a>文章中，我们将<strong class="lb iu">蒙特卡罗模拟</strong> (MCS)定义为“一个抽样实验，其目的是估计取决于一个或多个随机输入变量的感兴趣的量的分布”。这是一种定量技术，其现代发展是基于第二次世界大战期间曼哈顿计划中科学家约翰·冯·诺依曼、斯塔尼斯拉夫·乌拉姆和尼可拉斯·大都会研制第一颗原子弹的工作。从概念上讲，它是一种基于统计学的方法，用于确定基于重复随机抽样的多个结果的可能性。</p><p id="bf84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一般来说，模拟技术，尤其是 MCS，在比较备选方案方面表现出色。对被研究系统的许多假设进行建模的<strong class="lb iu">能力使它们成为最强大、最灵活的运筹学工具。</strong></p><p id="b3a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任何模拟研究的最重要的目的之一是使用描述系统性能的定量统计方法来比较系统的选择。最终目标是根据决策问题确定哪个场景表现最好，并深入了解系统的行为。</p><p id="c13b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，适当的模拟方法必须包括输入的彻底选择、客观和可测量的结果度量，以及对备选方案的最终分析和排序。</p><p id="01d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将通过运营管理模型中的一个经典例子来说明蒙特卡罗模拟的这些思想和概念:新闻供应商库存问题。</p><h1 id="7b1b" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">需求对广告敏感的报童问题</strong></h1><p id="403c" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">新闻供应商库存问题经常出现在商业和运筹学<strong class="lb iu">决策问题中。</strong>仿照所谓的<strong class="lb iu">报摊模式</strong>。它试图回答下面的问题:<strong class="lb iu">对于易腐的单一产品</strong>订购多少，其特点是<strong class="lb iu">随机需求</strong>和固定售价。销售商希望最大化他/她的利润，但是，由于产品必须在销售期之前可用，他/她必须在观察实际产品需求之前决定订单的大小。</p><p id="a236" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如本系列<a class="ae ky" rel="noopener" target="_blank" href="/monte-carlo-simulation-2b24fc810683">第一篇</a>所述，问题的大致设置如下:</p><ul class=""><li id="828d" class="ms mt it lb b lc ld lf lg li mu lm mv lq mw lu mx my mz na bi translated">有一个卖主、一个供应商和客户。</li><li id="0173" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">未来一段时间的需求是不确定的(单周期模型)。</li><li id="60b5" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">有一个决策变量(<strong class="lb iu">库存水平 Q </strong>)，必须对其进行计算，以确定利润最大化的决策(最优决策)。</li><li id="a18d" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">不确定的客户需求由随机变量<em class="ng"> d </em>及其对应的概率密度函数<em class="ng"> f(d) </em>和累积分布函数<em class="ng"> F(d)表示。</em></li><li id="458a" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">卖方完全知道单位固定初始成本(c)、单位销售价格(<em class="ng"> s </em>)和残值(<em class="ng"> u </em>)。残值是产品在使用寿命结束时的估计价值。习惯性的商业情况表明，销售价格高于购买成本，这反过来又高于残值。</li><li id="ef8c" class="ms mt it lb b lc nb lf nc li nd lm ne lq nf lu mx my mz na bi translated">高于库存水平的每一个需求单位都作为销售损失掉了；低于库存水平的每个需求单位都以残值出售。如果<em class="ng"> Q &gt; d，(Q — d) </em>单位剩余，必须由供应商回收；否则，<em class="ng">(d-Q)</em>单位代表销售损失。</li></ul><p id="c2e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经典报童问题的几个扩展已经被开发出来。其中之一涉及<strong class="lb iu">广告敏感需求</strong>:客户需求如何受到广告和营销努力的影响。</p><p id="37eb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该扩展将客户需求建模为营销工作的函数。一定数量的潜在顾客收到了广告，但是做出购买决定的人数将取决于一个名为<strong class="lb iu">广告效果</strong>的因素。另一方面，所谓的<strong class="lb iu">广告强度</strong>与营销努力所针对的潜在客户数量有关。此参数将根据以下公式确定广告和营销成本:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/7739773af3efc35b01d754897a12d7c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*MMcj1TOq7tJLLxR33ZKT0A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者制作</p></figure><p id="7dd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中α是常数。</p><p id="0627" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，我们的具有广告敏感需求的报童模型包括以下等式:</p><p id="3549" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng"> 1) </em> <em class="ng">成本 _ 每订单= c * Q </em></p><p id="7a78" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng">2)</em><em class="ng">Revenue _ per _ Sales = s * minimum(d，Q) </em></p><p id="ce07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng">3)</em><em class="ng">Revenue _ per _ Salvage = u * maximum(0，Q — d) </em></p><p id="40ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng"> 4) </em> <em class="ng">广告成本= C(AI) </em></p><p id="a2f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">利润等式是:</p><p id="9e1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng">利润=每次销售收入+每次回收收入-每次订单成本-广告成本</em></p><p id="2e82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，利润是订货量(库存水平)和客户需求(广告强度)的函数。我们将使用蒙特卡罗模拟来估计订单数量，使不同广告强度值的预期利润最大化。该计算将通过对给定数据和场景进行采样来执行。订单数量和广告强度的每一个组合都是一个场景。</p><h1 id="73ad" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">一个假设的报童问题的蒙特卡罗模拟</strong></h1><p id="a3b1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">我们将使用来自 Negahban [1]的数据模拟一个假设的报童问题。</p><p id="254c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们公司想知道从供应商那里订购多少产品以便在下一季销售。</p><p id="1181" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">供应商为我们提供了四种选择:</p><p id="5ba9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">备选 1: 500 件，每件成本为 200 美元</p><p id="4582" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">备选 2: 1000 件，每件成本为 190 美元</p><p id="23fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">备选 3: 1500 件，每件成本为 175 美元</p><p id="fc72" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">备选 4: 2000 件，每件 165 美元</p><p id="ffc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们为每个备选方案定义了相应的销售价格，并假设最初的残值相当于预测销售价值的 50%。</p><p id="fc2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们选择了六种不同的广告强度(5%、10%、15%、20%、25%和 30%)。下表显示了代表不同强度随机需求的<strong class="lb iu">正态分布</strong>的<em class="ng"> loc </em>和<em class="ng"> scale </em>参数(平均值和标准偏差)的相应值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/fb362865b64f1a32b875934a12584bd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mwwxs7-vfFQ_GGRDOOCzsw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者制作</p></figure><p id="cb8a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们有四个供应商选项和六个广告强度:这转化为<strong class="lb iu"> 24 个场景</strong>。我们将为每个场景复制 3000 次运行，因此我们的主要点估计量(利润)的置信区间的半宽度对于我们的决策问题应该是合理的。</p><p id="9e85" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们假设的新闻供应商问题的 python 代码如下:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="a8e3" class="no lw it nk b gy np nq l nr ns"><a class="ae ky" href="http://twitter.com/author" rel="noopener ugc nofollow" target="_blank">@author</a>: darwt</span><span id="2389" class="no lw it nk b gy nt nq l nr ns"># Import Modules<br/>import pandas as pd<br/>import numpy  as np</span><span id="a6a3" class="no lw it nk b gy nt nq l nr ns">from scipy import stats<br/>from scipy.stats import sem</span><span id="818c" class="no lw it nk b gy nt nq l nr ns">import matplotlib.pyplot as plt<br/>from matplotlib.font_manager import FontProperties<br/>from prettytable import PrettyTable<br/>  <br/>your_path = 'your_path'</span><span id="703d" class="no lw it nk b gy nt nq l nr ns">#..................................................................<br/># initialization module<br/> <br/>list_Price_Per_Unit   = [330, 300, 270, 230]<br/>list_Cost_Per_Unit    = [200, 190, 175, 165]</span><span id="1787" class="no lw it nk b gy nt nq l nr ns">multiplier = 0.50<br/>list_Salvage_Per_Unit = list(np.array(list_Price_Per_Unit) * multiplier)</span><span id="af28" class="no lw it nk b gy nt nq l nr ns">list_advert_intens = [5, 10, 15, 20, 25, 30]<br/>list_Mean_Normal = [288, 938, 1306, 1691, 1940, 2243]<br/>list_Std_Normal  = [211, 262, 281,  308,  294,  289]<br/>length1 = len(list_advert_intens)</span><span id="b67c" class="no lw it nk b gy nt nq l nr ns">list_of_orders = [500,1000,1500,2000]<br/>length2 = len(list_of_orders)</span><span id="9e97" class="no lw it nk b gy nt nq l nr ns">alfa = 0.5 <br/>confidence = 0.95                      ## selected by the analyst <br/># .......................................................<br/>column_labels = ["Advert.Intens.", "Order Quantity",<br/>                 "Mean","Std.Dev","Var.","Std. Error", <br/>                 "Median", "Skewness", "Kurtosis",                    <br/>                 "CI Half Width", "CI LL", 'CI UL']</span><span id="52f5" class="no lw it nk b gy nt nq l nr ns">df = pd.DataFrame(columns=column_labels)</span></pre><p id="a38e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面几行代码描述了这个特定报刊杂志模型的 MCS 背后的逻辑:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="ad6a" class="no lw it nk b gy np nq l nr ns">listM1, listM2, listM3, listM4, listM5, listM6 =[],[],[], [], [], [] <br/>list_of_Means = [listM1, listM2, listM3, listM4, listM5, listM6]</span><span id="f6b1" class="no lw it nk b gy nt nq l nr ns">Number_of_Replications = 3000</span><span id="927d" class="no lw it nk b gy nt nq l nr ns">for i in range(length1):<br/>    <br/>    for j in range(length2):<br/>        list_of_profits = []<br/>        for run in range(Number_of_Replications):<br/>                     <br/>            Qty_Demanded = np.random.normal(                                          loc=list_Mean_Normal[i],scale=list_Std_Normal[i],size=1) <br/>                                                                                  <br/>            if Qty_Demanded &gt;= 0:<br/>                Qty_Demanded = int(Qty_Demanded)<br/>            else:<br/>                Qty_Demanded = 0<br/>                <br/>            Qty_Ordered  = list_of_orders[j]<br/>            <br/>            Qty_Sold = np.minimum(Qty_Demanded, Qty_Ordered)<br/>            Qty_Left = np.maximum(0, Qty_Ordered - Qty_Demanded)<br/>             <br/>            Revenue_per_Sales = Qty_Sold * list_Price_Per_Unit[j]            <br/>            Revenue_per_Salvage= Qty_Left * list_Salvage_Per_Unit[j]<br/>            <br/>            Cost_per_Order =  Qty_Ordered * list_Cost_Per_Unit[j]<br/>            <br/>            Cost_per_Advert = alfa * np.log(-1/((list_advert_intens[i]/100)-1))            <br/>            Cost_per_Advert = Cost_per_Advert * 100000<br/>            <br/>            Profit = Revenue_per_Sales + Revenue_per_Salvage - Cost_per_Order - Cost_per_Advert<br/>            <br/>            list_of_profits.append(Profit)</span></pre><p id="1051" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用 Numpy 和 Scipy 获得了一组关键的描述性统计指标，尤其是利润的期望值:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="bcdb" class="no lw it nk b gy np nq l nr ns">        media = np.mean(list_of_profits)<br/>        stand = np.std(list_of_profits)<br/>        var   = np.var(list_of_profits) <br/>        std_error = sem(list_of_profits)<br/>        <br/>        median = np.median(list_of_profits)<br/>        skew   = stats.skew(list_of_profits)<br/>        kurt   = stats.kurtosis(list_of_profits)<br/>        <br/>        dof  = Number_of_Replications - 1    <br/>        t_crit = np.abs(stats.t.ppf((1-confidence)/2,dof))<br/>        <br/>        half_width =  round(stand *t_crit/np.sqrt(Number_of_Replications),2)  <br/>        inf = media - half_width<br/>        sup = media + half_width  <br/>                              <br/>        inf = round(float(inf),2)<br/>        sup = round(float(sup),2)<br/>        <br/>        list_of_statistics = []<br/>        list_of_statistics.append(list_advert_intens[i])<br/>        list_of_statistics.append(Qty_Ordered)<br/>        list_of_statistics.append(round(media,2))<br/>        list_of_statistics.append(round(stand,2))<br/>        list_of_statistics.append(round(var,2))<br/>        list_of_statistics.append(round(float(std_error),2))<br/>        <br/>        list_of_statistics.append(round(median,2))<br/>        list_of_statistics.append(round(float(skew),2))<br/>        list_of_statistics.append(round(float(kurt),2))<br/>        <br/>        list_of_statistics.append(round(half_width,2))<br/>        list_of_statistics.append(round(inf,2))<br/>        list_of_statistics.append(round(sup,2))<br/>        <br/>        df.loc[len(df)] = list_of_statistics<br/>        <br/>        list_of_Means[i].append(round(media,2))</span></pre><p id="d79f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用 Matplotlib 显示了一个 6 行 4 列的表格，显示了 24 种情况下的利润。</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="4dc6" class="no lw it nk b gy np nq l nr ns">row_list = [str(x) + ' %'     for x in list_advert_intens]<br/>col_list = [str(x) + ' Units' for x in list_of_orders]<br/>             <br/>subtitle_text = 'Salvage Value equal to %s' %multiplier +<br/>                ' of the price value'</span><span id="22ef" class="no lw it nk b gy nt nq l nr ns">fig, ax = plt.subplots(1,1)<br/>ax.axis('tight')<br/>ax.axis('off')<br/>profits_table = ax.table(cellText  =  list_of_Means, <br/>                         rowLabels = row_list,<br/>                         colLabels = col_list,                      <br/>                         rowColours =["skyblue"]*(length1),  <br/>                         colColours =["cyan"]*length2, <br/>                         cellLoc='center', loc="center",<br/>                         bbox = [0.1, 0, 1.9, 1.0])<br/>ax.set_title(" Profits according to Order Quantity &amp; Advertising Intensity",fontsize=18, y= 1.2 , pad = 4)</span><span id="4099" class="no lw it nk b gy nt nq l nr ns">plt.figtext(0.5, 0.95,<br/>            subtitle_text,<br/>            horizontalalignment='center',<br/>            size= 12, style='italic',<br/>            color='black'<br/>           )</span><span id="dda2" class="no lw it nk b gy nt nq l nr ns">profits_table.auto_set_font_size(False)<br/>profits_table.set_fontsize(12)<br/>                <br/>for (row, col), cell in profits_table.get_celld().items():<br/>  if (row == 0) or (col == -1):<br/>      cell.set_text_props(<br/>                       fontproperties=FontProperties(weight='bold'))</span><span id="e029" class="no lw it nk b gy nt nq l nr ns">plt.savefig(your_path +'Scenarios.png',bbox_inches='tight', dpi=150)<br/>plt.show()</span></pre><p id="696e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们使用 Matplotlib 绘制相同的数据，以实现更好的可视化:</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="27cf" class="no lw it nk b gy np nq l nr ns">fig, ax = plt.subplots()<br/> <br/>for i in range(len(list_of_Means[0])):<br/>    plt.plot(list_advert_intens,[pt[i] for pt in list_of_Means],<br/>             label = list_of_orders[i],<br/>             linestyle='--', marker = '*')<br/>plt.legend()<br/>plt.axhline(y = 0.0, color = 'k', linestyle = '-')<br/>  <br/>fig.suptitle('Monte Carlo Simulation',  fontsize=20)<br/>plt.xlabel('Advertising Intensity (%)', fontsize=16)<br/>plt.ylabel('Profit (U$S)', fontsize=16)<br/>plt.xticks()</span><span id="460c" class="no lw it nk b gy nt nq l nr ns">plt.savefig(your_path +'ScenarioChart.png',<br/>            bbox_inches='tight', dpi=150)<br/>plt.show()</span></pre><p id="8a4d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们将<em class="ng"> PrettyTable </em>用于对应利润最大的场景的统计报告。</p><pre class="kj kk kl km gt nj nk nl nm aw nn bi"><span id="102e" class="no lw it nk b gy np nq l nr ns">max_profit = df.loc[df["Mean"].idxmax()]<br/>         <br/>t = PrettyTable(['Statistic', 'Value'])<br/>t.add_row(['Runs', Number_of_Replications])<br/>t.add_row(['Advert.Intens.',max_profit['Advert.Intens.']])<br/>t.add_row(['Order Quantity',max_profit['Order Quantity']])<br/>t.add_row(['Mean', max_profit['Mean']])<br/>t.add_row(['Median', max_profit['Median']])<br/>t.add_row(['Variance', max_profit['Var.']])<br/>t.add_row(['Stand. Error', max_profit['Std. Error']])<br/>t.add_row(['Skewness', max_profit['Skewness']])<br/>t.add_row(['Kurtosis', max_profit['Kurtosis']])<br/>t.add_row(['Half Width',max_profit['CI Half Width']])<br/>t.add_row(['CI inf', max_profit['CI LL']])<br/>t.add_row(['CI sup', max_profit['CI UL']])<br/> <br/>print(t)</span></pre><p id="ad8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">分析</strong></p><p id="4fa9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们对 24 个场景中的每一个进行了 3000 次复制，将统计测量附加到数据帧上。表 1 显示了每个场景的平均利润。最佳的数字决策包括购买 1500 个单位，并以 25%的广告强度进行营销。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/e939b3c11b0e378a7997537ef9cebc6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o9_CfeKBgtv0upKuHwj7EQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表 1，作者用 Matplotlib 做的。</p></figure><p id="544d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图 1 显示了相同数据的线性图。图表显示，我们可以将广告强度降低到 20%，而不会严重损害我们的利润。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/299a2192d0ce81cbe9ac4f54d7d95ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LzdpYeeg1eyHm-hF9XK9Cw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图 1，作者用 Matplotlib 做的。</p></figure><p id="aa58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">表 2 显示了最大利润的置信区间的半宽度。置信区间的半宽度通常表示模拟研究中性能测量的估计精度。表中所示的半宽度符合我们的精度要求。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/74385824a80c9561db2e9523b67c126b.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*OO7cy6XsyriNIH8cAr5PNw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表 2，作者用 PrettyTable 做的。</p></figure><p id="99e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，我们用两个不同的残值百分比重复了模拟:最初预测销售价值的 25%和 75 %。表 3 显示了新方案的平均利润(75%)。可以看出，我们的决策问题没有变化:我们必须购买 1500 台，并以 20%的广告强度进行营销努力。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/b325266c72a4edcb4910968f58effbd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E9zqHOphYOYaujblexDlQg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表 3，作者用 Matplotlib 做的。</p></figure><p id="9147" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是蒙特卡罗模拟的另一个实际实现，以非常简单的方式解决复杂的决策问题。毫无疑问，对于许多现实世界的系统来说，它是一种非常强大的建模、分析和计算性能指标的技术。</p><p id="fc62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要忘记给小费，尤其是当你把文章添加到列表中的时候。</p><p id="23bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[1] Negahban，A .“广告和病毒式营销的报童问题的混合模拟框架”。2013 年冬季模拟会议录。R. Pasupathy、s-h . Kim、A. Tolk、R. Hill 和 M. E. Kuhl 编辑。</p></div></div>    
</body>
</html>