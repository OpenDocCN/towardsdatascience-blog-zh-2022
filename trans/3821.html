<html>
<head>
<title>Optimal decision on wait-or-walk if your bus is not coming</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果你的公共汽车不来，等待或步行的最佳决策</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/optimal-decision-on-wait-or-walk-if-your-bus-is-not-coming-daaefe61bcd6#2022-08-24">https://towardsdatascience.com/optimal-decision-on-wait-or-walk-if-your-bus-is-not-coming-daaefe61bcd6#2022-08-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="7a64" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">没有统计数据，困境如何解决？</h2></div><p id="81b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">罗伯特·多肖和迈克尔·施瓦茨</p><p id="5a40" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你想去拜访一个朋友，并尽快到达那里。有直达的公共汽车，但是公共汽车通常晚点，有时根本不来。你准时到达车站，但公共汽车却不在那里。你要怎么办？</p><p id="7fb6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要么你等公共汽车，要么你开始步行去找你的朋友。如果你离开车站，你将不能再乘公共汽车。一方面，你愿意等着搭车，因为这样更快。另一方面，公共汽车也有可能不来。真是进退两难！</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/5a86c0a4709af58616f02118731699ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jokMyx7vCAa6UwT_"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">照片由<a class="ae ls" href="https://unsplash.com/@mariusmatuschzik?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马里乌斯·马图奇克</a>在<a class="ae ls" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h2 id="f9c1" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">问题类型</h2><p id="b599" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">最初，这似乎是一个优化问题，目标是最小化到你朋友的旅行时间。仔细观察就会发现，只有有限的信息可用，而且无法做出有用的统计假设。旅行时间没有一定的控制。真正的问题是如何最大限度地减少个人对错误决策的后悔。当你意识到公交车不准时时，你会在两个选择之间犹豫不决:等待还是步行？整个问题是一个顺序决策问题，因为波动时间可分为离散的子问题。每当你意识到“公交车还没到”的时候，你就不得不做出新的等待或步行的决定。这种信息以串行方式一点一点到达的顺序问题被称为<strong class="kh ir">在线问题</strong>。相比之下，所有信息都是预先知道的相应问题，如真实的未来，被称为<strong class="kh ir">离线问题</strong>。请注意，如果未来是已知的，就不需要统计假设。</p><h2 id="c5aa" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">一个在线问题的最优解</h2><p id="7bcd" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">一个在线问题通常可以用不同的策略来解决。在线算法是策略的公式化，作为解决具体场景的适用步骤序列。这种算法的质量可以通过<strong class="kh ir">竞争分析</strong>进行评估，并允许与替代算法进行比较。对于这个在线算法，需要导出竞争比<strong class="kh ir"> <em class="lb"> c </em> </strong> <em class="lb"> </em>。定义为任何场景下在线解(<strong class="kh ir"> <em class="lb"> ALG </em> </strong>)与对应离线解(<strong class="kh ir"> <em class="lb"> OPT </em> </strong>)的最大比值。换句话说，这一比率是通过确定一个最坏的情况得出的，在这种情况下，信息有限的算法解决方案与知道未来的人的解决方案差异最大。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/6e1ffd5b0147a7c73a8745a3026b22fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/0*GhctKV4S4pkhtX7A"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">在线最小化算法的竞争比</p></figure><p id="b9cc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果在数学上可以证明这个<strong class="kh ir"> <em class="lb"> c </em> </strong>是一个常数(其中<strong class="kh ir"> <em class="lb"> c </em> </strong> ≥ 1)，则一个在线算法被表示为<strong class="kh ir">竞争</strong>，这意味着它独立于任何场景。这个概念有一个巨大的优势。它为该算法提供了性能保证，即使问题的实际实例的结果是未知的。无论任何场景，在线问题的解永远小于或等于一个知道未来的理性决策者的解的<strong class="kh ir"> <em class="lb"> c </em> </strong>倍。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/c409cddb98074176311f78ef3b691842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/0*8a5WWlyKEHblVgCD"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">最小化问题的保证公式</p></figure><p id="6f66" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">具有数学上可证明的最低<strong class="kh ir"> <em class="lb"> c </em> </strong>的在线算法具有最严格的性能保证，因此<strong class="kh ir">是最优的</strong>。(注意，对于最大化问题，上述保证公式不同。有关更多信息，请查看<em class="lb">在线优化</em>。)</p><h2 id="b232" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">离线问题的最佳解决方案</h2><p id="197a" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">假设<strong class="kh ir"> <em class="lb"> d </em> </strong>到你朋友的距离是3公里，你的步行速度<strong class="kh ir"> <em class="lb"> v_w </em> </strong>是4公里/小时，公共汽车的行驶速度<strong class="kh ir"> <em class="lb"> v_b </em> </strong>是20公里/小时，因此，步行需要45分钟(3/4 * 60 = 45)，但乘坐公共汽车只需要9分钟(3/20 * 60 = 9)。</p><p id="5b7c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，你个人的决定取决于你是否知道你要等多少分钟，直到公交车到站<strong class="kh ir"> <em class="lb"> t_b </em> </strong>。所有可能的情况只是到达时间不同。如果等待加上开车的时间比纯步行的时间长，那么你总是会立刻开始步行。如果没有，你就等着。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/18e53fcfaa78c64d63128104eb73538f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/0*p21VDJhNsN-b58Hs"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">离线算法:未来已知时的最优解</p></figure><p id="73ad" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你知道未来，你将永远不会需要超过45分钟到达你朋友的地方。在离线问题的所有场景中，只有当公交车在36分钟内到达时等待才是有益的。这也可以让你在45分钟内到达(36 + 9 = 45)。不幸的是，你不知道未来…</p><h2 id="ba87" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">各种在线算法的分析</h2><p id="d6cf" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">现在，看一看你看不到未来的真正的实际问题。从抽象的意义上说，只有几种方法可以解决这个问题:</p><p id="5491" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">算法1——运动员(<em class="lb">算法1 </em> ) </strong>:一个策略是，如果公共汽车不在，你总是立即开始步行。该算法最糟糕的情况看起来如下:你将总是步行，并且一旦你开始步行，公共汽车将立即到达(假设在<strong class="kh ir">T5】εT7】时间之后，其中<strong class="kh ir">T9εT11】非常小)。</strong></strong></p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/cd41ae3d7d4a21896c50759c7185ca62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/0*D5oSSVHiTF38P7hM"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">在线算法1-运动员的竞争比</p></figure><p id="d78b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你总是需要45分钟，但有很多情况下，你会后悔你的决定，更准确地说，在所有情况下，公交车在接下来的36分钟内到达。在最坏的情况下，公交车在你开始步行后的<strong class="kh ir"> <em class="lb"> ε </em> </strong>时间到达，其中<strong class="kh ir"> <em class="lb"> ε </em> </strong>时间小得可以忽略不计。那么你需要的时间是实际可能时间的5倍(9分钟对45分钟，因为<strong class="kh ir"> <em class="lb"> ε </em> </strong>接近于0)。这个策略看起来很极端，但至少你在每个场景中都到达了你朋友的地方。算法是有竞争力的…但它也是最优的吗？</p><p id="8311" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">算法二——懒人(<em class="lb"> ALG2 </em> ) </strong>:另一种极端的策略是，你总是在那里等公交车，从不决定走路。很容易预见，在最坏的情况下，公共汽车永远不会来。你从来没有到达你朋友的地方。这种策略没有常数<strong class="kh ir"> <em class="lb"> c </em> </strong>，因此没有竞争力。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/db94b9624461510b8dfdd23e3064614b.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/0*3_q6K5bcLv5-NGmX"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">在线算法2的竞争比——懒人</p></figure><p id="6d3c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">算法3 —优化器(<em class="lb"> ALG3 </em> ) </strong>:人们可能总是决定等待一段固定的时间<strong class="kh ir"> <em class="lb"> x </em> </strong>，然后变得不耐烦并决定走。引人注目的是，采用不同<strong class="kh ir"> <em class="lb"> x </em> </strong>的竞争策略在竞争比率上可以有显著差异。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mv"><img src="../Images/1e00af026269a6342b8c27cf60d44a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/0*WLyg48vk79y-MW-w"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">在线算法3的竞争比—优化器</p></figure><p id="ad63" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">例如，假设你总是在开始行走前等待10分钟(即<strong class="kh ir"><em class="lb">×T2】</em></strong>= 1/6小时)。在最坏的情况下，你离开车站后，公共汽车马上就来了。你在10+45 = 55分钟后到达你朋友的住处，而离线解决方案需要10+<strong class="kh ir">T5εT7+9 = 19分钟。因此，你比你知道公共汽车确切到达时间的解差2.89倍(55分钟对19分钟)。相比于<em class="lb">运动员</em>的<strong class="kh ir"> <em class="lb"> c </em> </strong> = 5(即<strong class="kh ir"> <em class="lb"> x </em> </strong> = 0小时)，<strong class="kh ir"><em class="lb"/></strong>= 2.89已经是很大的进步了。但是你能做得更好吗？</strong></p><p id="e82e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">如何导出最佳等待时间<em class="lb"> x </em> *？</strong>关于最优在线解<strong class="kh ir"> <em class="lb"> x </em> * </strong>，有两个错误你会后悔的。你要么开始走得太早，要么走得太晚。在过早的情况下，您会后悔没有等待更长时间，因为相应的离线解决方案总是要等待公共汽车。在来不及的情况下，你后悔没有早点开始走，因为线下解决方案会在你到站的时候立刻开始走。最佳在线策略会平衡这两种情况，使你的遗憾最小化。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/3934c7090780185abdc1e3c184b43aca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/0*DXom-AOw5KP6O9lV"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">为最佳在线策略平衡过早和过晚的错误</p></figure><p id="1974" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">重新排列到<strong class="kh ir"> <em class="lb"> x </em> </strong>提供了最优等待算法。通过将<strong class="kh ir"> <em class="lb"> x* </em> </strong>插入上述误差竞争比之一，可导出相应的最优竞争比<strong class="kh ir"> <em class="lb"> c </em> </strong> *。这是最低的竞争比率。如果公交车速度始终大于步行速度，<strong class="kh ir"> <em class="lb"> c </em> </strong> *永远不会大于2。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi mx"><img src="../Images/ef7f7bb4e8f5f57cd3b7dc3ed5cd586b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vYcmqlWZlL8GHIzSY5ocfw.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">最佳在线策略和最佳竞争比率</p></figure><p id="7157" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在具体示例中，最佳等待时间是<strong class="kh ir"><em class="lb">×0</em>*</strong>= 0.6小时(3/4–3/20 = 0.6)，即36分钟(0.6 * 60 = 36)。对应的竞争比是<strong class="kh ir"><em class="lb">c</em>*</strong>= 1.8(2–4/20 = 1.8)，其中离线解45分钟后到达，在线解需要81分钟(36 + 45 = 81)。基于给定的公交车和步行速度，没有更好的策略。这意味着任何其他等待时间总是导致更高的<strong class="kh ir"> <em class="lb"> c </em> </strong>。</p><p id="29ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更好地理解，考虑以下所有在线策略在0到120分钟等待时间范围内的竞争比率的可视化。最低点代表<strong class="kh ir"> <em class="lb"> c </em> </strong> *，对应<strong class="kh ir"> <em class="lb"> x </em> * </strong>。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div class="gh gi my"><img src="../Images/9966388bbad87845c2bd99683de649e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*Jijhpzmu84NbtdILP3bOKg.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">各种在线策略的竞争比率</p></figure><h2 id="11d9" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">结论</h2><p id="a4b3" class="pw-post-body-paragraph kf kg iq kh b ki mm jr kk kl mn ju kn ko mo kq kr ks mp ku kv kw mq ky kz la ij bi translated">那么下次你在公交车站，公交车没来的时候，你打算怎么办？在你开始走路之前，想想这篇文章。有一种策略永远不会比知道确切未来的策略差两倍。最佳等待时间是步行旅行时间减去公共汽车旅行时间。这是一个最坏的策略，你对未来毫无所知。认识到这一点:如果在实践中你做出了不同的决定，你要么假设其他信息，要么你没有理性地行动。</p><p id="c50a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">缩小！你还学到了什么？首先，您解决了一个与未来相关的优化问题，而没有做出任何统计或分布假设。使用的方法叫做竞争分析。第二，您的解决方案有一个性能保证，它基于一个知道确切未来的解决方案。</p><p id="1905" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">想想商业和私人生活中的其他应用:制造还是购买？租还是买？…做还是不做？</p><h2 id="dda2" class="lt lu iq bd lv lw lx dn ly lz ma dp mb ko mc md me ks mf mg mh kw mi mj mk ml bi translated">参考</h2><ul class=""><li id="2a84" class="mz na iq kh b ki mm kl mn ko nb ks nc kw nd la ne nf ng nh bi translated">A.鲍罗丁和R. El-Yaniv，<a class="ae ls" href="https://www.cambridge.org/de/academic/subjects/computer-science/algorithmics-complexity-computer-algebra-and-computational-g/online-computation-and-competitive-analysis?format=PB&amp;isbn=9780521619462" rel="noopener ugc nofollow" target="_blank">在线计算和竞争分析</a> (1998)，剑桥大学出版社</li><li id="c92b" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated">J.Chen，S. Kominers和R. Sinnott，<a class="ae ls" href="https://arxiv.org/pdf/0801.0297.pdf" rel="noopener ugc nofollow" target="_blank">行走与等待:懒惰的数学家赢了</a> (2008)，arXiv工作文件</li><li id="898c" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated">C.汤普森，<a class="ae ls" href="https://www.nytimes.com/2008/12/14/magazine/14ideas-section01-t-008.html" rel="noopener ugc nofollow" target="_blank">公交等待公式</a> (2008)，《纽约时报杂志:想法之年》</li><li id="0e87" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated">A.Morton，<a class="ae ls" href="https://arxiv.org/pdf/0802.3653.pdf" rel="noopener ugc nofollow" target="_blank">关于步行与等待的说明</a> (2008)，arXiv工作文件</li><li id="4ee8" class="mz na iq kh b ki ni kl nj ko nk ks nl kw nm la ne nf ng nh bi translated">R.Dochow，<a class="ae ls" href="https://link.springer.com/book/10.1007/978-3-658-13528-7" rel="noopener ugc nofollow" target="_blank">投资组合选择问题的在线算法</a> (2016)，Springer</li></ul></div></div>    
</body>
</html>