<html>
<head>
<title>Simple Logistic Regression for Dichotomous Variables in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">R中二分变量的简单Logistic回归</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-logistic-regression-for-dichotomous-variables-in-r-8befbe3e95b4#2022-09-23">https://towardsdatascience.com/simple-logistic-regression-for-dichotomous-variables-in-r-8befbe3e95b4#2022-09-23</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="7cf3" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">R系列中的统计</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/f1f1fab08c9ebff4b8565a7f91582663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LMsAvvQGoNLCov1rG2tJ2g.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">图片来自<a class="ae kz" href="https://unsplash.com/photos/LPckxbrqE5w" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><blockquote class="la lb lc"><p id="a05a" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated">一、<strong class="lg iv">简介</strong></p></blockquote><p id="332c" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi md translated"><span class="l me mf mg bm mh mi mj mk ml di"> L </span>逻辑回归是一个基本的统计概念，通过它可以在分类变量之间进行回归分析。很多时候，变量的序数值不一定代表任何数字，而是代表一个类别。我们以前讨论过简单线性回归和多元线性回归。在本文中，我将介绍R中逻辑回归的实现，并解释结果。</p><p id="0d77" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">有时，我们的变量只能采用二进制类型的值，例如性别、就业状况和其他是/否类型的回答。此外，我们可以有两个以上的类别。在简单逻辑回归中，我们有一个二元因变量和一个连续或分类自变量。我们可以利用线性回归来预测二元因变量，但有几个限制。我们将在这里讨论这些假设。</p><blockquote class="la lb lc"><p id="9d6d" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">假设违反</strong></p></blockquote><p id="a6ed" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">线性回归的第一个假设是数据的正态性。在简单线性回归中，我们假设因变量在平均值与中值重叠的地方呈正态分布。在逻辑回归的情况下，因变量有二分输出。这意味着它远非正态分布。事实上它遵循伯努利分布。这意味着我们不能利用最近的创造来预测一个二元变量。</p><p id="831e" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">使用线性回归来预测二元变量的另一个限制是违反了同方差假设。在这种假设下，只有预测变量的值的误差方差被认为是一致的。但事实并非如此。在这个逻辑回归中，误差的方差取决于捕食者变量的值，这个变量被称为异方差。</p><p id="cdca" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">最后，我想指出的是，用这种方法做逻辑回归，也违反了线性假设。我们无法获得二分变量和线性连续变量之间的线性关系。事实上，这种关系遵循S形曲线，这是逻辑回归的标志，如下所示。该曲线表明，响应变量只能取两个级别的值。如果这里应用线性回归，有时结果可能小于0或大于1，这违反了概率论的基本假设。</p><blockquote class="la lb lc"><p id="0f5c" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">解决方案</strong></p></blockquote><p id="daae" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">为了避免上述违规，当响应变量为二元时，我们需要使用逻辑回归而不是线性回归。我们需要对结果变量的成功概率进行逻辑转换。简单逻辑斯谛方程的最简单形式是</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mm"><img src="../Images/3f3ed7866fea3df050ea6b3c404e21cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*bhAyO3LRHh8WlkWAYcW7-g.png"/></div></figure><p id="72be" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">其中p是结果变量等于1的概率。Logit(p)表示成功概率的逻辑转换。在右边，形成非常类似于线性回归。此逻辑转换方程和简单线性回归之间的基本区别在于，我们不是直接计算响应变量，而是测量响应变量的成功概率。由于这也产生了与成功几率相同的氛围，等式的左边可以改写如下。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mn"><img src="../Images/eb58bd0b852af819eef0e86b6d2f2ecf.png" data-original-src="https://miro.medium.com/v2/resize:fit:544/format:webp/1*IRepAN8zGMN8ZSIl8bzQCg.png"/></div></figure><p id="e308" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">因此，“logit”是“成功几率的自然对数”。</p><p id="e081" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">逻辑回归背后的理论已经在上面简要讨论过了。接下来我将在r中实现一个逻辑回归的例子，并解释所有的输出以获得洞察力。</p><blockquote class="la lb lc"><p id="69ff" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">数据集</strong></p></blockquote><p id="a42f" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">为了进行演示，我将使用2016年收集的综合社会调查(GSS)数据。这些数据是从<a class="ae kz" href="https://www.thearda.com/Archive/Files/Downloads/GSS2016_DL.asp" rel="noopener ugc nofollow" target="_blank">宗教数据档案协会</a>下载的，由Tom W. Smith收集。该数据集收集了近3，000名受访者的回答，并包含与若干社会经济特征相关的数据。例如，它有与婚姻状况、教育背景、工作时间、就业状况等相关的数据。让我们深入这个数据集，以便更好地理解它。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj mo"><img src="../Images/ac872c9145d9502ee7ba82bd56e24175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NZ1EEn7VoBZKxVzE.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">GSS 2016年数据[图片由作者提供]</p></figure><p id="34e9" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">学位列提供每个人的教育水平值，MADEG提供每个母亲的教育程度。我们的目标是找出母亲的本科教育水平是否是孩子本科教育水平的良好预测指标。数据集中的分类数据按顺序编码。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mp"><img src="../Images/559fe4ecdf53288f7fcb58a0dd3d8011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-6rbTRhqMK8vD6cMSC0B1w.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">学位数据[图片由作者提供]</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mq"><img src="../Images/8865280d767f006d490733a2a2e25641.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KLrNsGKq0_DIV5frch0ktg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">MADEG数据[图片由作者提供]</p></figure><p id="ebaf" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">让我们导入R中的数据，并利用glm()命令来回答我们的问题。我们需要稍微修改一下我们的数据集。对于所有不到学士学位的参与者，标记为0，其他标记为1。同样的特征工程是在母亲的教育水平上完成的。新列被重命名为DEGREE1和MADEG1。</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="mr ms l"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">r码[图片由作者提供]</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj mt"><img src="../Images/5708cfd0a7143cce0182e6c04b2ec86f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SG9lp6ZXeYusC0yQ5RRAmQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">R中的输出窗口[图片由作者提供]</p></figure><p id="8cf7" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">在这里，上面的输出窗口非常类似于下一篇文章中讨论的线性回归，我们使用了lm()函数。</p><div class="mu mv gq gs mw mx"><a rel="noopener follow" target="_blank" href="/total-interpretation-of-regression-and-anova-commands-in-r-ed8982c12473"><div class="my ab fp"><div class="mz ab na cl cj nb"><h2 class="bd iv gz z fq nc fs ft nd fv fx it bi translated">R中回归和ANOVA命令的全部解释</h2><div class="ne l"><h3 class="bd b gz z fq nc fs ft nd fv fx dk translated">R系列中的统计</h3></div><div class="nf l"><p class="bd b dl z fq nc fs ft nd fv fx dk translated">towardsdatascience.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl kt mx"/></div></div></a></div><blockquote class="la lb lc"><p id="ce2c" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结果解读</strong></p></blockquote><p id="3d25" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">如前所述，要实现逻辑回归，我们需要将输出成功的概率转换为对数度量，然后可以确定预测变量和截距的系数。解释如下。</p><ol class=""><li id="1f66" class="nm nn iu lg b lh li lk ll ma no mb np mc nq lz nr ns nt nu bi translated">从输出窗口中，我们观察到存在类似于线性回归情形的残差。截距的估计值为0.257，MADEG的系数估计值为0.316，这基本上告诉我们，预测变量(即母亲的教育水平)每增加一个单位，孩子的教育水平值为1的logit概率就增加0.31598(这仍然是一个正斜率，表明响应变量随着预测变量的增加而增加)。换句话说，母亲的学士学位增加了孩子获得学士学位的可能性。</li><li id="368b" class="nm nn iu lg b lh nv lk nw ma nx mb ny mc nz lz nr ns nt nu bi translated">相关的p值小于0.05，这也告诉我们拒绝零假设。这里的零假设是“预测变量的系数为0，基本上不影响响应变量”。因此，我们可以得出结论，母亲的学士学位教育显著影响孩子的学士学位。至少数据是这么告诉我们的。</li><li id="687f" class="nm nn iu lg b lh nv lk nw ma nx mb ny mc nz lz nr ns nt nu bi translated">t值的计算方法是将估计值除以标准误差。最后，零偏离值显示了零模型的偏离，其中我们只有截距。剩余偏差是指偏差定义为</li></ol><blockquote class="oa"><p id="7e11" class="ob oc iu bd od oe of og oh oi oj lz dk translated">剩余偏差= -2(当前模型的对数似然性-饱和模型的对数似然性)</p></blockquote><p id="b40e" class="pw-post-body-paragraph ld le iu lg b lh ok jv lj lk ol jy lm ma om lp lq mb on lt lu mc oo lx ly lz in bi translated">零偏差和剩余偏差之间的差异用于确定当前模型的显著性。</p><blockquote class="la lb lc"><p id="8075" class="ld le lf lg b lh li jv lj lk ll jy lm ln lo lp lq lr ls lt lu lv lw lx ly lz in bi translated"><strong class="lg iv">结论</strong></p></blockquote><p id="5d42" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">我们已经讨论了简单的逻辑回归及其在R中的实现。我们还浏览了R的输出并解释了来自一般社会调查的结果。预测变量的正系数表明，随着母亲的学士学位值从0增加到1，孩子的学士学位变为1的概率增加了0.31598，或者换句话说，可以得出结论，在我们的数据集中，母亲的教育显著影响孩子的教育。</p><p id="197d" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">感谢阅读。</p><p id="8a97" class="pw-post-body-paragraph ld le iu lg b lh li jv lj lk ll jy lm ma lo lp lq mb ls lt lu mc lw lx ly lz in bi translated">网站:<a class="ae kz" href="https://www.learningfromdata.net/" rel="noopener ugc nofollow" target="_blank">从数据中学习</a></p><div class="mu mv gq gs mw mx"><a href="https://mdsohel-mahmood.medium.com/membership" rel="noopener follow" target="_blank"><div class="my ab fp"><div class="mz ab na cl cj nb"><h2 class="bd iv gz z fq nc fs ft nd fv fx it bi translated">用我的推荐链接加入媒体</h2><div class="ne l"><h3 class="bd b gz z fq nc fs ft nd fv fx dk translated">阅读Md Sohel Mahmood(以及媒体上成千上万的其他作家)的每一个故事。您的会员费直接…</h3></div><div class="nf l"><p class="bd b dl z fq nc fs ft nd fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="ng l"><div class="op l ni nj nk ng nl kt mx"/></div></div></a></div><div class="mu mv gq gs mw mx"><a href="https://mdsohel-mahmood.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="my ab fp"><div class="mz ab na cl cj nb"><h2 class="bd iv gz z fq nc fs ft nd fv fx it bi translated">每当Md Sohel Mahmood发表文章时，都会收到一封电子邮件。</h2><div class="ne l"><h3 class="bd b gz z fq nc fs ft nd fv fx dk translated">每当Md Sohel Mahmood发表文章时，都会收到一封电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="nf l"><p class="bd b dl z fq nc fs ft nd fv fx dk translated">mdsohel-mahmood.medium.com</p></div></div><div class="ng l"><div class="oq l ni nj nk ng nl kt mx"/></div></div></a></div></div></div>    
</body>
</html>