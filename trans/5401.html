<html>
<head>
<title>How To Run Your Python Scripts in Amazon EC2 Instances (Demo)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在 Amazon EC2 实例中运行 Python 脚本(演示)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-run-your-python-scripts-in-amazon-ec2-instances-demo-8e56e76a6d24#2022-12-05">https://towardsdatascience.com/how-to-run-your-python-scripts-in-amazon-ec2-instances-demo-8e56e76a6d24#2022-12-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ee55" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">带演示的循序渐进教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/75c3c5b9ac688bf66fcb38be06980f73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ei6vnOcvX73EByRduzTJlQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">panumas nikhomkhai 的照片:<a class="ae ky" href="https://www.pexels.com/photo/close-up-photo-of-mining-rig-1148820/" rel="noopener ugc nofollow" target="_blank">https://www . pexels . com/photo/close-up-photo-of-mining-rig-1148820/</a></p></figure><p id="2d5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您很可能习惯于在本地机器上运行 Python 脚本。但是，机器可能无法满足运行某些操作所需计算或存储要求。</p><p id="a2ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这些情况，人们可以利用虚拟实例来满足任何无法在本地满足的需求。</p><p id="6e23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们执行一个快速演示来展示 Python 脚本如何在 Amazon 的 EC2 实例中运行。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="4a3f" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">演示</h2><p id="870a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">有什么比演示更好的方法来解释如何做某事呢？</p><p id="1d21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为指南的一部分，我们将致力于在 EC2 实例中运行一个名为“random_number_generator.py”的 Python 脚本。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="na nb l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/cd5442c08de83b70e9a2d6b2cb3ad32a.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*Iso33ecviq13Ama2TJr38w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">代码输出(由作者创建)</p></figure><p id="b52b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很简单，对吧？该脚本只是使用 Numpy 包打印出一个随机数。</p><p id="db3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住 Python 的版本以及成功运行代码所需的包的版本很重要(我当前的环境使用 Python 3.9.13，只使用 Numpy 模块)。</p><p id="9bc0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要获得在机器上使用的 Python 版本，只需在命令行中输入以下命令:</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="15e2" class="ni md it ne b be nj nk l nl nm">python --version</span></pre><p id="6603" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要获得随 pip 一起安装的软件包及其版本的列表，请在命令行中使用以下命令。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="67bd" class="ni md it ne b be nj nk l nl nm">pip list</span></pre><p id="a178" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以在实例中一个接一个地安装软件包，但是这可能很耗时。你也有可能得到错误版本的包。因此，建议将所有包存储在一个“requirements.txt”文件中，这可以用下面的命令来完成。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="fd83" class="ni md it ne b be nj nk l nn nm">pip freeze &gt; requirements.txt</span></pre></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="3008" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤 1:启动 EC2 实例</h2><p id="7e03" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先，需要启动将运行脚本的 EC2 实例。</p><p id="9a1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不会过多地研究这一步，因为关于如何在 AWS 上创建 EC2 实例的教程不计其数(而且一开始就没有设计得很难)。</p><p id="6c26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请随意选择适合您的使用情形的定价和安全配置。由于这只是一个简单的演示，我们将使用一个没有额外安全措施的自由层实例。</p><p id="f733" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">配置实例时更重要的细节如下:</p><p id="16a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 1。选择亚马逊机器镜像(AMI) </strong></p><p id="e31c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当启动一个实例时，要求您做的第一件事是选择 AMI。</p><p id="16fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您选择的 AMI 将决定实例的用户名，您需要知道该用户名以便稍后连接到您的实例。对于那些不确定其实例的用户名是什么的人来说，<a class="ae ky" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connection-prereqs.html" rel="noopener ugc nofollow" target="_blank"> AWS 文档</a>涵盖了分配给每个 AMI 启动的实例的默认用户名。</p><p id="e64d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的例子，我们将使用 Amazon Linux AMI 启动一个实例。这种类型的实例的用户名是“ec2-user”。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/b70ad7de2c29ba400dbe31930a3bd8e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7HK5Q8EV3N4eiNOZKvxahQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">AMI(作者图片)</p></figure><p id="a72d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AMI 的选择还会影响到简化命令行操作所需的命令。例如，用于 Amazon Linux AMI 启动的实例的命令可能与 Ubuntu AMI 启动的实例不匹配。</p><p id="e11f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2。密钥对</strong></p><p id="9bb7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还需要创建一个密钥对或使用现有密钥(作为. pem 文件)来访问您的实例。</p><p id="55d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于我们的示例，我们将创建一个名为“test_key.pem”的私钥</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi np"><img src="../Images/5ac68b9893f78e14b197d073cd22888c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oFTm7KYVcAWfbdvB-NDHjQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">密钥对(图片由作者提供)</p></figure><p id="f1c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">完成所有部分后，单击“启动实例”。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="04e7" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤 2:连接到实例</h2><p id="82fa" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">AWS 允许您使用安全外壳(SSH)连接到您的实例。</p><p id="71bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要找到连接到实例所需的<code class="fe nq nr ns ne b">ssh</code>命令，请在 EC2 控制台中选择您的实例，然后单击顶部的“connect”选项卡。之后，选择“SSH 客户端”选项卡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/659203559b987512368f28a7fc6518e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BSYHsDc0-UlwIGI0"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择“连接”选项卡(按作者排列的图像)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/2b413cefe3c4456ba86df1d517423104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2Yok7-aeh-twalXL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择 SSH 客户端选项卡(按作者排序的图片)</p></figure><p id="e177" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您将看到连接到实例所需的命令。您还会看到您的实例的公共 DNS(您稍后会需要它，所以请记住这一点)。</p><p id="5211" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，连接到该实例的命令是:</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="dd94" class="ni md it ne b be nj nk l nn nm">ssh -i "test_key.pem" ec2-user@ec2-34-204-68-237.compute-1.amazonaws.com</span></pre><p id="c488" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用于连接到实例的<code class="fe nq nr ns ne b">ssh</code>命令必须从您的密钥文件的位置执行。在终端窗口中，将目录切换到包含私钥的文件夹，并输入提供的命令。出现提示时，选择“是”。如果成功，输出应该如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/8027c9db1c77c1a6d9cf4aacf9bb1043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*1fQLrdBn8K-0niLZoRszDw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="9ab4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。您现在已经连接到您的实例！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="6d43" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤 3:安装 Python(可选)</h2><p id="143a" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">您的 EC2 实例应该已经提供了 Python3 的一个版本，您可以用<code class="fe nq nr ns ne b">python3 --version</code>命令来验证它。</p><p id="0c7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您正在寻找 Python 的特定版本，您可以自己安装(如果这不适用于您，请跳过这一步)。</p><p id="e1dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Amazon Linux 实例提供了 Python 3.7。出于演示的目的，我们假设需要匹配我们的本地机器并安装 Python 3.9.13。</p><blockquote class="nw nx ny"><p id="67cf" class="kz la nz lb b lc ld ju le lf lg jx lh oa lj lk ll ob ln lo lp oc lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:以下命令适用于 Amazon Linux AMI 启动的实例。它们可能不适合用其他 AMI(例如 Ubuntu)启动的实例。</p></blockquote><p id="1e06" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们安装 Python 的依赖项。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="2ff2" class="ni md it ne b be nj nk l nl nm">sudo yum -y groupinstall "Development Tools"<br/>sudo yum -y install openssl-devel bzip2-devel libffi-devel</span></pre><p id="dd79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们用<code class="fe nq nr ns ne b">wget</code>命令下载感兴趣的 Python 版本。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="dd76" class="ni md it ne b be nj nk l nn nm">sudo yum -y install wget<br/>wget https://www.python.org/ftp/python/3.9.13/Python-3.9.13.tgz</span></pre><p id="6ed4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该实例现在应该有一个名为“Python-3.9.13.tgz”的文件。</p><blockquote class="nw nx ny"><p id="9951" class="kz la nz lb b lc ld ju le lf lg jx lh oa lj lk ll ob ln lo lp oc lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:这些命令用于下载 Python 3 . 9 . 13 版本。要获得您选择的 Python 版本，只需用您选择的版本号替换命令中的版本号。</p></blockquote><p id="f77b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下载文件后，将其解压缩。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="ee98" class="ni md it ne b be nj nk l nn nm">tar xvf Python-3.9.13.tgz</span></pre><p id="f38e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">提取的 Python 文件夹现在应该在 EC2 实例中(您可以使用<code class="fe nq nr ns ne b">ls</code>命令确认这一点)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi od"><img src="../Images/b6c83692b641da83aa6102287e1be8f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/0*f5-ItfWVwyiKnULo"/></div></figure><p id="b277" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">移动到创建的 Python 文件夹并执行安装。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="5255" class="ni md it ne b be nj nk l nl nm">cd Python-*/<br/>./configure --enable-optimizations<br/>sudo make altinstall</span></pre><p id="b87e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这样，Python 的新版本就应该安装成功了！为了测试这一点，我们可以输入<code class="fe nq nr ns ne b">Python3.9 --version</code>命令。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/26ab6fd6d1bb9dfa667a9319e62f48f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VV3MCs4rqITJ3IXB"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="6888" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤 4:将文件复制到 EC2 实例</h2><p id="e4bb" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">现在我们有了 Python 的正确版本，我们可以将所有文件复制到实例中。在我们的例子中，被复制的文件是“random_number_generator.py”和“requirements.txt”文件。</p><p id="7151" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将离开 Python 文件夹，创建一个名为“project”的新文件夹，其中将包含这两个文件。这一步是可选的；您可以将文件放在实例中您想要的任何位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/af5de35a09bac9c8b881509dffff5fbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/0*n8IA7lf81Nf87BI3"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="c0a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，打开一个新的终端窗口(姑且称之为终端 2)。终端 2 将用于将本地机器中的文件复制到 EC2 实例。</p><p id="2e36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用<code class="fe nq nr ns ne b">scp</code>(安全复制)命令将文件从一个位置复制到另一个位置。用于将文件从本地计算机复制到 EC2 实例的命令具有以下格式:</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="62bd" class="ni md it ne b be nj nk l nn nm">scp -i &lt;/path/key-pair-name.pem&gt; &lt;/path/file_to_copy&gt; &lt;username&gt;@&lt;instance_public_dns&gt;:&lt;destination_path&gt;</span></pre><blockquote class="nw nx ny"><p id="dbae" class="kz la nz lb b lc ld ju le lf lg jx lh oa lj lk ll ob ln lo lp oc lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:要获取 EC2 实例的公共 DNS，请转到 AWS EC2 控制台中的 SSH 客户端选项卡(参见步骤 2)。</p></blockquote><p id="82da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可以使用以下命令将“random_number_generator.py”和“requirements.txt”文件复制到实例中的“项目文件夹”中:</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="e2f5" class="ni md it ne b be nj nk l nn nm">scp -i test_key.pem random_number_generator.py ec2-user@ec2-34-204-68-237.compute-1.amazonaws.com:/home/ec2-user/project<br/><br/>scp -i test_key.pem requirements.txt ec2-user@ec2-34-204-68-237.compute-1.amazonaws.com:/home/ec2-user/project</span></pre><p id="723a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果没有问题，该命令应该会产生以下输出:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/d94f0dd67a4144860d12322d8dda9e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wXpVF3lKeeZc3F4Q"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="d5be" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您返回到终端 1(即带有 EC2 实例的终端)时，您应该能够看到您在<code class="fe nq nr ns ne b">scp</code>命令中指定的目标路径中的文件。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi of"><img src="../Images/4e4649f0cba4e75c78cd59ce0325a609.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/0*ncefX-m-q5E4zILR"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="46bc" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">步骤 5:创建虚拟环境</h2><p id="baa9" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在这个阶段，您可能想安装您的包，以便可以立即运行您的代码。但是，全局安装软件包可能会导致与系统软件包管理器的行为冲突。</p><p id="acc2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，还是在虚拟环境下工作比较好。</p><p id="cccf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将创建一个名为“test_venv”的虚拟环境，然后进入该环境。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="b57d" class="ni md it ne b be nj nk l nl nm">Python3.9 -m venv test_env<br/>source test_env/bin/activate</span></pre><p id="23ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">激活虚拟环境后，您应该能够在当前目录左侧的括号中看到它的名称。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/3027b2e82ccc56d9a1260f3d9af056fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*mp4nN3KHCyDYJtX-"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="0863" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们在虚拟环境中，我们可以安装运行脚本所需的所有必要的包。如果您将软件包和版本存储在 requirements.txt 文件中，那么您可以使用一个命令来执行所有安装。</p><pre class="kj kk kl km gt nd ne nf bn ng nh bi"><span id="0d7f" class="ni md it ne b be nj nk l nn nm">pip3.9 install -r requirements.txt</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/3cdc4b1fd25717b769022b5001e37ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sxrKAX_NRKEv7nmI"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="a9bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，这个命令是针对 Python 3.9 的。根据使用的 Python 版本修改命令。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="4097" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">第 6 步:运行您的代码！</h2><p id="f9f3" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">您已经创建了 EC2 实例，连接到实例，安装了正确的 Python 版本，将文件传输到实例，并设置了虚拟环境。最后，您可以在新实例中运行 Python 脚本！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e31e30c60421381ce3dcac8d5112d2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0UpX9NHUssFjsC0p"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">命令输出(由作者创建)</p></figure><p id="f3ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你完成了在虚拟环境中的工作，你可以用<code class="fe nq nr ns ne b">deactivate</code>命令离开它。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="5ff9" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">友情提示:停止你的实例</h2><p id="31d1" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">EC2 实例使用现收现付的定价模型，所以当您使用完实例时，请停止使用它们！否则，你会发现自己收到一份令人不快的账单。</p><p id="2a19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使您正在处理一个自由层实例，最好养成尽早停止实例的习惯。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="58df" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">结论</h2><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/f40aafe1049437e0da3bcb76aba57fbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KZHl7L6Dw865CHka"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@prateekkatyal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普拉蒂克·卡蒂亚尔</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="ee23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过这个演示，您有望顺利地在 AWS 实例上运行您的脚本。</p><p id="b879" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使你主要编写可以在本地机器上运行的程序，接触一些云平台提供的计算服务也是有好处的，因为当你的工作有更大的计算需求时，你会有所准备。</p><p id="701f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我祝你在数据科学的努力中好运！</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="c421" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">参考</h2><ol class=""><li id="2f27" class="ol om it lb b lc mv lf mw li on lm oo lq op lu oq or os ot bi translated"><em class="nz">使用 SSH </em>连接您的 linux 实例。(未注明)。2022 年 12 月 4 日检索，来自<a class="ae ky" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html" rel="noopener ugc nofollow" target="_blank">https://docs . AWS . Amazon . com/AWS ec2/latest/user guide/accessinginstanceslinux . html</a></li><li id="5264" class="ol om it lb b lc ou lf ov li ow lm ox lq oy lu oq or os ot bi translated">Mutai，J. (2022 年 1 月 17 日)。<em class="nz">如何在亚马逊 Linux 2 上安装 Python 3.9</em>。计算 ForGeeks。2022 年 12 月 4 日检索，来自<a class="ae ky" href="https://computingforgeeks.com/how-to-install-python-on-amazon-linux/" rel="noopener ugc nofollow" target="_blank">https://computingforgeeks . com/how-to-install-python-on-Amazon-Linux/</a></li></ol></div></div>    
</body>
</html>