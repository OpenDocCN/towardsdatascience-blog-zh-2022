<html>
<head>
<title>Competitive Programming &amp; AlphaCode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">竞争性编程和字母代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/competitive-programming-alphacode-e9ebc3f88000#2022-08-17">https://towardsdatascience.com/competitive-programming-alphacode-e9ebc3f88000#2022-08-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="53fd" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">解决竞争性编程挑战的培训模型</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/16407fea85b0f99010384d935d7a7b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fdKk1q0k6mTPXCbYEdfZEQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">他们论文中展示的DeepMind的AlphaCode概述</p></figure><h2 id="00b2" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">DeepMind的字母代码</h2><p id="cd5a" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">DeepMind最近发表了一篇论文，介绍了他们如何训练一个名为AlphaCode的模型，该模型可以将一个竞争性编程问题作为输入，然后生成一个解决方案，在参与这些竞争性编程挑战的人中排名54%。那相当令人印象深刻！这里是博客和T2论文的链接。</p><p id="039b" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">他们使用来自许多举办这些比赛的不同网站的大量示例挑战和解决方案来训练他们的模型。他们还建立了一个GitHub网站，将这些数据提供给那些想尝试训练自己模型的人。读完报纸后，我认为这将是一件伟大的事情。当时我一点也不知道，要做到这一点需要做多少工作。这就是这篇博文的主要目的。我想向您展示我做了什么，以及我如何能够接受他们提供的输入，这是一种专有的格式，并将其转换为简单的JSON。这是一种非常简单的格式，可以用作您自己模型的输入。</p><h2 id="5450" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">克隆存储库并下载数据</h2><p id="cdc2" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">AlphaCode团队为代码竞赛<a class="ae mk" href="https://github.com/deepmind/code_contests" rel="noopener ugc nofollow" target="_blank">创建了一个GitHub知识库。将存储库克隆到您本地机器上。我们将在后面的步骤中用到它。该库中的自述文件告诉您如何下载数据。按照他们给你的步骤去做。我觉得这有点可怕，因为你必须使用谷歌云，如果你不小心，它会开始从你的信用卡上收取你没有清理和删除的服务费用。在你把文件下载到你的机器上之后，确保你删除了你必须创建的应用程序。我下载了数据，放在D:\ Data \ contest problem \ DM-code-contests。</a></p><h2 id="f310" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">Riegeli格式和protobuf</h2><p id="bc73" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">下载完数据后，你会注意到它们都是<a class="ae mk" href="https://github.com/google/riegeli" rel="noopener ugc nofollow" target="_blank"> Riegeli </a>格式的文件。这是protobuf的一种特殊格式，可以很好地压缩字符串。不幸的是，你无法在谷歌环境之外处理这些文件。TensorFlow的最新版本提到了它们，但我无法从TensorFlow中读取它们。</p><h2 id="086e" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">安装Ubuntu 18.04</h2><p id="debe" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">为了构建和运行程序来访问riegeli文件，我们需要安装Ubuntu 18.04。我在我的Windows 10 PC上使用WSL，所以我简单地用这个命令在上面安装了Ubuntu 18.04发行版:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="9103" class="kv kw iq mr b gy mv mw l mx my">wsl --install -d Ubuntu-18.04</span></pre><p id="831c" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">如果你有一台Windows 10 PC，但没有安装WSL，我发现最简单的安装方法是安装Docker Desktop，并告诉它使用WSL作为后端。</p><h2 id="886a" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">安装Bazel</h2><p id="2e4d" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">为了在克隆的存储库中构建东西，我们需要Bazel。你可以在https://bazel.build/install找到如何安装的说明。首先，您需要添加密钥:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="dc4d" class="kv kw iq mr b gy mv mw l mx my">sudo apt install apt-transport-https curl gnupg<br/>curl -fsSL https://bazel.build/bazel-release.pub.gpg | gpg --dearmor &gt;bazel-archive-keyring.gpg<br/>sudo mv bazel-archive-keyring.gpg /usr/share/keyrings<br/>echo "deb [arch=amd64 signed-by=/usr/share/keyrings/bazel-archive-keyring.gpg] https://storage.googleapis.com/bazel-apt stable jdk1.8" | sudo tee /etc/apt/sources.list.d/bazel.list</span></pre><p id="6f3e" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">然后，您可以安装和升级它:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="b55e" class="kv kw iq mr b gy mv mw l mx my">sudo apt update &amp;&amp; sudo apt install bazel<br/>sudo apt update &amp;&amp; sudo apt full-upgrade</span></pre><h2 id="b433" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">安装clang和python 3开发</h2><p id="7dcd" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">最终的构建需求是clang和python 3开发:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="321d" class="kv kw iq mr b gy mv mw l mx my">sudo apt install clang<br/>sudo apt install python3-dev</span></pre><h2 id="a877" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">构建示例</h2><p id="922f" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">现在我们可以开始建造东西了。在linux提示符下，转到您克隆存储库的目录。从那里发出以下命令:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="e689" class="kv kw iq mr b gy mv mw l mx my">bazel run -c opt :print_names_and_sources /mnt/d/Data/ContestProblem/dm-code_contests/code_contests_valid.riegeli</span></pre><p id="f595" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">这将需要相当长的时间来运行，因为Bazel将下载并构建所有必要的依赖项。如果一切顺利，您应该会看到验证样本及其来源的列表。做这件事的实际python代码在存储库中的<strong class="lt ir">print _ name _ and _ sources . py</strong>中。</p><h2 id="3fc5" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">创建脚本将riegeli文件转换为JSON</h2><p id="9899" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">现在我们知道构建环境可以工作了，我们将创建一个新的python脚本，它将通读所有的训练、验证和测试riegeli文件，并将它们转换成JSON。创建一个名为<strong class="lt ir">的文件convert_riegeli_to_json.py </strong>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><p id="fa83" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">为了能够构建和运行它，我们需要在构建文件的末尾添加一些行:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mz na l"/></div></figure><h2 id="e9ea" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">将riegeli文件转换为JSON</h2><p id="7bb4" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">现在一切就绪，我们只需构建并运行脚本，指定输入文件夹和输出文件夹，如下所示:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="7d4c" class="kv kw iq mr b gy mv mw l mx my">bazel run -c opt :convert_riegeli_to_json /mnt/d/Data/ContestProblem/dm-code_contests /mnt/d/Data/ContestProblem/dm-code_contests_json</span></pre><p id="6b0f" class="pw-post-body-paragraph lr ls iq lt b lu ml jr lw lx mm ju lz le mn mb mc li mo me mf lm mp mh mi mj ij bi translated">然后应该构建并运行脚本，当它转换每个文件时，您应该会看到类似这样的内容:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nb"><img src="../Images/94330cf5e62536fcbe755bc77cd69817.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eo4rccfsyMTtxvDkcRzlJw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Bazel构建并运行convert_riegeli_to_json.py</p></figure><h2 id="bfda" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">完成更改</h2><p id="2e8d" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">我为DeepMind项目创建了一个PR草案，以便您可以详细了解我所做的更改。这里可以看到<a class="ae mk" href="https://github.com/deepmind/code_contests/pull/21" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="98a4" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h2><p id="f5ce" class="pw-post-body-paragraph lr ls iq lt b lu lv jr lw lx ly ju lz le ma mb mc li md me mf lm mg mh mi mj ij bi translated">我发现让Bazel工作，然后构建项目很有趣。在这个过程中，我发现了很多关于protobuf和riegeli格式的东西。现在我已经有了JSON文件，下一步是尝试创建和训练一个模型，以实现类似于AlphaCode的东西。</p></div><div class="ab cl nc nd hu ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="ij ik il im in"><h2 id="86ed" class="kv kw iq bd kx ky kz dn la lb lc dp ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">资源</h2><ol class=""><li id="d80a" class="nj nk iq lt b lu lv lx ly le nl li nm lm nn mj no np nq nr bi translated">AlphaCode博客文章:<a class="ae mk" href="https://www.deepmind.com/blog/competitive-programming-with-alphacode" rel="noopener ugc nofollow" target="_blank">https://www . deep mind . com/Blog/competitive-programming-with-alpha code</a></li><li id="0bef" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">AlphaCode论文:h<a class="ae mk" href="https://arxiv.org/abs/2203.07814" rel="noopener ugc nofollow" target="_blank">ttps://arxiv . org/ABS/2203.07814</a></li><li id="2745" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">代码竞赛GitHub:<a class="ae mk" href="https://github.com/deepmind/code_contests" rel="noopener ugc nofollow" target="_blank">https://github.com/deepmind/code_contests</a></li><li id="a95a" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">巴泽尔:<a class="ae mk" href="https://bazel.build/install" rel="noopener ugc nofollow" target="_blank">https://bazel.build/install</a></li><li id="0704" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">https://github.com/google/riegeli<a class="ae mk" href="https://github.com/google/riegeli" rel="noopener ugc nofollow" target="_blank"/></li><li id="1884" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">原蟾蜍:【https://developers.google.com/protocol-buffers】T4</li><li id="f141" class="nj nk iq lt b lu ns lx nt le nu li nv lm nw mj no np nq nr bi translated">我的公关:<a class="ae mk" href="https://github.com/deepmind/code_contests/pull/21#issuecomment-1214380753" rel="noopener ugc nofollow" target="_blank">https://github.com/deepmind/code_contests/pull/21</a></li></ol></div></div>    
</body>
</html>