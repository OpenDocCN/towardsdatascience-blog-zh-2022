<html>
<head>
<title>What to Do When the A/B Test Result Is Not Significant</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">当A/B测试结果不显著时该怎么办</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/what-to-do-when-a-b-test-result-is-not-significant-21e905ff9eba#2022-04-25">https://towardsdatascience.com/what-to-do-when-a-b-test-result-is-not-significant-21e905ff9eba#2022-04-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6d9a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">落实具体行动的四步框架</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/122bbff019e011d0917cebe987c587b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MuVCM0WipSICg4BM"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://unsplash.com/photos/IrRbSND5EUc" rel="noopener ugc nofollow" target="_blank">马库斯·温克勒在Unsplash上的文章</a></p></figure><h1 id="63ab" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">太长；不要读</h1><ul class=""><li id="56f0" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated"><strong class="lq ir">第一步:检查实验设置&amp;数据正确性</strong></li><li id="98d4" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><strong class="lq ir">第二步:检查样本量和统计功效是否足够:</strong>如果收集的样本满足所需的最小样本量，进行非参数检验，评估实验是否功效不足。如果流量不足，继续等待，因为通常不建议根据历史趋势制定推断假设(最后的选择)。</li><li id="835a" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><strong class="lq ir">第三步:检查新产品功能是否成功:</strong>深入细致的用户分析&amp;评估产品功能的有效性<em class="ml">例如，使用热图/漏斗绘制用户旅程，探索产品采用情况，按用户组细分等</em>。</li><li id="4ed8" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><strong class="lq ir">第四步:确定下一步行动:</strong>如果第二步有暗示，建议延长试验期或减少差异，或者如果第三步有激励，向产品经理<strong class="lq ir"> </strong>交付相关的可操作分析。</li></ul><h1 id="f21d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="6084" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi translated">本文讨论了当实验被证明在统计学上无关紧要时，数据科学家应该如何反应。最好是对统计功效、最小样本量计算等A/B检验有一些基础知识，并且有兴趣深入研究细节的人。</p><h2 id="5169" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated"><strong class="ak">我们多久观察到一次无关紧要的结果？</strong></h2><p id="0819" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi translated">可悲但真实的是，在这个行业中，意想不到的微不足道的结果经常发生。根据我个人的经验和对数据科学团队的观察，<strong class="lq ir">几乎三分之一的</strong>实验都以北极星度量的无关紧要的p值而告终。此外，除了这些关键指标之外，很可能还有其他指标无法证明统计意义。</p><p id="6054" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">因此，我们遵循科学方法来解释这些测试结果并得出可信的结论是至关重要的。受&lt;<a class="ae kv" href="https://www.cambridge.org/core/books/trustworthy-online-controlled-experiments/D97B26382EB0EB2DC2019A7A7B518F59" rel="noopener ugc nofollow" target="_blank"> <em class="ml">值得信赖的在线受控实验:A/B测试实用指南</em> </a> &gt;(见参考文献)的启发，我想介绍一种循序渐进的方法，将我们从这种看似毫无头绪的状态带入可操作的阶段。</p><h2 id="8e8d" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated">有哪些常见的原因？</h2><p id="3115" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi translated">在我们很好地了解原因之前，最佳解决方案不会形成。如果假设没有新奇效应、变化厌恶和网络效应(<em class="ml">这些应该有一个完全不同的章节，因此不是本文的重点</em>)，<strong class="lq ir">常见的原因包括:</strong></p><ol class=""><li id="b5fd" class="lo lp iq lq b lr nl lt nm lv nq lx nr lz ns mb nt md me mf bi translated">测试功能实际上并不成功。</li><li id="6b7c" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated">评估指标的方差太大，无法反映治疗的变化。</li><li id="0c98" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated">该实验仅影响随机人群的一小部分，稀释了评估指标，导致提升不明显</li><li id="866f" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated">实际处理效果小于最小可检测效果，因此在给定预定样本量的情况下，实验提升不能被解释为显著结果。</li></ol><p id="3791" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">本质上，上述4个原因可以归为两个关键问题:</p><ul class=""><li id="1167" class="lo lp iq lq b lr nl lt nm lv nq lx nr lz ns mb mc md me mf bi translated"><strong class="lq ir">产品问题:</strong>新的特性或策略实际上在推动评估指标方面并不有效。</li><li id="719a" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb mc md me mf bi translated"><strong class="lq ir">统计功效不足问题:</strong>换句话说，实验动力不足，对检测我们预期的微小效应不敏感，即使它确实存在。通常是由于<strong class="lq ir">样本</strong>不足和<strong class="lq ir">方差</strong>过大造成的。</li></ul><p id="f4cd" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">第一类问题很容易理解，所以我将用本文的大部分时间讨论第二个问题，这通常更常见。</p><blockquote class="nu nv nw"><p id="b6fc" class="mm mn ml lq b lr nl jr mo lt nm ju mp nx nn mr ms ny no mu mv nz np mx my mb ij bi translated">对GoodUI.org 115次A/B测试的评估表明，大多数测试动力不足(<a class="ae kv" href="https://www.amazon.com/Field-Experiments-Design-Analysis-Interpretation/dp/0393979954" rel="noopener ugc nofollow" target="_blank">乔尔杰夫2018 </a>)。</p></blockquote><p id="41f4" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">统计能力不足的原因之一是，大多数现实世界的A/B测试针对的是用户的一个小众子集，而不是整个人群，这使得合格的实验用户群不再有大约10亿的数量级(大多数大型科技公司的MAU)，而是比这个数量级小100倍左右。</p><p id="a083" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">例如，一个电子商务平台的结帐页面上的结帐按钮的UI实验样本只涉及登录结帐页面的用户。如果我们假设这个电商平台的MAU是10亿，一般的用户旅程是‘登陆页—商品详情页—购物车—结账页’，每个阶段的转化率是5%，那么我们一个月能找回的最符合条件的实验流量只有:</p><p id="fc27" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated"><em class="ml">10亿用户×5%×5%×5% = 12.5万用户。</em></p><p id="9349" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">虽然10亿的MAU并不是微不足道的，但对于像每用户GMV这样的不稳定指标来说，125，000并不是一个很大的数字。此外，如果这种面向消费者的A/B实验已经面临流量短缺，那么当我们为其他商业方进行测试时，如抖音的<strong class="lq ir">创作者、亚马逊的商家、脸书的</strong>广告商等，可能会更加困难。这重申了理解数据科学家在遇到权力不足和无足轻重的结果时应该做什么的必要性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oa"><img src="../Images/66d5f2c682a824792b4fd44d92eefd33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YVRHtPPsF8fJTLL1kpAalA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://unsplash.com/photos/OGOWDVLbMSc" rel="noopener ugc nofollow" target="_blank">Unsplash上的活动创建者</a></p></figure></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="aad0" class="kw kx iq bd ky kz oi lb lc ld oj lf lg jw ok jx li jz ol ka lk kc om kd lm ln bi translated">详细展开:数据科学家应该做什么？</h1><h2 id="30d3" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated">步骤1: <strong class="ak">检查实验设置&amp;数据正确性</strong></h2><ol class=""><li id="d014" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb nt md me mf bi translated"><strong class="lq ir">检查实验参数是否按预期分布:</strong>再次检查以确保暴露于该实验的人口流量百分比与计划相符。此外，处理组中的用户确实可以看到所有新产品特性的变化，而控制组中的用户只能与当前版本进行交互。虽然它们似乎是非常<strong class="lq ir">基本的</strong>甚至是<strong class="lq ir">不必要的</strong>健全性检查，但在我过去的组织中，数据科学团队不止一次发生事故。</li><li id="eee5" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated"><strong class="lq ir">确保数据正确可信:</strong>数据科学家需要具体检查以下3件事:<br/> - <strong class="lq ir">构建关键指标的SQL是否正确？<br/> </strong> - <strong class="lq ir">交通分流是真的随机吗？</strong> ( <em class="ml">考虑使用卡方检验对两组之间的合格人群差异进行检验</em> ) <br/> - <strong class="lq ir">两组中的流量是否相同？</strong> ( <em class="ml">检查性别、年龄等关键特征的p值分布是否均匀</em>)</li></ol><h2 id="433f" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated"><strong class="ak">第二步:检查样本量和统计功效是否足够</strong></h2><ol class=""><li id="5ef9" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb nt md me mf bi translated"><strong class="lq ir">如果实际累计流量没有达到我们预先计算的最小样本量:<br/> </strong>显然，<strong class="lq ir">保持等待</strong>从统计学角度来看是最优解。然而，由于外部因素，如咄咄逼人的产品经理或即将召开的管理会议，我们有时需要给出建议。在这种情况下，尽管不推荐，我们可以基于历史模式进行经验推断<strong class="lq ir">—如果我们观察到在过去的大多数日子里治疗和控制差异为正，那么证明统计显著性可能只是时间问题。当基于这些描述性模式制定推论时，我们需要警告自己<strong class="lq ir">不要为了p值</strong>而编造故事。</strong></li><li id="d9b1" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated"><strong class="lq ir">如果实际累计流量已经达到我们预先计算的最小样本量:<br/>2–1。进行非参数测试<br/> </strong>建议从<strong class="lq ir">非参数测试</strong>开始，以收集更多信息供我们参考。尽管这些非参数测试不太稳健，统计能力也较弱，但当我们的基础数据可能是非正态的，并且被极端值扭曲甚至扭曲时，它们会更加准确。<br/>2–2。评估功率是否足够<br/> 不幸的是<strong class="lq ir">没有直接的后测试方法</strong>来判断测试是否功率不足。我个人的方法是基于经验，考虑到历史实验和商业背景。然而，我相信问我们自己两个问题有助于评估A/B检验能力的充分性:<br/> (1)我们的指标<strong class="lq ir">是否通过使用更一般的人群而不仅仅是暴露的实验组进行计算而被稀释了</strong>？<br/> (2)我们的关键指标是否正在经历比预期更高的<strong class="lq ir">方差</strong>？</li></ol><h2 id="780c" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated">步骤3: <strong class="ak">检查新产品功能是否成功</strong></h2><p id="cb2b" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi translated">更深入研究的目标是发现并排除任何可能的<strong class="lq ir">产品原因</strong>导致的无关紧要的结果。下面列出了一些技巧:<br/> - <strong class="lq ir">用户转化分析:</strong>在漏斗图中可视化用户旅程，了解用户的行为如何受到处理的影响。<br/> - <strong class="lq ir">页间分析:</strong>分析A页的处理如何影响用户在其他页面的行为。<br/> - <strong class="lq ir">页面内分析:</strong>使用热图分析页面A上的治疗功能如何影响用户与页面A上其他模块的交互。<br/> - <strong class="lq ir">用户群分析:</strong>按地理区域、流量来源、新/老用户等关键业务维度细分实验队列。探索一组反映高统计学显著性而其他组对变化无动于衷并冲淡治疗效果的可能性。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1ac0dc98e6148b5c56ed69bbba958cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*k8qpvY0ND2YjamT7"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://unsplash.com/photos/1V5zGGTYXVc" rel="noopener ugc nofollow" target="_blank">印度尼西亚UX的Unsplash</a></p></figure><h2 id="b3f9" class="mz kx iq bd ky na nb dn lc nc nd dp lg lv ne nf li lx ng nh lk lz ni nj lm nk bi translated">第四步:确定下一步行动</h2><ol class=""><li id="ddbd" class="lo lp iq lq b lr ls lt lu lv lw lx ly lz ma mb nt md me mf bi translated">如果无关紧要的结果更可能是<strong class="lq ir">电力不足问题</strong>，我们有两类方法来提高测试灵敏度:<br/><strong class="lq ir">1–1。</strong> <strong class="lq ir">扩大样本量</strong> <br/> (1)延长实验周期让测试运行更长的时间框架；<br/> (2)调高流量比，将实验暴露给更多用户。<br/><strong class="lq ir">1–2。减少方差</strong> <br/> (1)设计波动性较小的度量指标(如‘搜索总数’通常比‘搜索者数量’有更大的方差)；<br/> (2)通过二值化或对数变换来变换度量；<br/> (3)实施分层或<strong class="lq ir">使用预先存在的数据的控制实验(CUPED) </strong>:分层通过组合来自各个层的结果来减少方差，CUPED使用预先实验数据来控制固有方差。两者都是非常有用的技术，可以很容易地应用于几乎所有的A/B测试框架。(<a class="ae kv" rel="noopener" target="_blank" href="/how-to-double-a-b-testing-speed-with-cuped-f80460825a90">查看如何使用CUPED使A/B测试速度加倍以获得更多详细信息</a> ) <br/> (4)设计成对实验:如果您有几个拆分流量的实验，并且每个实验都有自己的控制，请考虑将单独的控制集中起来以形成一个更大的共享控制组，并提前将两组中的每个人配对以减少特质差异。阿里巴巴淘宝的数据科学团队采用了这一想法，以对长期以来样本不足的商家进行更稳健的实验。</li><li id="ade3" class="lo lp iq lq b lr mg lt mh lv mi lx mj lz mk mb nt md me mf bi translated">如果无关紧要的结果更有可能是<strong class="lq ir">产品问题</strong>，我会建议制定一份结构化的报告，并以完整的方式传递这一信息。鼓励在步骤3 中附上<strong class="lq ir">的分析，关于<strong class="lq ir">哪里的功能出了问题</strong>和<strong class="lq ir">哪些是潜在的改进方向</strong>。</strong></li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/e1c4c72222254bea1700de28eb86d2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rG0kGS1eEkH4KREKkYEMbw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者提供的图片—上述框架的流程图</p></figure></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="2dad" class="kw kx iq bd ky kz oi lb lc ld oj lf lg jw ok jx li jz ol ka lk kc om kd lm ln bi translated">总结和警告:不要偷看P值</h1><p id="38c4" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi oo translated"><span class="l op oq or bm os ot ou ov ow di"> E </span>每个人都想要<strong class="lq ir">冲击</strong>。产品经理不希望自己从头设计的功能因为无关紧要的结果而被扼杀在摇篮里。数据科学家也不想放弃他们可以在绩效评估中撰写的潜在内容。</p><p id="eaf6" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">然而，人们应该永远记住，数据科学家被称为“科学家”，因为他们应该采用科学的方法来分析产品，而<strong class="lq ir">偷看p值</strong>和<strong class="lq ir">操纵数据以伪造故事</strong>肯定不在其中。</p><p id="cbf2" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">处理无关紧要的测试结果的一个推荐方法是彻底探究其原因，同时谨慎地防止我们自己无意中犯下<strong class="lq ir">假发现错误</strong>来操纵具有统计意义的结论。</p></div><div class="ab cl ob oc hu od" role="separator"><span class="oe bw bk of og oh"/><span class="oe bw bk of og oh"/><span class="oe bw bk of og"/></div><div class="ij ik il im in"><h1 id="c339" class="kw kx iq bd ky kz oi lb lc ld oj lf lg jw ok jx li jz ol ka lk kc om kd lm ln bi translated">参考</h1><p id="a838" class="pw-post-body-paragraph mm mn iq lq b lr ls jr mo lt lu ju mp lv mq mr ms lx mt mu mv lz mw mx my mb ij bi translated">柯哈维，r .，唐，d .，，徐，Y. (2020)。可信的在线控制实验:A/B测试实用指南。在<em class="ml">可信的在线控制实验:A/B测试实用指南</em> (p. I)。剑桥:剑桥大学出版社。</p><p id="a5b3" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">格伯，艾伦s和唐纳德p .格林。2012.现场实验:设计、<br/>分析和解释。诺顿公司。<br/>https://www . Amazon . com/Field-Experiments-Design-analysis diversion/DP/0393979954。</p><p id="f4ad" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">更多细节请参见Michael Berk撰写的《如何使用CUPED将A/B测试速度提高一倍:<a class="ae kv" rel="noopener" target="_blank" href="/how-to-double-a-b-testing-speed-with-cuped-f80460825a90">https://towardsdatascience . com/How-to-Double-A-B-Testing-Speed-f 80460825 a90</a></p><p id="d233" class="pw-post-body-paragraph mm mn iq lq b lr nl jr mo lt nm ju mp lv nn mr ms lx no mu mv lz np mx my mb ij bi translated">动力不足的A/B测试——困惑、神话和现实，作者格奥尔吉·格奥尔杰夫:<a class="ae kv" href="https://blog.analytics-toolkit.com/2020/underpowered-a-b-tests-confusions-myths-reality/" rel="noopener ugc nofollow" target="_blank">https://blog . analytics-toolkit . com/2020/under powered-A-B-Tests-困惑-神话-现实/ </a></p></div></div>    
</body>
</html>