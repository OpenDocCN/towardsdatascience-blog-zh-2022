<html>
<head>
<title>SQL Concepts that Beginners Have Trouble With</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">初学者难以理解的 SQL 概念</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sql-concepts-that-beginners-have-trouble-with-44ad41243806#2022-12-31">https://towardsdatascience.com/sql-concepts-that-beginners-have-trouble-with-44ad41243806#2022-12-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="fa46" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">当没有提示时，如何从头开始编写 SQL 查询？</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/245e0a313dcbf5d26d50c6c0c8adfd9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_qGlcb1mogIfQdUz"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Elena Mozhvilo 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="1586" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为一个在线分析训练营的导师，我有很多学员问我“当没有像我在课程作业中提供的提示时，我如何在真实的工作世界中提出 SQL 查询？”</p><p id="8a76" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">许多网站和课程会教你如何使用 SQL，但他们不会教你如何从头开始创建 SQL 查询。也就是说，如果没有实际操作，没有课程提供的提示，你怎么知道 SQL 查询在现实生活中应该是什么样子。</p><p id="ca50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文不是要教您 SQL，而是为 SQL 初学者提供说明，以便您可以开始编写自己的查询。</p><p id="b937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我将试图澄清我的学员经常问的这些具体问题的困惑。</p><ul class=""><li id="b5ad" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">我如何知道是使用左联接、右联接还是内联接？</li><li id="24e6" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">当我进行连接时，哪个表在左边哪个表在右边有关系吗？</li><li id="eff7" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">我加入哪个专栏有关系吗？</li><li id="bf48" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">在真实的工作环境中，我如何知道我的 SQL 查询应该是什么样的？</li><li id="c4e3" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">如果我在纠结 SQL，我该怎么办？</li></ul><p id="95c3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，本文的目的不是教你如何编写 SQL，所以我假设你知道什么是 SQL 和 SQL 的基础知识。</p><h1 id="b510" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">我如何知道是使用左连接、右连接还是内连接？</strong></h1><p id="9249" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">让我们看一个简单的例子来理解所有三种类型的连接的输出。左边的表 A 是一个包含客户名和姓的表。右边的表 B 是一个包含订单总数的表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/acbee59c0d2d2699a3f0931f77b5bd29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*qkS7-6z_bOnj7nHHKHkGlA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:作者</p></figure><p id="bc27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您已经忘记了所有联接之间的差异，这里有一个视觉效果来刷新您的记忆。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/3dbb0af7fb57ce0eed00c7a3162def9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JtFuVbhKHZPJ0SLCeOJg1w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SQL 内部连接与左连接和右连接—来源:作者</p></figure><p id="2304" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您执行内部连接，您将获得两个表之间匹配的所有记录。正如您所看到的，Cust_ID 2、4 和 5 出现在两个表中。</p><p id="5d93" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">内部连接</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/1a4dbb0f3e65cdd477b2490f83dc2ba3.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*FcJgZj397qTag_oJvMT1zw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">内部联接输出—来源:作者</p></figure><p id="5e79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果执行左连接，您将获得所有匹配的记录以及左侧表中的所有记录。我们从左边的表中得到所有客户 1-5。</p><p id="d0ae" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">左连接</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/cb6ecf86de2720e1125cc8263f7b63ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*N4t945h0ha_VvosfTFRmBw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">左连接输出—来源:作者</p></figure><p id="8f03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果执行右连接，您将获得所有匹配的记录以及右侧表中的所有记录。有 3 个客户的 3 个订单。</p><p id="9fc6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">右连接</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/54ac14189e29b88024c291b84f536a1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*6WYdsnwezFa4a2ncyP5TKA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">右连接输出—来源:作者</p></figure><p id="9651" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">右连接的输出与内连接的输出相同。让我们仔细看看左连接和内连接。您注意到这些输出之间有什么不同吗？你应该使用哪一个？</p><p id="9cf6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">左连接的输出既包含有订单的客户，也包含没有订单的客户。内部联接只包含有订单的客户。决定使用哪个连接将取决于您被询问的内容以及这段数据的用途。</p><p id="8286" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们是否只关心已经下了订单的客户？我们要不要看看哪些客户没有订单？这些是你在决定加入时应该考虑的问题。</p><h1 id="81f1" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated">当我进行连接时，哪个表在左边哪个表在右边有关系吗？</h1><p id="cb81" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">表是在连接的“左侧”还是“右侧”并不重要。无论您将它放在哪里，都可以获得相同的输出。重要的是在决定放置表的位置后，使用什么类型的连接。</p><p id="024c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例 1 </strong></p><p id="6d62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我将表 Customers 放在左边，将表 Orders 放在右边，然后执行一个左连接。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/6745fb1d9b6a1ac0f2d6389f1e07974c.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*wpNOyPuNJOpzRSRuj0bLXA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">左连接输出—来源:作者</p></figure><p id="eec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">例二</strong></p><p id="9bb9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们颠倒一下哪张桌子在左边和右边。这次把订单放在左边，顾客放在右边。为了获得与前面相同的输出，您需要进行右连接，因为 Customers 表现在位于右侧，而不是左侧。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/8e3ea1f12c11a96c9f896f801b83aabf.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*KPxJGnoRhBwEqsaFJPBmxQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">右连接输出—来源:作者</p></figure><p id="dd39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，示例 1 和示例 2 中的结果完全相同。因此，你可以改变桌子的位置，但是要确保你做了正确的连接以获得准确的结果！</p><h1 id="b1e1" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">我加入哪个专栏有关系吗？</strong></h1><p id="a415" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">为了准确地获得数据，您必须选择正确的列进行连接。我们总是根据相关的列来连接两个表。</p><p id="3b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在前面的例子中，我们在订单上加入了<strong class="lb iu">。Cust_ID =客户。客户标识</strong>。这一点很容易发现，因为它们有确切的列名，因此它们彼此相关不是秘密。</p><p id="7b1c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可能经常看到的一个常见例子是这样的。表 A 有一个名为 ID 的列。表 B 有一个名为 Cust_ID 的列。即使列名不完全相同，我们也可以通过逻辑推断出表 A 中的 ID 与表 b 中的 Cust_ID 相关。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/5532f6da9930b7acdc0b3392d6065ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1316/format:webp/1*fycQuSUPzLJnswWfMDVf4w.png"/></div></figure><p id="8211" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果幸运的话，您可能会找到显示实体关系图的文档，它会告诉您数据库中的所有主键和外键。这将是您加入哪些专栏的蓝图。</p><p id="e35b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请注意，在某些情况下，您可能会发现必须在多个列上进行联接。所以一定要仔细看看这些表格！</p><h1 id="b310" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">在真实的工作环境中，我如何知道我的 SQL 查询应该是什么样的？</strong></h1><p id="02dd" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">要回答这个问题，我想从两个方面来谈。我的学员经常感到困惑的第一部分是“我如何知道从哪里获取数据？”也就是应该用什么表？</p><p id="41e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">嗯，你必须看一下表格，并找出你的数据在哪里。数据是否仅位于一个表中？数据是否位于多个表中？如果是这样，您需要将这些表连接在一起以获得您的输出。</p><p id="a97f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个数据库的例子。这里有 8 个不同的表，每个表都包含与表名相关的特定信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/e2a038c4618ab0d416e90678fc639573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S398K9DSFKfoEKb3.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:<a class="ae ky" href="https://en.wikiversity.org/wiki/Database_Examples/Northwind#Entity-Relationship_Diagram" rel="noopener ugc nofollow" target="_blank">https://en . wikiversity . org/wiki/Database _ Examples/north wind # Entity-Relationship _ Diagram</a></p></figure><p id="bd45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了确定使用什么表，您将检查这些表并确定您想要的数据所在的位置。你想要产品信息吗？你想要员工信息吗？</p><p id="d5a1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您不确定数据的确切位置，我建议您查询该表并查看示例输出，以便更好地了解表中的内容。</p><p id="8d5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我的学员经常感到困惑的第二部分是知道 SQL 语句应该是什么样子。您已经学习了 SELECT FROM WHERE ORDER BY 语法，但是如何知道这个模板包含什么内容呢？你会根据请求的内容知道该写什么。也就是说，要求您从数据库中获取哪些数据？实际上，您将把请求转换成 SQL 语句。</p><p id="3309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我编写查询的方式是首先弄清楚输出应该是什么样子。这将指导您确定您的 SQL 查询应该是什么样子。</p><p id="b579" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我最初试图回答的一些问题如下:需要哪些列？需要计算哪些列，应该如何计算。这些列位于哪个(哪些)表中？</p><p id="ada6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些都是有用的问题，因为它会帮助你决定是否需要连接表，是否需要分组等等。</p><h1 id="7793" class="mj mk it bd ml mm mn mo mp mq mr ms mt jz mu ka mv kc mw kd mx kf my kg mz na bi translated"><strong class="ak">如果我在纠结 SQL，我该怎么办？</strong></h1><p id="1dae" class="pw-post-body-paragraph kz la it lb b lc nb ju le lf nc jx lh li nd lk ll lm ne lo lp lq nf ls lt lu im bi translated">在我看来，我认为您应该在学习 SQL 之前学习关系数据库，因为这将有助于您理解数据库和连接是如何工作的。尝试参加关系数据库课程，看看是否有助于您理解这些概念。</p><p id="03ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，你只会通过练习变得更好。尝试不同的查询，看看输出如何变化。这将真正帮助您理解如何操作 SQl 查询来获得您需要的内容。</p><p id="6689" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你正在写一个大的查询，从小的开始，确保每一部分都像你期望的那样运行。</p></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><p id="fee2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望这篇文章能帮你理清一些事情。对于 SQL 实践操作，请查看这 24 个 SQL 练习及其解决方案。</p><div class="nv nw gp gr nx ny"><a href="https://www.w3resource.com/sql-exercises/movie-database-exercise/joins-exercises-on-movie-database.php" rel="noopener  ugc nofollow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">电影数据库的 SQL 练习-练习，练习，解答-w3 资源</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">练习 SQL 电影数据库，内连接，左连接，右连接，右外连接，左…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">www.w3resource.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om ks ny"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/fcb232bc919de1e6527ca07f119809e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*6_84HbnOuIjlOMl8"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/es/@prateekkatyal?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Prateek Katyal </a>拍摄</p></figure></div></div>    
</body>
</html>