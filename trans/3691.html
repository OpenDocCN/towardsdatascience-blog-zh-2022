<html>
<head>
<title>Tonga volcano: visualizing the shockwave propagation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">汤加火山:可视化冲击波传播</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/tonga-volcano-visualizing-the-shockwave-propagation-75dcfbadef76#2022-08-16">https://towardsdatascience.com/tonga-volcano-visualizing-the-shockwave-propagation-75dcfbadef76#2022-08-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a9ff" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">利用气压数据制作穿越美国的冲击波动画。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/b57cdda58d6aec821b6b88a9d7d2c216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2bEPs5et-GoIWLtc"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@yoshginsu?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">约什·金斯利</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><h1 id="7b23" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="ca02" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">2022年1月15日，<strong class="lt iu">汤加北部的洪加-洪加哈派</strong>火山经历了一次<a class="ae ky" href="https://www.jpl.nasa.gov/news/tonga-eruption-sent-ripples-through-earths-ionosphere" rel="noopener ugc nofollow" target="_blank">猛烈喷发</a>。爆炸释放的能量相当于几十兆吨TNT炸药，并引发了海啸，爆炸如此猛烈，以至于声波冲击波传遍了整个地球表面。</p><p id="52fc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">有趣的是，随着冲击波的传播，它压缩空气并在气象站的大气压力传感器中产生信号。在这项研究中，我们使用GeoPandas和matplotlib可视化了穿过美国的高能冲击波。</p><h1 id="7854" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据收集和探索</h1><p id="4bcf" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们使用的公共数据集来自由爱荷华州立大学的爱荷华环境Mesonet维护的<a class="ae ky" href="https://mesonet.agron.iastate.edu/ASOS/" rel="noopener ugc nofollow" target="_blank"> ASOS网络</a>，并且<a class="ae ky" href="https://mesonet.agron.iastate.edu/disclaimer.php" rel="noopener ugc nofollow" target="_blank">可供公众使用</a>，在该网络中，来自美国所有机场的历史气象数据以一分钟为间隔进行记录。我们感兴趣的测量是大气压力(以英寸汞柱测量)。<a class="ae ky" href="https://mesonet.agron.iastate.edu/request/asos/1min.phtml" rel="noopener ugc nofollow" target="_blank"> Iowa Environmental Mesonet网站</a>为我们提供了查询其数据的python脚本，简化脚本(带多线程加速下载)可以在<a class="ae ky" href="https://github.com/yanglyu902/tonga-volcano-shockwave-study/blob/main/get_data.py" rel="noopener ugc nofollow" target="_blank">这里</a>找到。对于这项研究，我们下载了从1月15日午夜(UTC)到1月25日的10天数据。</p><p id="ab2a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，我们检查旧金山国际机场(SFO)的气压测量。蓝色曲线显示了相对于t = 0时测量值的压力测量值。黄色曲线显示使用<code class="fe ms mt mu mv b">np.gradient()</code>计算到二阶精度的相对压力梯度(放大30倍以便可视化)。梯度的每一次突然下降都对应于冲击波的通过。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mw"><img src="../Images/d1e00af7cb32b6c9f06950db1e6bcf59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4TM3Kc3a1-NLLvDvkXiTQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SFO的压力数据(蓝色)和比例梯度(橙色)。品红色/青色:冲击波的向前和向后通道。</p></figure><p id="d40f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因为冲击波是一种围绕地球传播多次的圆形波，如这里的模拟<a class="ae ky" href="https://twitter.com/an_amores/status/1484516695087759363" rel="noopener ugc nofollow" target="_blank">所示</a>，每个梯度下降应该对应于冲击波的“<strong class="lt iu">向前”</strong>或“<strong class="lt iu">向后”</strong> <strong class="lt iu">通道</strong>，由洋红色和青色三角形标记表示。标记的时间戳计算如下(假设冲击波以音速传播):</p><pre class="kj kk kl km gt mx mv my mz aw na bi"><span id="d4f6" class="nb la it mv b gy nc nd l ne nf">forward: t(eruption) + t(Tonga to SFO) + N * t(go around Earth)<br/>backward: t(eruption) - t(Tonga to SFO) + (N+1) * t(go around Earth)</span></pre><p id="10a8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">因为压力梯度的突然下降在两次向前通过后不再明显，我们将只看到前两次激波通过。</p><h1 id="a64c" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">可视化冲击波</h1><p id="9770" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">首先，我们选择冲击波第一次“向前”通过(对应于第一个洋红色标记)周围的12小时时间窗口中的数据，即1月15日，上午8点到下午8点。空值大于90%的机场被删除。然后，我们将冲击波的到达时间定义为对应于最小负梯度的时间。下图显示了SFO冲击波到达时间(红点)的计算结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ng"><img src="../Images/ed58a7bd8806fe65511ca50377ed15eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zt5wyGvnCDXpc0PGczclyQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">SFO的压力和梯度。红点:定义的到达时间。</p></figure><p id="1416" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">然后我们用同样的方法计算所有机场的到达时间。还记录了每个机场到达时的梯度幅度。为了稍后创建更清晰的可视化，我们检查了所有机场的到达时间分布，并选择了中心峰值(在下图中两条紫色线之间),移除了到达时间异常的机场。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/4d365181828f0d1d7a2212d288fea4fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*caXMxM8nqENVKmuVbXVQag.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">所有机场的到达时间分布。</p></figure><p id="1252" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一个有趣的观察是梯度的<strong class="lt iu">幅度</strong>作为到达时间的函数而减小。下图显示了对所有过滤机场的梯度振幅与时间数据进行的线性回归；观察到统计上显著的负相关。这是意料之中的，因为冲击波<strong class="lt iu">在传播过程中会损失能量</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/a133f5c057d9913ce1b16b6403913cdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p73fGWwjvdZXK6WjWejdrA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">内层机场梯度幅度与到达时间的关系。</p></figure><p id="fca5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">最后，我们可以使用计算出的到达时间信息来可视化冲击波在美国的传播！在下面的GIF中，在每一个时间步(帧)，我们根据相应的冲击波到达时间和时间步之间的差异来改变站的颜色和大小。正如你所看到的，汤加火山爆发的能量如此之大，以至于一股压力波正在全国蔓延。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/33acbbafdf334d51cf32c2f9e0c0d982.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*wsOZpipzhjXeJ3WK5WLIuA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第一次向前通行。</p></figure><h1 id="b950" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">地球是球形的</h1><p id="47a2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">记住，冲击波是一种圆形的压力波，它会穿过整个地球。这意味着我们可以观察到压力波“向后”传播，因为它的一部分从地球的另一边向美国传播。</p><p id="32ee" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果我们使用第一张图中第一个青色标记附近的数据对到达时间进行同样的计算，我们会得到下面的动画。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/8674915c166f90e030d8dd528581554f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7mQAQ6MmaHdpyQS-NT27SQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">第一个反向通道。</p></figure><p id="a3b1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当然，随着时间的推移，冲击波阵面的形状会发生扭曲，因为地球的形状是椭球形的。这大概解释了上面波前后面的搞笑“尾巴”；也可能是由于其他数据假象。</p><h1 id="0b42" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="b218" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们利用机场的气压数据成功地显示了汤加火山冲击波穿过美国。正如我们提到的，冲击波围绕地球<strong class="lt iu">传播了多次</strong>，我们鼓励你在Github 上用我的代码<a class="ae ky" href="https://github.com/yanglyu902/tonga-volcano-shockwave-study" rel="noopener ugc nofollow" target="_blank">尝试可视化后面的传播！剧透警告:第二和第三波通道在视觉上是可识别的，但是数据变得更加嘈杂。</a></p><p id="6ed6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">鸣谢:这项工作的动机来自加州大学伯克利分校<a class="ae ky" href="https://github.com/profjsb/python-seminar" rel="noopener ugc nofollow" target="_blank"> AY 250: Python研讨会</a>的一个家庭作业项目。</p></div></div>    
</body>
</html>