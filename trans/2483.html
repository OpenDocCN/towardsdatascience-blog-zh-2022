<html>
<head>
<title>How to Effectively Reuse Your Old Code in a New Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在新项目中有效地重用您的旧代码</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-effectively-reuse-your-old-code-in-a-new-project-7193d5d5605c#2022-05-30">https://towardsdatascience.com/how-to-effectively-reuse-your-old-code-in-a-new-project-7193d5d5605c#2022-05-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9bda" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">编写你自己的Python包</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e1601ef6ebd3165b45fefbd47695dcf8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qYUCJdsC2jtellnb"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">来源:https://unsplash.com/photos/H424WdcQN4Y<a class="ae ky" href="https://unsplash.com/photos/H424WdcQN4Y" rel="noopener ugc nofollow" target="_blank"/></p></figure><p id="44d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当您处理数据一段时间后，您会很快意识到代码的大部分可以从一个项目重用到下一个项目。</p><p id="15a5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的文章中，我将向您展示一种非常简单有效的方法来创建您的个人python“包”，只要您在<strong class="lb iu">本地</strong>(同一台计算机并使用个人文件)，只需几行代码就可以重用潜在的大量代码。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="3512" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">创建个人包的步骤</h2><ol class=""><li id="b5dc" class="mv mw it lb b lc mx lf my li mz lm na lq nb lu nc nd ne nf bi translated">创建一个名为<code class="fe ng nh ni nj b">_init.py_</code>的空文件。该文件用于将磁盘上的目录标记为Python包目录。换句话说，它让Python将包含它的目录视为模块(可以导入)。</li><li id="1e01" class="mv mw it lb b lc nk lf nl li nm lm nn lq no lu nc nd ne nf bi translated"><strong class="lb iu">在同一个目录中，创建一个包含您想要重用的代码的文件</strong>。你需要做的是定义一个函数来返回一些东西。例如，在下面的代码中，我定义了一个接受不同参数并返回蒙特卡洛模拟结果的函数。</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="a31c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.然后，在一个单独的文件夹中，放置你当前的项目，在那里你将需要使用你的“包”。这是代码。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="02e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在第2行，您只需添加将被重用的代码的位置。</p><p id="6bb4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第4行是您“导入”包的地方。这里，这一行的意思是我从找到它的文件(Monte_Carlo_Simulation)中导入我创建的函数(Monte_Carlo)。</p><p id="2264" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，在第6行，我简单地使用这个函数，就像它已经在我当前的项目中一样。它返回结果，我可以在项目的其余部分使用这些结果。</p><p id="2585" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.<strong class="lb iu">如果出现错误</strong>，请确保您的文件放置正确。它们应该具有以下结构。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/78cc19ac6badec7d45591eaf548f58b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*4vn9WsHM-6_C-7zXeG6Zmw.png"/></div></figure><p id="ff07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如您所见，在My_Package文件夹中，您应该会找到一个名为_pycache_的新文件夹。它是在您使用线<code class="fe ng nh ni nj b">from x import y</code>时创建的。这个文件夹包含了字节码，这使得第二次运行你的程序时速度会快一点。</p><p id="22d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有正确的结构，但你的“包”仍然不能工作，这可能是因为你的主文件中有一个错误(在我的例子中是Monte_Carlo_Simulation.py)。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="f018" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！这个非常简单的技巧将允许你重用你的代码，而不必不断地复制粘贴它。它还允许您“集中”事情，并且如果您想要进行更改，只需更新您的代码一次(而不是必须在您使用它的每个文件中进行更新)。它也使东西更容易阅读。</p><p id="4703" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望这有所帮助。非常感谢你的阅读！</p><p id="22b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">成为大媒平台会员:<a class="ae ky" href="https://francoisstamant.medium.com/membership" rel="noopener">https://francoisstamant.medium.com/membership</a></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="6ae0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">PS:在接下来的一篇文章中，我将向你展示如何创建一个对任何地方的其他人都可用的包<strong class="lb iu"/>，而不仅仅是你自己。敬请期待！</p></div></div>    
</body>
</html>