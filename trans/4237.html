<html>
<head>
<title>How to Add New Keys to Python Dictionaries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何向Python字典添加新键</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/new-key-python-dict-e4c637f1f223#2022-09-20">https://towardsdatascience.com/new-key-python-dict-e4c637f1f223#2022-09-20</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="b11c" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">在Python字典中添加新的键值对</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d3997a6bb45afb3f473b1604b4ae3d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EHCDMoM4XROLZ_Wu8WuPgg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@silas_crioco?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Silas k hler</a>在<a class="ae kz" href="https://unsplash.com/s/photos/key?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="9e83" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python字典是该语言中最强大和最常用的数据结构之一，因为它允许用户维护一组键值对。对于那些不太熟悉Python数据结构的人来说，字典相当于其他语言中的地图，比如Java。</p><p id="4c26" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">Python字典是一个可变的、有序的(从Python 3.7开始，它们是插入有序的)键-值对集合，集合中的每个键都是唯一的(不同的键可能有相同的值)。</p><p id="6ebc" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的文章中，我们将演示如何对Python字典执行一些简单的操作，比如在现有对象中添加或更新键值对。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="07a2" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">首先，让我们创建一个示例字典，我们将在整个教程中引用它来演示我们前面介绍的概念。</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="6bd6" class="mi mj iu me b gz mk ml l mm mn">d = {<br/>  'a': 100,<br/>  'b': 'hello',<br/>  'c': True,<br/>}</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="0c09" class="mi mj iu bd mo mp mq dn mr ms mt dp mu lj mv mw mx ln my mz na lr nb nc nd ne bi translated">如何在字典中添加单个键值对</h2><p id="d4e7" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nh ll lm ln ni lp lq lr nj lt lu lv in bi translated">在现有字典中添加键-值对的最简单方法是通过给(新的)所需键赋值:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="2b0c" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; d['e'] = 'newValue'</span><span id="8230" class="mi mj iu me b gz nk ml l mm mn">&gt;&gt;&gt; print(d)<br/>{'a': 100, 'b': 'hello', 'c': True, 'e': 'newValue'}</span></pre><p id="d29e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，如果该键已经存在，上述操作将用新指定的值替换旧值。如果您想确保只有在键不存在的情况下才添加新值，您可以在运行上述赋值之前简单地进行检查:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="3ebc" class="mi mj iu me b gz mk ml l mm mn">if 'e' not in d.keys():<br/>   d['e'] = 'newValue'</span></pre><p id="ac97" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">或者，您也可以使用<code class="fe nl nm nn me b">update()</code>方法在现有字典中添加新的键值对。该方法接受另一个字典作为输入(包含新的键值对):</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="d549" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; new = {'e': 'newValue'}<br/>&gt;&gt;&gt; d.update(new)<br/>&gt;&gt;&gt; print(d)</span><span id="949d" class="mi mj iu me b gz nk ml l mm mn">{'a': 100, 'b': 'hello', 'c': True, 'e': 'newValue'}</span></pre><p id="c74f" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">事实上，您甚至可以用几种不同的方式调用<code class="fe nl nm nn me b">update</code>方法:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="e8cb" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; d.update(e='newValue')<br/># OR<br/>&gt;&gt;&gt; d.update(dict(e='newValue'))</span></pre><p id="de0b" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">然而要注意的是，赋值方法在计算上比<code class="fe nl nm nn me b">update()</code>更便宜。</p><p id="00ab" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">最后，从Python 3.9开始，<code class="fe nl nm nn me b">|=</code>操作符也可以用来更新字典。</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="a6fa" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; d |= {'e': 'newValue'}<br/>&gt;&gt;&gt; print(d)<br/>{'a': 100, 'b': 'hello', 'c': True, 'e': 'newValue'}</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="ecfd" class="mi mj iu bd mo mp mq dn mr ms mt dp mu lj mv mw mx ln my mz na lr nb nc nd ne bi translated">添加多个键值对</h2><p id="83d6" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nh ll lm ln ni lp lq lr nj lt lu lv in bi translated">我们在上一节中讨论的<code class="fe nl nm nn me b">update</code>方法是一次性添加多个键值对时最常用的方法。</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="db9a" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; new = {'e': 'newValue', 'f': 'anotherValue'}<br/>&gt;&gt;&gt; d.update(new)<br/>&gt;&gt;&gt; print(d)</span><span id="ab3f" class="mi mj iu me b gz nk ml l mm mn">{'a': 100, 'b': 'hello', 'c': True, 'e': 'newValue', 'f': 'anotherValue'}</span></pre><p id="cfd4" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">同样，我们也可以使用我们之前介绍的<code class="fe nl nm nn me b">|=</code>(如果在Python 3.9+上)来添加多个新的键值对:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="bcc8" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; d |= {'e': 'newValue', 'f': 'anotherValue'}<br/>&gt;&gt;&gt; print(d)</span><span id="959a" class="mi mj iu me b gz nk ml l mm mn">{'a': 100, 'b': 'hello', 'c': True, 'e': 'newValue', 'f': 'anotherValue'}</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="d9eb" class="mi mj iu bd mo mp mq dn mr ms mt dp mu lj mv mw mx ln my mz na lr nb nc nd ne bi translated">更新字典</h2><p id="d3c6" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nh ll lm ln ni lp lq lr nj lt lu lv in bi translated">同样，我们可以使用前面探索过的各种方法来更新字典中现有的键值对。</p><p id="b06e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">当我们对字典中已经存在的键进行赋值时，所赋的值将覆盖相应的值:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="cd9b" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; d['a'] = 200<br/>&gt;&gt;&gt; print(d)<br/>{'a': 200, 'b': 'hello', 'c': True}</span></pre><p id="7e92" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">或者，要一次更新多个元素，可以使用<code class="fe nl nm nn me b">update</code>方法:</p><pre class="kk kl km kn gu md me mf mg aw mh bi"><span id="1392" class="mi mj iu me b gz mk ml l mm mn">&gt;&gt;&gt; updated = {'a': 200, 'c': False}<br/>&gt;&gt;&gt; d.update(updated)<br/>&gt;&gt;&gt; print(d)<br/>{'a': 200, 'b': 'hello', 'c': False}</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="78f3" class="mi mj iu bd mo mp mq dn mr ms mt dp mu lj mv mw mx ln my mz na lr nb nc nd ne bi translated">最后的想法</h2><p id="f311" class="pw-post-body-paragraph la lb iu lc b ld nf jv lf lg ng jy li lj nh ll lm ln ni lp lq lr nj lt lu lv in bi translated">Python dictionary是一个非常强大的数据结构，用于促进日常编程任务中不同种类的操作。</p><p id="08a8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的简短教程中，我们演示了如何在现有的字典集合中插入新的键值对，以及如何更新单个或多个元素。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a> <strong class="lc iv">阅读媒体上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="no np gq gs nq nr"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="ns ab fp"><div class="nt ab nu cl cj nv"><h2 class="bd iv gz z fq nw fs ft nx fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="ny l"><h3 class="bd b gz z fq nw fs ft nx fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nz l"><p class="bd b dl z fq nw fs ft nx fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of kt nr"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">相关文章你可能也喜欢</strong></p><div class="no np gq gs nq nr"><a rel="noopener follow" target="_blank" href="/python-iterables-vs-iterators-688907fd755f"><div class="ns ab fp"><div class="nt ab nu cl cj nv"><h2 class="bd iv gz z fq nw fs ft nx fv fx it bi translated">Python中的Iterables vs迭代器</h2><div class="ny l"><h3 class="bd b gz z fq nw fs ft nx fv fx dk translated">理解Python中Iterables和迭代器的区别</h3></div><div class="nz l"><p class="bd b dl z fq nw fs ft nx fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="og l oc od oe oa of kt nr"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nr"><a rel="noopener follow" target="_blank" href="/diagrams-as-code-python-d9cbaa959ed5"><div class="ns ab fp"><div class="nt ab nu cl cj nv"><h2 class="bd iv gz z fq nw fs ft nx fv fx it bi translated">Python中作为代码的图</h2><div class="ny l"><h3 class="bd b gz z fq nw fs ft nx fv fx dk translated">用Python创建云系统架构图</h3></div><div class="nz l"><p class="bd b dl z fq nw fs ft nx fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="oh l oc od oe oa of kt nr"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nr"><a rel="noopener follow" target="_blank" href="/python-poetry-83f184ac9ed1"><div class="ns ab fp"><div class="nt ab nu cl cj nv"><h2 class="bd iv gz z fq nw fs ft nx fv fx it bi translated">用诗歌管理Python依赖关系</h2><div class="ny l"><h3 class="bd b gz z fq nw fs ft nx fv fx dk translated">依赖性管理和用诗歌打包</h3></div><div class="nz l"><p class="bd b dl z fq nw fs ft nx fv fx dk translated">towardsdatascience.com</p></div></div><div class="oa l"><div class="oi l oc od oe oa of kt nr"/></div></div></a></div></div></div>    
</body>
</html>