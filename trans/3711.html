<html>
<head>
<title>How To Print Coloured Text in The Terminal Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python在终端中打印彩色文本</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/coloured-text-terminal-python-dc5692ee6319#2022-08-17">https://towardsdatascience.com/coloured-text-terminal-python-dc5692ee6319#2022-08-17</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="350f" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">用Python打印彩色文本到标准输出和错误</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/a644dc41fb6fdc26563878fdd8af54af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GXip0Bw_iuc5oKFDlH2Xiw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@homeschool?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Levi Guzman </a>在<a class="ae kz" href="https://unsplash.com/s/photos/smoke-grenade?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="3bf5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">打印标准输出或标准错误是开发人员在记录有用信息甚至调试部分源代码时需要执行的最常见的操作之一。</p><p id="da0e" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在许多情况下，从冗长的角度来看，被报告的信息量可能是相当大的。因此，重要的是要确保打印的任何信息都是一致的，并且对用户来说是可读的。为了达到这个目标，你可以使用的一个技巧是在标准输出/错误上给打印出来的文本着色。</p><p id="fc34" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在今天的文章中，我们将探讨两种不同的方法，在使用Python编写应用程序时，您可以利用这两种方法在终端上打印彩色文本。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="8790" class="md me iu bd mf mg mh dn mi mj mk dp ml lj mm mn mo ln mp mq mr lr ms mt mu mv bi translated">使用ANSI转义序列打印彩色文本</h2><p id="aa0e" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">ANSI转义序列是一种标准，用于定义和控制终端选项，如颜色、字体样式和光标位置。</p><p id="1017" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这些序列由字节序列组成，以一个ASCII转义字符(即八进制的<code class="fe nb nc nd ne b">\033</code>)和一个括号字符(因此，类似于<code class="fe nb nc nd ne b">\033[</code>)开始，这些字符被嵌入到文本和序列需要有效的特定位置。</p><p id="8ef5" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">请注意，使用ANSI转义序列，您甚至可以对文本应用进一步的格式，包括下划线、粗体等。</p><p id="5d7d" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在让我们创建一个由一些ANSI转义序列组成的简单类，这些转义序列可用于指定不同类型的文本格式和样式。</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="07b9" class="md me iu ne b gz nj nk l nl nm">class TextFormatter:<br/>    """<br/>    Contains numerous ANSI escape sequences used to apply<br/>    formatting and styling to text.<br/>    """<br/>    # Blue colouring<br/>    BLUE_COL = '\033[94m'</span><span id="b2cc" class="md me iu ne b gz nn nk l nl nm">    # Red Colouring<br/>    RED_COL = '\033[91m'</span><span id="c12d" class="md me iu ne b gz nn nk l nl nm">    # Green colouring<br/>    GREEN_COL = '\033[92m'<br/>    <br/>    # Reset formatting and styling<br/>    RESET = '\033[0m'</span><span id="1d2d" class="md me iu ne b gz nn nk l nl nm">    # Underlined text<br/>    UNDERLINE = '\033[4m'</span><span id="7235" class="md me iu ne b gz nn nk l nl nm">    # Yellow colouring<br/>    YELLOW_COL = '\033[93m'</span></pre><p id="aff8" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">现在你所需要做的就是简单地将这些序列添加到你想要格式化或样式化的文本的开头。</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="d68c" class="md me iu ne b gz nj nk l nl nm">print(<br/>  f'{TextFormatter.BLUE_COL}This is a text in blue'<br/>  f'{TextFormatter.RESET}'<br/> )<br/> print(<br/>  f'{TextFormatter.RED_COL}This is a text in red'<br/>  f'{TextFormatter.RESET}'<br/> )<br/> print(<br/>  f'{TextFormatter.GREEN_COL}This is a text in green'<br/>  f'{TextFormatter.RESET}'<br/> )<br/> print(<br/>  f'{TextFormatter.UNDERLINE}This is an underlined text'<br/>  f'{TextFormatter.RESET}'<br/> )<br/> print(<br/>  f'{TextFormatter.YELLOW_COL}This is a text in yellow'<br/>  f'{TextFormatter.RESET}'<br/> )</span></pre><p id="9828" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">标准输出(终端)上的输出应该与下面的屏幕截图中所示的相同:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj no"><img src="../Images/6e3fc7e42a545b3db8c9460d4d5c37c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CS5uI8EFbCOZchMyfwM35A.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Python标准输出中的彩色文本—来源:作者</p></figure><p id="1a90" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">值得一提的是，无论何时使用ANSI转义序列，都必须重新设置格式。否则，应用的样式和格式将继续使用。这就是为什么我们在我们的<code class="fe nb nc nd ne b">TextFormatter</code>类下定义了<code class="fe nb nc nd ne b">RESET</code>序列的原因，只要你想终止先前样式/格式的效果，就应该使用这个序列。</p><p id="7a5a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">例如，假设我们想打印绿色文本，但是我们忽略了<code class="fe nb nc nd ne b">RESET</code>序列:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="a417" class="md me iu ne b gz nj nk l nl nm">print(TextFormatter.GREEN_COL + 'Hi!')</span></pre><p id="6f22" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">这将对输出文本进行着色，但是即使我们的应用程序结束，着色仍然有效，如</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj np"><img src="../Images/8024ac2b19365557d04de1987f4965c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nftez5dzplSxkxB1XYi80Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">来源:作者</p></figure><p id="5d19" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">在启用和禁用ANSI转义序列时，您甚至可以创建一个函数来简化您的工作。例如，下面的函数将完成这个任务，您将不再需要关心重置应用的样式:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="7794" class="md me iu ne b gz nj nk l nl nm">def print_formatted_text(ansi_seq: str, text: str) -&gt; None:<br/>    print(f'{ansi_seq}{text}{TextFormatter.RESET}')</span></pre><p id="244a" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以像下面这样调用它:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="bf28" class="md me iu ne b gz nj nk l nl nm">print_formatted_text(TextFormatter.GREEN_COL, 'Hello, World!')</span></pre><p id="8e00" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">还有一点很重要，那就是ANSI转义序列并不能在所有平台上开箱即用。如果您在Windows计算机上运行Python应用程序，您可能需要运行额外的命令才能使格式和样式有效。这通常可以通过一个简单的命令来实现:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="ce5a" class="md me iu ne b gz nj nk l nl nm">import os </span><span id="ebbd" class="md me iu ne b gz nn nk l nl nm">os.system('color')</span></pre></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="b7c4" class="md me iu bd mf mg mh dn mi mj mk dp ml lj mm mn mo ln mp mq mr lr ms mt mu mv bi translated">使用Colorama进行跨平台着色</h2><p id="4da0" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">如果您想避免使用ANSI转义序列定义格式和样式的手动过程，您可以利用PyPI上提供的第三方Python包<code class="fe nb nc nd ne b"><a class="ae kz" href="https://pypi.org/project/colorama/" rel="noopener ugc nofollow" target="_blank">Colorama</a></code>。</p><p id="4403" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">该软件包提供了跨平台的文本着色，这意味着ANSI转义字符序列可以在MS Windows上开箱即用。</p><p id="ebbf" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">你可以通过<code class="fe nb nc nd ne b">pip</code>在PyPI上安装包:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="cfd8" class="md me iu ne b gz nj nk l nl nm">$ pip install Colorama</span></pre><p id="a679" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">您可以用与我们在本文前一节中讨论的自定义方法非常相似的方式来使用它:</p><pre class="kk kl km kn gu nf ne ng nh aw ni bi"><span id="f3a7" class="md me iu ne b gz nj nk l nl nm">from colorama import Fore<br/>from colorama import Style</span><span id="e44f" class="md me iu ne b gz nn nk l nl nm">print(f'Text in {Fore.GREEN}green{Style.RESET_ALL} color!')</span></pre><p id="09fa" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">终端上的输出将是:</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nq"><img src="../Images/8b85e901102aea91b3d7b93a7aded6ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WFrzsL71TVCMEpFmJm15Q.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Python和Colorama标准输出上的彩色文本—来源:作者</p></figure></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="97c4" class="md me iu bd mf mg mh dn mi mj mk dp ml lj mm mn mo ln mp mq mr lr ms mt mu mv bi translated">其他选择</h2><p id="4271" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated"><code class="fe nb nc nd ne b"><a class="ae kz" href="https://pypi.org/project/termcolor/" rel="noopener ugc nofollow" target="_blank">termcolor</a></code>软件包实现了让用户在终端上打印彩色文本的功能。但是请注意，在后台，<code class="fe nb nc nd ne b">termcolor</code>会发出ANSI代码，因此它可能无法在开箱即用的Windows上工作。例如，为了让ANSI转义序列工作，您可能必须运行<code class="fe nb nc nd ne b">os.system('color')</code>。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><h2 id="9465" class="md me iu bd mf mg mh dn mi mj mk dp ml lj mm mn mo ln mp mq mr lr ms mt mu mv bi translated">最后的想法</h2><p id="7795" class="pw-post-body-paragraph la lb iu lc b ld mw jv lf lg mx jy li lj my ll lm ln mz lp lq lr na lt lu lv in bi translated">在今天的教程中，我们讨论了以一致和可读的方式打印标准输出和错误信息的重要性。有一种技术可以帮助你朝着这个方向前进，那就是在向终端报告这个信息的时候加入颜色。</p><p id="95cb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated">有几种不同的方法可以帮助你实现这个目标。从简单的ANSI转义序列到第三方Python包，如<code class="fe nb nc nd ne b">Colorama</code>或<code class="fe nb nc nd ne b">termcolor</code>。但是请注意，正如我们在本文中讨论和展示的那样，除非您在源代码中运行一些额外的命令，否则这些方法中的一些并不能在所有平台上开箱即用。</p></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="71fb" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="lc iv">成为会员</strong> </a> <strong class="lc iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="nr ns gq gs nt nu"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="od l"><div class="oe l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><p id="8b50" class="pw-post-body-paragraph la lb iu lc b ld le jv lf lg lh jy li lj lk ll lm ln lo lp lq lr ls lt lu lv in bi translated"><strong class="lc iv">相关文章你可能也喜欢</strong></p><div class="nr ns gq gs nt nu"><a rel="noopener follow" target="_blank" href="/requirements-vs-setuptools-python-ae3ee66e28af"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">Python中的requirements.txt与setup.py</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">了解Python中requirements.txt、setup.py和setup.cfg在开发和分发时的用途…</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="oj l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nu"><a rel="noopener follow" target="_blank" href="/args-kwargs-python-d9c71b220970"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">* Python中的args和**kwargs</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">讨论位置参数和关键字参数之间的区别，以及如何在Python中使用*args和**kwargs</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ok l of og oh od oi kt nu"/></div></div></a></div></div><div class="ab cl lw lx hy ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nu"><a rel="noopener follow" target="_blank" href="/how-to-merge-pandas-dataframes-221e49c41bec"><div class="nv ab fp"><div class="nw ab nx cl cj ny"><h2 class="bd iv gz z fq nz fs ft oa fv fx it bi translated">如何合并熊猫数据帧</h2><div class="ob l"><h3 class="bd b gz z fq nz fs ft oa fv fx dk translated">对熊猫数据帧执行左、右、内和反连接</h3></div><div class="oc l"><p class="bd b dl z fq nz fs ft oa fv fx dk translated">towardsdatascience.com</p></div></div><div class="od l"><div class="ol l of og oh od oi kt nu"/></div></div></a></div></div></div>    
</body>
</html>