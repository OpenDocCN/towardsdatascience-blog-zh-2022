<html>
<head>
<title>Top 3 Matplotlib Tips — How To Style Your Charts Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">三大Matplotlib技巧——如何像专业人士一样设计图表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-3-matplotlib-tips-how-to-style-your-charts-like-a-pro-f79bd53f45d7#2022-08-29">https://towardsdatascience.com/top-3-matplotlib-tips-how-to-style-your-charts-like-a-pro-f79bd53f45d7#2022-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9bf8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak"> Matplotlib可视化不必碍眼——这些提示会有所帮助</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/717a9f30e2a6aaaf2ae8397490f20de8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N1CuUdhHx9LssILoFqe-5Q.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@choys_?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">康尼·施耐德</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="32a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我必须用一句话来总结Matplotlib，那将是下面这句话——易于使用，难以查看。默认情况下，Matplotlib图表看起来不是最好的，这不是什么秘密，所以许多数据专业人员选择了不同的数据可视化库。你可以实施一些简单的调整，这些将会使白天和黑夜有所不同。</p><p id="0a27" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我们需要一个数据集来可视化。<a class="ae ky" href="https://gist.githubusercontent.com/netj/8836201/raw/6f9306ad21398ea43cba4f7d537619d0e07d5ae3/iris.csv" rel="noopener ugc nofollow" target="_blank">虹膜数据集</a>会做得很好，因为我们在这里不需要任何复杂性。它是在知识共享0 (CC0)下授权的，这意味着你可以免费使用它。以下代码片段将其作为熊猫数据帧加载到Python中:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="3af7" class="ma mb it lw b gy mc md l me mf">import pandas as pd<br/>import matplotlib.pyplot as plt<br/><br/>df = pd.read_csv("https://gist.githubusercontent.com/netj/8836201/raw/6f9306ad21398ea43cba4f7d537619d0e07d5ae3/iris.csv")<br/>df.head()</span></pre><p id="4640" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它看起来是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mg"><img src="../Images/600a6e064bea7af782c9710d653e9e39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9qHJy0usXzDa0iIhR7EX5w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片1 —虹膜数据集(图片由作者提供)</p></figure><p id="a497" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">X轴上的萼片长度和Y轴上的萼片宽度的简单散点图将作为基线。下面是如何绘制它:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="789e" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(9, 5))<br/><br/>plt.plot(df["sepal.length"], df["sepal.width"], "rs")<br/>plt.xlabel("Sepal length")<br/>plt.ylabel("Sepal width")<br/>plt.title("Iris dataset - Sepal length vs. Sepal width")<br/>plt.show()</span></pre><p id="f7a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如你所想象的，它看起来不是最好的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mh"><img src="../Images/ba0e2990567c66616f9e4e4ac5daa78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hhNaszu4NUqk3HcwhPzyOg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2-默认的Matplotlib可视化(作者图片)</p></figure><p id="8fbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这张图表四四方方，模糊不清，还有许多不足之处。让我们开始逐一解决这些缺点。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="626c" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">提示1 —将Matplotlib图形显示为SVG</h1><p id="16e4" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">之前Matplotlib图形模糊的原因很简单——它是作为图像(像素)而不是可缩放矢量图形(SVG)呈现的。SVG允许您任意缩放图形，并且质量保持不变。</p><p id="65c6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这听起来像是魔术，但它如何与Matplotlib一起工作呢？您可以在笔记本环境中更改Matplotlib格式，如下所示:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="634a" class="ma mb it lw b gy mc md l me mf">from IPython import display<br/>display.set_matplotlib_formats("svg")</span></pre><p id="9cbc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是你要做的全部。如果使用Python脚本生成Matplotlib图表，请使用以下语法将其保存为SVG格式:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8d99" class="ma mb it lw b gy mc md l me mf">plt.savefig("&lt;figure-name&gt;.svg")</span></pre><p id="fc43" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您可以像以前一样运行完全相同的图表生成代码:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="45c0" class="ma mb it lw b gy mc md l me mf">plt.figure(figsize=(9, 5))<br/><br/>plt.plot(df["sepal.length"], df["sepal.width"], "rs")<br/>plt.xlabel("Sepal length")<br/>plt.ylabel("Sepal width")<br/>plt.title("Iris dataset - Sepal length vs. Sepal width")<br/>plt.show()</span></pre><p id="66ab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">图像质量的差异是白天和黑夜:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/57a7681bbf8c4bb3abab5dbdcf3a6c11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opWZ2DAht7d-SfNzw5Xaxg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图SVG格式的Matplotlib图形(图片由作者提供)</p></figure><p id="ec73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使放大到图表段，质量也保持不变，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/864f633ff5bcf01c4221ecfb980afe66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*exs6hpZnTAXOb4-7ZH6QLQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4 —放大的SVG图(图片由作者提供)</p></figure><p id="9902" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一言以蔽之，始终使用SVG。这是迄今为止最好的方法，它需要1-2行代码，这取决于您是在脚本环境中还是在笔记本环境中。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="5346" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">技巧2 —调整默认绘图参数</h1><p id="fa18" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">每次要制作图表时，指定图形大小、标题大小、轴刻度大小和许多其他参数可能会非常繁琐。这就是为什么Matpltolib打包了一个名为<code class="fe nn no np lw b">rcParams</code>的配置字典。更好的是，你可以随意改变它的关键值。</p><p id="5c34" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看下面的代码片段——它修改了默认的图形大小，删除了顶部和右边框，并调整了整体字体大小:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="8ad1" class="ma mb it lw b gy mc md l me mf">plt.rcParams["figure.figsize"] = 12, 6<br/>plt.rcParams["axes.spines.top"] = False<br/>plt.rcParams["axes.spines.right"] = False<br/>plt.rcParams["font.size"] = 14<br/>plt.rcParams["figure.titlesize"] = "xx-large"<br/>plt.rcParams["xtick.labelsize"] = "medium"<br/>plt.rcParams["ytick.labelsize"] = "medium"</span></pre><p id="5dc8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您现在可以呈现任何Matplotlib图表，修改后的样式将适用:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="765a" class="ma mb it lw b gy mc md l me mf">plt.plot(df["sepal.length"], df["sepal.width"], "rs")<br/>plt.xlabel("Sepal length")<br/>plt.ylabel("Sepal width")<br/>plt.title("Iris dataset - Sepal length vs. Sepal width")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/934c39671b66226f27d08b9cd67d6de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XICzKteSgAEwFwdUTU8X5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5 —调整了rcParams的Matplotlib图形(图片由作者提供)</p></figure><p id="cd31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以将这些修改后的参数保存在计算机上的单独文档中，然后将它们粘贴到任何将使用Matplotlib的笔记本中。没有必要每次都从头开始写。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="e1ac" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">技巧3——改变字体</h1><p id="2a3c" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">这个技巧可能是将您公司的外观和感觉添加到数据可视化中的最简单的方法。添加自定义字体的方法有很多种，但我要展示的这种方法每次都能奏效。没有必要安装字体，只需下载即可。</p><p id="9fcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">比如，你可以从谷歌字体下载<a class="ae ky" href="https://fonts.google.com/specimen/Poppins?query=poppins" rel="noopener ugc nofollow" target="_blank"> Poppins，解压ZIP文件。完成后，使用Matplotlib的<code class="fe nn no np lw b">font_manger</code>从目录中添加字体。以下是Poppins提供的所有内容:</a></p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="9d51" class="ma mb it lw b gy mc md l me mf">import matplotlib.font_manager as font_manager<br/><br/>font_dir = ["/Users/dradecic/Desktop/Poppins"]<br/>for font in font_manager.findSystemFonts(font_dir):<br/>    print(font)<br/>    font_manager.fontManager.addfont(font)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nr"><img src="../Images/3bb71207fb3c24723043300af0621284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a7VzkL5h--JZp5kfis45eQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6 —目录中的TTF字体(作者图片)</p></figure><p id="9f7d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">字体口味倒是挺多的，但是在Matplotlib里怎么用呢？这很简单，只需指定另一个<code class="fe nn no np lw b">rcParam</code>:</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="f540" class="ma mb it lw b gy mc md l me mf">plt.rcParams["font.family"] = "Poppins"<br/><br/>plt.plot(df["sepal.length"], df["sepal.width"], "rs")<br/>plt.xlabel("Sepal length")<br/>plt.ylabel("Sepal width")<br/>plt.title("Iris dataset - Sepal length vs. Sepal width")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/94925dd1590faf04b72da14ab74cf961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_7a7JS5QwPGtywqz-Ty3Fg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7 —带有自定义字体的Matplotlib图形(图片由作者提供)</p></figure><p id="835a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不用说，这种方法适用于你能找到的任何TTF字体。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="9264" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">3个Matplotlib样式技巧总结</h1><p id="f65b" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">默认情况下，Matplotlib看起来不是最好的——我承认这一点——但是它是高度可定制的。在呈现静态可视化方面，您可以做的事情没有限制。唯一的问题是你愿意在文档和代码样本上钻研多深。如果你需要交互式图表，<a class="ae ky" rel="noopener" target="_blank" href="/plotly-front-to-back-bar-charts-line-charts-2b591d29c6ba"> Plotly </a>可能是一个不错的解决方案。</p><p id="d67f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你有什么使用Matplotlib的顶级技巧？你在每个项目中都使用一些参数吗？请在下面的评论区告诉我。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="f8db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nt">喜欢这篇文章吗？成为</em> <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="nt">中等会员</em> </a> <em class="nt">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><div class="nu nv gp gr nw nx"><a href="https://medium.com/@radecicdario/membership" rel="noopener follow" target="_blank"><div class="ny ab fo"><div class="nz ab oa cl cj ob"><h2 class="bd iu gy z fp oc fr fs od fu fw is bi translated">通过我的推荐链接加入Medium-Dario rade ci</h2><div class="oe l"><h3 class="bd b gy z fp oc fr fs od fu fw dk translated">阅读达里奥·拉德契奇(以及媒体上数以千计的其他作家)的每一个故事。您的会员费直接支持…</h3></div><div class="of l"><p class="bd b dl z fp oc fr fs od fu fw dk translated">medium.com</p></div></div><div class="og l"><div class="oh l oi oj ok og ol ks nx"/></div></div></a></div></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h2 id="00dd" class="ma mb it bd mq om on dn mu oo op dp my li oq or na lm os ot nc lq ou ov ne ow bi translated">保持联系</h2><ul class=""><li id="c236" class="ox oy it lb b lc ng lf nh li oz lm pa lq pb lu pc pd pe pf bi translated">雇用我作为一名技术作家</li><li id="51bd" class="ox oy it lb b lc pg lf ph li pi lm pj lq pk lu pc pd pe pf bi translated">订阅<a class="ae ky" href="https://www.youtube.com/c/BetterDataScience" rel="noopener ugc nofollow" target="_blank"> YouTube </a></li><li id="9e71" class="ox oy it lb b lc pg lf ph li pi lm pj lq pk lu pc pd pe pf bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="766c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="nt">原载于2022年8月29日https://betterdatascience.com</em><em class="nt"/><a class="ae ky" href="https://betterdatascience.com/top-3-matplotlib-tips/" rel="noopener ugc nofollow" target="_blank"><em class="nt">。</em></a></p></div></div>    
</body>
</html>