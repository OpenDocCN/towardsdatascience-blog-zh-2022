<html>
<head>
<title>Data Mining: Market Basket Analysis with Apriori Algorithm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据挖掘:基于Apriori算法的购物篮分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-mining-market-basket-analysis-with-apriori-algorithm-970ff256a92c#2022-04-08">https://towardsdatascience.com/data-mining-market-basket-analysis-with-apriori-algorithm-970ff256a92c#2022-04-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a8d9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">揭开为什么面包总是方便地放在食品杂货店黄油旁边的秘密</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dc344c679c6d39ee8b79626fa70339c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*elavmewbeMp_50al"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">安妮·普雷布尔在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9374" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated"><strong class="ak">简介</strong></h1><p id="f332" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们中的一些人带着标准清单去杂货店；尽管我们中的一些人很难坚持购物清单，不管我们有多坚定。不管你是哪种类型的人，零售商总是擅长制造各种诱惑来抬高你的预算。</p><p id="c37b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">还记得那次你吃了"<em class="mp">哦，我可能也需要这个。</em>“瞬间？零售商依靠这一简单的直觉来提高销售额。</p><blockquote class="mq mr ms"><p id="12cc" class="lo lp mp lq b lr mk jr lt lu ml ju lw mt mm lz ma mu mn md me mv mo mh mi mj ij bi translated">买这个的人很可能也想买那个。T11】</p></blockquote><p id="9187" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">购买面包的人有更高的机会一起购买黄油，因此一个有经验的产品分类经理肯定会知道，面包打折也会促进黄油的销售。</p><h2 id="2cf8" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">数据驱动战略</h2><p id="b09a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">大型零售商依靠详细的购物篮分析来揭示商品之间的关联。利用这些有价值的信息，他们能够实施各种策略来增加收入:</p><ul class=""><li id="2148" class="ni nj iq lq b lr mk lu ml lx nk mb nl mf nm mj nn no np nq bi translated">相关产品被放置在彼此靠近的地方，这样一种商品的购买者会被提示购买另一种商品。</li><li id="3109" class="ni nj iq lq b lr nr lu ns lx nt mb nu mf nv mj nn no np nq bi translated">折扣只能应用于一种相关产品。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/5fc239127f730dcf297f752f32afc4a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EKYQHLhOlfpW3FeW"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@belart84?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Artem Beliaikin </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="6722" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">关联规则挖掘</h1><p id="1e6f" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">但是市场篮子分析究竟是如何进行的呢？</p><p id="4a56" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">数据科学家能够通过实现关联规则挖掘来执行市场购物篮分析。关联规则挖掘是一种<strong class="lq ir">基于规则的机器学习方法，有助于根据不同产品在数据集中的同现情况来发现它们之间有意义的相关性</strong>。</p><p id="acb3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然而，一个主要的缺陷是，它包含各种公式和参数，这可能会使没有数据挖掘专业知识的人感到困难。因此，在与利益相关者分享您的结果之前，请确保对基本定义有充分的理解。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/08780f8785bc6dd69508ad2dd4d32ad3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iEAU-be9KDPhbjo6"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@priscilladupreez?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">普里西拉·杜·普里兹</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h2 id="bf7b" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">核心概念说明</h2><p id="2b8c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下面我将用一些简单的例子来说明关联规则挖掘中使用的三个核心概念。这将帮助您掌握数据挖掘过程。</p><p id="5566" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">假设你现在开了自己的自助餐厅。您将如何利用您的数据科学技能来理解菜单上的哪些项目是相关联的？</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/86509da65410adb00c382aae3b1b7205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QI9ebQV0JsumtCiy"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">亚历山大·萨多夫斯基在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="56b5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在你的自助餐厅里总共有六笔不同的交易。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/b69dac0c9f58f19e05ada0c836ad24ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:366/format:webp/1*ak7rukRbBei1LAD-jHNuig.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="b835" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以利用三个用于关联规则学习的核心度量，它们是:<strong class="lq ir">支持度</strong>、<strong class="lq ir">置信度、</strong>和<strong class="lq ir">提升度</strong>。</p><ol class=""><li id="96ce" class="ni nj iq lq b lr mk lu ml lx nk mb nl mf nm mj oh no np nq bi translated"><strong class="lq ir">支持</strong>。</li></ol><p id="608d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">支持只是一个事件发生的简单基本概率。</strong>以项目集出现的交易比例来衡量。换句话说，支持(A)是包括A的事务数除以事务总数。</p><p id="ad42" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">如果我们分析上面的事务表，对cookie的支持是6中3。也就是说，在总共6次交易中，包含cookies的购买发生了3次。或者50%。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/38fb940851c343f9e87bb76c28f30863.png" data-original-src="https://miro.medium.com/v2/resize:fit:334/format:webp/1*JvwE_0DeslBzi9HJTYLVrw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者支持方程图像</p></figure><p id="7698" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">也可以同时对多个项目实施支持。对曲奇和蛋糕的支持度是6分之2。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/df92c886ad7fab5b518ce66c78672561.png" data-original-src="https://miro.medium.com/v2/resize:fit:486/format:webp/1*zfzXNNkUTPVFOgLkSvnNwQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者支持方程图像</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="c7d6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> 2。信心</strong>。</p><p id="313f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">给定一个<strong class="lq ir">前因事件</strong>的<strong class="lq ir">后果事件</strong> <strong class="lq ir">事件</strong>的置信度可以用条件概率的<strong class="lq ir"> </strong>来描述。简单来说就是<strong class="lq ir">在事件B已经发生的情况下，事件A发生的概率。</strong></p><p id="e7d1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">这可以用来描述当一个商品已经在购物篮中时，另一个商品被购买的概率。它的计算方法是用X和Y项的交易比例除以Y项的交易比例。</p><p id="1f0d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的事务表中可以看出，{cookie -&gt; cake}的置信度可以用下面的公式表示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/36d72447cc6388df8bfa8d59d1df1d91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*faL2TJQAWLdKToSqp9LJkQ.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的置信方程图像</p></figure><p id="167d" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">条件概率也可以写成:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/16e152b5d7ecb71e5a40aafbeff30685.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*-ecvkPBR_2sVPsBJFYx2lw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的置信方程图像</p></figure><p id="6698" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最后，我们得出了三选二的解决方案。如果我们只看交易1到交易3，我们可以理解信心的直觉。三次购买饼干，其中两次实际上是和蛋糕一起购买的！</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><p id="0657" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> 3。抬起</strong>。</p><p id="ae7b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">升力是观察到的<strong class="lq ir"> <em class="mp">与预期的</em> </strong>(缩写为o/e)。Lift衡量一件商品被购买时，另一件商品被购买的可能性<strong class="lq ir">，同时控制这两件商品的受欢迎程度</strong>。它可以通过将两个项目一起出现的概率除以两个单独项目出现的概率的乘积来计算，就好像它们之间没有关联一样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/d5794f5dd8f1b782871c90daecb90e73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*qDMrzlJob5o9K4rnAb1YQg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者提供的升力方程图像</p></figure><p id="1a09" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">提升1将意味着这两个项目实际上是独立的，没有任何关联。对于任何高于1的值，lift表明实际上存在关联。值越高，关联度越高。</p><p id="f342" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">再看表格，{cookies -&gt; cake}的lift是2，暗示着cookies和cake之间其实是有关联的。</p><p id="f2a4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">现在我们已经掌握了所有的核心概念，我们可以研究一个能够从事务性数据中生成项目集的算法，该算法用于计算这些关联规则。</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="fed1" class="kw kx iq bd ky kz on lb lc ld oo lf lg jw op jx li jz oq ka lk kc or kd lm ln bi translated">Apriori算法</h1><h2 id="5252" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">概观</h2><p id="cf56" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">Apriori算法是关系数据库关联规则学习中最常用的算法之一。它<strong class="lq ir">识别数据集中的项目，并进一步将它们扩展到越来越大的项目集</strong>。</p><p id="239e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">然而，Apriori算法只在项目集频繁的情况下才扩展，即项目集的概率超过某个预定的阈值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/bce8069aae31a23ca844bdb812d62496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fYRpITOXXn8Syl-N"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Shane Aldendorff 在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="bbbb" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">更正式地说，</p><p id="f9e6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">Apriori算法提出:</strong></p><p id="eb9f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在下列情况下，项目集的概率不是频繁的:</p><ul class=""><li id="aab3" class="ni nj iq lq b lr mk lu ml lx nk mb nl mf nm mj nn no np nq bi translated">P(I) &lt; Minimum support threshold, where I is any non-empty itemset</li><li id="8874" class="ni nj iq lq b lr nr lu ns lx nt mb nu mf nv mj nn no np nq bi translated">Any subset within the itemset has value less than minimum support.</li></ul><p id="89fc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">The second characteristic is defined as the <strong class="lq ir">反单调性质</strong>。一个很好的例子是，如果购买汉堡的概率已经低于最低支持，那么购买汉堡和薯条的概率肯定也会低于最低支持。</p><h2 id="eebc" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">Apriori算法的步骤</h2><p id="c018" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下图说明了Apriori算法如何从最小项集开始构建，并进一步向前扩展。</p><ul class=""><li id="8634" class="ni nj iq lq b lr mk lu ml lx nk mb nl mf nm mj nn no np nq bi translated">该算法从<strong class="lq ir">通过连接步骤</strong>生成一个项集开始，即从K个项集生成(K+1)个项集。例如，算法在第一次迭代中生成Cookie、巧克力和蛋糕。</li><li id="3540" class="ni nj iq lq b lr nr lu ns lx nt mb nu mf nv mj nn no np nq bi translated">在此之后，该算法立即进行修剪步骤，即<strong class="lq ir">移除任何不满足最小支持要求</strong>的候选项目集。例如，如果支持度(蛋糕)低于预定的最小支持度，则该算法将移除蛋糕。</li></ul><p id="5e48" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">它重复这两个步骤，直到没有可能的进一步扩展。</p><p id="423c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">请注意，此图并不是上面事务表的完整版本。它作为一个插图，有助于描绘更大的流动画面。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/c74183f09b6c98f154b1d5548cc8e11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oGmHkz3QXn-Dxf7WZeuYSg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Apriori算法粗糙概念图像作者</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="d1fd" class="kw kx iq bd ky kz on lb lc ld oo lf lg jw op jx li jz oq ka lk kc or kd lm ln bi translated">代码实现</h1><p id="eb11" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">为了使用Apriori算法执行购物篮分析实现，我们将使用来自Kaggle的<a class="ae kv" href="https://www.kaggle.com/datasets/heeraldedhia/groceries-dataset" rel="noopener ugc nofollow" target="_blank">杂货数据集</a>。该数据集由Heeral Dedhia于2020年以通用公共许可证第2版发布。</p><p id="5434" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">该数据集有38765行来自杂货店的采购订单。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/5ba2e4dac3cdb80867f89e933abef511.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ykAgiv4mzOgDtVf_"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@cookiethepom?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Cookie在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的Pom </a>拍摄</p></figure><h2 id="02bb" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">导入和读取数据</h2><ul class=""><li id="b6b6" class="ni nj iq lq b lr ls lu lv lx ov mb ow mf ox mj nn no np nq bi translated">首先，让我们导入一些必要的模块，并读取我们从Kaggle下载的数据集。</li></ul><p id="3571" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">代码:</em> </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="5655" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">输出:</em> </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/9a7095b271325a784650b648b3a16cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*2egCbllPnSiDAgsl-p4whg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者输出的代码</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h2 id="323f" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">分组为交易</h2><ul class=""><li id="f3d8" class="ni nj iq lq b lr ls lu lv lx ov mb ow mf ox mj nn no np nq bi translated">数据集在一行中记录单个商品的购买情况。我们将不得不把这些购买的东西归入一篮子物品中。</li><li id="7feb" class="ni nj iq lq b lr nr lu ns lx nt mb nu mf nv mj nn no np nq bi translated">之后，我们将使用TransactionEncoder将事务编码成适合Apriori函数的格式。</li></ul><p id="c921" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">代码:</em> </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="a94b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">输出:</em> </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/d63fb19c03c0915950c0022dfce3934d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AEeSQwMu_EwhUhwqoIDDDQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者输出的代码</p></figure><p id="0a14" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">注:</em> </strong>数据框将每一行记录为一次交易，交易中购买的物品将被记录为真。</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h2 id="8032" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">先验和关联规则</h2><ul class=""><li id="78fc" class="ni nj iq lq b lr ls lu lv lx ov mb ow mf ox mj nn no np nq bi translated">Apriori算法将用于生成频繁项目集。我们将指定最低支持为总事务数的6。产生关联规则，并且我们过滤提升值&gt; 1.5。</li></ul><p id="4fcc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">代码:</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="ab0b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">T31】输出:T33】</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pc"><img src="../Images/c003e0f912d6d9e56e488ecb26e8d7f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DH4qoBXgTjsSdazaAY8O7w.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者输出的代码</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h2 id="411d" class="mw kx iq bd ky mx my dn lc mz na dp lg lx nb nc li mb nd ne lk mf nf ng lm nh bi translated">形象化</h2><ul class=""><li id="9adc" class="ni nj iq lq b lr ls lu lv lx ov mb ow mf ox mj nn no np nq bi translated">为了可视化我们的关联规则，我们可以将它们绘制成3D散点图。更靠近右上角的规则可能是最有意义的规则，可以进一步深入研究。</li></ul><p id="e2ba" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">代码:</em> </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="8231" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">T39】输出:T41】</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/85f884766109de803a2be4414e4213cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1362/format:webp/1*CoYY8XE8E-azEQcR4OvpIA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者的3D散点图</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><ul class=""><li id="aeb8" class="ni nj iq lq b lr mk lu ml lx nk mb nl mf nm mj nn no np nq bi translated">查看产品之间关系的另一种可视化方式是通过网络图。让我们定义一个函数来画一个网络图，它可以指定我们想要显示多少规则。</li></ul><p id="eed7" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">代号:</em> </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="f9c5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">输出:</em> </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/0f83ff4a3570f483d442415fd8b4b785.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*bWc7aochraoW_Wc0FgFJKg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">按作者划分的网络图</p></figure></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="edad" class="kw kx iq bd ky kz on lb lc ld oo lf lg jw op jx li jz oq ka lk kc or kd lm ln bi translated">商业应用</h1><p id="bbcf" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">假设杂货店购买了太多的全脂牛奶，现在担心如果不能及时销售出去，库存会过期。更糟糕的是，全脂牛奶的利润率如此之低，以至于他们无法在不牺牲太多利润的情况下享受促销折扣。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/b07785e497a5e9091f13c7a02c991061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qQ_AcNirSyLE_WD9"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@darias_big_world?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">达莉亚·沃尔科娃</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="b93e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">可以提出的一种方法是找出哪些产品推动了全脂牛奶的销售，并对这些产品提供折扣。</p><p id="6be5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">代码:</em> </strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="oy oz l"/></div></figure><p id="67d5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir"> <em class="mp">输出:</em> </strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pf"><img src="../Images/c0c617a8e0232bccd31fe796a3689abb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-qbfmyLmfvd-c9uRvbSCvA.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者输出的代码</p></figure><p id="9393" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">例如，我们可以对白兰地、软化剂、水果罐头、糖浆和人造甜味剂实行促销折扣。有些关联可能看起来违背直觉，但规则表明这些产品确实推动了全脂牛奶的销售。</p></div><div class="ab cl ny nz hu oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="ij ik il im in"><h1 id="d33f" class="kw kx iq bd ky kz on lb lc ld oo lf lg jw op jx li jz oq ka lk kc or kd lm ln bi translated">外卖食品</h1><p id="ea15" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">通过实施Apriori算法和分析关联度量，企业可以衍生出许多数据驱动的策略来提高收入和利润。这些关联规则在分析消费者购买行为的数据挖掘中至关重要。零售商的一些最重要的战略，如客户分析、购物篮分析和产品聚类，都能够通过关联规则挖掘获得有价值的见解。</p><p id="855a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">最后，非常感谢你读到最后。我希望你喜欢这篇文章！</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/48d22efde16c622e962f82f308f90c73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q5TTrLmPVRQBo4BY"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@hannynaibaho?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">刘汉宁·内巴霍</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><h1 id="6faa" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考</h1><p id="cfa4" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir">【1】</strong>默罕默德和阿科克。一种改进的关联规则Apriori算法。(2014).国际自然语言计算杂志。3.2014.3103</p><p id="9d30" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">【2】</strong>d . h . Goh，R.P. Ang。<a class="ae kv" href="https://doi.org/10.3758/BF03193156" rel="noopener ugc nofollow" target="_blank">关联规则挖掘简介:在青少年咨询和求助行为中的应用。</a> (2007)。<em class="mp">行为研究方法</em> <strong class="lq ir"> 39、</strong>259–266</p><p id="0bfe" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">【3】</strong>拉什卡。<a class="ae kv" href="https://rasbt.github.io/mlxtend/" rel="noopener ugc nofollow" target="_blank">机器学习扩展文档</a>。(2021).检索自:https://rasbt.github.io/mlxtend/</p><p id="6d55" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">【4】</strong>a .哈格伯格，d .舒尔特，p .斯沃特。<a class="ae kv" href="https://networkx.org/documentation/stable/_downloads/networkx_reference.pdf" rel="noopener ugc nofollow" target="_blank"> NetworkX参考版本2.7.1 </a>。(2022).检索自:https://networkx.org/</p><p id="19ca" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">【5】</strong>h . ded hia。<a class="ae kv" href="https://www.kaggle.com/datasets/heeraldedhia/groceries-dataset" rel="noopener ugc nofollow" target="_blank">根据GPL 2 </a>许可的杂货数据集。(2020).检索自:https://www . ka ggle . com/datasets/heeraldehia/杂货-数据集</p></div></div>    
</body>
</html>