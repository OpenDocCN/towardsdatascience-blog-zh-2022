<html>
<head>
<title>SQL Coding Best Practices for Writing Clean Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">编写干净代码的SQL编码最佳实践</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sql-coding-best-practices-for-writing-clean-code-a1eca1cccb93#2022-05-23">https://towardsdatascience.com/sql-coding-best-practices-for-writing-clean-code-a1eca1cccb93#2022-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="8238" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使您的SQL代码可解释</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/f7594ac30ace5c0bd0658d3d17d80887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*oE9F0hMmmaydXw8w-NFZ2w.png"/></div><p class="kq kr gj gh gi ks kt bd b be z dk translated">编写干净代码的SQL编码最佳实践(图片由作者提供)</p></figure><h1 id="3ee4" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">为什么我们需要遵循SQL编码最佳实践？</h1><p id="4f62" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">获得好的分析结果的旅程充满了探索、实验和多种方法的测试。在这个过程中，我们编写了许多代码，我们和其他人在团队工作时会参考这些代码。如果您的代码不够干净，那么理解、重用或修改您的代码对其他人(您也一样)来说将是一种痛苦。</p><blockquote class="mi"><p id="38d9" class="mj mk it bd ml mm mn mo mp mq mr mh dk translated">如果你写了一个整洁干净的代码，你会感谢自己，别人也会感谢你。</p></blockquote><p id="e423" class="pw-post-body-paragraph lm ln it lo b lp ms ju lr ls mt jx lu lv mu lx ly lz mv mb mc md mw mf mg mh im bi translated">这篇博客将向您介绍编写整洁干净代码的SQL编码最佳实践。</p><h1 id="70d6" class="ku kv it bd kw kx ky kz la lb lc ld le jz lf ka lg kc lh kd li kf lj kg lk ll bi translated">SQL编码最佳实践</h1><h2 id="d4ce" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated">1.<strong class="ak">子句使用大写字母</strong></h2><p id="bb17" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">您应该使用大写的SQL子句，因为它将帮助您或任何阅读您的代码的人容易地找到您正在执行的操作/操纵。</p><blockquote class="nj nk nl"><p id="6017" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不好的做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="5a7d" class="mx kv it nw b gy oa ob l oc od"><strong class="nw iu">Select</strong> order_id, prod_id, sales <strong class="nw iu">from</strong> db.Order</span></pre><blockquote class="nj nk nl"><p id="b844" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">好做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="d993" class="mx kv it nw b gy oa ob l oc od"><strong class="nw iu">SELECT </strong>order_id, prod_id, sales <strong class="nw iu">FROM</strong> db.Order</span></pre><h2 id="0c9e" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated"><strong class="ak"> 2。使用缩进/适当的间距</strong></h2><p id="be96" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">让你的代码有一个合适的缩进是非常重要的，它让你的代码看起来干净，因此任何人都很容易理解。</p><p id="6d39" class="pw-post-body-paragraph lm ln it lo b lp nn ju lr ls no jx lu lv nq lx ly lz ns mb mc md nu mf mg mh im bi translated"><em class="nm">缩进提示:</em></p><ol class=""><li id="b538" class="oe of it lo b lp nn ls no lv og lz oh md oi mh oj ok ol om bi translated">每行选择一列。</li><li id="f6a8" class="oe of it lo b lp on ls oo lv op lz oq md or mh oj ok ol om bi translated">每行写一个从句。</li></ol><blockquote class="nj nk nl"><p id="3ae9" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不良做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="eaa1" class="mx kv it nw b gy oa ob l oc od">SELECT columnB, AGG_FUNC(column_or_expression) FROM left_table    JOIN right_table ON left_table.columnA = right_table.columnA    WHERE filter_expression    GROUP BY columnB    <br/>HAVING filter_expression    ORDER BY columnB ASC/DESC   LIMIT ROW_COUNT;</span></pre><blockquote class="nj nk nl"><p id="447a" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">良好实践</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="fc6a" class="mx kv it nw b gy oa ob l oc od">SELECT columnB, <br/>       AGG_FUNC(columnC) <br/>FROM left_table    <br/>JOIN right_table <br/>ON left_table.columnA = right_table.columnA    <br/>WHERE filter_expression    <br/>GROUP BY columnB    <br/>HAVING filter_expression    <br/>ORDER BY columnB ASC/DESC    <br/>LIMIT ROW_COUNT;</span></pre><h2 id="0ac2" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated"><strong class="ak"> 3。使用别名</strong></h2><p id="ea25" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">别名用于为列提供直观的用户定义名称。SQL中的别名是使用“as”创建的，后跟用户定义的名称。</p><blockquote class="nj nk nl"><p id="53dd" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不良做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="b043" class="mx kv it nw b gy oa ob l oc od">SELECT OrderID,<br/>       SUM(Price), <br/>FROM table1 <br/>INNER JOIN table 2 <br/>ON table1.ProductID = table 2.ProductID<br/>GROUP BY OrderID</span></pre><blockquote class="nj nk nl"><p id="4383" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">良好实践</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="ad51" class="mx kv it nw b gy oa ob l oc od">SELECT <strong class="nw iu">Products</strong>.OrderID,<br/>       SUM(<strong class="nw iu">OrderDetails</strong>.Price) as <strong class="nw iu">Order_Amount</strong>, <br/>FROM table1 as <strong class="nw iu">OrderDetails</strong><br/>INNER JOIN table 2 as <strong class="nw iu">Products</strong><br/>ON OrderDetails.ProductID = Products.ProductID<br/>GROUP BY <strong class="nw iu">Products</strong>.OrderID</span></pre><h2 id="a4ec" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated"><strong class="ak"> 4。直观的表格名称:</strong></h2><p id="2a3a" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">设置直观的表名使得开发人员很容易理解代码的目标。这些名字应该代表你想要达到的目标。</p><blockquote class="nj nk nl"><p id="5893" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不好的做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="5333" class="mx kv it nw b gy oa ob l oc od">CREATE TABLE <strong class="nw iu"><em class="nm">db.table1</em></strong> as <br/>SELECT OrderDate, <br/>       count(OrderID) <br/>FROM Orders<br/>WHERE EmployeeID = 3<br/>GROUP BY OrderDate</span></pre><blockquote class="nj nk nl"><p id="69e3" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">良好实践</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="3a15" class="mx kv it nw b gy oa ob l oc od">CREATE TABLE<strong class="nw iu"> db.Orders_across_dates</strong> as <br/>SELECT OrderDate, <br/>       count(OrderID) as Total_Orders<br/>FROM Orders<br/>WHERE EmployeeID = 3<br/>GROUP BY OrderDate</span></pre><h2 id="2031" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated">5.注释代码</h2><p id="a326" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">对代码进行注释是使代码可读和易于理解的最重要的步骤之一。</p><p id="05fc" class="pw-post-body-paragraph lm ln it lo b lp nn ju lr ls no jx lu lv nq lx ly lz ns mb mc md nu mf mg mh im bi translated">意见应涵盖以下方面:</p><ol class=""><li id="ac31" class="oe of it lo b lp nn ls no lv og lz oh md oi mh oj ok ol om bi translated">守则的目的。</li><li id="a3c3" class="oe of it lo b lp on ls oo lv op lz oq md or mh oj ok ol om bi translated">作者姓名。</li><li id="2fc9" class="oe of it lo b lp on ls oo lv op lz oq md or mh oj ok ol om bi translated">脚本日期。</li><li id="29e2" class="oe of it lo b lp on ls oo lv op lz oq md or mh oj ok ol om bi translated">代码的描述。</li></ol><blockquote class="nj nk nl"><p id="2b73" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不好的做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="ff27" class="mx kv it nw b gy oa ob l oc od">SELECT Products.OrderID,<br/>       SUM(OrderDetails.Price) as Order_Amount, <br/>FROM table1 as OrderDetails<br/>INNER JOIN table 2 as Products<br/>ON OrderDetails.ProductID = Products.ProductID<br/>GROUP BY Products.OrderID</span></pre><blockquote class="nj nk nl"><p id="288c" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">良好做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="dc4f" class="mx kv it nw b gy oa ob l oc od"><strong class="nw iu">/*<br/>Objective: Get the order amount corresponding to each order.<br/>Author: Anmol Tomar<br/>Script Date: May 05, 2022<br/>Description: This code gives the order id and corresponding order amount by joining OrderDetails and Products table on ProductID (Primary Key)<br/>*/<br/></strong>SELECT Products.OrderID,<br/>       SUM(OrderDetails.Price) as Order_Amount, <br/>FROM table1 as OrderDetails<br/>INNER JOIN table 2 as Products<br/>ON OrderDetails.ProductID = Products.ProductID<br/>GROUP BY Products.OrderID</span></pre><h2 id="123e" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated">6.在SELECT子句中提及列名</h2><p id="407c" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">在SELECT子句中使用列名对于理解我们为输出选择哪些列(或信息)非常有用。使用select *会使输出有点像黑盒，因为它隐藏了所选的信息/列。</p><blockquote class="nj nk nl"><p id="1e25" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">不好的做法</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="4cef" class="mx kv it nw b gy oa ob l oc od">SELECT <strong class="nw iu">*</strong> <br/>FROM db.Order</span></pre><blockquote class="nj nk nl"><p id="d025" class="lm ln nm lo b lp nn ju lr ls no jx lu np nq lx ly nr ns mb mc nt nu mf mg mh im bi translated"><strong class="lo iu">良好实践</strong></p></blockquote><pre class="kj kk kl km gt nv nw nx ny aw nz bi"><span id="c276" class="mx kv it nw b gy oa ob l oc od">SELECT <strong class="nw iu">order_id,<br/>       prod_id,<br/>       sales</strong> <br/>FROM db.Order</span></pre></div><div class="ab cl os ot hx ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="im in io ip iq"><h2 id="1086" class="mx kv it bd kw my mz dn la na nb dp le lv nc nd lg lz ne nf li md ng nh lk ni bi translated">谢谢大家！</h2><p id="ea70" class="pw-post-body-paragraph lm ln it lo b lp lq ju lr ls lt jx lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">如果您觉得我的博客有用，那么您可以 <a class="ae oz" href="https://anmol3015.medium.com/subscribe" rel="noopener"> <strong class="lo iu"> <em class="nm">关注我</em> </strong> </a> <em class="nm">每当我发布一个故事时，您都可以直接获得通知。</em></p><p id="db8a" class="pw-post-body-paragraph lm ln it lo b lp nn ju lr ls no jx lu lv nq lx ly lz ns mb mc md nu mf mg mh im bi translated"><em class="nm">如果你自己喜欢体验媒介，可以考虑通过</em> <a class="ae oz" href="https://anmol3015.medium.com/membership" rel="noopener"> <strong class="lo iu"> <em class="nm">注册会员</em> </strong> </a> <em class="nm">来支持我和其他几千位作家。它每个月只需要5美元，它极大地支持了我们，作家，而且你也有机会通过你的写作赚钱。</em></p></div></div>    
</body>
</html>