<html>
<head>
<title>Create and deploy a Cad to .stl converter: Streamlit and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建Cad并将其部署到。stl转换器:Streamlit和Python</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/create-and-deploy-a-cad-to-stl-converter-streamlit-and-python-28a01240726a#2022-04-30">https://towardsdatascience.com/create-and-deploy-a-cad-to-stl-converter-streamlit-and-python-28a01240726a#2022-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5104" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">快速高效地创建并投入生产</h2></div><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="kn ko l"/></div></figure><p id="9c9a" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">这篇文章提出了两个主题:</p><ul class=""><li id="ad0c" class="ll lm it kr b ks kt kv kw ky ln lc lo lg lp lk lq lr ls lt bi translated">渴望尝试使用工具来部署<strong class="kr iu">【python】</strong><strong class="kr iu">项目</strong>作为<strong class="kr iu"> web </strong> <strong class="kr iu">应用</strong>，快速与朋友、客户和同事分享自己的工作，并拥有一个响应迅速、令人愉悦的界面</li><li id="4315" class="ll lm it kr b ks lu kv lv ky lw lc lx lg ly lk lq lr ls lt bi translated">实现一个定制系统，用于将 <strong class="kr iu"> CAD </strong> <strong class="kr iu">几何图形</strong> (step和iges)转换为<strong class="kr iu"> STL </strong> <strong class="kr iu">格式</strong>，用于工程和人工智能应用。</li></ul><p id="57a0" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我发现这个工作流程(和最终结果)真的<strong class="kr iu">让</strong>满意<strong class="kr iu">让</strong>满意，考虑到最终结果的质量和实现所需的时间之间非常高的比率。根据这篇文章，你可以<strong class="kr iu">尝试</strong>这个应用程序，<strong class="kr iu">复制</strong>它，<strong class="kr iu">从它那里获得灵感，创造一个新的应用程序！</strong></p><p id="9a14" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">您可以在以下位置尝试此应用程序:</p><p id="de0e" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><a class="ae lz" href="https://share.streamlit.io/gitmarco27/deepcadconverter/main/main.py" rel="noopener ugc nofollow" target="_blank">https://share . streamlit . io/git Marco 27/deepcadconverter/main/main . py</a></p><h1 id="101d" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">什么是简化</h1><div class="ms mt gp gr mu mv"><a href="https://streamlit.io/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">Streamlit *构建和共享数据应用的最快方式</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">Streamlit可以在几分钟内将数据脚本转化为可共享的web应用程序。全是纯Python。不需要前端经验…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">streamlit.io</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj nk mv"/></div></div></a></div><blockquote class="nl nm nn"><p id="d48d" class="kp kq no kr b ks kt ju ku kv kw jx kx np kz la lb nq ld le lf nr lh li lj lk im bi translated"><a class="ae lz" href="https://www.streamlit.io/" rel="noopener ugc nofollow" target="_blank"> Streamlit </a>是一个开源的Python库，可以轻松创建和共享漂亮的、定制的机器学习和数据科学web应用。只需几分钟，您就可以构建和部署强大的数据应用程序。</p></blockquote><p id="28c7" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">当我第一次读到这个项目时，我立刻被这个想法吸引住了。</p><p id="0924" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">自由地用主机部署应用程序的能力令人难以置信。除此之外，还能拥有具有吸引力和响应性的图形，而无需使用<strong class="kr iu"> Html </strong>和<strong class="kr iu"> CSS </strong>。只需创建一个格式良好的<strong class="kr iu"> Github </strong>库，就大功告成了:我们已经准备好使用和共享我们的web应用程序了。这开启了一个潜在应用的海洋:例如，我们可以以快速、实用、有效的方式实现复杂的人工智能算法，进行训练，并将我们的模型投入最终用户的生产。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/12ddaec1765d1a068cd0f38af0ee94dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V00aZ2EPihEn86mCH5gNwg.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">CAD到STL转换器streamlit应用程序—图片由作者提供</p></figure><p id="45bd" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">关于什么是streamlit，它是如何工作的，我就不多说了。你可以在<a class="ae lz" href="https://marcosanguineti.medium.com/subscribe" rel="noopener"><strong class="kr iu"/></a>上找到很多关于它的非常有趣的文章(我提醒你，成为<a class="ae lz" href="https://marcosanguineti.medium.com/subscribe" rel="noopener">会员</a>你就可以接触到无限的文章，支持我们的工作)。</p><p id="dcbf" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">您可以在下面找到该应用程序的完整代码:</p><div class="ms mt gp gr mu mv"><a href="https://github.com/GitMarco27/DeepCadConverter" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">GitHub-git Marco 27/DeepCadConverter:这个streamlit应用程序将各种cad格式转换成…</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">这个streamlit应用程序将各种cad格式转换为STL，可用于各种应用程序，使用…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="oc l ng nh ni ne nj nk mv"/></div></div></a></div><p id="12ba" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">可以随意复制，叉或者改进！</p><h1 id="2bad" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated">为什么是Cad到Stl的转换器</h1><p id="5041" class="pw-post-body-paragraph kp kq it kr b ks od ju ku kv oe jx kx ky of la lb lc og le lf lg oh li lj lk im bi translated">在<strong class="kr iu">机械</strong>和<strong class="kr iu">工业</strong>工程<strong class="kr iu">领域工作，以及在人工智能和软件开发领域工作，恰好要处理各种格式的实体(<strong class="kr iu"> CAD </strong>)，用各种软件制作。</strong></p><p id="4ce4" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><strong class="kr iu">各种<strong class="kr iu">格式</strong>之间的转换</strong> <strong class="kr iu">绝非小事，尤其是在不借助专业软件的情况下，从许可的角度来看通常非常昂贵(尤其是如果仅用于几何图形的转换)。</strong></p><p id="0c8b" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">有很多在线工具可以将IGES和STEP转换成STL，但是这些工具通常有:</p><ul class=""><li id="c559" class="ll lm it kr b ks kt kv kw ky ln lc lo lg lp lk lq lr ls lt bi translated">使用限制</li><li id="95aa" class="ll lm it kr b ks lu kv lv ky lw lc lx lg ly lk lq lr ls lt bi translated">操作问题</li><li id="6f15" class="ll lm it kr b ks lu kv lv ky lw lc lx lg ly lk lq lr ls lt bi translated">缺少设置</li><li id="c286" class="ll lm it kr b ks lu kv lv ky lw lc lx lg ly lk lq lr ls lt bi translated">成吨的横幅广告。</li></ul><p id="f473" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">这导致了用T21 GMSH T22 Python和Streamlit开发我们自己的转换工具的想法。</p><blockquote class="nl nm nn"><p id="df48" class="kp kq no kr b ks kt ju ku kv kw jx kx np kz la lb nq ld le lf nr lh li lj lk im bi translated">Gmsh是一个开源的3D有限元网格生成器，内置CAD引擎和后处理器。它的设计目标是提供一个快速、轻便和用户友好的网格工具，具有参数输入和高级可视化功能。Gmsh围绕四个模块构建:几何、网格、求解器和后处理。对这些模块的任何输入的说明或者使用图形用户界面以交互方式完成，在ASCII文本文件中使用Gmsh自己的脚本语言(<code class="fe oi oj ok ol b">.geo</code>文件)，或者使用C++、C、Python或Julia应用编程接口(API)。</p></blockquote><p id="79fb" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">此工具允许您使用大量参数对几何体进行三角剖分，以最大化您的需求(几何体特征、网格密度……)。</p><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi om"><img src="../Images/dc278969e8c2202b041648432501b7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vh6aoQIEV9zlPDh0RUDjMA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">Gmsh —作者图片</p></figure><h1 id="3e68" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated"><strong class="ak">工作原理</strong></h1><p id="d22a" class="pw-post-body-paragraph kp kq it kr b ks od ju ku kv oe jx kx ky of la lb lc og le lf lg oh li lj lk im bi translated">为了使用streamlit实现应用程序，首先需要在您的虚拟环境中安装同名库(<em class="no"> pip install streamlit </em>)。</p><p id="69e2" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们的应用程序将从python脚本启动:在本例中，我的应用程序指向脚本main.py</p><p id="b0da" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">要在本地启动我们的应用程序，只需在我们的操作系统中打开一个终端，然后启动(在您的虚拟环境中):</p><pre class="ki kj kk kl gt on ol oo op aw oq bi"><span id="17f3" class="or mb it ol b gy os ot l ou ov">&gt;&gt; (venv) streamlit run main.py</span></pre><p id="46e1" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在我们的应用程序中添加组件非常简单和直观，因为它们已经在大量的小部件中可用。</p><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="ow ko l"/></div></figure><p id="b454" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">在我们的应用程序中编写文本支持我们习惯使用的<strong class="kr iu"> markdown </strong>格式。我们有一个简单的工具来添加标题，一个用于文本，同样，添加图像也非常简单:只需指向正确的路径。我们还可以使用典型的markdown语法添加外部链接。</p><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="ow ko l"/></div></figure><p id="3361" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">同时，创建多选菜单的语法非常简单:用“<strong class="kr iu"> with </strong>”语句打开一个上下文，并在其中添加小部件。在这种情况下，此类对象(<strong class="kr iu">扩展器</strong>)用于设置gmsh参数，不会使主屏幕过于混乱，并且它也将在转换固有的日志之后使用。</p><p id="1b64" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated"><strong class="kr iu"> file_uploader </strong>小部件允许用一个对话框窗口加载一个(或多个)文件，或者在屏幕上拖动它们，将加载的数据存储在变量“data”中。</p><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="ow ko l"/></div></figure><p id="53bd" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">应用程序等待加载文件，直到使用适当的<strong class="kr iu">按钮</strong>激活转换触发器。</p><p id="dc7d" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">首先，执行任何先前运行的<strong class="kr iu">清除</strong>。首先，对所有以前的运行进行清理。如果加载的几何图形数量大于或等于1，代码执行<strong class="kr iu">开始</strong>:在调用脚本执行真正的cad转换<strong class="kr iu">之前，几何图形保存在一个临时文件夹中(这样做是为了在主线程中执行gmsh，避免信号问题)。</strong></p><p id="2a71" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">一旦所有几何图形的<strong class="kr iu">转换</strong>完成，文件被<strong class="kr iu">压缩</strong>并可供用户下载。</p><p id="9011" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">还会写入一个关于所执行操作的<strong class="kr iu">日志</strong>，并显示转换成功(或失败)的几何计数。</p><p id="eb5e" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">因此，让我们看看用于执行实际转换的脚本。</p><figure class="ki kj kk kl gt km"><div class="bz fp l di"><div class="ow ko l"/></div></figure><p id="f7b2" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">正如预期的那样，这个脚本通过<strong class="kr iu">系统</strong> <strong class="kr iu">参数</strong>调用gmsh，加载一个几何体(阶梯或IGES)并根据指定的设置创建一个新的表面网格，导出一个新的STL到我们的临时文件夹。</p><p id="7b7a" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">要部署我们的应用程序，必须添加一个<strong class="kr iu">需求</strong>文件和一个<strong class="kr iu">包</strong>文件，其中包含关于python和系统库的详细信息，它们必须安装在docker中，docker将在远程主机上管理我们的应用程序。</p><p id="84d9" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">从streamlit站点部署非常简单:一旦您将您的<strong class="kr iu"> Github </strong> <strong class="kr iu">帐户</strong>与streamlit帐户连接，您就可以连接您的存储库(在我的例子中是GitMarco27/DeepCadConverter)、主脚本(在我的例子中是main.py)并选择python的版本(在我的应用程序中是3.8)以在最终docker上使用。</p><h1 id="9150" class="ma mb it bd mc md me mf mg mh mi mj mk jz ml ka mm kc mn kd mo kf mp kg mq mr bi translated"><strong class="ak">结论</strong></h1><figure class="ki kj kk kl gt km gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ox"><img src="../Images/9a906e52d54d79c9ae77ff5264bf6864.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gO5dgHwCNNwGkMCWWcxqJA.png"/></div></div><p class="ny nz gj gh gi oa ob bd b be z dk translated">飞机。stl渲染—作者提供的图像</p></figure><p id="9934" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">我们已经看到了如何使用Streamlit快速高效地构建一个<strong class="kr iu"> python </strong> <strong class="kr iu">应用程序</strong>，使用简单而强大的小部件实现UI，并尝试解决一个与曲面网格相关的重要工程问题。我们看到了如何使用这些工具与朋友、同事或客户共享应用程序，以及在本地测试和部署(甚至免费)web应用程序的可能性。</p><p id="1664" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">📚在我的<a class="ae lz" href="https://marcosanguineti.medium.com/" rel="noopener">个人资料</a>上阅读更多文章</p><p id="fdce" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">📨成为电子邮件订阅者，了解最新动态</p><p id="385c" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">💻加入媒体没有阅读限制</p><p id="0bd1" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">✏️对疑点或新内容的评论</p><p id="34c7" class="pw-post-body-paragraph kp kq it kr b ks kt ju ku kv kw jx kx ky kz la lb lc ld le lf lg lh li lj lk im bi translated">下次见，马可</p></div></div>    
</body>
</html>