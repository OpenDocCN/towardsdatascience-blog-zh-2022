<html>
<head>
<title>Split Your Jupyter Notebooks (In 2 Lines of Code)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分割你的Jupyter笔记本(2行代码)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/split-your-jupyter-notebooks-in-2-lines-of-code-de345d647454#2022-10-17">https://towardsdatascience.com/split-your-jupyter-notebooks-in-2-lines-of-code-de345d647454#2022-10-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7b21" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你的笔记本太大了吗？</h2></div><p id="e87c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作者:<a class="ae le" href="https://medium.com/u/d38873cbc5aa?source=post_page-----40d1ab7243c2--------------------------------" rel="noopener">阿玛尔哈斯尼</a> &amp; <a class="ae le" href="https://medium.com/u/7f47bdb8b8c0?source=post_page-----40d1ab7243c2--------------------------------" rel="noopener">迪亚赫米拉</a></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/c4d98add9a95f4d41c81534281374e4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*NI0W1EY6UDhkzBy_.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">稳定扩散产生的铝</p></figure><p id="8de9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你想以一种快速而肮脏的方式测试一个新想法，或者第一次探索数据，IPython笔记本真的很有用。无论哪种方式，笔记本都有迅速变大和笨重的趋势，通常在你完成探索后需要清洁和重构，至少如果你想与你的经理、同事或未来的自己分享它们。</p><p id="6cd6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一个非常常见的操作是将笔记本分成多个子笔记本，通常基于标题。如果您想在Jupyter中这样做，您必须多次复制笔记本，并删除每个笔记本中的相关单元格。</p><p id="d858" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果有一种更快的方法来系统地完成这项工作呢？这就是你将在本文中学习的内容，使用<code class="fe lr ls lt lu b"> nbmanips</code>，我创建的一个python包/ CLI来轻松管理笔记本。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="33d0" class="mg mh it lu b gy mi mj l mk ml"><strong class="lu iu">Table of Contents :<br/></strong>· <a class="ae le" href="#0777" rel="noopener ugc nofollow">Installing nbmanips</a><br/>· <a class="ae le" href="#8973" rel="noopener ugc nofollow">1 - Splitting notebooks</a><br/>· <a class="ae le" href="#0477" rel="noopener ugc nofollow">2 — Splitting a Notebook based on the Table of Contents</a><br/>· <a class="ae le" href="#af36" rel="noopener ugc nofollow">3 — Splitting notebooks using a Python script</a><br/>· <a class="ae le" href="#4d36" rel="noopener ugc nofollow">Bonus: Concatenate multiple notebooks</a></span></pre><h1 id="0777" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">安装nbmanips</h1><p id="7bcd" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated">如果使用pip，安装nbmanips非常简单:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="07f7" class="mg mh it lu b gy mi mj l mk ml">pip install nbmanips</span></pre><p id="a05d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">通过运行以下命令，确保CLI正常工作，并且您至少安装了版本<code class="fe lr ls lt lu b"> 1.3.0</code>:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="ae81" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果你愿意，你可以用你自己的笔记本文件测试下面的库，但是如果你需要笔记本，这里有一个非常棒的Git存储库，里面有超过30个与机器学习相关的笔记本。</p><h1 id="8973" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">1 -拆分笔记本</h1><p id="2bc0" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated">一旦你安装了nbmanips，你可以使用命令行界面，轻松地分裂笔记本。由您决定告诉包您希望在哪个级别执行拆分。假设您需要在每次有带标题(h1 HTML标记)的markdown单元格时进行拆分，您需要做的就是在命令中指定如下内容:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="a3e1" class="mg mh it lu b gy mi mj l mk ml">nb select has_html_tag h1 | nb split -s nb.ipynb</span></pre><ul class=""><li id="b99f" class="nk nl it kk b kl km ko kp kr nm kv nn kz no ld np nq nr ns bi translated">命令的第一部分(<code class="fe lr ls lt lu b"> nb select has_html_tag h1</code>)将告诉<code class="fe lr ls lt lu b"> nbmanips </code>在哪些单元上执行拆分。</li><li id="85dd" class="nk nl it kk b kl nt ko nu kr nv kv nw kz nx ld np nq nr ns bi translated">第二部分(<code class="fe lr ls lt lu b"> nb split -s nb.ipynb</code>)将根据管道选择分割笔记本。<code class="fe lr ls lt lu b"> -s</code>标志告诉nbmanips使用选择而不是单元格索引。</li></ul><p id="6772" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在本例中，选择是在具有1级标题的Markdown单元格上执行的，但是您可以根据自己的喜好进行自定义。例如，您也可以在2级标题上拆分:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="161b" class="mg mh it lu b gy mi mj l mk ml">nb select has_html_tag h1,h2 | nb split -s nb.ipynb</span></pre><p id="526f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您想了解其他选择器或其他用例，请随意查看这篇文章:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/rapidly-explore-jupyter-notebooks-right-in-your-terminal-67598d2265c2"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">快速浏览Jupyter笔记本电脑(就在您的终端中)</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">编辑描述</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ll ob"/></div></div></a></div><p id="09f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">默认情况下，结果笔记本将被命名为<code class="fe lr ls lt lu b"> nb-%d.ipynb</code>，但是您可以通过添加<code class="fe lr ls lt lu b"> --output/-o</code>选项对其进行自定义:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="c499" class="mg mh it lu b gy mi mj l mk ml">nb select has_html_tag h1 | nb split -s nb.ipynb -o 'custom-name-%d.ipynb'</span></pre><h1 id="0477" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">2 -根据目录拆分笔记本</h1><p id="a0b5" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated">拆分笔记本的一个更简单的方法是使用单元格本身的索引，使用此命令，如果您想要在特定的标题或代码单元格上拆分，这可能会很有帮助，例如:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="bade" class="mg mh it lu b gy mi mj l mk ml">nb split nb.ipynb 5,9</span></pre><p id="8e7f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">缺点是在大笔记本中查找单元格索引会很繁琐。谢天谢地，有更简单的方法找到索引。</p><p id="9dc6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">例如，您可以使用以下命令显示目录:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="b37e" class="mg mh it lu b gy mi mj l mk ml">nb toc nb.ipynb</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="or os di ot bf ou"><div class="gh gi oq"><img src="../Images/05cfab6a97db90ba9d138bd75713e1c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LBGut8o6-4Vnr9_b.png"/></div></div></figure><p id="9252" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个不太明显的例子是，如果您想要计算包含导入语句的单元格的索引，并且该单元格在笔记本的最后10个单元格中:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="af36" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">3 -使用Python脚本拆分笔记本</h1><p id="efe3" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated"><code class="fe lr ls lt lu b">nbmanips</code>是一个python包，这意味着你可以在一个python脚本中使用它，如果你想做更复杂的事情或者自动化处理一堆文件，这是很有用的。</p><p id="bdf2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在你开始任何治疗之前，你必须阅读这个笔记本:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="492d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在您有了笔记本，您可以使用我们在第一个示例中看到的选择进行拆分:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><p id="bc03" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者像我们在前面的例子中看到的那样，使用目录:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="4d36" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">好处:连接多个笔记本电脑</h1><p id="ca25" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated">您可以使用以下命令连接多个笔记本:</p><pre class="lg lh li lj gt mc lu md me aw mf bi"><span id="d9d8" class="mg mh it lu b gy mi mj l mk ml">nb cat nb1.ipynb nb2.ipynb -o result.ipynb</span></pre><p id="58e3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，如果您使用的是python脚本:</p><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="9313" class="mm mh it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">最后的想法</h1><p id="f713" class="pw-post-body-paragraph ki kj it kk b kl nd ju kn ko ne jx kq kr nf kt ku kv ng kx ky kz nh lb lc ld im bi translated"><code class="fe lr ls lt lu b">nbmanips</code>努力成为Jupyter笔记本的瑞士军刀，让您可以轻松拆分、合并和浏览笔记本，而无需考虑。</p><p id="9943" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我认为把它放在你的口袋里是一个很好的工具，它不一定每天都有用，但是当你需要它的时候，你会感谢拥有它。</p><p id="cdba" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一个使用案例是连接多个笔记本电脑。如果您感兴趣，您可以查看我们的另一篇文章，该文章不仅展示了如何操作，还详细介绍了Jupyter笔记本文件的结构:</p><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/how-to-easily-merge-multiple-jupyter-notebooks-into-one-e464a22d2dc4"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">如何轻松将多台Jupyter笔记本合并为一台</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">编辑描述</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ov l om on oo ok op ll ob"/></div></div></a></div><p id="c509" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果您有任何问题，请不要犹豫，在回复部分留言，我们将非常乐意回答。</p><p id="12d3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢您坚持到现在，注意安全，我们将在下一篇文章中再见！😊</p><h2 id="762f" class="mg mh it bd mn ow ox dn mr oy oz dp mv kr pa pb mx kv pc pd mz kz pe pf nb pg bi translated">更多文章阅读</h2><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/rapidly-explore-jupyter-notebooks-right-in-your-terminal-67598d2265c2"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">快速浏览Jupyter笔记本电脑(就在您的终端中)</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">优化笔记本搜索</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ol l om on oo ok op ll ob"/></div></div></a></div><div class="ny nz gp gr oa ob"><a rel="noopener follow" target="_blank" href="/this-decorator-will-make-python-30-times-faster-715ca5a66d5f"><div class="oc ab fo"><div class="od ab oe cl cj of"><h2 class="bd iu gy z fp og fr fs oh fu fw is bi translated">这个装饰器将使Python速度提高30倍</h2><div class="oi l"><h3 class="bd b gy z fp og fr fs oh fu fw dk translated">以熊猫为例</h3></div><div class="oj l"><p class="bd b dl z fp og fr fs oh fu fw dk translated">towardsdatascience.com</p></div></div><div class="ok l"><div class="ph l om on oo ok op ll ob"/></div></div></a></div></div></div>    
</body>
</html>