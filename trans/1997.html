<html>
<head>
<title>How to Easily Run Python Visualizations On a Web Browser with PyScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用PyScript在Web浏览器上轻松运行Python可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-easily-run-python-visualizations-on-a-web-browser-with-pyscript-4b287ef991cd#2022-05-06">https://towardsdatascience.com/how-to-easily-run-python-visualizations-on-a-web-browser-with-pyscript-4b287ef991cd#2022-05-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="5db6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用PyScript在web浏览器上运行matplotlib和bokeh可视化的分步指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/320b1e7701d1d25d565c002ddcc6fd08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vp1t1FqCewlgdVpl8hvV0A.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@firmbee" rel="noopener ugc nofollow" target="_blank"> Firmbee </a>在<a class="ae ky" href="https://unsplash.com/photos/ir5lIkVFqC4" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="8da3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在PyCon US 2022中，Anaconda的CEO宣布了一项名为PyScript的新技术，允许用户在浏览器中编写Python代码。</p><p id="0f9e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只需要用HTML编写并运行Python代码来构建web应用程序。这意味着我们不需要担心部署，但一切都将发生在我们的web浏览器中。</p><p id="a65a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在你的网络浏览器上构建的最酷最简单的东西之一就是Python可视化，在本指南中，我将向你展示如何使用PyScript在你的网络浏览器上显示matplotlib和bokeh可视化。</p><p id="de84" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此后，您甚至可以构建仪表板并共享HTML文件，这样其他人就可以在他们的web浏览器中看到它。</p><p id="1ff4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="lv">不想看书？你可以看我的视频！</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lw lx l"/></div></figure><h1 id="e4a0" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">先做最重要的事情—将PyScript添加到HTML模板中</h1><p id="4fac" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">要设置PyScript，我们首先需要一个基本的HTML模板。</p><p id="e618" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数文本编辑器和ide都有一个你可以使用的HTML模板。你只需要创建一个HTML文件，然后输入<code class="fe mv mw mx my b">doc</code>或<code class="fe mv mw mx my b">html</code>并按回车键。</p><p id="0005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Pycharm中，我可以在写完<code class="fe mv mw mx my b">doc</code>后得到模板。万一你没有得到它，这里有一个模板你可以使用。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="a9a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在要使用PyScript，将下面几行添加到HTML模板的<code class="fe mv mw mx my b">&lt;head&gt;</code>部分。</p><pre class="kj kk kl km gt na my nb nc aw nd bi"><span id="95f9" class="ne lz it my b gy nf ng l nh ni">&lt;link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" /&gt;<br/>&lt;script defer src="https://pyscript.net/alpha/pyscript.js"&gt;&lt;/script&gt;</span></pre><p id="ba94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些台词摘自<a class="ae ky" href="https://pyscript.net/" rel="noopener ugc nofollow" target="_blank"> PyScript </a>网站。我会把它们粘贴在<code class="fe mv mw mx my b">&lt;title&gt;</code>标签下面。</p><p id="9e9b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你应该有这样的东西。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="6291" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！到目前为止，我们已经成功地设置了PyScript。现在让我们在网络浏览器上绘制一些可视化图形。</p><h1 id="b2ea" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">1.使用PyScript在您的Web浏览器上绘制Matplotlib</h1><p id="ec09" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">在我们的web浏览器上用matplotlib和bokeh绘制可视化的步骤有点不同。</p><p id="43f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们首先用matplotlib绘制一个线图，并在我们的web浏览器中显示它。</p><h2 id="0240" class="ne lz it bd ma nj nk dn me nl nm dp mi li nn no mk lm np nq mm lq nr ns mo nt bi translated">正在加载matplotlib</h2><p id="da49" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">为了绘制线图，首先，我们必须在HTML文件中加载matplotlib。我们在下面的代码片段中使用了<code class="fe mv mw mx my b">&lt;py-env&gt;</code>标签。</p><p id="61dd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，在<code class="fe mv mw mx my b">&lt;body&gt;</code>部分，我使用<code class="fe mv mw mx my b">&lt;py-script&gt;</code>标签为我们的图添加了一个标题。在该标记中，我使用Python代码打印了单词“My Lineplot”。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="7668" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要查看结果，我们必须在web浏览器中打开这个HTML文件。在Pycharm上，我可以通过点击右上角的Chrome图标轻松做到这一点。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/b6938ab3666e4937345263dba042dce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*zDwmOqDqqIO1B6UnQywrEA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="a3e5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以在浏览器上打开HTML文件，方法是右键单击该文件，选择“打开方式”，然后选择Chrome/Safari/Firefox。</p><p id="f9ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">选择浏览器后，将会打开一个新的选项卡。你应该看看这个。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/34472c0920c3bba6f4b452beef0f08a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/1*WFMcKAngcbhtgBhsYTuuhg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="be8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！到目前为止，我们已经在浏览器中显示了标题。现在让我们做线图。</p><h2 id="b92f" class="ne lz it bd ma nj nk dn me nl nm dp mi li nn no mk lm np nq mm lq nr ns mo nt bi translated">在网络浏览器上显示折线图</h2><p id="dd57" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">在我们编写Python代码来创建一个线图之前，我们必须在<code class="fe mv mw mx my b">&lt;body&gt;</code>部分创建一个<code class="fe mv mw mx my b">&lt;div&gt;</code>，它将包含这个图的<code class="fe mv mw mx my b">id</code>。id将是“线图”</p><pre class="kj kk kl km gt na my nb nc aw nd bi"><span id="e559" class="ne lz it my b gy nf ng l nh ni">&lt;div id="lineplot"&gt;&lt;/div&gt;</span></pre><p id="f8cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后我们使用<code class="fe mv mw mx my b">&lt;py-script&gt;</code>标签创建线图。这里我们使用了<code class="fe mv mw mx my b">output</code>属性，并将其设置为我们之前定义的id。</p><pre class="kj kk kl km gt na my nb nc aw nd bi"><span id="2a97" class="ne lz it my b gy nf ng l nh ni">&lt;py-script output="lineplot"&gt;<br/>   # Python Code Goes Here ...<br/>&lt;/py-script&gt;</span></pre><p id="5eb8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是绘制线条的Python代码(您应该将它放在<code class="fe mv mw mx my b">py-script</code>标记内)</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="1e6a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">太好了！如果将所有元素放在一起，您应该会在浏览器中看到下面的线图(加载可能需要几秒钟)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/da8c4e5c74238ec6dab8c6191487d8ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*810p3qUK1qfEFDFDdtM_og.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="4a04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有困难把这些碎片拼在一起，你可以在我的Github上找到完整的代码。</p><h1 id="2890" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">2.使用PyScript在Web浏览器上绘制散景</h1><p id="8387" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">与Matplotlib不同，Bokeh需要在<code class="fe mv mw mx my b">&lt;head&gt;</code>部分添加几行额外的代码。</p><p id="352d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看一看。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="1f51" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码是从<a class="ae ky" href="https://github.com/pyscript/pyscript/blob/main/pyscriptjs/examples/bokeh.html" rel="noopener ugc nofollow" target="_blank"> PyScrpt Github </a>中提取的，除了我们之前从PyScript网站复制的两行代码之外，还包括了Javascript元素(第8-17行)之类的东西。</p><p id="51fa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们在<code class="fe mv mw mx my b">&lt;body&gt;</code>部分添加一个<code class="fe mv mw mx my b">&lt;div&gt;</code>和<code class="fe mv mw mx my b">&lt;py-script&gt;</code>标签来显示我们的散景图。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="mz lx l"/></div></figure><p id="3da3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您将这两个片段放在一起并刷新您的浏览器，您应该会看到下图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/4e2769541825a56a183be76f15065258.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*YOhx48jgQrhov8IWoZghkA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="a64f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！现在，您已经知道如何使用Python和HTML在web浏览器上运行可视化。</p></div><div class="ab cl ny nz hx oa" role="separator"><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od oe"/><span class="ob bw bk oc od"/></div><div class="im in io ip iq"><p id="8336" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用Python学习数据科学？<a class="ae ky" href="https://frankandrade.ck.page/26b76e9130" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">通过加入我的10k+人电子邮件列表，获取我的免费Python for Data Science备忘单。</strong> </a></p><p id="a5f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，可以考虑报名成为一名媒体成员。每月5美元，让您可以无限制地访问数以千计的Python指南和数据科学文章。如果你使用<a class="ae ky" href="https://frank-andrade.medium.com/membership" rel="noopener">我的链接</a>注册，我会赚一小笔佣金，不需要你额外付费。</p><div class="of og gp gr oh oi"><a href="https://frank-andrade.medium.com/membership" rel="noopener follow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd iu gy z fp on fr fs oo fu fw is bi translated">通过我的推荐链接加入媒体——弗兰克·安德拉德</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">frank-andrade.medium.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow ks oi"/></div></div></a></div></div></div>    
</body>
</html>