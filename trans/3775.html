<html>
<head>
<title>Simple Computer Vision Image Creative Analysis using Google Vision API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Google Vision API进行简单的计算机视觉图像创意分析</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/simple-computer-vision-image-creative-analysis-using-google-vision-api-50cc42737a00#2022-08-22">https://towardsdatascience.com/simple-computer-vision-image-creative-analysis-using-google-vision-api-50cc42737a00#2022-08-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a014" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用标签检测、对象检测、面部表情检测、文本检测和主色检测创建您的第一个计算机视觉项目</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/08eed27b2d40db809da2a2fba8ed6f50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ykvPDNkiREA7gL5D"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">凯文·Ku在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9dc3" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">介绍</h1><p id="b7f0" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">计算机视觉可以用来从图像、视频和音频中提取有用的信息。它允许计算机看到并理解从视觉输入中可以收集到什么信息。收到视觉输入后，它可以收集图像中有价值的信息，并确定必须采取的下一步措施。</p><p id="86d4" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Google Vision API是一项Google云服务，支持使用计算机视觉从图像输入中提取有价值的信息。作为初学者，您可以使用此服务来获得对图像的有意义的见解。下图显示了Google vision API的工作方式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mp"><img src="../Images/bd9f6b0a4584713bf04e997609469ade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WxEeR_N5SuCi_Qsh.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://cloud.google.com/architecture/creative-analysis-at-scale-with-google-cloud-and-machine-learning" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/architecture/creative-analysis-at-scale with Google-cloud and-machine-learning</a></p></figure><p id="70aa" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">上图展示了谷歌视觉API的能力。Google Vision API可以识别广告图像中的面部表情、文本和主色。面部表情清楚地显示了这个人喜悦的表情，文本描述了单词“了解更多”，主色显示了图像中的前10种主色。</p><p id="c0ee" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们可以看到，通过利用Google vision API功能，我们可以从图像中获得很多洞察力。例如，假设我们想知道广告图像中的哪些因素导致客户点击并查看我们的广告。这可以通过利用Google vision API服务来发现。</p><p id="1e91" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">本文将主要关注如何获得图像中的洞察力因素，以及我们可以从特定图像中获得什么样的洞察力。我们将不会使用广告图像的例子，因为它不能发表由于公司的保密性。相反，我们将使用Kaggle数据集中可用于数据分析的产品图像。</p><h1 id="d390" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">资料组</h1><p id="81ac" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">这个项目的数据集图像基于Kaggle的<a class="ae kv" href="https://www.kaggle.com/datasets/kuchhbhi/stylish-product-image-dataset" rel="noopener ugc nofollow" target="_blank">时尚产品图像数据集</a>。因为数据集包含大量来自电子商务网站的产品图像，所以我们将只选取一小部分可用于我们的创意分析的图像。这个<a class="ae kv" href="https://creativecommons.org/publicdomain/zero/1.0/" rel="noopener ugc nofollow" target="_blank">数据集许可</a>允许你复制、修改、分发和执行工作。</p><h1 id="ad0d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">设置Google cloud vision API:循序渐进</h1><p id="2752" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在开始之前，我们必须首先从Google Cloud services配置vision API服务。一步一步的说明可以在<a class="ae kv" href="https://cloud.google.com/vision/docs/setup#windows" rel="noopener ugc nofollow" target="_blank">这里</a>找到。但是，为了让事情变得更简单，我们将向您展示如何一步一步地从Google Cloud Services设置vision API。</p><blockquote class="mq mr ms"><p id="ae3a" class="lo lp mt lq b lr mk jr lt lu ml ju lw mu mm lz ma mv mn md me mw mo mh mi mj ij bi translated"><strong class="lq ir">(注意:您必须从您自己的Google Cloud帐户配置此Google Cloud services vision API我们不会在本教程中向您提供包含机密Google Cloud密钥的文件)。</strong></p></blockquote><p id="451f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">第一步:</strong>登录谷歌云项目，从主页选择“转到API概述”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/b208b15c0b2ca5adde76af90eeb10a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJUDgbdgt8v6iXLrMYfF0w.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><p id="fc8e" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">步骤2: </strong>选择“启用API和服务”，然后搜索并启用Cloud Vision API。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/58ae55d8e3587b79642cc8edd1c12f47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCdlo6f8bh1HOYMtxySJHA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/dd05f26412e9a505964e78faa20f8350.png" data-original-src="https://miro.medium.com/v2/resize:fit:1036/format:webp/1*m8nkNwIeqOYPlXUENTMZQA.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><p id="0bfc" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">第3步:</strong>转到凭证，然后单击“创建凭证”，再单击“服务帐户”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi na"><img src="../Images/661e7cac28e572de725411db6b255737.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QraeMt_jzKvmld0IhNYNfw.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><p id="781f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">步骤4: </strong>输入您的服务帐户信息(您可以跳过可选部分)，然后单击完成。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/203e365c2f84a0f7d78ddd9ce667c578.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*CHiJvBJgXuibX889RbBfAg.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><p id="428f" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">步骤5: </strong>导航到您创建的服务帐户。转到密钥，然后“添加密钥”和“创建新密钥”。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nc"><img src="../Images/2181e2587ae3bdbd146127ed59f68a37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5aWljsTSaCkDfZ0XFGe-Ew.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nd"><img src="../Images/6c26b4e3f415cd3c708345ede557bb00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*96o3r9fTJ5cjQ-6qL775bA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><p id="9dba" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">第六步:</strong>创建一个JSON键类型，然后下载JSON文件，放在Python脚本的工作目录下。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ne"><img src="../Images/b3e370d155e1f30af2315f1160b2c4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*quAJztvpcyhhqhxfNXehUQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">(图片来自作者)</p></figure><h1 id="0b35" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">安装必要的库</h1><p id="da78" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">在我们开始计算机视觉建模之前，我们必须首先安装所需的库。我们将安装的第一个库是google-cloud-vision，用于计算机视觉模型检测。我们可以在获得对Google Cloud Vision API的访问权后使用这个库。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1dd5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">下一个库是webcolors，当我们需要将十六进制颜色数从颜色检测转换为我们知道的最接近的颜色名称时，它就派上了用场。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="a806" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">导入必要的库</h1><p id="7c35" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">安装完必要的库之后，我们将把它们导入到我们的脚本中。我们将从谷歌云库导入视觉，用于视觉建模检测目的。对于数据预处理，使用了Ipython、io和pandas等其他库。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="33be" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Webcolors用于将十六进制颜色格式转换为我们熟悉的颜色名称。KDTree用于在CSS3库中查找最接近的颜色匹配。<a class="ae kv" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.KDTree.html" rel="noopener ugc nofollow" target="_blank"> KDTree </a>提供了一组k维点的索引，可用于快速找到任意点的最近邻居。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="2a64" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">在我们的python脚本上激活Google vision API</h1><p id="811e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">将JSON文件放入我们的目录后，我们必须在Python脚本中激活Google Cloud Vision API服务。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><h1 id="f3f5" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">标签检测</h1><p id="300a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">可以使用标签检测来检测图像中的任何标签。LabelAnnotation可用于标识图像中的一般对象、位置、活动、产品和其他事物。下面的代码描述了我们将如何从时尚数据集的图像中提取标签信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="7057" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从这张图片中，我们可以看到谷歌视觉API已经检测到几个通用标签，如:</p><ul class=""><li id="e761" class="nh ni iq lq b lr mk lu ml lx nj mb nk mf nl mj nm nn no np bi translated">面部表情(微笑)</li><li id="05e5" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">人体(脸、关节、皮肤、手臂、肩膀、腿、人体、袖子)</li><li id="14eb" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">物体(鞋)</li></ul><p id="82df" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">尽管视觉已经识别了许多标签，但是一些一般的物体被错误地识别并且没有被提及。视觉将凉鞋图像误认为是一只鞋。它也无法识别上图中的衣服、叶子植物、杯子和椅子。</p><h1 id="d39b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">目标检测</h1><p id="c97a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">对象检测可用于检测图像中的任何对象。与标记不同，对象检测主要与检测的置信度有关。LocalizedObjectAnnotation扫描图像中的多个对象，并显示矩形边界内的对象位置。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="e024" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从该图中，我们可以看到google vision API检测到了如下几个对象:</p><ul class=""><li id="e149" class="nh ni iq lq b lr mk lu ml lx nj mb nk mf nl mj nm nn no np bi translated">太阳镜(置信度:90%)</li><li id="3644" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">项链1(置信度:83%)</li><li id="5019" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">项链2(信心:77%)</li><li id="81f8" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">超短裙(信心:76%)</li><li id="4f12" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">衬衫(信心:75%)</li><li id="79fd" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">服装(信心:70%)</li><li id="dadd" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">项链3(信心:51%)</li></ul><p id="5d3b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">在上图中，我们可以看到大部分的视觉已经识别出了一件衣服。由于它们的高置信度，水晶般透明的物体已经被识别为几个物体，例如太阳镜、项链1、项链2、迷你裙、衬衫和衣服。项链3具有最低的置信度，因为视觉认为右下角的图像也是项链。因为项链3对象更像手镯而不是项链，所以它的置信度比其他对象低。</p><h1 id="e6aa" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">人脸表情检测</h1><p id="bc05" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">人脸检测可以检测图像中的任何人脸和情感。FaceAnnotation是一种扫描图像中人脸位置的技术。在扫描人脸的同时，还可以扫描各种面部情感表情。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="75e2" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上面的这张图片中，我们可以看到谷歌视觉API已经检测到人脸的各种表情，例如:</p><ul class=""><li id="aaf9" class="nh ni iq lq b lr mk lu ml lx nj mb nk mf nl mj nm nn no np bi translated">乔伊:很有可能</li><li id="67dd" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">悲伤:不太可能</li><li id="ae12" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">愤怒:不太可能</li><li id="ea58" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">惊喜:不太可能</li></ul><p id="2b2a" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从上图我们可以看出，表情是微笑，vision API将其识别为喜悦的表情。悲伤、愤怒和惊讶的其他表情似乎与上图不符，因为这个人没有表达这些情绪。结果，快乐被评分为非常可能，而另一个被评分为非常不可能。</p><h1 id="b651" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">文本检测</h1><p id="ee80" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">TextAnnotation可用于从图像中检测和提取文本。矩形边界内的单个单词和句子包含在提取的文本中。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="bcc5" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">从这张图片中，我们可以看到谷歌视觉API已经检测到各种文本，如:</p><ul class=""><li id="3f79" class="nh ni iq lq b lr mk lu ml lx nj mb nk mf nl mj nm nn no np bi">文化</li><li id="33d4" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">这是</li><li id="3dc8" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">什么</li><li id="1400" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">可怕的</li><li id="b230" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">相貌</li><li id="442a" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated">喜欢</li></ul><p id="e2a6" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi">For some reason, the vision has identified what appears to be a Japanese word of 文化. This can happen if the vision inadvertently detects any word from the rattan carving behind the clothing picture and somehow translates it into a Japanese word.</p><p id="840b" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">图像中的文本显示它检测大写和非大写单词。它还在上面的文本中找到了“THISIS”这个词，应该是“THIS IS”。因此，vision API的局限性在于，它会将单词“THISIS”检测为“THIS IS ”,因为该单词太窄。</p><h1 id="9d8d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">主色检测</h1><p id="0d96" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">主色检测是图像属性标注的特征之一。它可以使用主色检测来检测图像中的前十个主要特征颜色及其颜色分数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="0d7c" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">Google Vision API已经检测到十六进制格式的前十种不同颜色，如上图所示。为了获得真实的颜色名称，我们必须使用CSS3库将十六进制颜色格式转换为颜色名称格式。然后，我们利用KDTree获得我们在CSS3库中熟悉的最接近的颜色。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="bbd1" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">我们使用十六进制颜色A41B24作为第二主色的示例。使用上面的函数，我们发现CSS3库中最接近的颜色是耐火砖。上图中运动鞋的红色表明了这一点。</p><h1 id="f0bc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="0b4e" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">我们已经使用标签、物体、面部表情、文本和上面创造性分析中的主色检测完成了计算机视觉建模。在我们运行vision API之后，每个检测注释仍然有许多限制。</p><ul class=""><li id="a102" class="nh ni iq lq b lr mk lu ml lx nj mb nk mf nl mj nm nn no np bi translated"><strong class="lq ir">标签检测:</strong>它可以检测图片上的许多一般对象和面部表情，但有些对象会被误识别(例如在我们的分析中，它将一只凉鞋误识别为一只鞋)。</li><li id="68f7" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated"><strong class="lq ir">物体检测:</strong>在这些因素中也存在误识别的情况，但是我们可以通过查看物体检测置信度来预测它(例如在我们的分析中，它将手镯误识别为另一条项链)。</li><li id="bc71" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated"><strong class="lq ir">面部表情检测:</strong>图像清晰地显示出男孩喜悦的表情。但是，如果您尝试使用从视觉建模中排除的表情的图像，它会将所有表情检测分类为非常不可能，因为视觉建模无法确定它是哪个表情。</li><li id="d58a" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi"><strong class="lq ir">Text detection: </strong>The texts can be detected using the text annotate, but there is an unwanted text that is included in our vision modeling (for example, in our analysis, it detects the Japanese word “文化” even though there are no Japanese words on the picture).</li><li id="d165" class="nh ni iq lq b lr nq lu nr lx ns mb nt mf nu mj nm nn no np bi translated"><strong class="lq ir">主色检测:</strong>可以检测上图中的多种主色，但目前只能转换成RGB或hex颜色格式。要转换成我们熟悉的颜色，必须添加一个将十六进制颜色转换成颜色名称的函数。</li></ul><h1 id="3c0e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">承认</h1><p id="ad9a" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">如果你想获得更多关于这个建模方法中使用的代码的细节，你可以查看我的<a class="ae kv" href="https://github.com/nugrahazikry/Simple-Computer-Vision-Image-Creative-Analysis-using-Google-Vision-API" rel="noopener ugc nofollow" target="_blank"> Github库</a>。</p><blockquote class="mq mr ms"><p id="12fc" class="lo lp mt lq b lr mk jr lt lu ml ju lw mu mm lz ma mv mn md me mw mo mh mi mj ij bi translated"><strong class="lq ir">(注意:Google云密钥在存储库中不可用，您必须按照上面的步骤自己创建)。</strong></p></blockquote><p id="b453" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated"><strong class="lq ir">Github:</strong>https://github.com/nugrahazikry<a class="ae kv" href="https://github.com/nugrahazikry" rel="noopener ugc nofollow" target="_blank">T3】</a></p><p id="b7d3" class="pw-post-body-paragraph lo lp iq lq b lr mk jr lt lu ml ju lw lx mm lz ma mb mn md me mf mo mh mi mj ij bi translated">【领英:<a class="ae kv" href="https://www.linkedin.com/in/zikry-adjie-nugraha/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/zikry-adjie-nugraha/</a></p></div></div>    
</body>
</html>