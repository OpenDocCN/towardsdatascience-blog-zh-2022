<html>
<head>
<title>Mastering Git: Git Cherry-Pick</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握Git: Git精选</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mastering-git-git-cherry-pick-fbeb23eea04d#2022-09-13">https://towardsdatascience.com/mastering-git-git-cherry-pick-fbeb23eea04d#2022-09-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c751" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">如何将单个提交精选到您当前的分支</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a4f0e9c9d69da3f254c079e52b64512c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zT2lxReWOdMi9909"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://unsplash.com/@praveentcom?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Praveen Thirumurugan </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="d2e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Git是所有数据科学家和软件工程师都应该知道如何使用的工具。无论您是独自从事一个项目，还是作为一个大型分布式团队的一部分，了解如何使用Git从长远来看都可以为您节省大量时间。git的一个关键功能是能够从任何地方选择任何提交并复制到当前分支的头部。这可以通过命令<code class="fe lv lw lx ly b">git cherry-pick</code>来完成，该命令可用于撤销更改、引入新功能、解决bug或确保提交附加到正确的分支。这当然是有用的，但你必须小心，不要在合并或重定基础可能更有益的情况下过度使用它。</p><h2 id="4d3f" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">樱桃采摘</h2><p id="fa4b" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated"><code class="fe lv lw lx ly b">git cherry-pick</code>是一个有用的工具，它允许您从存储库中的任何地方复制一个提交，并将其附加到当前分支的头部。这使得它成为一个非常有用的工具，可以以多种方式使用，但避免过度使用通常是最好的做法。这是因为该命令会创建重复的提交，这会造成混乱的历史记录，并且在大多数情况下，合并或重置会更有好处。那么什么时候应该使用它:</p><ul class=""><li id="7d1c" class="mx my it lb b lc ld lf lg li mz lm na lq nb lu nc nd ne nf bi translated"><strong class="lb iu">作为同事在不同的分支从事类似的工作</strong>。在这种情况下，您的同事开发的类或函数可以帮助您当前的进展或将来的系统集成。为了将这种功能引入到您当前的分支中，并避免代码的重复，您可以简单地挑选出那些允许您继续工作的特定功能。这将集成功能，特别是如果它们是前端和后端系统，同时也减少了将来可能出现的合并冲突的数量。</li><li id="c8f9" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><strong class="lb iu">减少bug。在某些情况下，当开发一个新特性时，你可能会发现一个来自另一个分支甚至主线的bug(希望不是！).在这一点上，最好是尽快为客户获得一个bug补丁，这可能意味着在您当前的分支上开发补丁。在这一点上，您可以将您的变更精选到主分支或另一个分支中，以尽快解决bug。</strong></li><li id="6f4f" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><strong class="lb iu">为了不失去功能</strong>。在某些情况下，新功能可能不会在您希望的时候合并到main中。在这些情况下，为了获得您想要的特性，最好使用精选来挑选该功能。这样就保证了这个特性不会丢失！</li></ul><h2 id="5295" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">使用git精选</h2><p id="6626" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">使用<code class="fe lv lw lx ly b">git cherry-pick</code>相对简单，因为您需要做的就是找到您感兴趣的提交引用，然后当您检查出您想要将功能引入的分支时，使用<code class="fe lv lw lx ly b">git cherry-pick commit_reference</code>。例如:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/5ca24d5ae910cb355c369fe17c4d44e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X3NDX5Gtc8Kh8217T9mTzg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5080" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果在提交<code class="fe lv lw lx ly b">G</code>中有一些功能，在当前的特性分支中会很有用。您可以使用:</p><pre class="kj kk kl km gt nm ly nn no aw np bi"><span id="4755" class="lz ma it ly b gy nq nr l ns nt">git cherry-pick G</span></pre><p id="af5f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将改变提交历史，使得<code class="fe lv lw lx ly b">G</code>现在也将出现在当前头部的尖端，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/6b8f34b1c4f4e7b1808c268f10b009a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V9UFDE2P8ls3-66wKbndXg.png"/></div></div></figure><p id="b31e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了能够识别您想要挑选的相关提交及其相关的提交引用，您可以使用命令<code class="fe lv lw lx ly b">git log</code>或<code class="fe lv lw lx ly b">git reflog</code>，它们将向您显示提交历史。</p><h2 id="11b4" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated"><strong class="ak">附加功能</strong></h2><p id="29b6" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">为了改进<code class="fe lv lw lx ly b">git cherry-pick</code>的工作，我们还可以添加标志来改变功能，使它对我们想要的更有用:</p><ul class=""><li id="f773" class="mx my it lb b lc ld lf lg li mz lm na lq nb lu nc nd ne nf bi translated">选项将导致git在应用精选操作之前提示提交消息。这将允许您更改提交消息，如果您想反映它在该位置正在做什么。</li><li id="256d" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><code class="fe lv lw lx ly b">--no-commit</code> flag将执行精选，但不是进行新的提交并将其添加到当前文件头，而是简单地移动文件内容，而不进行实际的提交。当您只想检查更改或查看更改如何与您的功能集成而不提交时，这可能很有用。</li><li id="114f" class="mx my it lb b lc ng lf nh li ni lm nj lq nk lu nc nd ne nf bi translated"><code class="fe lv lw lx ly b">-x</code>将在原始提交消息中添加一行“cherry picked from commit …”，用于无冲突提交。这在从公开可用的分支中挑选樱桃时会很有用。</li></ul><p id="f644" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您还可以通过指定<code class="fe lv lw lx ly b">git cherry-pick branch_name</code>来指定想要将最新提交移动到哪个分支。这将从当前分支获取最新提交，并将其放在指定分支的末端。</p><p id="4afe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果您想同时挑选多个提交，您可以添加它们的提交引用，用空格分隔。尽管不建议这样做，因为理想情况下，您应该一次只复制一个提交。</p><h2 id="4991" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">结论</h2><p id="b400" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated"><code class="fe lv lw lx ly b">git cherry-pick</code>是一个强大的命令，如果正确使用，它会非常有用。它允许您将提交复制到当前分支的头部，当您想要共享功能但不想执行合并时，这对于解决在其他地方发现的错误或提交到错误的分支时非常有用。当合并或重定基础是更好的实践时，例如当多个提交可能被移动时，不应该使用它。您可以使用列出先前提交的<code class="fe lv lw lx ly b">git log</code>命令找到您想要移动的提交的提交标识。</p><h2 id="fe9a" class="lz ma it bd mb mc md dn me mf mg dp mh li mi mj mk lm ml mm mn lq mo mp mq mr bi translated">来源</h2><p id="39be" class="pw-post-body-paragraph kz la it lb b lc ms ju le lf mt jx lh li mu lk ll lm mv lo lp lq mw ls lt lu im bi translated">[1]https://www.atlassian.com/git/tutorials/cherry-pick<a class="ae ky" href="https://www.atlassian.com/git/tutorials/cherry-pick" rel="noopener ugc nofollow" target="_blank"/></p><p id="01b6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2]https://www.gitkraken.com/learn/git/cherry-pick<a class="ae ky" href="https://www.gitkraken.com/learn/git/cherry-pick" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="f944" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢你所读的，并且还不是medium会员，请使用下面我的推荐链接注册Medium，来支持我和这个平台上其他了不起的作家！提前感谢。</p><div class="oc od gp gr oe of"><a href="https://philip-wilkinson.medium.com/membership" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">通过我的推荐链接加入Medium—Philip Wilkinson</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">philip-wilkinson.medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot ks of"/></div></div></a></div><p id="a3c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">或者随意查看我在Medium上的其他文章:</p><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/eight-data-structures-every-data-scientist-should-know-d178159df252"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">每个数据科学家都应该知道的八种数据结构</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">从Python中的基本数据结构到抽象数据类型</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="ou l oq or os oo ot ks of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/a-complete-data-science-curriculum-for-beginners-825a39915b54"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">面向初学者的完整数据科学课程</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">UCL数据科学协会:Python介绍，数据科学家工具包，使用Python的数据科学</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="ov l oq or os oo ot ks of"/></div></div></a></div><div class="oc od gp gr oe of"><a href="https://python.plainenglish.io/a-practical-introduction-to-random-forest-classifiers-from-scikit-learn-536e305d8d87" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">scikit-learn中随机森林分类器的实用介绍</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">UCL数据科学学会研讨会14:什么是随机森林分类器、实现、评估和改进</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">python .平原英语. io</p></div></div><div class="oo l"><div class="ow l oq or os oo ot ks of"/></div></div></a></div></div></div>    
</body>
</html>