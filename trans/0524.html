<html>
<head>
<title>Six Tricks You Should Know About Python Dictionary</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于 Python 字典你应该知道的六个窍门</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/six-tricks-you-should-know-about-python-dictionary-41c86570d282#2022-02-21">https://towardsdatascience.com/six-tricks-you-should-know-about-python-dictionary-41c86570d282#2022-02-21</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8919c5885967d100db9a418beb87e8b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VZZpdl571IPVA7Hj8SuaTg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5796976" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/felix_merler-3317441/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5796976" rel="noopener ugc nofollow" target="_blank"> Felix Merler </a></p></figure><div class=""/><div class=""><h2 id="e8f8" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">通过了解常用字典操作的快捷方式来节省您的时间</h2></div><p id="26fd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Python 的一个优点是字典可以与 JSON 对象无缝集成。这使得字典数据结构的使用比其他编程语言要频繁得多。</p><p id="724f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我确实意识到一些学习者仍然在写一些代码，这是在重新发明轮子。换句话说，有许多“捷径”，或者我们应该说是“正确的方法”，来对 Python 字典进行大量频繁的操作。</p><p id="336b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这篇文章中，我将介绍关于 Python 字典的 6 个技巧，我相信如果你以前不知道这些技巧，你会从中受益。</p><h1 id="a765" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">1.按值对字典数组进行排序</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6da57a05d0eacd06d8a837c7fde9168f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FRE7QopqwujJbS5qkIP2Qg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/cocoparisienne-127419/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=254010" rel="noopener ugc nofollow" target="_blank"> cocoparisienne </a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=254010" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="d268" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们经常从一些 Web API 收到一组 JSON 对象。假设我们已经在 Python 列表中读取了它们。现在我们想按照里面的某个值对这些字典进行排序。</p><p id="aaa9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">看到有人用选择性或冒泡排序编写 for 循环并不少见。那太累了。我们可以使用 Python 内置函数<code class="fe mq mr ms mt b">sorted()</code>。</p><p id="3571" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通常，当我们想要对列表进行排序时，<code class="fe mq mr ms mt b">sorted()</code>函数会非常容易使用。但是，这一次我们希望根据它包含的字典对象的值对列表进行排序。事实上，<code class="fe mq mr ms mt b">sorted()</code>函数有一个名为<code class="fe mq mr ms mt b">key</code>的参数。</p><p id="646e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在 Python 文档中，指定如下:</p><blockquote class="mu mv mw"><p id="f877" class="ky kz mx la b lb lc kk ld le lf kn lg my li lj lk mz lm ln lo na lq lr ls lt im bi translated">key <em class="jj">指定一个参数的函数，用于从 iterable 中的每个元素提取一个比较键。默认值为</em> <code class="fe mq mr ms mt b"><em class="jj">None</em></code> <em class="jj">(直接比较元素)。</em></p></blockquote><p id="1cad" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">听起来我们可以创建一个函数来告诉<code class="fe mq mr ms mt b">sorted()</code>函数我们想要用来排序的标准是什么。</p><p id="d3a2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们首先创建一个字典的样本列表。假设我们想按人们的年龄对字典进行分类。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="c42d" class="nf lv jj mt b gy ng nh l ni nj">students = [<br/>    {'name': 'Alice', 'age': 40},<br/>    {'name': 'Bob', 'age': 37},<br/>    {'name': 'Chris', 'age': 33}<br/>]</span></pre><p id="dbfd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，按照文档中所说的，我们可以创建这样一个函数:</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="8968" class="nf lv jj mt b gy ng nh l ni nj">def get_age(dict_item):<br/>    return dict_item['age']</span></pre><p id="a08d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，我们可以在<code class="fe mq mr ms mt b">sorted()</code>函数中使用<code class="fe mq mr ms mt b">get_age</code>函数。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="f37c" class="nf lv jj mt b gy ng nh l ni nj">sorted(students, key=get_age)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/e21e9f752a82f6e663922ee32274c1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sI2nHLj0wLsQmSfRoE5zFg.png"/></div></div></figure><p id="6ac8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那完美地完成了工作。然而，我们意识到<code class="fe mq mr ms mt b">get_age()</code>函数非常简单，所以我们可以将其简写为 lambda 函数。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="276d" class="nf lv jj mt b gy ng nh l ni nj">sorted(students, key=lambda item: item['age'], reverse=True)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nl"><img src="../Images/efd01bd7bb1642cd58de77c1a90e875f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mGMdr52gdsOYRPxq-tlEqQ.png"/></div></div></figure><p id="1591" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，我们不需要额外的函数。相反，我们使用 lambda 编写了一个内嵌函数。此外，我还添加了<code class="fe mq mr ms mt b">reverse</code>标志，这样列表就不会按降序排序。</p><h2 id="80fe" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">展开按关键字排序的用法</h2><p id="8e2f" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">虽然这不是为了字典，我只是想用<code class="fe mq mr ms mt b">key</code>展示一个<code class="fe mq mr ms mt b">sorted()</code>函数的扩展用法。</p><p id="9b2c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">假设我们有一个如下的字符串列表</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="1649" class="nf lv jj mt b gy ng nh l ni nj">strings = [<br/>    'aaa3',<br/>    'bbb2',<br/>    'ccc1',<br/>    'ddd5'<br/>]</span></pre><p id="2fa8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们用<code class="fe mq mr ms mt b">sorted()</code>函数来排序，那一定是基于每个字符串的首字母。所以，顺序不应该改变。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="a456" class="nf lv jj mt b gy ng nh l ni nj">sorted(strings)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oc"><img src="../Images/e75ff4c894724f30a65aa208a2ed48bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LpVZ_hgq143Ic7gDybBSTg.png"/></div></div></figure><p id="2b51" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果我们希望根据最后一位数字对列表进行排序，该怎么办呢？我们可以编写一个 lambda 函数来获取字符串的最后一个字符。所以，<code class="fe mq mr ms mt b">sorted()</code>函数将使用它作为标准。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="f3c8" class="nf lv jj mt b gy ng nh l ni nj">sorted(strings, key=lambda s: s[-1])</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi od"><img src="../Images/1e2ef0827eb9edb150e54a55d5599de7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xyEjnWYuo0lNPrKCoJxg1A.png"/></div></div></figure><h1 id="e6dc" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">2.按关键字或值对字典排序</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/d7d9bcabb9548b418252005e82203f85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xW83wjlmhWmTBmHuS8FgBg.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=617422" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/8385-8385/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=617422" rel="noopener ugc nofollow" target="_blank"> Reimund Bertrams </a></p></figure><p id="0568" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们已经提到了按值对字典列表进行排序。如果我们想按键或值对字典进行如下排序呢？</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="84b5" class="nf lv jj mt b gy ng nh l ni nj">my_dict = {'c': 1, 'b': 2, 'a': 3}</span></pre><p id="34a2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在 Python 3.6 之前，不要为此烦恼，因为字典是无序实现的。也就是说，我们只能对字典进行排序，按顺序打印。这在 for 循环中很容易做到。如果条目的顺序很重要，我们需要使用有序字典。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="0d4f" class="nf lv jj mt b gy ng nh l ni nj">from collections import OrderedDict</span><span id="42cd" class="nf lv jj mt b gy of nh l ni nj">my_ordered_dict = OrderedDict(sorted(my_dict.items()))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi og"><img src="../Images/8010efc5c368124049bd430c3f1fdaca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v5mk8-_LTLU3tdCNbMw30w.png"/></div></div></figure><h2 id="099b" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">按字典关键字排序</h2><p id="37b4" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">然而，从 Python 3.6 开始，字典将有顺序，这意味着对字典进行排序开始有意义。如果我们想按关键字对字典进行排序，我们可以简单地使用<code class="fe mq mr ms mt b">sorted()</code>函数对条目进行排序，然后将它们转换回字典。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="fa6f" class="nf lv jj mt b gy ng nh l ni nj">my_dict = dict(sorted(my_dict.items()))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oh"><img src="../Images/f68612bdbafc6b4f2a7a3aafa0ac9216.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yIGFkebY8JnUExsbYsgPxg.png"/></div></div></figure><h2 id="42fd" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">按字典值排序</h2><p id="73b7" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">如果我们想按值对字典进行排序，我们将需要再次使用我们从前面的问题中得到的技巧。即使用<code class="fe mq mr ms mt b">sorted()</code>功能的<code class="fe mq mr ms mt b">key</code>参数。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="8027" class="nf lv jj mt b gy ng nh l ni nj">dict(sorted(my_dict.items(), key=lambda item: item[1]))</span></pre><p id="f6eb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于字典的<code class="fe mq mr ms mt b">items()</code>将返回元组，我们可以使用订阅<code class="fe mq mr ms mt b">[1]</code>来访问它的第二个元素，这将是值。</p><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/736d9d67d9750ff705feafb10d5d4097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggCXfv_NmUGZx6kDFxWteg.png"/></div></div></figure><h1 id="5d7d" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">3.使用理解创建词典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6e973d890043fc183673f34b690f36b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rrIWwKlwfeE8CNgMerPy4Q.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2325552" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/theglassdesk-149631/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2325552" rel="noopener ugc nofollow" target="_blank">贝卡·克拉克</a></p></figure><p id="434a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可能经常使用列表理解，但不要忘记理解语法也适用于词典。</p><p id="d84f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">当我们想用 for-loop 创建一个逻辑简单的字典时，使用字典理解可以非常简洁高效。</p><p id="f4ad" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">例如，我们想使用<code class="fe mq mr ms mt b">sqaure_x</code>作为键，其中<code class="fe mq mr ms mt b">x</code>是一个数字。那么这个值应该是相应值的平方。我们可以使用一个带有<code class="fe mq mr ms mt b">range()</code>函数的 for 循环来获得一个数字序列，然后字典创建如下。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="66d1" class="nf lv jj mt b gy ng nh l ni nj">my_dict = {<br/>    'square' + '_' + str(i): i**2 <br/>    for i in range(5)<br/>}</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oj"><img src="../Images/39b7a82f119677c54f6aa6fc32361668.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7kT9be_vK2N7Q3Mn7VELlw.png"/></div></div></figure><h1 id="8571" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">4.将两个列表编入词典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/4515aaf060818ce8f96ab1f54d581167.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l0PyulR_jaZJLL6Jgl-n4Q.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/foundry-923783/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=869221" rel="noopener ugc nofollow" target="_blank"> Foundry Co </a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=869221" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>获得</p></figure><p id="f43f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">有时，我们可能会分别得到键和值。有些 API 被设计成分别返回这两个东西的数组，这种情况并不少见。</p><p id="886e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了以后的使用，我们必须把它们缝合在一起。我们可以用索引开始一个 for 循环，这样我们就可以分别从列表中获得键和值。但是，有更好的办法，而且很 Pythonic。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="c154" class="nf lv jj mt b gy ng nh l ni nj">keys = ['name', 'age', 'skill']<br/>values = ['Chris', 33, 'Python']</span><span id="7a95" class="nf lv jj mt b gy of nh l ni nj">my_dict = dict(zip(keys, values))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ok"><img src="../Images/0cac9075545e165bdc1eb9ca819d5fc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4AOe4NDeVazCTEdNPpNdfA.png"/></div></div></figure><p id="7527" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">所以，我们不必重新发明轮子。如果您不太熟悉 Python 中的<code class="fe mq mr ms mt b">zip()</code>函数，请查看下面的文章。我相信你会理解的。</p><div class="is it gp gr iu ol"><a rel="noopener follow" target="_blank" href="/fasten-python-objects-using-zip-88a1e7a68c7"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd jk gy z fp oq fr fs or fu fw ji bi translated">使用 Zip“固定”Python 对象</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">Python 的一个技巧使得使用多个可迭代对象变得更加容易</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">towardsdatascience.com</p></div></div><div class="ou l"><div class="ov l ow ox oy ou oz ja ol"/></div></div></a></div><p id="844c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe mq mr ms mt b">zip()</code>功能的好处更多。例如，如果我们有两个不同长度的列表，多余的条目将被忽略。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="acfb" class="nf lv jj mt b gy ng nh l ni nj">keys = ['name', 'age', 'skill']<br/>values = ['Chris', 33, 'Python', 'English']</span><span id="8778" class="nf lv jj mt b gy of nh l ni nj">my_dict = dict(zip(keys, values))</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/a26b8c6d29dcb2942598c6cd53a95dce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bXUjT7H2rLvxArUPKieK6w.png"/></div></div></figure><p id="cfce" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在上面的例子中，第二个列表中的字符串“English”被忽略，因为没有与之对应的键。</p><p id="367e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们知道列表长度应该严格相同，我们也可以强制执行它。因此，如果两个列表的长度不同，将会抛出一个错误。请注意，这个<code class="fe mq mr ms mt b">strict</code>标志是在 Python 3.10 中添加的。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="3ffe" class="nf lv jj mt b gy ng nh l ni nj">my_dict = dict(zip(keys, values, strict=True)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/cec8dc4e0bd39d8834ece43f075a875e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xie4pvvUbaiTONJFmTK3kg.png"/></div></div></figure><h1 id="6ef7" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">5.合并两本词典</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5b2ec2d6e8826abf9fb2cc99d390b654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CZ0A_p2-ZZHzPJmRDNDJKA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4502863" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/danielkirsch-4218687/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=4502863" rel="noopener ugc nofollow" target="_blank"> Daniel Kirsch </a></p></figure><p id="e523" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">合并两个或更多的字典可能是非常频繁的操作。然而，这是最棘手的问题之一。在不同的 Python 版本中，我们有不同的“最佳方式”来做到这一点。</p><h2 id="a1ab" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">在 Python 3.4 或更低版本中</h2><p id="005b" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">我们可以使用字典的<code class="fe mq mr ms mt b">update()</code>功能。它会将另一个字典追加到当前字典中。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="2dfc" class="nf lv jj mt b gy ng nh l ni nj">my_dict1 = {'age': 33, 'name': 'Chris'}<br/>my_dict2 = {'skill': 'Python'}</span><span id="7499" class="nf lv jj mt b gy of nh l ni nj">my_dict1.update(my_dict2)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pc"><img src="../Images/51e277b616664687c3d942e9053e7cc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3NB5gDWss_hCpMcJIq6clA.png"/></div></div></figure><p id="b893" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，缺点是第一本字典<code class="fe mq mr ms mt b">my_dict1</code>被修改了。如果我们想保留两个原始字典，我们必须创建第三个。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="2f8f" class="nf lv jj mt b gy ng nh l ni nj">my_dict = {}<br/>my_dict.update(my_dict1)<br/>my_dict.update(my_dict2)</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/871293555e28acaa5da12a5fd70ea8ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bZ_qD6KGYSE5c5rgiSH2Q.png"/></div></div></figure><h2 id="05dd" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">来自 Python 3.5 — Python 3.8</h2><p id="48f4" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">从 Python 3.5 开始，它将用于解包列表的星号<code class="fe mq mr ms mt b">*list</code>语法扩展到使用双星号<code class="fe mq mr ms mt b">**dictioanry</code>解包字典。</p><p id="e1cd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">因此，我们可以创建一个新的字典，并将其中的两个原始字典解包。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="31ac" class="nf lv jj mt b gy ng nh l ni nj">my_dict = {**my_dict1, **my_dict2}</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/e4bdf49fa359736895b26367ffb96610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_79-9hUqTnL6Ex2XucZVpg.png"/></div></div></figure><p id="4df9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这就变得容易多了。</p><h2 id="2129" class="nf lv jj bd lw nm nn dn ma no np dp me lh nq nr mg ll ns nt mi lp nu nv mk nw bi translated">从 Python 3.9 开始</h2><p id="796f" class="pw-post-body-paragraph ky kz jj la b lb nx kk ld le ny kn lg lh nz lj lk ll oa ln lo lp ob lr ls lt im bi translated">在 Python 3.9 中，涉及到了一种新的语法，即使用管道<code class="fe mq mr ms mt b">|</code>来合并两个字典。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="8221" class="nf lv jj mt b gy ng nh l ni nj">my_dict = my_dict1 | my_dict2</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/9c1f77a9a63a8772cf00a51d86c04741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*nHk_H01-ITUWu3DgecaoqA.png"/></div></figure><p id="eff3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在这个更加简洁，可读性更强，也更直观。此外，已经证明它在上述所有方法中具有最高的性能。</p><h1 id="781f" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">6.更改密钥的名称</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/a52835f5c384c23b7e62eeb0fac16646.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tFYMNH7hqh1-a512Q58MUA.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自<a class="ae jg" href="https://pixabay.com/users/pixel2013-2364555/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3087900" rel="noopener ugc nofollow" target="_blank">s . Hermann&amp;f . Richter</a>来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=3087900" rel="noopener ugc nofollow" target="_blank"> Pixabay </a></p></figure><p id="9e7a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果我们想改变一个键的名字呢？假设我们从一个 API 收到了 JSON 对象，但是键名与我们在数据库中的键名不一致。因此，在将对象保存到数据库之前，我们需要更改键的名称。</p><p id="a2f1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">请不要写 for-loop 来查找带键的项，除非基于某个规则有很多键要改。相反，一个简单的方法是使用简单的传递值到一个新的项目，然后删除旧的。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="c884" class="nf lv jj mt b gy ng nh l ni nj">my_dict['programming_language'] = my_dict['skill']<br/>del my_dict['skill']</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/f007af4c69e1265a36844bb72070fe39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qC_G6rOA6enfedPX_C266g.png"/></div></div></figure><p id="f7f2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在执行了上面的示例之后，关键字“skill”已经被更改为“programming_language”。这是最直观的实现方式。然而，我们甚至可以通过使用字典的<code class="fe mq mr ms mt b">pop()</code>功能来简化它。</p><p id="1e38" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">想法是在字典中创建一个新的键，并从弹出的旧键-值对中获取值。之后，用旧值创建新的键，旧的键-值对已经不存在了。</p><pre class="mm mn mo mp gt nb mt nc nd aw ne bi"><span id="5eb7" class="nf lv jj mt b gy ng nh l ni nj">my_dict['skill'] = my_dict.pop('programming_language')</span></pre><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ph"><img src="../Images/3fad19c8ec52ba2c6658f22ffdf0f4bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yehxjuFQsdULVTr44k1VxQ.png"/></div></div></figure><p id="0e4f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如图所示，使用最简单的方法将密钥改回来。</p><h1 id="1528" class="lu lv jj bd lw lx ly lz ma mb mc md me kp mf kq mg ks mh kt mi kv mj kw mk ml bi translated">摘要</h1><figure class="mm mn mo mp gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6c0980f8869ba9a288c9892e7d0ed26b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZHHeDbpeL-ESV5WYVeib6g.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片由<a class="ae jg" href="https://pixabay.com/users/rperucho-7689351/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=7001026" rel="noopener ugc nofollow" target="_blank">拉蒙·佩鲁丘</a>从<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=7001026" rel="noopener ugc nofollow" target="_blank">皮克斯拜</a>拍摄</p></figure><p id="783e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">字典是 Python 中最重要的数据结构之一。所以，知道一些做一些经常性操作的捷径是很重要的。这些技巧不仅可以节省我们重新发明轮子的时间，还可以提供更高的性能。</p><div class="is it gp gr iu ol"><a href="https://medium.com/@qiuyujx/membership" rel="noopener follow" target="_blank"><div class="om ab fo"><div class="on ab oo cl cj op"><h2 class="bd jk gy z fp oq fr fs or fu fw ji bi translated">通过我的推荐链接加入灵媒-陶</h2><div class="os l"><h3 class="bd b gy z fp oq fr fs or fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ot l"><p class="bd b dl z fp oq fr fs or fu fw dk translated">medium.com</p></div></div><div class="ou l"><div class="pi l ow ox oy ou oz ja ol"/></div></div></a></div><p id="a248" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你觉得我的文章有帮助，请考虑加入 Medium 会员来支持我和其他成千上万的作者！(点击上面的链接)</p></div></div>    
</body>
</html>