<html>
<head>
<title>Monitor Your AWS Lambda Functions (or Any Other AWS Service) in Slack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Slack中监控您的AWS Lambda函数(或任何其他AWS服务)</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monitor-your-aws-lambda-functions-or-any-other-aws-service-in-slack-809aaefe7e40#2022-07-13">https://towardsdatascience.com/monitor-your-aws-lambda-functions-or-any-other-aws-service-in-slack-809aaefe7e40#2022-07-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/30bab2ced3ff95c2a982bb0a494556bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o1CSzjbpy73vFx5P"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">照片由<a class="ae jg" href="https://unsplash.com/@brett_jordan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布雷特·乔丹</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><div class=""/><div class=""><h2 id="bf81" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">一种简单的基于Python的方法，将完整的错误回溯发送到Slack</h2></div><p id="4395" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">随着组织的发展，在AWS Lambda中定期运行ELT或批处理推理作业是很常见的。有很多关于使用CloudWatch警报监控lambda错误的文章，但是对于周期性的Lambda作业，这既过于复杂，也不能在通知中提供太多有用的信息，除了有一个错误。</p><p id="1b6c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里，我提出了一种更直接的方法来监控这些周期性的λ函数。使用这种方法，您将直接在您的slack通道中获得包含错误消息和每个错误追溯的通知，消除了挖掘日志来排除错误的需要。虽然这种方法确实涉及到了CloudWatch，但它不需要CloudWatch警报或任何像SQS或凯尼斯这样的消息队列服务。</p><p id="ffe3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在我们开始之前，有一个快速的警告:如果你的Lambda函数每分钟处理很多请求并开始失败，你的slack通道将会崩溃💥带有错误消息。大容量lambda函数最好使用以下参考资料中详细描述的方法之一:</p><ul class=""><li id="b879" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><a class="ae jg" href="https://medium.com/@femidotexe/tracking-aws-lambda-functions-error-via-slack-2e9f0733e043" rel="noopener">通过Slack跟踪AWS Lambda函数误差</a></li><li id="579f" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://quick-refs.github.io/aws/slack-notifications-from-aws-cloudwatch-alarms" rel="noopener ugc nofollow" target="_blank">来自AWS CloudWatch警报的松弛通知</a></li><li id="e3ca" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://aws.amazon.com/about-aws/whats-new/2015/12/aws-lambda-launches-slack-integration-blueprints/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda蓝图</a> (2015)</li></ul><h1 id="7f8a" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">该方法概述</h1><p id="2d5f" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">参见下面的基本架构。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/c80201eea2aabd9f2088066d1d21011b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6feLYFi4plRHmXQfMYtOzQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片作者。根据发布的使用政策使用AWS架构图标和Slack徽标(1)。</p></figure><p id="1b20" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">用户向API Gateway发送一个请求，API Gateway将该请求转发给我们用Lambda部署的模型。Lambda模型将向API网关返回一个预测或错误，以发送回用户，并且还会将一条日志消息写入云观察日志。</p><p id="fdaf" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">到目前为止，我们在AWS Lambda上有一个标准的模型部署。每当日志包含文本<code class="fe nk nl nm nn b">ERROR</code>时，CloudWatch触发我们的通知Lambda向Slack发送一条消息，神奇的事情就发生了。</p><h2 id="60b4" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">我们将如何实施:</h2><ol class=""><li id="c9f7" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt od ma mb mc bi translated"><a class="ae jg" href="#5d4a" rel="noopener ugc nofollow">将简单的线性模型部署到lambda函数，并将其连接到API网关端点</a>。</li><li id="8c02" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated"><a class="ae jg" href="#e6cd" rel="noopener ugc nofollow">制造一个松弛的网钩</a>。</li><li id="b063" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated"><a class="ae jg" href="#6213" rel="noopener ugc nofollow">创建一个Lambda函数向Slack发送消息</a>。</li><li id="855a" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated"><a class="ae jg" href="#de7d" rel="noopener ugc nofollow">配置一个CloudWatch来触发我们的通知Lambda </a>。</li></ol><h1 id="5d4a" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">让我们开始吧:</h1><p id="4ecc" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">作为一个测试案例，我们将部署一个简单的模型，它将一个数字加倍，如果输入不是一个数字，就引发一个<code class="fe nk nl nm nn b">ValueError</code>。如果你已经有一个lambda函数或者其他想要监控的AWS服务，你可以跳到<a class="ae jg" href="#e6cd" rel="noopener ugc nofollow">创建一个Slack Webhook </a>。</p><h2 id="acd3" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">创建新的Lambda函数:</h2><ol class=""><li id="d197" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt od ma mb mc bi translated">转到AWS控制台中的Lambda服务。</li><li id="dd95" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated">从侧边栏中选择<code class="fe nk nl nm nn b">Functions</code>。</li><li id="d196" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated">选择<code class="fe nk nl nm nn b">Create function</code>来——你猜对了——创建一个新功能。</li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/5b6cf240f78dfdb3b436facc43423b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CgT56hGQWdOoDo4fwPYFkw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="4816" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.选择<code class="fe nk nl nm nn b">Author from Scratch</code>，输入Lambda函数的名称，并选择运行时。我将调用我的函数<code class="fe nk nl nm nn b">MonitorMe</code>，我使用Python 3.8作为运行时。接受其余默认设置并点击<code class="fe nk nl nm nn b">Create function</code>。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi of"><img src="../Images/a63d8a9ddf1f6ef8defe3bf7401723b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rqtmfBrL9rLfH1wh5eMBsw.png"/></div></div></figure><p id="c380" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.将下面的代码用于我们简单的Lambda模型。</p><figure class="ng nh ni nj gt iv"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="6890" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">单步执行代码:</strong></p><p id="0d43" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">API Gateway通过<code class="fe nk nl nm nn b">event</code>参数将查询字符串参数转发给我们的Lambda函数。</p><p id="934f" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上面的代码首先将变量<code class="fe nk nl nm nn b">x</code>设置为<code class="fe nk nl nm nn b">event['queryStringParameters']['x']</code>。<code class="fe nk nl nm nn b">event['queryStringParameters']</code>中的每个元素都是一个字符串，所以要使用<code class="fe nk nl nm nn b">x</code>进行任何数值计算，我们必须将其转换为数值数据类型。我们用<code class="fe nk nl nm nn b">x = float(x)</code>来做这件事。<code class="fe nk nl nm nn b">float</code>是表示浮点数的数据类型，所以试图将任何不是数字的东西强制转换为<code class="fe nk nl nm nn b">float</code>会导致我们的Lambda抛出异常。最后，我们将<code class="fe nk nl nm nn b">x</code>加倍，并在我们的响应体中返回它。</p><h2 id="e851" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">创建API网关端点</h2><p id="86ba" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">没有这一步通知也可以工作，但是设置API相对简单，并且为我们的<code class="fe nk nl nm nn b">MonitorMe</code> Lambda提供了一个实际的<code class="fe nk nl nm nn b">event </code>变量来处理。</p><ol class=""><li id="c681" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt od ma mb mc bi translated">访问API网关服务，在HTTP API面板上选择<code class="fe nk nl nm nn b">Build</code>。</li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oi"><img src="../Images/6bf5ca8f141e07b3ac1a875fb5f816ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ivY5VIml3MRBME9cpuZhWw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="f671" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.将我们的<code class="fe nk nl nm nn b">MonitorMe</code> Lambda函数作为API集成进行连接。</p><p id="1757" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">点击<code class="fe nk nl nm nn b">Add integration</code></p><ul class=""><li id="7acf" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">选择<code class="fe nk nl nm nn b">Lambda</code>作为集成类型</li><li id="51a8" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">确保选择了正确的区域(这应该与Lambda所在的AWS区域相匹配)，然后搜索我们在上面创建的<code class="fe nk nl nm nn b">MonitorMe</code> Lambda函数。</li><li id="0104" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">为API提供一个名称。我正在调用我的API <code class="fe nk nl nm nn b">MyAPI</code>。(聪明，我知道)</li><li id="fb68" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">点击<code class="fe nk nl nm nn b">Next</code></li></ul><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oj"><img src="../Images/9fb2b19ae1c24497e6cd012b30f3e1cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rc5sLOaptJGM7okl_4Qs4Q.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="b1fb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.现在我们需要一条路线。路由将操作分配给URL路径。我们将要设置的动作将一个请求转发给我们的<code class="fe nk nl nm nn b">MonitorMe</code> Lambda函数。</p><ul class=""><li id="ab32" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">输入<em class="ok">资源路径的逻辑路径。</em>我使用了我们的Lambda函数的名字<code class="fe nk nl nm nn b">MonitorMe</code>，但是你可以使用任何东西</li><li id="90d3" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">选择<code class="fe nk nl nm nn b">MonitorMe</code>作为<em class="ok">整合目标</em>。</li><li id="f7d9" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">点击下一个的<em class="ok">。</em></li></ul><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ol"><img src="../Images/3f1c30dc68b0c29a189a144a048b3039.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07EBhyv46hkTOpf2syBzcQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="b948" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.在下一个屏幕上，接受默认值。</p><p id="c3e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">确保<em class="ok">自动展开</em>打开。没有它，我们必须手动部署对API的任何更改。如果我们需要在部署到生产API之前部署到开发API进行测试，这将非常有用。对于这个例子，我们希望事情简单一些。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/fd749c91d153b0ce5bcb80ad0f2efd92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DFQQu96FRQrMpoDvukd-mg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><h2 id="2016" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">API已部署。来测试一下吧！</h2><ol class=""><li id="4ea5" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt od ma mb mc bi translated">在<code class="fe nk nl nm nn b">MyAPI</code>页面上找到<code class="fe nk nl nm nn b">$default</code>阶段的<code class="fe nk nl nm nn b">Invoke URL</code>。这是我们的基本网址。复制它。</li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/2b1bd673a5a4f86bc628001d727a5145.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z4bz5bRXKtwxGc9YNjpW7g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="79eb" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.将我们在<a class="ae jg" href="#b1fb" rel="noopener ugc nofollow"> API创建步骤3 </a>中创建的路由路径添加到基本URL。用您在上一步中复制的基本URL替换<code class="fe nk nl nm nn b">{YOUR API BASE URL}</code>。(URL不区分大小写，但为了清晰起见，我将其大写):</p><pre class="ng nh ni nj gt oo nn op oq aw or bi"><span id="3544" class="no mj jj nn b gy os ot l ou ov">https://{YOUR API BASE URL}/<strong class="nn jk">MonitorMe</strong></span></pre><p id="5256" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.通过追加一个<code class="fe nk nl nm nn b">?x=</code>后跟要测试的值，将查询添加到URL。这是我们向<code class="fe nk nl nm nn b">MonitorMe </code> Lambda函数发送参数的地方。例如:</p><pre class="ng nh ni nj gt oo nn op oq aw or bi"><span id="2b58" class="no mj jj nn b gy os ot l ou ov">https://{YOUR API BASE URL}/MonitorMe<strong class="nn jk">?x=2</strong></span></pre><p id="8f7e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.把这个插入你的浏览器，然后。2x2= <code class="fe nk nl nm nn b">4.0</code></p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/bd82465d0c63d8917f284ade5087cef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R00IDVodjQKqHHR5vubrmQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="44db" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这是一个非常有用的模型。😉</p><h1 id="e6cd" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">创建一个松弛的网钩</h1><p id="f178" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">最后，我们开始进入项目的实质部分。我们将通过webhook向Slack发送消息。</p><ol class=""><li id="066a" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt od ma mb mc bi translated">为您的通知创建一个渠道。我给我的打电话<code class="fe nk nl nm nn b">aws-notifications</code></li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ox"><img src="../Images/de9b1ab39c6ec7dd5e28112d99d1d790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j7_REuCgR3xBxYMNZWHdQQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="5f80" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.参观api.slack.com/apps。如果您尚未登录，您将看到一条消息，要求您登录您的Slack帐户以创建应用程序。动手吧。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oy"><img src="../Images/b14c4133832e92a857ba6c2fb043dca6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oMwbSBQaUpCzYt0ob-scnw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="0db8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">3.登录后，您会看到一个标签为<em class="ok">创建应用</em>的按钮。点击它。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/ba38a659747fedda148029168d15e882.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g77z8wSF6PQJ_v5NeZMjhg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="3e3b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.我们想从头开始创建我们的应用程序。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pa"><img src="../Images/9137847b56ecc2446ec36fa10af9c45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNT3zai9p4HjCUKmQ_UbUQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="1744" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.在下一个屏幕上，添加应用程序名称，选择您的工作区，然后单击<em class="ok">创建应用程序</em>。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pb"><img src="../Images/c9e2159fb535e3a30226c10d0f88193a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQKcEdNVNT2qeQhdr7ZEww.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="cb8c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">6.一旦你创建了应用程序，Slack API网站会方便地推荐一些功能。我们想要<em class="ok">传入的Webhooks，</em>所以找到那个框并单击它。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pc"><img src="../Images/d1fd8f64db1fec5bab9af10c27be45bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rg5fXG8htTDPnThH1TWJVA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="e848" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">7.在“传入webhooks”页面上，单击右上角的滑块打开webhooks。这也将在页面底部展开一个设置部分。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pd"><img src="../Images/5ca4209ee0798ce76174628270cf04b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DFgsndBB3CqpKU_Md40hjw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="bb49" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">8.点击页面底部设置部分的<code class="fe nk nl nm nn b">Add New Webhook to Workspace</code>按钮。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pe"><img src="../Images/464c15e22f14726cd1bc82768b53e4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DW4k-yzxbSghleSOp9noqA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="eaf8" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">9.选择我们之前创建的频道并<em class="ok">允许。</em></p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pf"><img src="../Images/32fde32a608da2b19c6f3c72f4410068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iRZ58qxF83_PhQv7kdNi3g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="c60c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">10.现在，您将看到您已经创建了一个webhook URL。curl示例更新了，所以我们可以在命令行测试它。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/26df86d2b0c45f425c84fcdfea3f954c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8eBGg-qXmBlgkcqNtnGx8A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片作者(写完这个帖子后我删除了这个webhook😁)</p></figure><p id="fd14" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">只需抓取<code class="fe nk nl nm nn b">Sample curl request to post to channel</code>代码，并将其粘贴到您的终端中，如下所示(如果您使用的是旧版本的Windows，您可以按照<a class="ae jg" href="https://stackoverflow.com/questions/9507353/how-do-i-install-and-use-curl-on-windows" rel="noopener ugc nofollow" target="_blank">this stack overflow answer</a>中的说明安装cURL):</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ph"><img src="../Images/7ad3da639b7215385963eda68bf930e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PEFLsVqMHC-EzOo47vi9UA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="bb9a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它将返回<code class="fe nk nl nm nn b">ok</code>。检查你的slack频道，你会看到AWS通知程序的一个帖子，上面写着<code class="fe nk nl nm nn b">Hello, World!</code>。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pi"><img src="../Images/64d09576b522c1204b1e16a68556a00c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p7kl47rwKOQMyRKQbxgciw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="7ac6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">耶！我们现在可以发布到我们的slack频道。</p><p id="e44e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">11.复制Webhook URL。我们以后会需要它。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pj"><img src="../Images/18292060be7ec67203c1a60b885886d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5ktmCxlmbyLs5IEPlh7hQg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><h1 id="6213" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">创建一个Lambda函数向Slack发送消息</h1><p id="d258" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">在本节中，我们将设置一个Lambda函数，当它被触发时，将向我们发送包含错误详细信息的Slack消息。</p><h2 id="1ef7" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">就像前面一样，创建一个新的Lambda函数:</h2><ol class=""><li id="dcb9" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt od ma mb mc bi translated">转到AWS控制台中的Lambda服务。</li><li id="5778" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated">从工具条中选择<code class="fe nk nl nm nn b">Functions</code>。</li><li id="1092" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated">选择<code class="fe nk nl nm nn b">Create function</code>创建一个新功能，您又猜对了。</li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oe"><img src="../Images/5b6cf240f78dfdb3b436facc43423b45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CgT56hGQWdOoDo4fwPYFkw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="8b51" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">4.选择<code class="fe nk nl nm nn b">Author from Scratch</code>，输入函数名，然后选择运行时。对于这一步，我将调用函数<code class="fe nk nl nm nn b">Notify</code>并使用Python 3.8作为运行时。接受其余默认设置，并点击<code class="fe nk nl nm nn b">Create function</code>。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pk"><img src="../Images/a5cf142fb68688ecbe01b5ea76222556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2OGEblXLLQho1VYwUN5xYQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="bff2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">5.将以下代码复制并粘贴到新的Lambda函数中。</p><figure class="ng nh ni nj gt iv"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="d993" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">让我们单步执行代码</p><ul class=""><li id="fe5e" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">将<code class="fe nk nl nm nn b">SLACK_WEBHOOK</code>设置为您之前创建的slack webhook URL。<strong class="la jk"> <em class="ok">你必须将其更新为你创建的网页挂钩的URL。</em> </strong></li><li id="5e28" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">当Lambda被调用时，AWS调用<code class="fe nk nl nm nn b">lambda_handler</code>函数。AWS将<code class="fe nk nl nm nn b">event</code>和<code class="fe nk nl nm nn b">context</code>作为参数传入。<code class="fe nk nl nm nn b">event</code>包含编码的错误信息。</li><li id="a98a" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">接下来，Lambda调用<code class="fe nk nl nm nn b">decode_logpayload</code>来解码错误消息。这个函数做三件事:<br/> 1。使用<code class="fe nk nl nm nn b">base64decode</code>解码错误字符串。<br/> 2。使用<code class="fe nk nl nm nn b">gzip</code>解压解码后的错误字符串。<br/> 3。将生成的JSON转换成Python字典并返回它。</li><li id="d83f" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">然后我们构建松弛消息。关于Slack消息构造的细节可以在Slack API文档中的<a class="ae jg" href="http://Creating rich message layouts" rel="noopener ugc nofollow" target="_blank">创建丰富的消息布局</a>中找到。<br/>我们将每个<code class="fe nk nl nm nn b">logEvent</code>添加到附件列表中。这确保了我们获得完整的日志消息。<br/>然后，我们用日志组名和包含错误日志的<code class="fe nk nl nm nn b">logEvent</code>列表构建消息，日志组名标识抛出错误的Lambda。</li><li id="e802" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated">最后，我们用urllib的<code class="fe nk nl nm nn b">Request</code>类创建一个请求对象，并用的<code class="fe nk nl nm nn b">geturl</code>方法将其发送给<code class="fe nk nl nm nn b">SLACK_ENDPOINT</code>。</li></ul><h1 id="de7d" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">最后一步:为我们的通知Lambda配置一个CloudWatch触发器。</h1><p id="d802" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">这里有一个细节非常重要。我们在<code class="fe nk nl nm nn b"><strong class="la jk">Notify</strong></code> <strong class="la jk"> </strong>上创建触发器，Lambda <strong class="la jk">，</strong>不是Lambda抛出错误。这意味着，如果您需要监控几个lambda函数，您需要为每个函数添加一个触发器到<code class="fe nk nl nm nn b">Notify</code> Lambda。幸运的是，AWS没有对单个Lambda函数的触发器数量进行限制。</p><h2 id="d53a" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">设置触发器</h2><ol class=""><li id="af8c" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt od ma mb mc bi translated">仍然在我们的<code class="fe nk nl nm nn b">Notify</code> Lambda中，从页面顶部选择<code class="fe nk nl nm nn b">Add trigger</code>。</li></ol><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pl"><img src="../Images/f6ab4f7ea1dc576c24163f912e34a306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Al7ZPw30V3OsdfDQblNzTQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="a618" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.这将打开触发器配置对话框。<br/>选择<code class="fe nk nl nm nn b">CloudWatch Logs</code>作为触发类型。<br/>选择与您想要监控的Lambda日志相对应的日志组。如果你跟随，这将是<code class="fe nk nl nm nn b">/aws/lambda/MonitorMe</code>。<br/>命名过滤器。这可以是任何东西。狂野一点。<br/>过滤模式将决定哪些日志触发通知Lambda。这里我将简单地输入<code class="fe nk nl nm nn b">ERROR</code>，它将匹配任何包含文本<code class="fe nk nl nm nn b">ERROR</code>的日志。</p><blockquote class="pm pn po"><p id="f122" class="ky kz ok la b lb lc kk ld le lf kn lg pp li lj lk pq lm ln lo pr lq lr ls lt im bi translated">您可以在CloudWatch文档中的<a class="ae jg" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html" rel="noopener ugc nofollow" target="_blank">过滤器和模式语法</a>页面上找到有关CloudWatch过滤器的更多信息。</p></blockquote><p id="803d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">点击对话框右下角的添加。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ps"><img src="../Images/2d32f2de1475667c01e227d9b15a2b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EAEw3hJjGtoRnEMkw2xiOw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="5cf9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们完事了。🌴</p><h1 id="ec97" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">测试</h1><p id="968c" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">让我们确保这一切按预期进行。我们有两个案例要测试:</p><ol class=""><li id="7fcc" class="lu lv jj la b lb lc le lf lh lw ll lx lp ly lt od ma mb mc bi translated">如果<code class="fe nk nl nm nn b">MonitorMe</code> Lambda记录了一个<strong class="la jk">而不是</strong>错误的消息，我们应该<strong class="la jk">而不是</strong>在Slack中得到一个通知。</li><li id="31b5" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt od ma mb mc bi translated">如果<code class="fe nk nl nm nn b">MonitorMe</code> Lambda确实记录了一个错误，我们应该会得到一个有用的消息。</li></ol><h2 id="9bab" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">案例一:<code class="fe nk nl nm nn b">MonitorMe</code>执行成功</h2><p id="b19a" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">为了测试这一点，我们使用最初测试端点时使用的相同URL来访问我们的API端点:</p><pre class="ng nh ni nj gt oo nn op oq aw or bi"><span id="6c83" class="no mj jj nn b gy os ot l ou ov">https://{YOUR API BASE URL}/MonitorMe?x=2</span></pre><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pt"><img src="../Images/2c062939f12565f9a4e47d57fad02e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K25Jejl0S2QgL1eXyXzD6A.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="f3d1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们验证没有消息被发送到Slack:</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pu"><img src="../Images/ea17ee7ab43880c0d2c75a5861836b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FUFeSKCd_1OiJ_wVHybXNA.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="0c68" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">什么都没发生。成功！</p><h2 id="2f70" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">案例2:执行<code class="fe nk nl nm nn b">MonitorMe</code>失败</h2><p id="7136" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">让我们修改API调用来发送一个字符串而不是一个数字。这将导致Lambda抛出一个错误。</p><pre class="ng nh ni nj gt oo nn op oq aw or bi"><span id="7ef6" class="no mj jj nn b gy os ot l ou ov">https://{YOUR API BASE URL}/MonitorMe?x=wompwomp</span></pre><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pv"><img src="../Images/95e9a5305420c3bbfff0c00d763e8975.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqtOd44g1iFIOofZubLkXw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="f15c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">非常好。一个错误。我们来看看Slack。</p><figure class="ng nh ni nj gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pw"><img src="../Images/bf4c621703654021a4a5fd9c6bacb80d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eSsDiupxbKi1pavFhfs-tQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</p></figure><p id="a397" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">太神奇了！我们不仅在Slack中收到了一个通知，而且通知还附带了错误回溯！我们可以看到这是<code class="fe nk nl nm nn b">lambda_function.py</code>的第7行，错误来自试图将<code class="fe nk nl nm nn b">wompwomp</code>转换为float。</p><h1 id="5fda" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">结论</h1><p id="b4c2" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">还有其他方法可以从任何AWS服务中捕获错误并将其发送到Slack。我在这篇文章的开头列出了一些文章，但是当您期望错误数量很少时，这种方法是更好的，因为它更直接，并且在Slack中给您完整的错误消息。</p><p id="2d61" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在<a class="ae jg" href="https://komaza.com/" rel="noopener ugc nofollow" target="_blank"> Komaza </a>，我们使用这种方法来监控概念验证项目中的管道、数据质量检查，以及由我们的内部web应用之一手动触发的一些Lambda函数。我们立即发现了数据库模式更改、过期令牌和各种其他问题等错误，并能够在所有情况下在24小时内部署修复。这种相对简单的Lambda监控方法通过确保更高质量的数据和帮助我们更快地响应系统故障，改善了我们的利益相关者体验。</p><h1 id="2445" class="mi mj jj bd mk ml mm mn mo mp mq mr ms kp mt kq mu ks mv kt mw kv mx kw my mz bi translated">科马扎在招人</h1><p id="aaa5" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">如果你想帮助我们为小农户提供改变生活的经济机会，同时为地球上最有效的碳封存引擎之一提供动力，请查看我们的<a class="ae jg" href="https://komaza.com/careers/" rel="noopener ugc nofollow" target="_blank">职业页面</a>。我们发展迅速，在肯尼亚和美国都有数据团队。</p><p id="fe7b" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在去做点好事吧。</p></div><div class="ab cl px py hx pz" role="separator"><span class="qa bw bk qb qc qd"/><span class="qa bw bk qb qc qd"/><span class="qa bw bk qb qc"/></div><div class="im in io ip iq"><h1 id="fe8e" class="mi mj jj bd mk ml qe mn mo mp qf mr ms kp qg kq mu ks qh kt mw kv qi kw my mz bi translated">参考</h1><p id="a218" class="pw-post-body-paragraph ky kz jj la b lb na kk ld le nb kn lg lh nc lj lk ll nd ln lo lp ne lr ls lt im bi translated">[1] <a class="ae jg" href="https://aws.amazon.com/architecture/icons/" rel="noopener ugc nofollow" target="_blank"> AWS架构图标</a> &amp; <a class="ae jg" href="https://slack.com/media-kit" rel="noopener ugc nofollow" target="_blank">备用介质套件</a></p><h2 id="ed87" class="no mj jj bd mk np nq dn mo nr ns dp ms lh nt nu mu ll nv nw mw lp nx ny my nz bi translated">其他有用的文章:</h2><ul class=""><li id="2051" class="lu lv jj la b lb na le nb lh oa ll ob lp oc lt lz ma mb mc bi translated"><a class="ae jg" href="https://api.slack.com/messaging/composing/layouts" rel="noopener ugc nofollow" target="_blank">创建丰富的消息布局</a>(松弛文档)</li><li id="3934" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html" rel="noopener ugc nofollow" target="_blank"> AWS CloudWatch日志—过滤器和模式语法</a> (AWS文档)</li><li id="0f2e" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://bradley-schoeneweis.medium.com/setting-up-a-slack-webhook-for-simple-notifications-4a7bdc44b4bb" rel="noopener">为简单的通知设置一个松散的web hook</a></li><li id="e470" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://medium.com/@femidotexe/tracking-aws-lambda-functions-error-via-slack-2e9f0733e043" rel="noopener">Femi OLA deji</a>通过Slack 跟踪AWS Lambda函数误差</li><li id="cd14" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://quick-refs.github.io/aws/slack-notifications-from-aws-cloudwatch-alarms" rel="noopener ugc nofollow" target="_blank">来自AWS CloudWatch警报的松弛通知</a>(未归属)</li><li id="8fe4" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://aws.amazon.com/about-aws/whats-new/2015/12/aws-lambda-launches-slack-integration-blueprints/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda蓝图</a> (2015，AWS文档)</li><li id="3fd3" class="lu lv jj la b lb md le me lh mf ll mg lp mh lt lz ma mb mc bi translated"><a class="ae jg" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html" rel="noopener ugc nofollow" target="_blank"> AWS CloudWatch日志—过滤器和模式语法</a> (AWS文档)</li></ul></div></div>    
</body>
</html>