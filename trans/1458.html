<html>
<head>
<title>Visualizing the Invisible SO2 with NASA Data and Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用NASA数据和Python可视化不可见的SO2</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualize-the-invisible-so2-with-nasa-data-and-python-2619f8ed4ea1#2022-04-10">https://towardsdatascience.com/visualize-the-invisible-so2-with-nasa-data-and-python-2619f8ed4ea1#2022-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e07a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">绘制火山爆发后二氧化硫的移动。</h2></div><div class="kf kg kh ki gt ab cb"><figure class="kj kk kl km kn ko kp paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><img src="../Images/110dac139b5a7670e9f87880a7aab5d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*qc5Kt1Y-nObVwvpFt7q4xg.png"/></div></figure><figure class="kj kk kw km kn ko kp paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><img src="../Images/2013f86035ae12c07812f6b9ff9239f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*WFLO-Fbj0IuQCJCKEqIAGQ.png"/></div><p class="kx ky gj gh gi kz la bd b be z dk lb di lc ld translated">第一张图:2022年1月15日洪加汤加-洪加Haʻapai火山爆发的卫星动画截图。图片来自<a class="ae le" href="https://en.wikipedia.org/wiki/2022_Hunga_Tonga%E2%80%93Hunga_Ha%27apai_eruption_and_tsunami" rel="noopener ugc nofollow" target="_blank">维基百科</a>。第二张图片:热图显示了1月17日，也就是火山爆发几天后，SO2的含量。使用由叶子制成的GES光盘中的数据。图片由作者提供。</p></figure></div><p id="6f16" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">2022年1月中旬，汤加群岛的火山岛亨加汤加-亨加Haʻapai发生火山爆发。<a class="ae le" href="https://en.wikipedia.org/wiki/2022_Hunga_Tonga%E2%80%93Hunga_Ha%27apai_eruption_and_tsunami#/media/File:Tonga_Volcano_Eruption_2022-01-15_0320Z_to_0610Z_Himawari-8_visible.gif" rel="noopener ugc nofollow" target="_blank">一个卫星动画</a>展示了一次巨大的爆炸，伴随着大量的烟雾。我们看到的烟雾自然包括<a class="ae le" href="https://eps.harvard.edu/faq/have-you-ever-wondered-what-comes-out-volcano-other-lava#:~:text=The%20%27smoke%27%20you%20see%20billowing,and%20depending%20on%20the%20volcano%29" rel="noopener ugc nofollow" target="_blank">水蒸气、二氧化碳(CO2)、二氧化硫(SO2)和灰烬</a>。</p><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/11d5afb5efe652a16a3ce89f86b20d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*evpCJ-6NT8SKcbZM5KqxGQ.gif"/></div><p class="kx ky gj gh gi kz la bd b be z dk translated">2022年1月15日洪加汤加-洪加Haʻapai火山爆发的卫星动画。图片来自<a class="ae le" href="https://en.wikipedia.org/wiki/2022_Hunga_Tonga%E2%80%93Hunga_Ha%27apai_eruption_and_tsunami" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></figure><p id="0e49" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">再来说说SO2。二氧化硫被释放后，在高空转化为硫酸盐气溶胶。气溶胶能够反射阳光，使地球气候变冷，它们也是臭氧损耗的一个原因。随着大规模喷发，二氧化硫会被喷射到10公里以外的大气中。</p><p id="7b3d" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然而，由于其<a class="ae le" href="https://www.ifc.org/wps/wcm/connect/fa942b47-b7f2-421c-a48a-c3b824dfc168/HandbookSulfurOxides.pdf?MOD=AJPERES&amp;CVID=jqeERsg#:~:text=Sulfur%20dioxide%20(SO2)%20is%20the,has%20a%20pungent%2C%20unpleasant%20odor." rel="noopener ugc nofollow" target="_blank">的不可见性</a>，释放的SO2很难被观察到。</p><p id="8efb" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">本文将展示如何用散点图和热图来可视化火山爆发后SO2的移动。</p><h1 id="abfa" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">检索数据</h1><p id="d028" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">大气成分数据，包括二氧化硫，可以从美国宇航局戈达德地球科学数据和信息服务中心(<a class="ae le" href="https://disc.gsfc.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> GES光盘</a>)下载。注册后数据是公开的。</p><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi mz"><img src="../Images/f209a0a6d8c418103ed0d4f3d7918e77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GCKV4YoQVP7qXZgkE1TjkA.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated"><a class="ae le" href="https://disc.gsfc.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> GES碟</a>网站</p></figure><p id="cfe4" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">SO2数据可通过<a class="ae le" href="https://docserver.gesdisc.eosdis.nasa.gov/public/project/MEaSUREs/Krotkov/README.OMPS_NPP_NMSO2_PCA_L2.v2.pdf" rel="noopener ugc nofollow" target="_blank"> OMPS_NPP_NMSO2_PCA_L2 </a>数据产品获取。这是NASA/NOAA Suomi国家极地轨道伙伴关系(SNPP)卫星上的臭氧测绘和剖面仪套件(OMPS)天底成像仪(NM)的2级轨道火山和人为二氧化硫产品。</p><p id="5810" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">请考虑到这不是原始数据。2级数据产品被定义为与1级源数据具有相同分辨率和位置的衍生地球物理变量。关于关卡的更多信息，你可以点击查看<a class="ae le" href="https://earthdata.nasa.gov/collaborate/open-data-services-and-software/data-information-policy/data-levels" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi na"><img src="../Images/0fec8ad3cac4a529ea669963a2bf7a65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NjFMcK1E-GO37KXj3HjrvQ.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">基于PCA算法的OMPS核电厂最低点映射SO2二级产品<a class="ae le" href="https://disc.gsfc.nasa.gov/datasets/OMPS_NPP_NMSO2_PCA_L2_2/summary?keywords=sulfur%20dioxide" rel="noopener ugc nofollow" target="_blank">页</a></p></figure><p id="f52d" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了从网站上获取SO2数据，我按照<a class="ae le" rel="noopener" target="_blank" href="/getting-nasa-data-for-your-next-geo-project-9d621243b8f3">中的有用步骤为你的下一个地理项目</a>获取NASA数据，这是一篇关于获取GES光盘数据文件的深刻文章。</p><p id="de75" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">由于洪加汤加-洪加Haʻapai火山爆发于2022年1月15日达到高潮，日期范围从1月12日细化到1月23日。</p><p id="183b" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">除了获取数据，还要下载一个文本文件(。txt)，点击<em class="nb">下载链接列表</em>。这个文本文件将帮助我们在下一步中获得文件名。</p><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nc"><img src="../Images/177ad66943be4f114e500c7c0bac3ea5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0eJtSf5_6EDOrh29WIWh-A.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">下载链接列表和数据URL。图片来自OMPS NPP NMSO2 PCA L2页面。</p></figure><h1 id="7a69" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">输入数据</h1><p id="2032" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">从库开始，除了NumPy和Pandas，H5py库是用来读取下载的HDF5文件的。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1a09" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">读取获得的文本文件(。txt)来获取文件名。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nf"><img src="../Images/0de0728e81b205184416721ecc2de325.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RmshK1aKTXkiBD5A2h7FAA.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">文本文件中的文件名示例</p></figure><p id="5f02" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">下面的代码展示了如何用H5py从文件名中读取文件。读取后，数据将保存在一个列表中。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><h1 id="5677" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">选择键</h1><p id="4422" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">HDF5格式内部包含许多密钥。我们需要浏览数据来选择我们要使用的键。本文使用的两个主要关键字是GEOLOCATION_DATA和SCIENCE_DATA。</p><pre class="kf kg kh ki gt ng nh ni nj aw nk bi"><span id="0c57" class="nl md iq nh b gy nm nn l no np">list(dataset[0].keys())</span><span id="1d3c" class="nl md iq nh b gy nq nn l no np">### Output: <br/># ['ANCILLARY_DATA', <br/># 'GEOLOCATION_DATA', <br/># 'SCIENCE_DATA', <br/># ...</span></pre><p id="6466" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">GEOLOCATION_DATA:纬度、经度和UTC_CCSDS_A。</p><pre class="kf kg kh ki gt ng nh ni nj aw nk bi"><span id="3c76" class="nl md iq nh b gy nm nn l no np">list(dataset[0]['GEOLOCATION_DATA'].keys()) </span><span id="a021" class="nl md iq nh b gy nq nn l no np">### Output: <br/>#['Latitude', <br/># 'LatitudeCorner', <br/># 'Longitude', <br/># ... <br/># 'UTC_CCSDS_A', <br/># ...</span></pre><p id="0915" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">SCIENCE_DATA: ColumnAmountSO2，以<a class="ae le" href="https://en.wikipedia.org/wiki/Dobson_unit" rel="noopener ugc nofollow" target="_blank"> Dobson单位</a>表示的垂直列SO2总量。</p><pre class="kf kg kh ki gt ng nh ni nj aw nk bi"><span id="cb95" class="nl md iq nh b gy nm nn l no np">list(dataset[0]['SCIENCE_DATA'].keys())</span><span id="e455" class="nl md iq nh b gy nq nn l no np">### Output: <br/># ... <br/># 'ColumnAmountSO2', <br/># ...</span></pre><p id="adfd" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据集内部还包含其他有趣的键。更多信息，官网提供了解释其他键<a class="ae le" href="https://docserver.gesdisc.eosdis.nasa.gov/public/project/MEaSUREs/Krotkov/README.OMPS_NPP_NMSO2_PCA_L2.v2.pdf" rel="noopener ugc nofollow" target="_blank">的PDF文件这里</a>。</p><h1 id="20c7" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">创建数据框架</h1><p id="3301" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">现在我们已经选择了键，让我们定义一个函数来提取数据。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="83e8" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">创建纬度、经度、二氧化硫含量和日期的列表。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="370c" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在绘制散点图之前，我们必须转换经度范围。这是因为典型地图的经度范围，包括来自GES圆盘的数据，在-180°和180°之间。</p><p id="bf37" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果我们直接绘制位于经度-175.4°的亨加汤加-亨加Haʻapai的位置，SO2的移动将由于靠近范围的极限(-180°)而被切断。下面的代码用于修改经度范围。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="bf39" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从列表中创建一个熊猫数据框。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/bdb64574f84cbb3df67969605935c043.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*2SQRmbYksxZvfDJtFTRVZA.png"/></div></figure><h1 id="da5a" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">描述性分析</h1><p id="0021" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">开始的一个重要步骤是做描述性分析。这是帮助我们理解数据的有用的一步。</p><p id="1c9d" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">要查看火山周围每天的SO2量，我们将创建一个过滤数据框，仅选择距离喷发点15度经纬度的正方形区域内的SO2量。我们还将只选择SO2值为正值的行。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1830" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">按日期对过滤后的数据帧进行分组，并对SO2的日总量进行求和。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/9fd36a664f0c650e05f23c0a509f26ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*5N5mRGVUvPmPbX8vtKfNGw.png"/></div></figure><p id="26f9" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">上表显示，SO2日排放量在1月16日达到最大值。</p><p id="b7b5" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">从数据帧中绘制时间序列折线图，以查看时间线中的进度。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nt"><img src="../Images/322898795df72f9b393480139c7df994.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JT5OCWJohhxoAg_bB37l-A.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">匈牙利汤加-匈牙利Haʻapai周围的SO2日排放量</p></figure><p id="fb57" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">图表显示，爆炸发生时，从15日到1月16日，该岛周围的二氧化硫急剧增加。</p><h1 id="0da6" class="mc md iq bd me mf mg mh mi mj mk ml mm jw mn jx mo jz mp ka mq kc mr kd ms mt bi translated">形象化</h1><h2 id="c815" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">1.散点图</h2><p id="281c" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">利用纬度和经度，SO2的位置被绘制为点，根据位置和密度分别用颜色表示。</p><p id="38f1" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">首先创建一个日期列表来过滤数据框架。仅选择SO2含量大于0.5 DU的行，以避免绘制时数据过多。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="4c0c" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在我们已经做了所有的事情，作为一个例子，我将展示1月17日，也就是火山爆发几天后，SO2含量的散点图。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi of"><img src="../Images/e5400a37c6642d640c360191f2489dd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pLA6aw_4rEOD0zuFaoPC6A.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">散点图显示了1月17日的二氧化硫含量。数据来自GES光盘。用Seaborn做的。图片由作者提供。</p></figure><p id="3a66" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">制作动画是为了让可视化看起来有趣。我们可以把这些日常的情节组合成一个GIF文件来看进度。为此，我们将绘制每个日散点图，并将它们存储在一个列表中。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="1fa3" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">组合这些图，并把它们转换成GIF文件。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi og"><img src="../Images/33e0c0bca9dcfb647ba9f14354a702d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*GWpMR5K4tQdd3znAKU9O3g.gif"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">洪加汤加-洪加Haʻapai火山爆发后SO2的移动。数据来自GES光盘。图片由作者提供。</p></figure><h2 id="82c0" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">2.热图</h2><p id="d17f" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">yellow是一个Python库，易于使用，功能强大，可以处理地理空间数据。从导入库开始。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="b0ef" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">例如，我将展示如何绘制1月17日SO2的热图。</p><p id="703d" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">为了使用叶子，我们需要从数据帧中创建一个纬度、经度和二氧化硫含量的列表。然后，使用<a class="ae le" href="https://python-visualization.github.io/folium/plugins.html" rel="noopener ugc nofollow" target="_blank">热图</a>功能创建热图。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi oh"><img src="../Images/cc252e5ec183b0ea2b08233c89352518.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K9jiRJryC1_pfPLBBfvQfA.png"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">这张热图显示了2022年1月17日的二氧化硫含量。用叶子做的。数据来自GES光盘。图片由作者提供。</p></figure><h2 id="4fc8" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">随时间变化的热图</h2><p id="2f27" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">Heat有一个名为<a class="ae le" href="https://python-visualization.github.io/folium/plugins.html" rel="noopener ugc nofollow" target="_blank"> HeatMapWithTime </a>的功能，用于制作时间序列热图。这对于创建SO2运动的动画非常有用。</p><figure class="kf kg kh ki gt kk"><div class="bz fp l di"><div class="nd ne l"/></div></figure><p id="3849" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">瞧啊。！…</p><figure class="kf kg kh ki gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kq kr di ks bf kt"><div class="gh gi nf"><img src="../Images/cd4402b3239bbe190060193c1970452f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*WUYcpT8b_z3Jic56puw49g.gif"/></div></div><p class="kx ky gj gh gi kz la bd b be z dk translated">洪加汤加-洪加Haʻapai.火山爆发后SO2的移动用叶子做的。数据来自GES光盘。图片由作者提供。</p></figure><h2 id="bd2c" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">讨论</h2><p id="6a55" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">据<a class="ae le" href="https://www.bbc.com/news/world-asia-60106981" rel="noopener ugc nofollow" target="_blank">消息</a>2022年1月15日喷发达到高潮，之后趋于平静。然而，用OMPS_NPP_NMSO2_PCA_L2数据(这是一个2级产品)进行可视化显示，释放的SO2仍然在空气中保留了一个多星期。</p><p id="9bd0" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">结果与有毒物质和疾病登记机构(ATSDR)的信息一致，即SO2的大气寿命约为<a class="ae le" href="https://www.atsdr.cdc.gov/toxprofiles/tp116-c5.pdf" rel="noopener ugc nofollow" target="_blank"> 10天</a>。</p><h2 id="0edb" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">摘要</h2><p id="4673" class="pw-post-body-paragraph lf lg iq lh b li mu jr lk ll mv ju ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">尽管用肉眼很难观察到二氧化硫，但我们可以使用Python和美国宇航局的数据来绘制二氧化硫释放后的移动情况。本文展示了数据的来源以及如何下载和可视化它们。</p><p id="e216" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">正如我在探索数据步骤中提到的，HDF5文件中还有其他键。你可以回去和其他人一起玩。如果任何人有问题或建议，请随时留下评论。</p></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><p id="80bd" class="pw-post-body-paragraph lf lg iq lh b li lj jr lk ll lm ju ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">这些是关于数据可视化的其他文章，您可能会感兴趣。</p><ul class=""><li id="c4cc" class="op oq iq lh b li lj ll lm lo or ls os lw ot ma ou ov ow ox bi translated">8用Python处理多个时序数据的可视化(<a class="ae le" rel="noopener" target="_blank" href="/8-visualizations-with-python-to-handle-multiple-time-series-data-19b5b2e66dd0">链接</a>)</li><li id="aa37" class="op oq iq lh b li oy ll oz lo pa ls pb lw pc ma ou ov ow ox bi translated">用Python可视化光速(<a class="ae le" rel="noopener" target="_blank" href="/visualizing-the-speed-of-light-in-the-solar-system-with-python-fa9ead33ac86">链接</a>)</li><li id="b79e" class="op oq iq lh b li oy ll oz lo pa ls pb lw pc ma ou ov ow ox bi translated">用Python分4步进行图像颜色提取(<a class="ae le" rel="noopener" target="_blank" href="/image-color-extraction-with-python-in-4-steps-8d9370d9216e">链接</a>)</li></ul></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><h2 id="214e" class="nl md iq bd me nu nv dn mi nw nx dp mm lo ny nz mo ls oa ob mq lw oc od ms oe bi translated">参考</h2><ul class=""><li id="b9ed" class="op oq iq lh b li mu ll mv lo pd ls pe lw pf ma ou ov ow ox bi translated">李灿、Nickolay A. Krotkov、Peter Leonard、Joanna Joiner (2020年)、OMPS/NPP五氯苯甲醚SO2总列1-轨道L2条带50x50km V2，美国马里兰州格林贝尔特，戈达德地球科学数据和信息服务中心(GES光盘)，访问日期:2022年3月19日，10.5067/MEASURES/SO2/DATA205</li><li id="2474" class="op oq iq lh b li oy ll oz lo pa ls pb lw pc ma ou ov ow ox bi translated">Bhanot，K. (2020年8月12日)。为你的下一个地理项目获取NASA数据。中等。2022年4月12日检索，来自<a class="ae le" rel="noopener" target="_blank" href="/getting-nasa-data-for-your-next-geo-project-9d621243b8f3">https://towards data science . com/getting-NASA-data-for-your-next-geo-project-9d 621243 b8 F3</a></li><li id="ecf0" class="op oq iq lh b li oy ll oz lo pa ls pb lw pc ma ou ov ow ox bi translated">Python可视化。(2020).叶子。从https://python-visualization.github.io/folium<a class="ae le" href="https://python-visualization.github.io/folium/" rel="noopener ugc nofollow" target="_blank">取回</a></li><li id="ade7" class="op oq iq lh b li oy ll oz lo pa ls pb lw pc ma ou ov ow ox bi translated">有毒物质和疾病登记处。1998.二氧化硫的毒理学简介。佐治亚州亚特兰大:美国卫生与公众服务部，公共健康服务。</li></ul></div></div>    
</body>
</html>