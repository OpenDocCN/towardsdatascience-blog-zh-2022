<html>
<head>
<title>Time Series Forecasting with Simple Exponential Smoothing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">简单指数平滑的时间序列预测</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/forecasting-with-simple-exponential-smoothing-dd8f8470a14c#2022-12-09">https://towardsdatascience.com/forecasting-with-simple-exponential-smoothing-dd8f8470a14c#2022-12-09</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="030c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">指数平滑的介绍以及用 Python 实现指数平滑进行预测。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/d224014ea236af8d1aefbea500875454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JRPJibEiRkH94QR6"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">瑟奎拉在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的<a class="ae ky" href="https://unsplash.com/@shotbycerqueira?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">照片</a></p></figure><h1 id="dfab" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">背景</h1><p id="26c2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">预测领域包含各种各样的模型。在我之前的帖子中，我们讨论了一些<a class="ae ky" href="https://medium.com/towards-data-science/basic-forecasting-techniques-ef4295248e46" rel="noopener">基本预测技术</a>，它们通常为迭代和构建更复杂的模型提供了良好的基础。这些基本模型的一个自然迭代是<a class="ae ky" href="https://en.wikipedia.org/wiki/Exponential_smoothing" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">指数平滑</strong> </a>。</p><p id="c2f5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">指数平滑的想法起源于 20 世纪 50 年代，基本上是一种奇特的方式，表明我们将更加重视最近的观察结果。较老的观测值将会以指数衰减的速率得到较少的权重。因此，它被称为指数平滑。</p><p id="bfba" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以将它看作是简单预测模型和平均预测模型之间的中间值，在简单预测模型中，我们将预测值设置为等于最近的观测值，在平均预测模型中，我们将预测值设置为等于所有历史观测值的平均值。如果你想了解更多关于天真和平均预测模型的内容，请点击这里查看我以前的帖子:</p><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/basic-forecasting-techniques-ef4295248e46"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">基本预测技术</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">一些非常简单的预测模型概述</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ks mv"/></div></div></a></div><p id="9b0a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">在本文中，我想介绍最基本的指数平滑模型，以及如何用 Python 实现它。</p><h1 id="38d1" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是<em class="nk">简单</em>指数平滑？</h1><h2 id="d3a1" class="nl la it bd lb nm nn dn lf no np dp lj ma nq nr ll me ns nt ln mi nu nv lp nw bi translated">概观</h2><p id="b7f0" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如上所述，这篇文章是关于指数平滑家族中最基本的模型，<em class="nx">简单指数平滑</em>。这个模型简单的原因是因为它没有考虑趋势或季节性。然而，这是一个很好的起点，可以在以后添加进一步的复杂性。如果你想了解更多的趋势和季节性，请参考我以前的文章:</p><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/seasonality-of-time-series-5b45b4809acd"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">时间序列的季节性</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">对季节性如何影响时间序列分析的直觉</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="ny l ng nh ni ne nj ks mv"/></div></div></a></div><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/time-series-decomposition-8f39432f78f9"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">时间序列分解</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">将时间序列分解成基本的构建块</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="nz l ng nh ni ne nj ks mv"/></div></div></a></div><p id="2daf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">一般来说，当您的数据没有任何趋势或季节性时，这个简单的模型是最好的。或者，您可以通过执行差分和 Box-Cox 变换来转换数据，使其保持平稳，从而消除其趋势和季节性。要了解更多关于这些转换的信息，请点击这里查看我以前的帖子:</p><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/time-series-stationarity-simply-explained-125269968154"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">时间序列平稳性的简单解释</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">时间序列建模中平稳性需求的简单而直观的解释。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="oa l ng nh ni ne nj ks mv"/></div></div></a></div><div class="ms mt gp gr mu mv"><a rel="noopener follow" target="_blank" href="/box-cox-transform-for-time-series-cc45f26082c6"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">时间序列的 Box-Cox 变换</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">如何使用 Box-Cox 变换创建平稳时间序列？</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">towardsdatascience.com</p></div></div><div class="ne l"><div class="ob l ng nh ni ne nj ks mv"/></div></div></a></div><h2 id="f9fc" class="nl la it bd lb nm nn dn lf no np dp lj ma nq nr ll me ns nt ln mi nu nv lp nw bi translated">理论</h2><p id="8d4e" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">(简单)指数平滑的一般数学公式如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/ecba62b44c5231f4e88d84ce9b783763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*495N_MDlvxcwV1_q97S5cg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者在 LaTeX 中生成的方程。</p></figure><p id="b6ac" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其中<strong class="lt iu"><em class="nx">【ŷ_{t+1}】</em></strong>为预测值，<strong class="lt iu"> <em class="nx"> y_t </em>，</strong> <strong class="lt iu"> <em class="nx"> y_{t-1} </em> </strong>和<em class="nx"/><strong class="lt iu"><em class="nx">y _ { t-2 }</em></strong>为时间序列的前一次观测值，<strong class="lt iu"> <em class="nx"> α </em> </strong>为平滑参数，取值<strong class="lt iu"> <em class="nx"> 0 ≤ α ≤ 1</em> </strong> <em class="nx"> </em>平滑参数是我们在拟合这个模型时需要估计的主要参数。该参数通常由最小二乘法的<a class="ae ky" href="https://en.wikipedia.org/wiki/Least_squares" rel="noopener ugc nofollow" target="_blank"> <strong class="lt iu">，</strong> </a>来计算，幸运的是大多数计算软件包已经为我们完成了！</p><blockquote class="od oe of"><p id="e101" class="lr ls nx lt b lu mn ju lw lx mo jx lz og mp mc md oh mq mg mh oi mr mk ml mm im bi translated">平滑参数也可以通过预测者的直觉来选择。</p></blockquote><p id="6222" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> <em class="nx"> α </em> </strong>的值越高，越重视最近的观察，反之亦然，对于<strong class="lt iu"> <em class="nx"> α </em> </strong>的值越低。如果<strong class="lt iu"> <em class="nx"> α=1，</em> </strong>那么我们恢复原始预测模型，其中所有预测都等于最近的观察。</p><p id="5d8c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以简化上面的公式，用之前的预测来表达，<strong class="lt iu"><em class="nx">【ŷ_{t-1}】</em>:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/cfe7a3d0bd501e147e2aab713087304f.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*WVtlQyr1J56LuR-A3O0GTg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者在 LaTeX 中生成的方程。</p></figure><p id="7e69" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这种重新表述的证明相当琐碎，但有点详尽，所以我在这篇文章中省略了它。不过有兴趣的读者可以在这里找到推导<a class="ae ky" href="https://otexts.com/fpp2/ses.html" rel="noopener ugc nofollow" target="_blank">！</a></p><p id="ec72" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">像所有的时间序列一样，指数平滑法通常被分解成它们的组成部分，如<em class="nx">水平</em>、<em class="nx">趋势</em>和<em class="nx">季节性</em>。由于简单的指数平滑法既不考虑趋势也不考虑季节性，因此它只包含水平分量，<strong class="lt iu"> <em class="nx"> l_t: </em> </strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/ac0627b8d4405ce00c380939807bb754.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*a6D07sO_S5WyfeytzM-lPw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者在 LaTeX 中生成的方程。</p></figure><p id="d45a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">其中<strong class="lt iu"> <em class="nx"> h </em> </strong>是我们正在预测的未来时间步，我们已经使<strong class="lt iu"><em class="nx">l _ t</em></strong><em class="nx">=</em><strong class="lt iu"><em class="nx">【ŷ_{t+1}】</em></strong>明确声明这是级别组件。这种简单指数平滑的数学表示可能看起来没有用，因为只有一个组件，但是当添加更多组件(如趋势和季节性)时，它变得非常强大。</p><p id="0d49" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在这些理论已经足够了，让我们来看一个 Python 中的真实例子！</p><h1 id="2e7b" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">在 Python 中实现指数平滑</h1><p id="678a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">下面是使用<a class="ae ky" href="https://www.statsmodels.org/dev/examples/notebooks/generated/exponential_smoothing.html" rel="noopener ugc nofollow" target="_blank"> statsmodel </a>包对美国航空公司乘客数据集进行简单指数平滑的实现:</p><blockquote class="od oe of"><p id="7c0f" class="lr ls nx lt b lu mn ju lw lx mo jx lz og mp mc md oh mq mg mh oi mr mk ml mm im bi translated">数据<a class="ae ky" href="https://www.kaggle.com/datasets/ashfakyeafi/air-passenger-data-for-time-series-analysis" rel="noopener ugc nofollow" target="_blank">来源于拥有 CC0 许可证的 Kaggle </a>。</p></blockquote><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者 GitHub 要点。</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi on"><img src="../Images/c175753258dfaa4664e5c3576c206e85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*tEsrKMjFee66ciBvZ_0C3w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者用 Python 生成的图</p></figure><p id="bfaf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">预测显然不太好，但这确实是最简单的指数平滑模型。需要注意的一点是，预测是平的，这显然是由于模型没有趋势或季节性成分。还有进一步的模型，如霍尔特·温特的<a class="ae ky" href="https://en.wikipedia.org/wiki/Exponential_smoothing#Triple_exponential_smoothing_(Holt_Winters)" rel="noopener ugc nofollow" target="_blank"><strong class="lt iu"/></a><strong class="lt iu"/>，我将在后面的帖子中讨论，这些模型对这些额外的组件进行建模。</p><p id="f4d8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们可以通过运行以下方法提取拟合模型的详细信息:</p><pre class="kj kk kl km gt oo op oq bn or os bi"><span id="fd4b" class="ot la it op b be ou ov l ow ox">model.summary()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oy"><img src="../Images/171bcf926e794f23e5bd2fc5eeb82c1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwTU1zCD79N1ySM0xCqSgA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者用 Python 生成的图像。</p></figure><p id="34dc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">该模型发现平滑参数的最佳值<strong class="lt iu"> <em class="nx"> α、</em> </strong> ( <code class="fe oz pa pb op b">smoothing_level</code>)为<strong class="lt iu"> 0.995 </strong>。这是非常高的，表明趋势相当不稳定，变化频繁。预测者(或读者)也可以根据自己的判断对模型进行诊断。</p><h1 id="abc4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">总结和进一步的思考</h1><p id="1df1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在这篇文章中，我们介绍了指数平滑的概念。这一系列中最基本的模型是简单指数平滑，因为它不包含趋势或季节成分。它只是增加了最近观察值的权重，减少了历史观察值的权重，这个权重由一个平滑参数决定。在 Python 示例中，该模型没有提供良好的预测，因为数据表现出明显的季节性和明显的趋势。</p><p id="93f5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">本文使用的完整代码可以在我的 GitHub 中找到:</p><div class="ms mt gp gr mu mv"><a href="https://github.com/egorhowell/Medium-Articles/blob/main/Time%20Series/Exponential%20Smoothing/simple_exp_smoothing.py" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd iu gy z fp na fr fs nb fu fw is bi translated">Medium-Articles/simple _ exp _ smoothing . py at main egorhowell/Medium-Articles</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">此时您不能执行该操作。您已使用另一个标签页或窗口登录。您已在另一个选项卡中注销，或者…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">github.com</p></div></div><div class="ne l"><div class="pc l ng nh ni ne nj ks mv"/></div></div></a></div><h1 id="19da" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">参考资料和进一步阅读</h1><ul class=""><li id="b761" class="pd pe it lt b lu lv lx ly ma pf me pg mi ph mm pi pj pk pl bi translated"><em class="nx">预测:原理与实践:</em>【https://otexts.com/fpp2/ T2】</li></ul><h1 id="acc7" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">和我联系！</h1><ul class=""><li id="ca40" class="pd pe it lt b lu lv lx ly ma pf me pg mi ph mm pi pj pk pl bi translated"><a class="ae ky" href="/@egorhowell/membership" rel="noopener ugc nofollow" target="_blank"> <em class="nx">要想在媒体上阅读无限的故事，请务必在这里注册！</em> </a> <em class="nx"> </em>💜</li><li id="9786" class="pd pe it lt b lu pm lx pn ma po me pp mi pq mm pi pj pk pl bi translated"><a class="ae ky" href="/subscribe/@egorhowell" rel="noopener ugc nofollow" target="_blank"> <em class="nx">在我发布注册邮件通知时获得更新！</em>T13<em class="nx">T15】😀</em></a></li><li id="b8dc" class="pd pe it lt b lu pm lx pn ma po me pp mi pq mm pi pj pk pl bi translated"><a class="ae ky" href="https://www.linkedin.com/in/egor-howell-092a721b3/" rel="noopener ugc nofollow" target="_blank"> <em class="nx">领英</em> </a> <em class="nx"> </em>👔</li><li id="a7a0" class="pd pe it lt b lu pm lx pn ma po me pp mi pq mm pi pj pk pl bi translated"><a class="ae ky" href="https://twitter.com/EgorHowell" rel="noopener ugc nofollow" target="_blank"> <em class="nx">碎碎念</em> </a> <em class="nx"> </em> 🖊</li><li id="fb18" class="pd pe it lt b lu pm lx pn ma po me pp mi pq mm pi pj pk pl bi translated"><a class="ae ky" href="https://github.com/egorhowell" rel="noopener ugc nofollow" target="_blank"><em class="nx">github</em></a><em class="nx"/>🖥</li><li id="87b0" class="pd pe it lt b lu pm lx pn ma po me pp mi pq mm pi pj pk pl bi translated"><a class="ae ky" href="https://www.kaggle.com/egorphysics" rel="noopener ugc nofollow" target="_blank"><em class="nx"/></a><em class="nx"/>🏅</li></ul><blockquote class="od oe of"><p id="72f1" class="lr ls nx lt b lu mn ju lw lx mo jx lz og mp mc md oh mq mg mh oi mr mk ml mm im bi translated">(所有表情符号由<a class="ae ky" href="https://openmoji.org/" rel="noopener ugc nofollow" target="_blank"> OpenMoji </a>设计——开源表情符号和图标项目。许可证:<a class="ae ky" href="https://creativecommons.org/licenses/by-sa/4.0/#" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 4.0 </a></p></blockquote></div></div>    
</body>
</html>