<html>
<head>
<title>Texthero: Text Preprocessing, Representation, and Visualization for a pandas DataFrame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Texthero:熊猫数据帧的文本预处理、表示和可视化</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/texthero-text-preprocessing-representation-and-visualization-for-a-pandas-dataframe-525405af16b6#2022-08-26">https://towardsdatascience.com/texthero-text-preprocessing-representation-and-visualization-for-a-pandas-dataframe-525405af16b6#2022-08-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="845b" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用一行Python代码处理您的文本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/158ba6e512b495d77d3a770466d2c6db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pF8ItqOinjpqJ5S2DkPeGg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者使用Midjourney创建的图像</p></figure><h1 id="f8ab" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">动机</h1><p id="e479" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在将文本用于ML模型或可视化之前，您可能希望通过以下方式清理文本:</p><ul class=""><li id="f9c2" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated">用空格替换NA值</li><li id="e603" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">小写所有文本</li><li id="7b0e" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">移除数字</li><li id="7974" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除标点符号</li><li id="5968" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除停用词</li><li id="9496" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除空白</li></ul><p id="f9e9" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">您可能需要一段时间来编写上述所有步骤来处理您的文本。这使得您分析数据和训练ML模型的速度变慢。</p><p id="fdd3" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">如果您能像下面这样用一行代码处理您的文本，那不是很好吗？</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nf"><img src="../Images/41d10a7ce06a0fac814d9796a6ddb5f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j7q_ZNnfK7y4EdmYpWD5Mw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="5efa" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">这就是Texthero派上用场的时候。</p><h1 id="73f5" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">什么是Texthero？</h1><p id="f50c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated"><a class="ae ng" href="https://github.com/jbesomi/texthero" rel="noopener ugc nofollow" target="_blank"> Texthero </a>是一个Python库，允许你高效地处理熊猫数据帧中的文本数据。</p><p id="a9d1" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">要安装Texthero，请键入:</p><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="3b2d" class="nm kz it ni b gy nn no l np nq">pip install texthero</span></pre><p id="a54f" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">为了了解Texthero是如何工作的，让我们从一个简单的例子开始。</p><h1 id="004f" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">流程文本</h1><p id="9c49" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">假设您有一个数据框架，其中有一个杂乱的文本列，如下所示:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="6327" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">要清除这个文本，只需使用<code class="fe nt nu nv ni b">hero.clean</code>方法:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="271c" class="nm kz it ni b gy nn no l np nq">0    today beautiful day<br/>1             ducks pond<br/>2                   cool<br/>3                   work<br/>4</span></pre><p id="a603" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">这真漂亮！在一行代码中，texthero:</p><ul class=""><li id="b310" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated">用空格替换NA值</li><li id="fb51" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">小写所有文本</li><li id="27eb" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除所有数字块</li><li id="0dd4" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除所有标点符号</li><li id="5eef" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除所有停用词</li><li id="ef5e" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">删除单词之间的所有空格</li></ul><p id="618f" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">多酷啊。</p><h1 id="e1e5" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">创建自定义管道</h1><p id="1ff5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果您不喜欢<code class="fe nt nu nv ni b">hero.clean</code>管道中的默认处理方法，您可以创建一个自定义管道:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><pre class="kj kk kl km gt nh ni nj nk aw nl bi"><span id="776e" class="nm kz it ni b gy nn no l np nq">0    Today beautiful day<br/>1           brackets fun</span></pre><h1 id="7b1d" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">为您的文本创建表示</h1><p id="733a" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">Texthero还允许您轻松:</p><ul class=""><li id="08e0" class="mm mn it ls b lt mo lw mp lz mq md mr mh ms ml mt mu mv mw bi translated">将每个文档映射到一个向量</li><li id="6180" class="mm mn it ls b lt mx lw my lz mz md na mh nb ml mt mu mv mw bi translated">减少向量的维数</li></ul><p id="f862" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">让我们在<a class="ae ng" href="https://www.kaggle.com/datasets/blessondensil294/topic-modeling-for-research-articles?select=train.csv" rel="noopener ugc nofollow" target="_blank">研究文章数据集</a>(可通过Creative Common license获得)上尝试这些功能。在<a class="ae ng" href="https://github.com/khuyentran1401/Data-science/blob/master/nlp/texthero/process_data.ipynb" rel="noopener ugc nofollow" target="_blank">取消旋转表格</a>后，我们有以下数据帧:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw ns l"/></div></figure><p id="ef46" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">从处理每篇论文的摘要开始:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nw ns l"/></div></figure><p id="f00d" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">为每个抽象创建一个<a class="ae ng" href="https://monkeylearn.com/blog/what-is-tf-idf/" rel="noopener ugc nofollow" target="_blank"> TF-IDF </a>表示，然后使用<a class="ae ng" href="https://builtin.com/data-science/step-step-explanation-principal-component-analysis" rel="noopener ugc nofollow" target="_blank"> PCA </a>进行降维:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="05c3" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">查看PCA列:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/b8748b0b0e5a935f08f3ad8002c28cee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PPF2iqb75tEW8uniDFzejg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="99f7" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">可视化文本</h1><p id="a34c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在降维步骤之后，我们可以开始使用散点图来可视化数据点:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nr ns l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/771f1303287a00b25967c73342391c28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F28h8txlEOXzYyI_x1kSQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="ccba" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">点击了解如何阅读这个情节<a class="ae ng" href="https://blog.bioturing.com/2018/06/14/principal-component-analysis-explained-simply/" rel="noopener ugc nofollow" target="_blank">。一般来说，两个文档越接近，它们就越相似。</a></p><p id="038c" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">为了减少噪音，我们可以取消选择右边栏中的一些主题。我们可以看到，与数学相关的文章和与统计相关的文章有明显的区别。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/3794518b59e54fa1e5660f85b626c7af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iBKiSY5RZUbEP_YL0fFh3A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><h1 id="7f46" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">结论</h1><p id="17b5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">恭喜你！您刚刚学习了如何使用Texthero处理和可视化pandas数据框架中的文本数据。使用Texthero，您可以在文本处理上花费更少的时间，而有更多的时间为您的数据寻找最佳模型。</p><p id="aba6" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">随意发挥，并在这里叉这篇文章的源代码:</p><div class="oa ob gp gr oc od"><a href="https://github.com/khuyentran1401/Data-science/tree/master/nlp/texthero" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">数据科学/NLP/硕士研究生的text hero 1401/数据科学</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">收集有用的数据科学主题以及代码和文章-数据科学/nlp/texthero at master …</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">github.com</p></div></div><div class="om l"><div class="on l oo op oq om or ks od"/></div></div></a></div></div><div class="ab cl os ot hx ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="im in io ip iq"><p id="7255" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">我喜欢写一些基本的数据科学概念，并尝试不同的数据科学工具。你可以通过<a class="ae ng" href="https://www.linkedin.com/in/khuyen-tran-1401/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae ng" href="https://twitter.com/KhuyenTran16" rel="noopener ugc nofollow" target="_blank"> Twitter </a>与我联系。</p><p id="475e" class="pw-post-body-paragraph lq lr it ls b lt mo ju lv lw mp jx ly lz nc mb mc md nd mf mg mh ne mj mk ml im bi translated">如果你想查看我写的所有文章的代码，请点击这里。在Medium上关注我，了解我的最新数据科学文章，例如:</p><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/pregex-write-human-readable-regular-expressions-in-python-9c87d1b1335"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">PRegEx:用Python编写人类可读的正则表达式</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">用人类可读的语法创建复杂的正则表达式</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="oz l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/supercharge-your-python-string-with-textblob-2d9c08a8da05"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">使用TextBlob增强您的Python字符串</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">在一行代码中获得更多关于文本的见解！</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pa l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/predict-movie-ratings-with-user-based-collaborative-filtering-392304b988af"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">通过基于用户的协作过滤预测电影分级</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">Python中协作过滤的全面介绍</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pb l oo op oq om or ks od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener follow" target="_blank" href="/shap-explain-any-machine-learning-model-in-python-24207127cad7"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd iu gy z fp oi fr fs oj fu fw is bi translated">SHAP:用Python解释任何机器学习模型</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">SHAP和沙普利价值观综合指南</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="pc l oo op oq om or ks od"/></div></div></a></div><h1 id="bf5f" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">参考</h1><p id="caef" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">研究论文的主题建模。01–04–2017.布莱森·登西尔。<br/> CC0:公共领域。于2022年8月22日从<a class="ae ng" href="https://www.kaggle.com/datasets/blessondensil294/topic-modeling-for-research-articles" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/blessondesil 294/topic-modeling-for-research-articles</a>中检索</p></div></div>    
</body>
</html>