<html>
<head>
<title>A probabilistic approach to guess my phone battery level.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">猜测我手机电池电量的概率方法。</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-probabilistic-approach-to-guess-my-phone-battery-level-3b10a0b1eb9d#2022-02-26">https://towardsdatascience.com/a-probabilistic-approach-to-guess-my-phone-battery-level-3b10a0b1eb9d#2022-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="bd75" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">有些手机电池电量比其他的更频繁。这让我不止一次地思考是否有一种方法可以模拟这种频率现象。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/cd09036d0de6c437ff1e1653c3ad9404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h9hHo6HrFkcHsFffJuaJjg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae ky" href="https://unsplash.com/@onurbinay" rel="noopener ugc nofollow" target="_blank"> Onur Binay </a>拍摄</p></figure><p id="12d7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我总是把手机放在伸手可及的地方，我总是担心错过紧急电话或没有及时回复短信。当我检查它的时候，我忍不住偷看一下电池的电量，看看我是否需要带充电器。也就是说，我有时会发现一些电池电量比其他的更频繁。这让我不止一次地思考是否有一种方法可以模拟这种频率现象。</p><p id="8ddd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这篇文章的目的是提出一个概率建模的基础，试图估计和跟踪我的电池电量的波动。我不会从电子的角度考虑问题(没有电流强度，容量，..).当我面临着频率主义和贝叶斯范式的选择时，我只能采用频率主义的方法，因为我没有数据记录来更新我的信念。</p><p id="2e99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将简要介绍我的思维过程的基础:马尔可夫链。随着文章的进展，我将改进我的模型，尽可能接近真实的波动基数，估计手机屏幕上显示最多的平均电量水平，并确认我观察到的数字。</p><h2 id="3495" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">1.马尔可夫链</h2><p id="37bb" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">马尔可夫链是一族随机模型，用于逼近一段时间内的随机过程。这种模型在表示随机状态的方式上有其特殊性。研究中最著名的例子是老鼠在迷宫中的进化。它的决定(向右转或向左转、前进、后退)只取决于它最后的状态，而完全独立于它以前走过的路。</p><p id="8d33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">具有两种状态a和b的简单系统表示如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/06ab289ed930e56e3d43b1df6a02f13d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gOwRHh9rATjf2DqaznnseA.jpeg"/></div></div></figure><p id="b0c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">系统可以从a变到b，反之亦然，也可以保持相同的状态。</p><p id="34d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">形式上，这些演进可以通过转换矩阵来建模。一旦我们有了它，我们就可以通过一些计算，在给定的跃迁次数后，量化系统的概率轨迹。</p><h2 id="f70a" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">2.第一个模型:</h2><p id="e5b2" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">我们先来看看问题的成分。</p><p id="25aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们将尝试模拟我们最终会在手机上看到的电池状态。电池准确地知道101种状态。所以我们会在这些状态中看到一个特定的状态。假设我们无法访问电话正在/曾经/将要被供电的信息。<br/>在对充电器的发展没有任何先入为主的概念的情况下，我们可以对电池电量的观察建模如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/c0121dbbe878158c48fd1a76bfb19ac4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tN_fjuaLBiUZMqP0ktcHXA.png"/></div></div></figure><p id="2dca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该过程被建模以说明我们盲目且疯狂地跟随电池水平，而不知道它是增加还是减少。我们只知道它不会一成不变。</p><p id="56bb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们加载必要的库来使用:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="2e1a" class="lv lw it mw b gy na nb l nc nd">import numpy as np<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span></pre><p id="2613" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们实现转换矩阵，转换我们对问题的理解:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="2a1a" class="lv lw it mw b gy na nb l nc nd">number_of_states = 101<br/>state_space = list(range(number_of_states))</span><span id="afff" class="lv lw it mw b gy ne nb l nc nd">transition_matrix = np.zeros((number_of_states , number_of_states))</span><span id="085b" class="lv lw it mw b gy ne nb l nc nd">#When the battery level is veery low ..<br/>transition_matrix[0, 1] = 1</span><span id="cc40" class="lv lw it mw b gy ne nb l nc nd">#When the battery is fully charged ..<br/>transition_matrix[100, 99] = 1</span><span id="44a5" class="lv lw it mw b gy ne nb l nc nd">for row in range(1, 100):<br/>        transition_matrix[row, row - 1] = .5<br/>        transition_matrix[row, row + 1] = .5</span></pre><p id="e616" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们选择一个给定的状态，从一个给定的水平(这里是50%)开始运行模拟，并注意我们在屏幕上看到的变化。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="5c31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们选择一些特定的状态来代表，看看它们如何根据每个电池电量可被观察到的概率而演变:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="edaa" class="lv lw it mw b gy na nb l nc nd">fig, ax = plt.subplots(figsize=(15,10))<br/>offsets = range(1, n_steps, 10)<br/>for i, label in enumerate([15, 25, 35, 45, 55, 65, 75, 85, 95]):<br/>    ax.plot(offsets, [np.sum(states[:offset] == i) / offset<br/>            for offset in offsets], label=label)<br/>    <br/>ax.set_xlabel("number of steps")<br/>ax.set_ylabel("likelihood")<br/>ax.legend(frameon=False)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/89b1f7475cf566d46e179627c62a8d36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Icq8gfu1M7jtA-l5yuhfoQ.png"/></div></div></figure><p id="a101" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在某一点之后，概率似乎不再稳定。这个过程不是静止的。如果是这样的话，不同状态的概率会全部收敛。如果过程是稳定的，我们可以说在任何时间点，转移到其他状态的概率保持不变。这样就可以看到收敛。</p><p id="a8d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的情况下，不能说电池水平查看过程可能会收敛。这可以用两件事来解释:电池的充电没有被考虑在内，而且在现实生活中，一个人会有其他事情要做，而不是疯狂地不断看着他的手机。</p><p id="b4e0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们在模型中考虑后一种假设，并尝试解决这个问题。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="5796" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们通过注入一个带有<code class="fe ni nj nk mw b">np.random.uniform</code>的随机条件修改了状态的演化。这个随机项表示在长的转换序列中，每一个状态变化平均只发生十分之一次。这种配置的目的是向马尔可夫模型表明，我不一定在每次状态改变时都要看屏幕，但是在这样做之前，我会稍微停顿一下，并重新检查电池电量。让我们观察一下这是如何发生的。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/219703d6375eb7013f21fdf0216f9b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YLa3lB4MXXZBT-0Ccjjcog.png"/></div></div></figure><p id="1bce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">即使我们的模型仍然需要一些修正，这个过程似乎最终会收敛。事实上，我们没有被手机束缚住，这稳定了这个过程。然后，我们可以计算出我们通常会看到的电池电量的期望值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="90be" class="lv lw it mw b gy na nb l nc nd">&gt;&gt;&gt; compute_expected_value(states, 2000)<br/>19.4405</span></pre><p id="e9f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">由于缺少一些信息，这个数字不太现实，但是这个模型可以作为未来改进的基准。</p><h2 id="7f5c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">3.更现实的模型:</h2><p id="5eb0" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">拥有所有的电池状态<code class="fe ni nj nk mw b">(from 0 to 100%)</code>有点乏味，受到很多噪声的影响，并且很难与它们并不总是被咨询的事实相协调。为了缓解这个问题，我们假设从现在开始我们将有11个州，而不是101个<code class="fe ni nj nk mw b">( 0%, 10%, 20%, .., 90%, and 100% )</code>。<br/>此外，我们将考虑混淆矩阵的更好设计，因为电池状态的动态变化取决于它。</p><p id="83cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以前的型号过渡到直接低于或高于的水平(仅从<code class="fe ni nj nk mw b">50%</code>电池水平开始到<code class="fe ni nj nk mw b">49%</code>或<code class="fe ni nj nk mw b">51%</code>)。此后，我们给自己更多的自由来放弃我们先前引入的随机项。</p><p id="b371" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们以下面的方式推理:等级越低，转换的概率越低，这意味着当您有<code class="fe ni nj nk mw b">100%</code>电池等级时，在下一次检查中看到<code class="fe ni nj nk mw b">90%</code>等级百分比的机会比<code class="fe ni nj nk mw b">10%</code>大得多，因为总是有可能在不检查电池的情况下在此期间加电。</p><p id="8ade" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从另一个角度来看，如果手机的电池处于<code class="fe ni nj nk mw b">0%</code>状态，那么看到<code class="fe ni nj nk mw b">10%</code>水平的可能性会比看到<code class="fe ni nj nk mw b">50%</code>水平的可能性更大。除了过渡到<code class="fe ni nj nk mw b">10%</code>不是压倒性的，因为当电量低时，人们倾向于将手机放在一边充电。</p><p id="f5b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们可以继续逼近我们正在寻找的转变的形状，并构造我们的转变矩阵。我们将需要一个高斯，我们将调整这些形状。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="de2b" class="lv lw it mw b gy na nb l nc nd">def gaussian(x, mean, scale):<br/>    return 1 / (np.sqrt(2*np.pi)*scale) * <br/>            np.exp(- np.power(x - mean, 2.) <br/>            / (2 * np.power(scale, 2.)))</span><span id="a841" class="lv lw it mw b gy ne nb l nc nd"># declaring some parameters<br/>scale = 30<br/>max_charger = 100<br/>X = range(0, max_charger + 1, 10)</span><span id="fb76" class="lv lw it mw b gy ne nb l nc nd">fig, ax = plt.subplots(figsize=(10,8))</span><span id="c49e" class="lv lw it mw b gy ne nb l nc nd">transition_list = []</span><span id="d395" class="lv lw it mw b gy ne nb l nc nd">for mean in X:<br/>    <br/>    Y = [gaussian(x, mean, scale + mean / 2) for x in X]<br/>    Y_norm = Y / np.sum(Y)<br/>    Invert_Y_norm = Y_norm[::-1]<br/>    transition_list.append(Invert_Y_norm)<br/>    <br/>    ax.plot( X, Invert_Y_norm, label = max_charger - mean)<br/>    <br/>ax.set_xlabel("mean")<br/>ax.set_ylabel("likelihood")<br/>ax.legend(frameon=False)</span><span id="0c19" class="lv lw it mw b gy ne nb l nc nd">#Adjusting the final list of distributions to have all battery #levels lined up.</span><span id="a4dc" class="lv lw it mw b gy ne nb l nc nd">transition_matrix = np.array(transition_list[::-1])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/a3b54511e1c14d113d3f342d985c0ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5WD6Wb32bEwaELYLNS4CxA.png"/></div></div></figure><p id="e796" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">每个级别将由一个以它为中心的高斯分布来表示，它也将作为一个过渡分布。</p><p id="4932" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有一个从电池的<code class="fe ni nj nk mw b">0%</code>电平状态开始的转移概率的例子:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="7006" class="lv lw it mw b gy na nb l nc nd">&gt;&gt;&gt; def display(list_x): return [round(x, 2) for x in list_x]<br/>&gt;&gt;&gt; display(transition_matrix[0])<br/>[0.12, 0.11, 0.11, 0.11, 0.1, 0.1, 0.09, 0.08, 0.07, 0.06, 0.05]</span></pre><p id="05cc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个100%充满电的例子:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="d085" class="lv lw it mw b gy na nb l nc nd">&gt;&gt;&gt; display(transition_matrix[10])<br/>[0.0, 0.0, 0.01, 0.02, 0.03, 0.06, 0.1, 0.14, 0.19, 0.22, 0.23]</span></pre><p id="d639" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，让我们运行一些模拟并监控不同的电池电量水平概率:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/01a90b1d7e43a8675353af8f49942f7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DYXDd5RRcif6nNap3tklFQ.png"/></div></div></figure><p id="ad7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">经验概率趋同。然后，我们能够计算期望值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="53a8" class="lv lw it mw b gy na nb l nc nd">&gt;&gt;&gt; compute_expected_value(states, last_steps=2000) * 10<br/>56.685</span></pre><p id="1f4e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最多人看到的电池电量似乎在<code class="fe ni nj nk mw b">70 to 80%</code>附近，这似乎与我的观看习惯非常一致:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="06e7" class="lv lw it mw b gy na nb l nc nd">sns.displot(states[-2000:] * 10, kind = "hist")</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/d4cc8f559a7267ac8aa794219ed9c682.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BTiQR7Vormvdtc9WYk68lA.png"/></div></div></figure><h2 id="520c" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">4.现实模型:</h2><p id="0f87" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">问题是:我们如何让我们的模型更接近现实？<br/>要回答这个问题，必须考虑到每个人生活节奏中的一个宝贵时刻:睡眠。一旦睡着，很少检查手机。就我而言，我总是让它充电，晚上醒来时很少检查它。人们可以把转移矩阵想成如下形式:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="9677" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这种设计背后的直觉是，在夜间只能看到比放置时更高的电池电量:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="6593" class="lv lw it mw b gy na nb l nc nd">with np.printoptions(threshold=np.inf):<br/>    print(transition_matrix_night)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/a7a635d15d12f988dec6e0548af7e961.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KzINSpvUpwO-8c2B476Lw.png"/></div></div></figure><p id="a1fd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">无论如何，不管我们检查手机屏幕的时刻(白天还是晚上)，两种观看状态之间的平均时间也应该被考虑在内。如果自上次以来液位下降，则电池正在放电。如果没有，则电池已充电。我们粗略地估计了这些过渡的持续时间。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="1558" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">基于我们在<code class="fe ni nj nk mw b">compute_time_taken</code>函数中部署的时间单位，让我们估计一个典型的白天/夜晚的持续时间:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="0286" class="lv lw it mw b gy na nb l nc nd">night_time = 6 * 60 # 6 hours <br/>day_time = 18 * 60 # 18 hours</span></pre><p id="97ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后，我们开始模拟白天和夜晚交替过渡的情况。<br/>我们放置一个<code class="fe ni nj nk mw b">counter_day_or_night</code>,它随着我们对不同转换的跟踪而递增。如果<code class="fe ni nj nk mw b">counter_day_or_night</code>超过了夜晚持续时间，假设现在是夜晚时间，我们切换到白天模式并重复该过程:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="7aac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">模拟稳定后，我们尝试绘制不同水平的概率(显示的水平是真实电池水平的十分之一):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/51567aa6a775718888ac92545926145a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p57FzCWXxaCUPZ1xiR8Lbw.png"/></div></div></figure><p id="5ea6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有趣的事实是，在我的手机屏幕上最常看到的水平是100%。由于我坚持要有一部因电池没电而关机的手机，我总是确保在不需要的时候给它充电。由于分布趋于稳定，我们得到以下期望值:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="8b96" class="lv lw it mw b gy na nb l nc nd">&gt;&gt;&gt; compute_expected_value(states, last_steps=2000) * 10<br/>76.69</span></pre><p id="febf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，当我看着我的手机，我有83%的电池电量。几乎..</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h2 id="24d1" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结束语:</h2><p id="128c" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">该解决方案并不完全代表现实，因为它过分简化了几个要素，并且没有考虑转移概率的更新方面。贝叶斯方法将把每个转变视为一个整体分布，并包括我日常生活中非常多样的节奏。此外，游戏可能会更令人兴奋，因为我们可以增加一个与我的笔记本电脑电池水平有关的挑战。然后，我们可以将这两种设备合并成一个模型，并观察显示的图形中的神奇之处。</p></div><div class="ab cl nn no hx np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="im in io ip iq"><h2 id="7414" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">参考资料:</h2><ol class=""><li id="5b24" class="nu nv it lb b lc mo lf mp li nw lm nx lq ny lu nz oa ob oc bi translated"><a class="ae ky" href="https://www.tweag.io/blog/2019-10-25-mcmc-intro1/" rel="noopener ugc nofollow" target="_blank">马尔可夫链蒙特卡罗(MCMC)抽样</a></li><li id="504b" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated"><a class="ae ky" href="http://Computing Stationary Distributions of a Discrete Markov Chain" rel="noopener ugc nofollow" target="_blank">计算离散马尔可夫链的平稳分布</a></li></ol></div></div>    
</body>
</html>