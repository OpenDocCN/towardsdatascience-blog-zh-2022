<html>
<head>
<title>How is your data distributed? A practical introduction to the Kolmogorov-Smirnov test</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">您的数据是如何分布的？Kolmogorov-Smirnov 检验的实用介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-is-your-data-distributed-a-practical-introduction-to-the-kolmogorov-smirnov-test-6b4fa7ba32ef#2022-11-14">https://towardsdatascience.com/how-is-your-data-distributed-a-practical-introduction-to-the-kolmogorov-smirnov-test-6b4fa7ba32ef#2022-11-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="be37" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">初学者 KS 测试介绍</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/6fb31a298e09ae2931c43413743ba47d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oPqhiUEt6OdYtFMk.jpg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="ky">照片由</em><a class="ae kz" href="https://pixabay.com/it/users/papazachariasa-12696704/" rel="noopener ugc nofollow" target="_blank"><em class="ky">papazachariasa</em></a><em class="ky">上</em> <a class="ae kz" href="https://pixabay.com/it/photos/dado-gioco-d-azzardo-gioco-fortuna-5029548/" rel="noopener ugc nofollow" target="_blank"> <em class="ky"> Pixabay </em> </a></p></figure><p id="9aeb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">数据科学家通常需要评估数据的适当分布。我们已经看到了正态分布的夏皮罗-维尔克检验，但是非正态分布呢？还有一个测试可以帮助我们，那就是科尔莫戈罗夫-斯米尔诺夫测试。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="d4ec" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">需要检查分布情况</h1><p id="5319" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">数据科学家通常面临检查他们的数据分布的问题。他们处理样本，需要检查样本是否来自正态分布、对数正态分布，或者两个数据集是否来自同一分布。当你在机器学习中执行<a class="ae kz" href="https://www.yourdatateacher.com/2022/05/02/are-your-training-and-test-sets-comparable/" rel="noopener ugc nofollow" target="_blank">训练测试分割</a>时，这很常见。</p><p id="4704" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">例如，您可能希望查看从总体中抽取的样本在统计上是否与总体本身相似。或者从同一人群中抽取几个样本，想看看彼此是否相似。</p><p id="bc75" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">所有这些问题都有一个共同的因素:将样本的分布与另一个样本的分布或已知的概率分布进行比较。</p><p id="7a01" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">接下来是 Kolmogorov-Smirnov 测试。</p><h1 id="3a5f" class="md me it bd mf mg na mi mj mk nb mm mn jz nc ka mp kc nd kd mr kf ne kg mt mu bi translated">科尔莫戈罗夫-斯米尔诺夫试验</h1><p id="09e7" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">KS 测试有两个版本，每个版本都有自己的零假设:</p><ul class=""><li id="99f1" class="nf ng it lc b ld le lg lh lj nh ln ni lr nj lv nk nl nm nn bi translated">样本是根据给定的概率分布生成的</li><li id="df52" class="nf ng it lc b ld no lg np lj nq ln nr lr ns lv nk nl nm nn bi translated">从相同的概率分布中生成了两个样本</li></ul><p id="b52e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">前者是单样本 KS 检验，后者是双样本 KS 检验。</p><p id="0c09" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">两种测试都将样本的累积分布函数与给定的累积分布函数进行比较。从数学上来说，计算这种分布之间的距离，并将其用作可用于计算 p 值的统计值。</p><p id="5341" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这些测试非常强大，尽管它们在计算 p 值时存在一些近似值，并且存在异常值。但是，是一个非常有用的工具，必须放在数据科学家的工具箱中。</p><p id="f73d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们看看它们在 Python 中是如何工作的。</p><h1 id="4f7a" class="md me it bd mf mg na mi mj mk nb mm mn jz nc ka mp kc nd kd mr kf ne kg mt mu bi translated">Python 中的一个例子</h1><p id="f328" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">让我们分别从正态分布和均匀分布创建两个数据集。它们不需要具有相同的尺寸。</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="2475" class="ny me it nu b be nz oa l ob oc">import numpy as np <br/><br/>x = np.random.normal(size=100) <br/>y = np.random.uniform(size=200)</span></pre><p id="363e" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们可以执行 KS 检验来评估第一个样本是来自正态分布还是均匀分布。为了执行这个测试，我们需要从 SciPy 导入我们想要检查的分布的累积分布函数和一个执行测试的适当函数(“ks_1samp”函数)。</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="2faf" class="ny me it nu b be nz oa l ob oc">from scipy.stats import ks_1samp,norm,uniform</span></pre><p id="36c5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们可以运行测试，将“x”数据集的分布与正态累积分布进行比较。</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="9e79" class="ny me it nu b be nz oa l ob oc">ks_1samp(x,norm.cdf) <br/># KstestResult(statistic=0.05164007841056789, pvalue=0.9398483559210086)</span></pre><p id="35ed" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">正如所料，p 值相当大，我们不能拒绝零假设，即数据集是由正态分布生成的。</p><p id="efbf" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果我们对均匀分布进行同样的检查，结果会非常不同:</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="b772" class="ny me it nu b be nz oa l ob oc">ks_1samp(x,uniform.cdf) <br/># KstestResult(statistic=0.5340516556530323, pvalue=3.580965283851709e-27)</span></pre><p id="509d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一个非常小的 p 值可以让我们拒绝零假设，即样本是由均匀分布产生的，这实际上是我们所期望的。</p><p id="719d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">双样本测试非常简单。我们必须从 SciPy 导入“ks_2samp”函数，并将两个样本作为参数传递。</p><pre class="kj kk kl km gt nt nu nv bn nw nx bi"><span id="a0d1" class="ny me it nu b be nz oa l ob oc">from scipy.stats import ks_2samp <br/><br/>ks_2samp(x,y) <br/># KstestResult(statistic=0.53, pvalue=9.992007221626409e-16)</span></pre><p id="fc17" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">正如预期的那样，p 值非常低，因为我们从非常不同的分布中人工构建了这些数据集。</p><p id="1407" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">因此，Kolmogorov-Smirnov 测试证实了我们的假设。</p><h1 id="ec8f" class="md me it bd mf mg na mi mj mk nb mm mn jz nc ka mp kc nd kd mr kf ne kg mt mu bi translated">结论</h1><p id="fdfb" class="pw-post-body-paragraph la lb it lc b ld mv ju lf lg mw jx li lj mx ll lm ln my lp lq lr mz lt lu lv im bi translated">Kolmogorov-Smirnov 测试是数据科学家工具箱中非常强大的工具，每次我们想要查看我们的数据是否来自给定的分布或者两个数据集是否共享相同的分布时，都必须正确使用。然而，p 值的计算可能会受到一些近似值的影响，必须正确处理，就像任何 p 值一样。</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="6088" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu"> <em class="od">我是 Gianluca Malato，意大利数据科学家、作家和企业家。我通过我的在线课程和书籍帮助人们成为专业的数据科学家和分析师。看看我的在线课程</em> </strong> <a class="ae kz" href="https://www.yourdatateacher.com/online-courses/?utm_source=medium&amp;utm_medium=post&amp;utm_campaign=How%20is%20your%20data%20distributed%3F" rel="noopener ugc nofollow" target="_blank"> <strong class="lc iu"> <em class="od">这里</em> </strong> </a> <strong class="lc iu"> <em class="od">。</em>T13】</strong></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="a28b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><em class="od">原载于 2022 年 11 月 14 日 https://www.yourdatateacher.com</em><a class="ae kz" href="https://www.yourdatateacher.com/2022/11/14/how-is-your-data-distributed-a-practical-introduction-to-the-kolmogorov-smirnov-test/" rel="noopener ugc nofollow" target="_blank"><em class="od"/></a><em class="od">。</em></p></div></div>    
</body>
</html>