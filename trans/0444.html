<html>
<head>
<title>A/B testing with Random Forest</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">随机森林的A/B测试</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-b-testing-with-random-forest-b3c1421224dd#2022-02-17">https://towardsdatascience.com/a-b-testing-with-random-forest-b3c1421224dd#2022-02-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="c4b5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基于随机森林的一般非参数A/B检验</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/a8008ae55ad019959579c2cdf397a4fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A8k-DxkucIG1HajGIZlmAg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:来自原始论文的图(作者)<strong class="bd ky">“使用随机森林进行双样本测试”</strong>显示了测试的p值和变量重要性(左)以及数据在两个判别分量上的投影(右)。</p></figure><p id="0885" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">撰稿人:<a class="lv lw ep" href="https://medium.com/u/f562dceaeb63?source=post_page-----b3c1421224dd--------------------------------" rel="noopener" target="_blank">洛里斯·米歇尔</a>，<a class="lv lw ep" href="https://medium.com/u/ca780798011a?source=post_page-----b3c1421224dd--------------------------------" rel="noopener" target="_blank">杰弗里·纳夫</a></p><p id="0448" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">A/B测试在商业决策中的重要性并不是一个新话题。我们可以将读者引向这个<a class="ae lx" rel="noopener" target="_blank" href="/simple-and-complet-guide-to-a-b-testing-c34154d0ce5a">故事</a>来很好地概括A/B测试背后的主要步骤和挑战。</p><p id="538b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，在选择测试统计数据时，有时会发现这是一项具有挑战性的任务，因为缺少比较A组和b组的精确指标。事实上，我们可能无法提前知道两组中潜在的数据偏移会是什么情况。然而，我们仍然希望获得一个有效的统计检验，该检验可以:</p><ul class=""><li id="aabc" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated"><em class="mh">检测</em>A组和B组之间复杂的变化模式(这意味着该测试具有对抗广泛备选方案的能力)；</li><li id="756d" class="ly lz it lb b lc mi lf mj li mk lm ml lq mm lu md me mf mg bi translated"><em class="mh">告知</em>分布变化(如果测试不合格，提供关于分布差异的见解)。</li></ul><p id="8361" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个故事中，我们想要讨论一个最近的关于在双样本测试中使用分类的研究系列，它允许构造非常灵活的非参数测试，就像我们的<a class="ae lx" href="https://arxiv.org/pdf/1903.06287.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="mh">论文</em> </strong> </a>中建议的那样。</p><h1 id="b578" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">如何利用分类做A/B测试？</h1><p id="5b2f" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">一般的双样本检验问题是基于两组样本(A: X_1，…，X_2和B: Y_1，..Y_2)假设分别来自两个不同的分布P和Q，不管它们实际上是否来自同一分布，即P=Q(零假设)。</p><p id="7760" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">想象一下，我们给来自A组的样品贴上一个标签(比如1)，给来自B组的样品贴上另一个标签(比如0)，与分类相对应的是一个有趣的类比:</p><blockquote class="nk nl nm"><p id="a3d9" class="kz la mh lb b lc ld ju le lf lg jx lh nn lj lk ll no ln lo lp np lr ls lt lu im bi translated">如果可以根据给定的比随机更好的分类度量(例如准确度)在两组样本A和B之间进行分类(辨别),那么这应该见证两组之间的分布差异。相反，如果组A和B之间存在分布差异，则(适当的)分类器应该能够检测到这种差异，从而比随机地对这两个组进行更好的分类(再次根据某个分类度量)。</p></blockquote><p id="6a7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">测试和分类概念之间更正式和详尽的比较可以在<a class="ae lx" href="https://arxiv.org/abs/1602.02210" rel="noopener ugc nofollow" target="_blank"> Kim et al. 2016 </a>中找到。我们现在提出一个我们在论文中做出的具体选择，即使用随机森林算法及其非常著名的out-of-bag度量。</p><h1 id="27a3" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">随机森林和袋外(OOB)措施</h1><p id="fe12" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">随机森林是统计学习中非常著名的算法(我们可以将读者引向这篇<a class="ae lx" rel="noopener" target="_blank" href="/understanding-random-forest-58381e0602d2">的帖子</a>以获得对随机森林的直观理解)。当涉及到分类任务时，它在真实数据集上的良好性能使它成为机器学习中非常受欢迎的算法(参见例如<a class="ae lx" href="https://jmlr.org/papers/volume15/delgado14a/delgado14a.pdf" rel="noopener ugc nofollow" target="_blank"> Delgado et al. 2012 </a>)。</p><p id="8a42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们的论文中，我们建议使用随机森林算法中著名的出袋(OOB)度量(参见这篇<a class="ae lx" rel="noopener" target="_blank" href="/what-is-out-of-bag-oob-score-in-random-forest-a7fa23d710">文章</a>以直观理解OOB度量)。更具体地说，<strong class="lb iu">我们使用每组(A和B)的OOB准确度之和作为测试统计量</strong>和<strong class="lb iu">使用排列构建有效测试。</strong>图2提供了一个可视化描述我们的过程的模式，对于正式的演示，我们将读者引向我们的<a class="ae lx" href="https://arxiv.org/pdf/1903.06287.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="mh">页面</em> </strong> </a> r，特别是关于我们的测试的更多细节和上下文的介绍。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/8d01d007791e30ad27b9fd56529e3662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJQ_iR6f1jAK1WXh3iAVMA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:hypo RF测试程序示意图(作者)。在右侧，我们可以看到p值(上图)和变量重要性(下图)是如何通过排列产生的。</p></figure><h1 id="8ef0" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">例子</h1><p id="851e" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">作为一个玩具说明性示例，我们考虑来自5维上的两个分布P和Q的样本，它们具有以下特性:</p><ul class=""><li id="368a" class="ly lz it lb b lc ld lf lg li ma lm mb lq mc lu md me mf mg bi translated">P和Q都是多元正态分布，有标准正态余量；</li><li id="1902" class="ly lz it lb b lc mi lf mj li mk lm ml lq mm lu md me mf mg bi translated">P具有作为协方差矩阵(独立边缘)的单位矩阵，而Q与P的不同之处仅在于在其第四和第五分量之间具有正相关性0.8。</li></ul><p id="74c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在图1中，我们可以观察到P值相当小(例如，显著性为5%)，这表明测试将拒绝空值(P=Q ),并能够根据左下方的变量重要性图发现分布变化的驱动因素(即使在这种情况下，变化仅出现在相关性中)。右图显示了采样点的最后两个分量。在左上角，估计的平均值，按组成部分和类别，这表明，如果只看边际，没有明显的分布差异。我们可以看到，根据零阈值(红色虚线)，最后两个分量被提取为相关变量。</p><h1 id="2390" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论</h1><p id="678d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">当涉及到A/B检验(双样本检验)时，通常情况下，当实验设计允许时，非常简单和基本的检验(t检验、二项式检验等)就足够了。然而，值得记住的是，受机器学习分类启发的现代方法可以提供有效和强大的双样本测试。当事先不知道A组和b组之间的潜在差异时，这些测试可以在复杂的环境中帮助数据科学家。</p><p id="2d38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="mh">免责声明和资源:</em> </strong> <em class="mh">我们意识到我们遗漏了许多细节(效率、关于何时使用或不使用此类测试的指导、功率研究等)，但希望能够打开思维的视野。我们的</em> <a class="ae lx" href="https://arxiv.org/pdf/1903.06287.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="mh"> </em> <strong class="lb iu"> <em class="mh">页面</em></strong></a>R<strong class="lb iu"><em class="mh"/></strong><em class="mh">中可以找到M <em class="mh">矿石的详细信息以及与现有测试的比较，并查看CRAN上的R-package hypolf。</em></em></p></div></div>    
</body>
</html>