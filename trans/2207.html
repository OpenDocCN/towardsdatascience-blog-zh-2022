<html>
<head>
<title>Koh-Lanta 2022: The ambassadors probability problem</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Koh-Lanta 2022:大使概率问题</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/koh-lanta-2022-the-ambassadors-probability-problem-ebe0208d45a8#2022-05-16">https://towardsdatascience.com/koh-lanta-2022-the-ambassadors-probability-problem-ebe0208d45a8#2022-05-16</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="f3b3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在电视节目《Koh-Lanta 2022》中，每位大使获胜的概率有多大？通过模拟和例子学习如何在R中计算它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7b9dd402554209487b650cd5dacc2bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OKzHwjy9QaHDLV-y"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">蒂莫西·梅恩伯格的照片</p></figure><h1 id="9d02" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">介绍</h1><p id="093a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi mn translated"><span class="l mo mp mq bm mr ms mt mu mv di"> T </span>这是一个在法国和比利时法语区播出的受欢迎的电视节目，名为<strong class="lt iu"> Koh-Lanta </strong>。</p><p id="288c" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在这部剧中，几个冒险者被丢在一个荒岛上，几乎没有食物和装备(只有一个个人背包，里面有他们的衣服和一小部分大米)。他们必须学会在这个充满敌意的岛上生存，建造他们的小屋，寻找水和食物等等。</p><p id="8159" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">每个赛季，冒险者被分成团队(称为部落)，团队之间在涉及能力、力量、思维和耐力的游戏中相互竞争。每隔一场比赛，获胜的部落会得到一些食物或生存装备(比如，捕鱼的东西或生火的东西)。失败的部落什么也得不到。在另一半比赛中，输的部落的每个成员都要选出一名冒险者。得票最多的冒险者肯定会离开节目。获胜的部落和所有成员一起回到岛上。</p><p id="96c0" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在表演过程中的某个时候，两个竞争的部落被组合成一个部落，这一次每个冒险者互相竞争(所以他们单独玩)。节目的获胜者是最后一个“活下来”的。</p><p id="b782" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">2022赛季从24个冒险者开始。在被分组之前，每个部落都必须选择一个对手部落的冒险者。两名被选中的冒险者成为他们部落的大使。然后，两位大使必须前往另一个岛屿，选出最终离开节目的冒险家。两位大使选择的冒险家将不会成为两个部落统一的一部分，她的冒险也就到此为止了。</p><p id="ae6e" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">当然，两位大使都想消灭一个敌对部落的成员(以与最多的盟友达成统一)。如果两位大使不能达成一致，他们必须玩一个游戏来决定两位大使中谁必须离开节目。这个游戏完全是靠运气。在本文的其余部分，我们称这个游戏为<em class="nb">大使游戏</em>。</p><h1 id="b612" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2022年前</h1><p id="37ec" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">以下是2022赛季前大使比赛的规则:</p><p id="9611" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">有两个一模一样的骨灰盒，每个大使前面一个。每个骨灰盒正好包含<strong class="lt iu">一个黑球</strong>和<strong class="lt iu">一个白球</strong>。每个大使必须从他的瓮中抽取一个球。两个骨灰盒当然都是封闭的，所以没人看到哪个球被挑了(也没人看到哪个球没被挑)。游戏的赢家(请记住，赢家留在节目中，输家必须明确离开)是选择白色球的人，而另一位大使则抽取黑色球。如果两位大使抽到了同一个球(都是黑的或都是白的)，球被放回瓮中，游戏重新开始(条件完全相同)，直到两位大使抽到了不同颜色的球。</p><p id="d752" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">因此，对于每个抽签，有四种可能的结果:</p><ol class=""><li id="0389" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nh ni nj nk bi translated">A部落的大使抽出一个白球，B部落的大使抽出一个黑球:A部落的大使获胜。</li><li id="5d61" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">A部落的大使抽取一个黑球，B部落的大使抽取一个白球:B部落的大使获胜。</li><li id="f54a" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">两位大使都抽到了一个黑球:游戏重新开始。</li><li id="1d77" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">两位大使都抽到了一个白球:游戏重新开始。</li></ol><p id="76bd" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">让我们计算每个结果发生的概率。由于这两个事件是<a class="ae ky" href="https://statsandr.com/blog/the-9-concepts-and-formulas-in-probability-that-every-data-scientist-should-know/#independence-of-two-events" rel="noopener ugc nofollow" target="_blank">独立的</a>(A大使抽一个白球的事实并不改变B大使抽一个白球的概率使得这两个事件是独立的)，我们可以将概率相乘来计算这两个事件的联合概率。</p><p id="7ef3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">用P_A (P_B)表示部落A (B)的大使抽到了一个白球的概率，我们得到:</p><ol class=""><li id="8123" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nh ni nj nk bi translated">P_A⋅(1−P_B)=0.5⋅0.5=0.25</li><li id="b91d" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">(1−P_A)⋅P_B=0.5⋅0.5=0.25</li><li id="a0a3" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">(1−P_A)⋅(1−P_B)=0.5⋅0.5=0.25</li><li id="7bbb" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">P_A⋅P_B=0.5⋅0.5=0.25</li></ol><p id="0dac" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">4个概率之和为1(即100%)，这是有意义的，因为它涵盖了所有可能的结果。</p><p id="9a6a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这意味着，<em class="nb">在第一次抽奖</em>中，每个大使都有25%的概率赢得游戏(A大使的结果1，B大使的结果2)。</p><p id="12b6" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">当然，由于游戏会一直重复，直到出现赢家，从长远来看，结果3和4的概率会逐渐降低，直到为零(0%)。如果这种说法对你来说不直截了当，那么这样想想:如果你和你的朋友玩那个游戏多达100次，仍然没有赢家的概率是多少，意思是你和你的朋友连续100次抽同一个球(从来不是不同的颜色)。你认为这是极不可能的。</p><p id="89b1" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在这种情况下，由于两个骨灰盒是相同的，游戏无限期地进行，直到有一个赢家，大使们赢得游戏的概率完全相同。对他们每个人来说，这确实是一半对一半的机会。</p><h1 id="8b04" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">2022年</h1><p id="d1ef" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当然，如果有这么简单，我不会写一篇关于大使游戏文章。</p><p id="fd5c" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">2022赛季与前几个赛季的不同之处在于，每一场比赛，失败的部落都会受到额外的惩罚(在节目中称为诅咒)。因此，今年，大使们游戏中的两个骨灰盒与T2的不一样。</p><p id="f988" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">给你一些背景资料，在大使谈判前的最后一场比赛中，红部落赢了黄部落。对黄色部落的惩罚如下:</p><ul class=""><li id="67bc" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">黄色部落(和他们的大使科林)有一个瓮，里面有<strong class="lt iu">两个黑球</strong>和一个白球。</li><li id="f947" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">红族部落(和他们的大使Louana)有一个骨灰盒，里面有一个黑球和一个白球。</li></ul><p id="83b3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这确实是对黄色部落的惩罚，因为游戏不再公平:与黄色部落的大使相比，红色部落的大使显然有更高的机会赢得游戏。</p><p id="c835" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">对于你们当中的好奇者来说，事情是这样发生的:</p><ul class=""><li id="f901" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">主持人Denis Brogniart向两位大使介绍了每个部落骨灰盒的组成。</li><li id="cd41" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">知道胜算对他不利，科林(黄色部落的大使)选择不玩这个游戏。<a class="ae ky" href="https://statsandr.com/blog/koh-lanta-2022-ambassadors-probability-problem/#fn1" rel="noopener ugc nofollow" target="_blank"> 1 </a></li><li id="1e62" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">他们最终商定了将离开节目的冒险者的名字(黄色部落的冒险者)。</li></ul><p id="3593" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">你现在已经猜到了，写这篇文章的原因当然不是为了向你解释实际发生了什么——新闻网站比我做得更好、更快。原因是我想计算每个大使赢得游戏的机会，如果他们没有同意消灭一个冒险者的话。<a class="ae ky" href="https://statsandr.com/blog/koh-lanta-2022-ambassadors-probability-problem/#fn2" rel="noopener ugc nofollow" target="_blank"> 2 </a></p><p id="ce2d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">此外，我想通过模拟来计算这些概率。为什么不呢，重复使用代码，以防将来兰大岛的组织者决定再次改变规则。</p><p id="fd94" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">即使你不看Koh-Lanta(因为它不在你的国家播出，或者你不喜欢这个节目)，你可能会对想看的人感兴趣:</p><ul class=""><li id="dea9" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">一个现实生活中的例子如何转化为R，</li><li id="85f6" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">以及如何用一个<code class="fe nr ns nt nu b">for loop</code>和一个函数来回答最初的问题。</li></ul><h1 id="5b33" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">R中的概率计算</h1><p id="f9c7" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">对于本文的其余部分，我们表示:</p><ul class=""><li id="e3aa" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">p_c，科林(黄部落大使)抽到了一个白球的概率，</li><li id="56fd" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">p_l，Louana(红色部落的大使)抽到了白球的概率，</li><li id="5546" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">q_c，科林抽到黑球的概率，</li><li id="428f" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">q_l，Louana抽到黑球的概率。</li></ul><p id="fb61" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">根据Denis Brogniart给出的骨灰盒组成，我们有:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="5e32" class="nz la it nu b gy oa ob l oc od">p_c &lt;- 1 / 3<br/>p_l &lt;- 1 / 2<br/>q_c &lt;- (1 - p_c)<br/>q_l &lt;- (1 - p_l)</span></pre><h2 id="fa29" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">第一次抽签</h2><p id="c0d5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了简单起见，让我们先计算一下第一次抽奖时每个大使<em class="nb">的获胜概率，只有</em>。记住，要有赢家，球必须是不同的颜色。</p><p id="f46a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">当且仅当科林抽了一个黑球，卢阿那抽了一个白球时，卢阿那赢:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="490d" class="nz la it nu b gy oa ob l oc od"># Louana winning on first draw<br/>l_win &lt;- q_c * p_l<br/>l_win</span><span id="9cee" class="nz la it nu b gy op ob l oc od">## [1] 0.3333333</span></pre><p id="b758" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">Louana有33.33%的机会在第一次抽奖中获胜。</p><p id="e232" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">另一方面，当且仅当Louana画了一个黑球，而Colin画了一个白球时，Colin才赢:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="ca8a" class="nz la it nu b gy oa ob l oc od"># Colin winning on first draw<br/>c_win &lt;- q_l * p_c<br/>c_win</span><span id="e5c1" class="nz la it nu b gy op ob l oc od">## [1] 0.1666667</span></pre><p id="92b1" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">科林第一次抽奖有16.67%的胜算。</p><p id="8f61" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">你已经可以看出，这场比赛是有利于Louana，正如所料。现在来看看打几次是怎么演变的。</p><h2 id="b900" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">第二次抽签</h2><p id="cfd5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要在第二次抽签时准确获胜，第一次抽签时必须是平局。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="6a30" class="nz la it nu b gy oa ob l oc od"># Louana winning on second draw<br/>tie &lt;- (p_c * p_l) + (q_c * q_l)</span><span id="3c96" class="nz la it nu b gy op ob l oc od">l_win2 &lt;- tie * l_win<br/>l_win2</span><span id="faf7" class="nz la it nu b gy op ob l oc od">## [1] 0.1666667</span><span id="8703" class="nz la it nu b gy op ob l oc od"># Colin winning on second draw<br/>c_win2 &lt;- tie * c_win<br/>c_win2</span><span id="8ee5" class="nz la it nu b gy op ob l oc od">## [1] 0.08333333</span></pre><ul class=""><li id="30a7" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana第二次抽奖有16.67%的几率中奖。</li><li id="7d59" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有8.33%的机会在第二次抽奖中获胜。</li></ul><h2 id="828f" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">第三次抽签</h2><p id="8759" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">要在第三次平局时获胜，前两次平局必须是平局。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="715b" class="nz la it nu b gy oa ob l oc od"># Louana winning on third draw<br/>l_win3 &lt;- (tie^2) * l_win<br/>l_win3</span><span id="1d8f" class="nz la it nu b gy op ob l oc od">## [1] 0.08333333</span><span id="81e2" class="nz la it nu b gy op ob l oc od"># Colin winning on third draw<br/>c_win3 &lt;- (tie^2) * c_win<br/>c_win3</span><span id="97b9" class="nz la it nu b gy op ob l oc od">## [1] 0.04166667</span></pre><ul class=""><li id="d0cd" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana第三次抽奖有8.33%的胜算。</li><li id="fab1" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有4.17%的机会在第三次抽奖中获胜。</li></ul><p id="6252" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">代码中似乎出现了一种模式。</p><h2 id="ab46" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">游戏限于3次平局</h2><p id="d666" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们已经可以计算每个大使的获胜概率，就好像游戏限于三次平局一样，方法是将前三次平局的概率相加:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="6637" class="nz la it nu b gy oa ob l oc od"># Louana winning on draw 1, 2 or 3<br/>l_win_tot &lt;- l_win + l_win2 + l_win3<br/>l_win_tot</span><span id="3320" class="nz la it nu b gy op ob l oc od">## [1] 0.5833333</span><span id="3000" class="nz la it nu b gy op ob l oc od"># Colin winning on draw 1, 2 or 3<br/>c_win_tot &lt;- c_win + c_win2 + c_win3<br/>c_win_tot</span><span id="a1ff" class="nz la it nu b gy op ob l oc od">## [1] 0.2916667</span></pre><ul class=""><li id="25f7" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">如果游戏限于三个平局，Louana有58.33%的胜算。</li><li id="7193" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">如果游戏限于三个平局，科林有29.17%的胜算。</li></ul><h2 id="9aee" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">游戏限于5次平局</h2><p id="a117" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在，如果我们计算概率，假设游戏限于5次平局，并推广计算以更清楚地看到模式，我们有:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="8bc0" class="nz la it nu b gy oa ob l oc od"># Louana winning<br/>l_win_tot &lt;- ((tie^0) * l_win) +<br/>  ((tie^1) * l_win) +<br/>  ((tie^2) * l_win) +<br/>  ((tie^3) * l_win) +<br/>  ((tie^4) * l_win)</span><span id="8a9e" class="nz la it nu b gy op ob l oc od">l_win_tot</span><span id="72e3" class="nz la it nu b gy op ob l oc od">## [1] 0.6458333</span><span id="494e" class="nz la it nu b gy op ob l oc od"># Colin winning<br/>c_win_tot &lt;- ((tie^0) * c_win) +<br/>  ((tie^1) * c_win) +<br/>  ((tie^2) * c_win) +<br/>  ((tie^3) * c_win) +<br/>  ((tie^4) * c_win)</span><span id="49ed" class="nz la it nu b gy op ob l oc od">c_win_tot</span><span id="fc4a" class="nz la it nu b gy op ob l oc od">## [1] 0.3229167</span></pre><ul class=""><li id="f2bd" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">如果游戏限制在5次平局，Louana有64.58%的胜算。</li><li id="0009" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">如果游戏限制在5次平局，科林有32.29%的胜算。</li></ul><h2 id="ac38" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">游戏限于100次抽奖</h2><p id="7919" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们可以像这样持续很长时间，但是现在让我们用一个<code class="fe nr ns nt nu b">for loop</code>来计算100次平局。为了避免一百次地复制粘贴我们的计算，这里使用一个<code class="fe nr ns nt nu b">for loop</code>是必要的。</p><p id="8cc4" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">为了便于说明，我们只计算Louana获胜的概率。我们将在后面展示如何简单地计算科林的概率。</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="dec3" class="nz la it nu b gy oa ob l oc od">n_draws &lt;- 100 # number of draws<br/>l_win_tot &lt;- c() # set empty vector</span><span id="a2f2" class="nz la it nu b gy op ob l oc od">for (i in 1:n_draws) {<br/>  l_win_tot[i] &lt;- ((tie^(i - 1)) * l_win) # prob of Louana winning up to n_draws<br/>  print(paste0("Draw ", i, ": ", sum(l_win_tot))) # print sum of winning up to n_draws<br/>}</span><span id="54ee" class="nz la it nu b gy op ob l oc od">## [1] "Draw 1: 0.333333333333333"<br/>## [1] "Draw 2: 0.5"<br/>## [1] "Draw 3: 0.583333333333333"<br/>## [1] "Draw 4: 0.625"<br/>## [1] "Draw 5: 0.645833333333333"<br/>## [1] "Draw 6: 0.65625"<br/>## [1] "Draw 7: 0.661458333333333"<br/>## [1] "Draw 8: 0.6640625"<br/>## [1] "Draw 9: 0.665364583333333"<br/>## [1] "Draw 10: 0.666015625"<br/>## [1] "Draw 11: 0.666341145833333"<br/>## [1] "Draw 12: 0.66650390625"<br/>## [1] "Draw 13: 0.666585286458333"<br/>## [1] "Draw 14: 0.6666259765625"<br/>## [1] "Draw 15: 0.666646321614583"<br/>## [1] "Draw 16: 0.666656494140625"<br/>## [1] "Draw 17: 0.666661580403646"<br/>## [1] "Draw 18: 0.666664123535156"<br/>## [1] "Draw 19: 0.666665395100911"<br/>## [1] "Draw 20: 0.666666030883789"<br/>## [1] "Draw 21: 0.666666348775228"<br/>## [1] "Draw 22: 0.666666507720947"<br/>## [1] "Draw 23: 0.666666587193807"<br/>## [1] "Draw 24: 0.666666626930237"<br/>## [1] "Draw 25: 0.666666646798452"<br/>## [1] "Draw 26: 0.666666656732559"<br/>## [1] "Draw 27: 0.666666661699613"<br/>## [1] "Draw 28: 0.66666666418314"<br/>## [1] "Draw 29: 0.666666665424903"<br/>## [1] "Draw 30: 0.666666666045785"<br/>## [1] "Draw 31: 0.666666666356226"<br/>## [1] "Draw 32: 0.666666666511446"<br/>## [1] "Draw 33: 0.666666666589056"<br/>## [1] "Draw 34: 0.666666666627862"<br/>## [1] "Draw 35: 0.666666666647264"<br/>## [1] "Draw 36: 0.666666666656966"<br/>## [1] "Draw 37: 0.666666666661816"<br/>## [1] "Draw 38: 0.666666666664241"<br/>## [1] "Draw 39: 0.666666666665454"<br/>## [1] "Draw 40: 0.66666666666606"<br/>## [1] "Draw 41: 0.666666666666364"<br/>## [1] "Draw 42: 0.666666666666515"<br/>## [1] "Draw 43: 0.666666666666591"<br/>## [1] "Draw 44: 0.666666666666629"<br/>## [1] "Draw 45: 0.666666666666648"<br/>## [1] "Draw 46: 0.666666666666657"<br/>## [1] "Draw 47: 0.666666666666662"<br/>## [1] "Draw 48: 0.666666666666664"<br/>## [1] "Draw 49: 0.666666666666666"<br/>## [1] "Draw 50: 0.666666666666666"<br/>## [1] "Draw 51: 0.666666666666666"<br/>## [1] "Draw 52: 0.666666666666667"<br/>## [1] "Draw 53: 0.666666666666667"<br/>## [1] "Draw 54: 0.666666666666667"<br/>## [1] "Draw 55: 0.666666666666667"<br/>## [1] "Draw 56: 0.666666666666667"<br/>## [1] "Draw 57: 0.666666666666667"<br/>## [1] "Draw 58: 0.666666666666667"<br/>## [1] "Draw 59: 0.666666666666667"<br/>## [1] "Draw 60: 0.666666666666667"<br/>## [1] "Draw 61: 0.666666666666667"<br/>## [1] "Draw 62: 0.666666666666667"<br/>## [1] "Draw 63: 0.666666666666667"<br/>## [1] "Draw 64: 0.666666666666667"<br/>## [1] "Draw 65: 0.666666666666667"<br/>## [1] "Draw 66: 0.666666666666667"<br/>## [1] "Draw 67: 0.666666666666667"<br/>## [1] "Draw 68: 0.666666666666667"<br/>## [1] "Draw 69: 0.666666666666667"<br/>## [1] "Draw 70: 0.666666666666667"<br/>## [1] "Draw 71: 0.666666666666667"<br/>## [1] "Draw 72: 0.666666666666667"<br/>## [1] "Draw 73: 0.666666666666667"<br/>## [1] "Draw 74: 0.666666666666667"<br/>## [1] "Draw 75: 0.666666666666667"<br/>## [1] "Draw 76: 0.666666666666667"<br/>## [1] "Draw 77: 0.666666666666667"<br/>## [1] "Draw 78: 0.666666666666667"<br/>## [1] "Draw 79: 0.666666666666667"<br/>## [1] "Draw 80: 0.666666666666667"<br/>## [1] "Draw 81: 0.666666666666667"<br/>## [1] "Draw 82: 0.666666666666667"<br/>## [1] "Draw 83: 0.666666666666667"<br/>## [1] "Draw 84: 0.666666666666667"<br/>## [1] "Draw 85: 0.666666666666667"<br/>## [1] "Draw 86: 0.666666666666667"<br/>## [1] "Draw 87: 0.666666666666667"<br/>## [1] "Draw 88: 0.666666666666667"<br/>## [1] "Draw 89: 0.666666666666667"<br/>## [1] "Draw 90: 0.666666666666667"<br/>## [1] "Draw 91: 0.666666666666667"<br/>## [1] "Draw 92: 0.666666666666667"<br/>## [1] "Draw 93: 0.666666666666667"<br/>## [1] "Draw 94: 0.666666666666667"<br/>## [1] "Draw 95: 0.666666666666667"<br/>## [1] "Draw 96: 0.666666666666667"<br/>## [1] "Draw 97: 0.666666666666667"<br/>## [1] "Draw 98: 0.666666666666667"<br/>## [1] "Draw 99: 0.666666666666667"<br/>## [1] "Draw 100: 0.666666666666667"</span></pre><p id="b1d9" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">得出1、3和5的概率与我们在前面章节中发现的一致。此外，我们看到从第52局开始，Louana获胜的概率保持不变，为66.67%。这就是所谓的极限。</p><h2 id="edd4" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">游戏限于必要的抽牌次数</h2><p id="c651" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">如果不打印上述<code class="fe nr ns nt nu b">for loop</code>的结果，我们不知道需要多少次抽签才能达到极限。</p><p id="10c7" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">现在，让我们尝试包含有关必要抽取次数的信息，以避免计算不必要的抽取:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="5858" class="nz la it nu b gy oa ob l oc od">n_draws &lt;- 9999 # initial number of draws, set intentionally to a high number<br/>p_tie &lt;- c() # set empty vector for prob of ties<br/>l_win_tot &lt;- c() # set empty vector for prob of Louana winning</span><span id="69a8" class="nz la it nu b gy op ob l oc od"># find number of necessary draws:<br/>for (i in 1:n_draws) {<br/>  p_tie[i] &lt;- tie^i # prob of tie for each draw<br/>  limit_ndraws &lt;- sum(p_tie &gt; 2.2e-16) # number of necessary draws<br/>}</span><span id="ebbf" class="nz la it nu b gy op ob l oc od"># compute Louana winning probabilities with the smallest number of necessary draws<br/>for (i in 1:limit_ndraws) {<br/>  l_win_tot[i] &lt;- ((tie^(i - 1)) * l_win) # prob of Louana winning up to limited number of draws<br/>  print(paste0("Draw ", i, ": ", sum(l_win_tot))) # sum of winning up to limited number of draws<br/>}</span><span id="0b40" class="nz la it nu b gy op ob l oc od">## [1] "Draw 1: 0.333333333333333"<br/>## [1] "Draw 2: 0.5"<br/>## [1] "Draw 3: 0.583333333333333"<br/>## [1] "Draw 4: 0.625"<br/>## [1] "Draw 5: 0.645833333333333"<br/>## [1] "Draw 6: 0.65625"<br/>## [1] "Draw 7: 0.661458333333333"<br/>## [1] "Draw 8: 0.6640625"<br/>## [1] "Draw 9: 0.665364583333333"<br/>## [1] "Draw 10: 0.666015625"<br/>## [1] "Draw 11: 0.666341145833333"<br/>## [1] "Draw 12: 0.66650390625"<br/>## [1] "Draw 13: 0.666585286458333"<br/>## [1] "Draw 14: 0.6666259765625"<br/>## [1] "Draw 15: 0.666646321614583"<br/>## [1] "Draw 16: 0.666656494140625"<br/>## [1] "Draw 17: 0.666661580403646"<br/>## [1] "Draw 18: 0.666664123535156"<br/>## [1] "Draw 19: 0.666665395100911"<br/>## [1] "Draw 20: 0.666666030883789"<br/>## [1] "Draw 21: 0.666666348775228"<br/>## [1] "Draw 22: 0.666666507720947"<br/>## [1] "Draw 23: 0.666666587193807"<br/>## [1] "Draw 24: 0.666666626930237"<br/>## [1] "Draw 25: 0.666666646798452"<br/>## [1] "Draw 26: 0.666666656732559"<br/>## [1] "Draw 27: 0.666666661699613"<br/>## [1] "Draw 28: 0.66666666418314"<br/>## [1] "Draw 29: 0.666666665424903"<br/>## [1] "Draw 30: 0.666666666045785"<br/>## [1] "Draw 31: 0.666666666356226"<br/>## [1] "Draw 32: 0.666666666511446"<br/>## [1] "Draw 33: 0.666666666589056"<br/>## [1] "Draw 34: 0.666666666627862"<br/>## [1] "Draw 35: 0.666666666647264"<br/>## [1] "Draw 36: 0.666666666656966"<br/>## [1] "Draw 37: 0.666666666661816"<br/>## [1] "Draw 38: 0.666666666664241"<br/>## [1] "Draw 39: 0.666666666665454"<br/>## [1] "Draw 40: 0.66666666666606"<br/>## [1] "Draw 41: 0.666666666666364"<br/>## [1] "Draw 42: 0.666666666666515"<br/>## [1] "Draw 43: 0.666666666666591"<br/>## [1] "Draw 44: 0.666666666666629"<br/>## [1] "Draw 45: 0.666666666666648"<br/>## [1] "Draw 46: 0.666666666666657"<br/>## [1] "Draw 47: 0.666666666666662"<br/>## [1] "Draw 48: 0.666666666666664"<br/>## [1] "Draw 49: 0.666666666666666"<br/>## [1] "Draw 50: 0.666666666666666"<br/>## [1] "Draw 51: 0.666666666666666"<br/>## [1] "Draw 52: 0.666666666666667"</span></pre><h2 id="2289" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">最终获胜概率</h2><p id="114c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">记得最初的问题是:</p><blockquote class="oq or os"><p id="fc07" class="lr ls nb lt b lu mw ju lw lx mx jx lz ot my mc md ou mz mg mh ov na mk ml mm im bi translated"><em class="it">每个大使的胜算概率有多大？</em></p></blockquote><p id="e8e3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">Louana赢得游戏的概率可以很容易地提取如下:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="e2c0" class="nz la it nu b gy oa ob l oc od">sum(l_win_tot)</span><span id="3107" class="nz la it nu b gy op ob l oc od">## [1] 0.6666667</span></pre><p id="dfb8" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">由于游戏只有在有赢家时才会停止，Louana和Colin的获胜概率之和必须等于1，因此Colin赢得游戏的概率是:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="9bcf" class="nz la it nu b gy oa ob l oc od">c_win_tot &lt;- 1 - sum(l_win_tot)<br/>c_win_tot</span><span id="1328" class="nz la it nu b gy op ob l oc od">## [1] 0.3333333</span></pre><p id="e191" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><strong class="lt iu">总结一下:</strong></p><ul class=""><li id="12c2" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana有66.67%的几率赢得大使赛。</li><li id="48e7" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有33.33%的几率赢得大使赛。</li></ul><h2 id="722f" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">视觉表现</h2><p id="2d9f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了直观显示每个大使的概率，我们忽略了科林获胜的概率，所以让我们先计算一下:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="09a1" class="nz la it nu b gy oa ob l oc od">c_win_tot &lt;- c() # set empty vector for prob of Colin winning</span><span id="9810" class="nz la it nu b gy op ob l oc od"># compute Colin winning probabilities with the smallest number of necessary draws<br/>for (i in 1:limit_ndraws) {<br/>  c_win_tot[i] &lt;- ((tie^(i - 1)) * c_win) # prob of Colin winning<br/>  print(paste0("Draw ", i, ": ", sum(c_win_tot))) # print sum of winning<br/>}</span><span id="386e" class="nz la it nu b gy op ob l oc od">## [1] "Draw 1: 0.166666666666667"<br/>## [1] "Draw 2: 0.25"<br/>## [1] "Draw 3: 0.291666666666667"<br/>## [1] "Draw 4: 0.3125"<br/>## [1] "Draw 5: 0.322916666666667"<br/>## [1] "Draw 6: 0.328125"<br/>## [1] "Draw 7: 0.330729166666667"<br/>## [1] "Draw 8: 0.33203125"<br/>## [1] "Draw 9: 0.332682291666667"<br/>## [1] "Draw 10: 0.3330078125"<br/>## [1] "Draw 11: 0.333170572916667"<br/>## [1] "Draw 12: 0.333251953125"<br/>## [1] "Draw 13: 0.333292643229167"<br/>## [1] "Draw 14: 0.33331298828125"<br/>## [1] "Draw 15: 0.333323160807292"<br/>## [1] "Draw 16: 0.333328247070312"<br/>## [1] "Draw 17: 0.333330790201823"<br/>## [1] "Draw 18: 0.333332061767578"<br/>## [1] "Draw 19: 0.333332697550456"<br/>## [1] "Draw 20: 0.333333015441895"<br/>## [1] "Draw 21: 0.333333174387614"<br/>## [1] "Draw 22: 0.333333253860474"<br/>## [1] "Draw 23: 0.333333293596903"<br/>## [1] "Draw 24: 0.333333313465118"<br/>## [1] "Draw 25: 0.333333323399226"<br/>## [1] "Draw 26: 0.33333332836628"<br/>## [1] "Draw 27: 0.333333330849806"<br/>## [1] "Draw 28: 0.33333333209157"<br/>## [1] "Draw 29: 0.333333332712452"<br/>## [1] "Draw 30: 0.333333333022892"<br/>## [1] "Draw 31: 0.333333333178113"<br/>## [1] "Draw 32: 0.333333333255723"<br/>## [1] "Draw 33: 0.333333333294528"<br/>## [1] "Draw 34: 0.333333333313931"<br/>## [1] "Draw 35: 0.333333333323632"<br/>## [1] "Draw 36: 0.333333333328483"<br/>## [1] "Draw 37: 0.333333333330908"<br/>## [1] "Draw 38: 0.333333333332121"<br/>## [1] "Draw 39: 0.333333333332727"<br/>## [1] "Draw 40: 0.33333333333303"<br/>## [1] "Draw 41: 0.333333333333182"<br/>## [1] "Draw 42: 0.333333333333258"<br/>## [1] "Draw 43: 0.333333333333295"<br/>## [1] "Draw 44: 0.333333333333314"<br/>## [1] "Draw 45: 0.333333333333324"<br/>## [1] "Draw 46: 0.333333333333329"<br/>## [1] "Draw 47: 0.333333333333331"<br/>## [1] "Draw 48: 0.333333333333332"<br/>## [1] "Draw 49: 0.333333333333333"<br/>## [1] "Draw 50: 0.333333333333333"<br/>## [1] "Draw 51: 0.333333333333333"<br/>## [1] "Draw 52: 0.333333333333333"</span></pre><p id="7301" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我们用两位大使的概率创建了一个数据集:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="400c" class="nz la it nu b gy oa ob l oc od">dat &lt;- data.frame(<br/>  Draw = rep(1:limit_ndraws, 2),<br/>  Probability = c(cumsum(l_win_tot), cumsum(c_win_tot)),<br/>  Ambassador = c(rep("Louana", limit_ndraws), rep("Colin", limit_ndraws))<br/>)</span></pre><p id="dbd3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我们现在可以将这些概率想象成必要的抽奖次数:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="df6f" class="nz la it nu b gy oa ob l oc od"># load package<br/>library(ggplot2)</span><span id="fd93" class="nz la it nu b gy op ob l oc od"># plot<br/>ggplot(dat) +<br/>  aes(x = Draw, y = Probability, colour = Ambassador) +<br/>  geom_line(size = 2L) +<br/>  labs(<br/>    y = "Probability of winning",<br/>    caption = "Source: Koh-Lanta 2022"<br/>  ) +<br/>  scale_y_continuous(labels = scales::percent_format(accuracy = 1), limits = c(0, 1)) +<br/>  theme_minimal()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/92f6112c394fcd6f182adc764ce2ceb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0wapFjN5y6A417-W.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的情节</p></figure><p id="6a0b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">但我认为回答最初问题的最合适的图是柱状图<a class="ae ky" href="https://statsandr.com/blog/descriptive-statistics-in-r/#barplot" rel="noopener ugc nofollow" target="_blank"/>:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="c23a" class="nz la it nu b gy oa ob l oc od"># create dataset<br/>dat_barplot &lt;- data.frame(<br/>  Ambassador = c("Louana", "Colin"),<br/>  Probability = c(sum(l_win_tot), sum(c_win_tot))<br/>)</span><span id="7600" class="nz la it nu b gy op ob l oc od"># plot<br/>ggplot(data = dat_barplot, aes(x = Ambassador, y = Probability)) +<br/>  geom_bar(stat = "identity", fill = "steelblue") +<br/>  labs(<br/>    y = "Probability of winning",<br/>    caption = "Source: Koh-Lanta 2022"<br/>  ) +<br/>  scale_y_continuous(labels = scales::percent_format(accuracy = 1), limits = c(0, 1)) +<br/>  theme_minimal()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ow"><img src="../Images/abb4ae9ca2ad870942f25efa2339f72a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-GljJE6smvJ5TTa_.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的情节</p></figure><h2 id="24a1" class="nz la it bd lb oe of dn lf og oh dp lj ma oi oj ll me ok ol ln mi om on lp oo bi translated">编码成一个函数</h2><p id="17ee" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">让我们尝试在一个函数中实现这个问题，以便能够在其他初始概率中重用它。</p><p id="4dca" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">使用:</p><ul class=""><li id="8314" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated"><code class="fe nr ns nt nu b">p_a</code>和<code class="fe nr ns nt nu b">p_b</code>分别表示大使A和大使B抽取白球的概率，</li><li id="07c9" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated"><code class="fe nr ns nt nu b">n_draws</code>表示允许的最大抽奖次数(默认值= 9999)，</li></ul><p id="e84d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我们有以下功能:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="bab2" class="nz la it nu b gy oa ob l oc od">ambassadors_game &lt;- function(p_a, p_b, n_draws = 9999) {<br/>  q_a &lt;- (1 - p_a)<br/>  q_b &lt;- (1 - p_b)</span><span id="b109" class="nz la it nu b gy op ob l oc od">  a_win &lt;- q_b * p_a<br/>  b_win &lt;- q_a * p_b</span><span id="8a59" class="nz la it nu b gy op ob l oc od">  tie &lt;- (p_a * p_b) + (q_a * q_b)</span><span id="7e73" class="nz la it nu b gy op ob l oc od">  p_tie &lt;- c() # set empty vector for prob of ties<br/>  a_win_tot &lt;- c() # set empty vector for prob of A winning<br/>  b_win_tot &lt;- c() # set empty vector for prob of B winning</span><span id="49d6" class="nz la it nu b gy op ob l oc od">  # find number of necessary draws:<br/>  for (i in 1:n_draws) {<br/>    p_tie[i] &lt;- tie^i # prob of tie for each draw<br/>    limit_ndraws &lt;- sum(p_tie &gt; 2.2e-16) # number of necessary draws<br/>  }</span><span id="6573" class="nz la it nu b gy op ob l oc od">  # compute A and B winning probabilities with the smallest number of necessary draws:<br/>  for (i in 1:limit_ndraws) {<br/>    a_win_tot[i] &lt;- ((tie^(i - 1)) * a_win) # prob of A winning up to limited number of draws<br/>    b_win_tot[i] &lt;- ((tie^(i - 1)) * b_win) # prob of B winning up to limited number of draws<br/>  }</span><span id="1a8c" class="nz la it nu b gy op ob l oc od">  # save P(A), P(B) and number of necessary draws:<br/>  res &lt;- list(<br/>    "p_a" = sum(a_win_tot),<br/>    "p_b" = sum(b_win_tot),<br/>    "ndraws" = limit_ndraws<br/>  )<br/>  # print results:<br/>  return(res)<br/>}</span></pre><p id="c9df" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我们测试这个函数，看看它是否与上面的结果相匹配。</p><p id="c051" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">首先，如果两位大使都有相同的骨灰盒，就像2022赛季之前的情况一样:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="3855" class="nz la it nu b gy oa ob l oc od">ambassadors_game(<br/>  p_a = 1 / 2,<br/>  p_b = 1 / 2<br/>)</span><span id="a81c" class="nz la it nu b gy op ob l oc od">## $p_a<br/>## [1] 0.5<br/>## <br/>## $p_b<br/>## [1] 0.5<br/>## <br/>## $ndraws<br/>## [1] 52</span></pre><p id="1da5" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">游戏的确很公平，每个大使都有50%的胜算。</p><p id="9582" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">第二，向Louana和Colin赠送骨灰盒，但仅限于第一次抽奖(任意设置Louana为大使A，Colin为大使B):</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="2a9d" class="nz la it nu b gy oa ob l oc od"># first draw only<br/>ambassadors_game(<br/>  p_a = 1 / 2,<br/>  p_b = 1 / 3,<br/>  n_draws = 1<br/>)</span><span id="be6f" class="nz la it nu b gy op ob l oc od">## $p_a<br/>## [1] 0.3333333<br/>## <br/>## $p_b<br/>## [1] 0.1666667<br/>## <br/>## $ndraws<br/>## [1] 1</span></pre><p id="c2fc" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">第三，仍然是向Louana和Colin赠送骨灰盒，但游戏仅限于3和5次平局:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="c33f" class="nz la it nu b gy oa ob l oc od"># up to 3 draws<br/>ambassadors_game(<br/>  p_a = 1 / 2,<br/>  p_b = 1 / 3,<br/>  n_draws = 3<br/>)</span><span id="9c9a" class="nz la it nu b gy op ob l oc od">## $p_a<br/>## [1] 0.5833333<br/>## <br/>## $p_b<br/>## [1] 0.2916667<br/>## <br/>## $ndraws<br/>## [1] 3</span><span id="7ea9" class="nz la it nu b gy op ob l oc od"># up to 5 draws<br/>ambassadors_game(<br/>  p_a = 1 / 2,<br/>  p_b = 1 / 3,<br/>  n_draws = 5<br/>)</span><span id="6463" class="nz la it nu b gy op ob l oc od">## $p_a<br/>## [1] 0.6458333<br/>## <br/>## $p_b<br/>## [1] 0.3229167<br/>## <br/>## $ndraws<br/>## [1] 5</span></pre><p id="6f6d" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">现在，我们来看看2022年兰大岛上Louana和Colin的真实情况:</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="40a2" class="nz la it nu b gy oa ob l oc od"># Koh-Lanta 2022 situation<br/>out &lt;- ambassadors_game(<br/>  p_a = 1 / 2,<br/>  p_b = 1 / 3<br/>)</span><span id="d80c" class="nz la it nu b gy op ob l oc od">out</span><span id="6165" class="nz la it nu b gy op ob l oc od">## $p_a<br/>## [1] 0.6666667<br/>## <br/>## $p_b<br/>## [1] 0.3333333<br/>## <br/>## $ndraws<br/>## [1] 52</span></pre><p id="c520" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">所有结果都与上述结果相符。</p><p id="2a44" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">(注意，每个大使的概率可以提取如下:)</p><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="b7e9" class="nz la it nu b gy oa ob l oc od"># prob ambassador A<br/>out$p_a</span><span id="6c34" class="nz la it nu b gy op ob l oc od">## [1] 0.6666667</span><span id="279f" class="nz la it nu b gy op ob l oc od"># prob ambassador B<br/>out$p_b</span><span id="690f" class="nz la it nu b gy op ob l oc od">## [1] 0.3333333</span></pre><h1 id="9a49" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论</h1><p id="e798" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最初的问题来自电视节目Koh-Lanta，是“如果每个参与者玩大使游戏，他们获胜的概率是多少？".</p><p id="5aa3" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在本文中，我们展示了如何计算这些概率。此外，我们已经说明了如何将一个简单的概率问题推广到适合许多真实生活情况的过程，以及如何使用一个<code class="fe nr ns nt nu b">for loop</code>和一个函数将真实生活情况实现到r。</p><p id="662c" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">最后但同样重要的是，我想重点谈谈两位大使回到岛上向其他冒险者宣布他们的选择后Denis Brogniart(该节目的著名主持人)所说的话。他提到，由于惩罚折磨黄色部落，有16%的机会之间的差异Louana和科林。</p><p id="2614" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">这自然来源于以下两种情况:</p><p id="90d5" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="nb">第一种情况:</em></p><ul class=""><li id="69ce" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana有50%的几率挑到白球。</li><li id="27f9" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有33.33%的几率挑到白球。</li><li id="70b6" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">差额为50–33.33 = 16.67%，四舍五入为16%。</li></ul><p id="4163" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">或者，如果游戏仅限于第一次抽牌:</p><p id="847f" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="nb">第二种情况:</em></p><ul class=""><li id="492d" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana有33.33%的机会赢得比赛。</li><li id="a341" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有16.67%的几率赢得比赛。</li><li id="2a30" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">差额为33.33–16.67 = 16.66%，四舍五入为16%。</li></ul><p id="45c6" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">的确，从这两个角度看问题，差距在16%左右。Denis Brogniart提到这16%的差异是正确的。</p><p id="d239" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">然而，如果我们从更广泛的角度来看这场比赛，两位大使之间的机会差异更大<em class="nb">。游戏规则说只有当有赢家时才停止。从这个角度来看，如上所述:</em></p><ul class=""><li id="fecb" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nq ni nj nk bi translated">Louana有66.67%的几率赢得比赛。</li><li id="a6c5" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated">科林有33.33%的几率赢得比赛。</li></ul><p id="ef8b" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">在这种情况下，两位大使获胜的概率差是66.67–33.33 = 33.34%！</p><p id="21b2" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我必须承认，我没有料到两位大使之间会有如此大的分歧。从这个角度来看大使们的游戏看起来与我们被告知的不同，或者与我们在实际计算概率之前所想的不同。(Denis Brogniart，如果你碰巧读到这篇文章，请告诉我这种相对较大的差异是否是有意的。)</p><p id="a18a" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">对于那些不看这部剧的人来说:当大使们和所有冒险者一起回到岛上时，科林受到了部落成员的严厉批评。他不玩大使游戏的决定(以及为了自救而消灭一名部落成员的决定)被视为背叛。这样的结果是，他在那一集之后就直接被重新组合的部落淘汰了。</p><p id="2255" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">我将以下面的问题来结束这篇文章:</p><blockquote class="oq or os"><p id="f4d7" class="lr ls nb lt b lu mw ju lw lx mx jx lz ot my mc md ou mz mg mh ov na mk ml mm im bi translated"><em class="it">如果你是2022年Koh-Lanta赛季的大使，现在你知道了每个部落获胜的确切概率，你会怎么做？</em></p></blockquote><p id="c0ba" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">感谢阅读。</p><p id="1909" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated">和往常一样，如果您有任何与本文主题相关的问题，请添加评论，以便其他读者可以从讨论中受益。</p></div><div class="ab cl ox oy hx oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="im in io ip iq"><ol class=""><li id="3def" class="nc nd it lt b lu mw lx mx ma ne me nf mi ng mm nh ni nj nk bi translated">我们永远不会知道，如果两位大使获胜的机会相等，他是否会参加这场比赛。自从我开始看这个电视节目，我从来没有见过任何大使谈判导致大使的游戏，他们都以指定一个冒险家结束。<a class="ae ky" href="https://statsandr.com/blog/koh-lanta-2022-ambassadors-probability-problem/#fnref1" rel="noopener ugc nofollow" target="_blank"> ↩︎ </a></li><li id="0cbb" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nh ni nj nk bi translated">老实说，我想计算这些概率，因为当我和我的女朋友一起看节目时，她看着我问“它们每个的概率是多少？”。我现在可以给她一个明确的答复。<a class="ae ky" href="https://statsandr.com/blog/koh-lanta-2022-ambassadors-probability-problem/#fnref2" rel="noopener ugc nofollow" target="_blank"> ↩︎ </a></li></ol><h1 id="a6ae" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">相关文章</h1><ul class=""><li id="2efd" class="nc nd it lt b lu lv lx ly ma pe me pf mi pg mm nq ni nj nk bi translated"><a class="ae ky" href="https://statsandr.com/blog/the-9-concepts-and-formulas-in-probability-that-every-data-scientist-should-know/" rel="noopener ugc nofollow" target="_blank">每个数据科学家都应该知道的概率中的9个概念和公式</a></li><li id="db4c" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated"><a class="ae ky" href="https://statsandr.com/blog/paper-semi-markov-modeling-for-cancer-insurance/" rel="noopener ugc nofollow" target="_blank">论文:《癌症保险的半马尔可夫建模》</a></li><li id="4c77" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated"><a class="ae ky" href="https://statsandr.com/blog/kruskal-wallis-test-nonparametric-version-anova/" rel="noopener ugc nofollow" target="_blank">克鲁斯卡尔-沃利斯检验，或者方差分析的非参数版本</a></li><li id="8ac4" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated"><a class="ae ky" href="https://statsandr.com/blog/multiple-linear-regression-made-simple/" rel="noopener ugc nofollow" target="_blank">使多元线性回归变得简单</a></li><li id="8afd" class="nc nd it lt b lu nl lx nm ma nn me no mi np mm nq ni nj nk bi translated"><a class="ae ky" href="https://statsandr.com/blog/hypothesis-test-by-hand/" rel="noopener ugc nofollow" target="_blank">手工假设检验</a></li></ul></div><div class="ab cl ox oy hx oz" role="separator"><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc pd"/><span class="pa bw bk pb pc"/></div><div class="im in io ip iq"><p id="31de" class="pw-post-body-paragraph lr ls it lt b lu mw ju lw lx mx jx lz ma my mc md me mz mg mh mi na mk ml mm im bi translated"><em class="nb">原载于2022年5月16日https://statsandr.com</em><a class="ae ky" href="https://statsandr.com/blog/koh-lanta-2022-ambassadors-probability-problem/" rel="noopener ugc nofollow" target="_blank"><em class="nb"/></a><em class="nb">。</em></p></div></div>    
</body>
</html>