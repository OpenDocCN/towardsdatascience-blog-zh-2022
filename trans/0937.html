<html>
<head>
<title>Download Rainfall Satellite Data from CHRS Data Portal using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用 Python 从 CHRS 数据门户下载雨量卫星数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/download-rainfall-satellite-data-from-chrs-data-portal-using-python-1055d55bef0d#2022-03-12">https://towardsdatascience.com/download-rainfall-satellite-data-from-chrs-data-portal-using-python-1055d55bef0d#2022-03-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="a2a3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">教程-使用 Python 模块轻松查询和下载降雨卫星数据以进行快速分析</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/ea5a31fc5c46427b1db69a9db67ecca1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6mSBqtUvM1YULLnaQBH3hw.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用 Python 从 CHRS 数据门户下载雨量卫星数据。CHRS 制作的<a class="ae kv" href="https://irain.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank"> iRain 工具</a>截图。</p></figure><p id="000e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">降雨量是几个用例的重要指标，包括农业生产率增长分析、气候变化分析等。了解一个地区的降雨模式和波动有助于制定农业季节的战略计划。</p><p id="571e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">有几个数据源提供降雨卫星数据。CHRS 门户网站是其中之一，它提供基于遥感卫星数据的全球降雨指标。在本教程中，让我们看看如何使用 python 从 CHRS 数据门户下载降雨卫星数据。</p><p id="a2e1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的其他文章:</p><div class="ls lt gp gr lu lv"><a href="https://www.samashti.space/articles/why-you-need-to-use-geopackage-files-instead-of-shapefile-or-geojson" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">为什么需要使用 Geopackage 文件而不是 shapefile 或 GeoJSON？- Samashti |博客</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">如果您一直在使用矢量数据并进行空间分析，您应该知道 shapefile 和 geojson。这是其中的两个…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.samashti.space</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><div class="ls lt gp gr lu lv"><a href="https://www.samashti.space/articles/how-to-use-qgis-spatial-algorithms-with-python-scripts" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">如何通过 python 脚本使用 QGIS 空间算法？- Samashti |博客</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">当您了解 GIS 和空间分析时，QGIS 是您最先接触到的工具之一。你几乎可以处理…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.samashti.space</p></div></div><div class="me l"><div class="mk l mg mh mi me mj kp lv"/></div></div></a></div><h1 id="0c88" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">什么是 CHRS？</h1><p id="67b5" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">CHRS 代表水文气象和遥感中心。这是一个由加州大学欧文分校(UCI)建立的中心。CHRS 大学在其教师和研究人员的帮助下，建立了一系列旨在解决水文过程相关问题的产品/系统。这些产品利用遥感数据和机器学习(神经网络)模型来了解和预测各种活动对水资源的影响。</p><p id="0bd3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">CHRS 数据门户通过多个项目提供降水和相关产品。例如，<a class="ae kv" href="https://chrs.web.uci.edu/SP_activities00.php" rel="noopener ugc nofollow" target="_blank"> PERSIANN </a>(使用人工神经网络从遥感信息中估计降雨量)系统根据遥感数据计算降雨量的估计值。其他系统还有<a class="ae kv" href="https://chrs.web.uci.edu/SP_activities01.php" rel="noopener ugc nofollow" target="_blank"> PERSIANN-CCS </a>，<a class="ae kv" href="https://climatedataguide.ucar.edu/climate-data/persiann-cdr-precipitation-estimation-remotely-sensed-information-using-artificial" rel="noopener ugc nofollow" target="_blank"> PERSIANN-CDR </a>，<a class="ae kv" href="https://journals.ametsoc.org/view/journals/hydr/21/12/jhm-d-20-0177.1.xml" rel="noopener ugc nofollow" target="_blank">PDIR-现在</a>，<a class="ae kv" href="https://www.nature.com/articles/s41597-021-00940-9" rel="noopener ugc nofollow" target="_blank"> PERSIANN-CCS-CDR </a>。这些数据公布在公共领域，供所有人使用。</p><blockquote class="ni nj nk"><p id="d5fa" class="kw kx nl ky b kz la jr lb lc ld ju le nm lg lh li nn lk ll lm no lo lp lq lr ij bi translated">💡注:CHRS 还提供了两个探索性工具来直接在浏览器上可视化数据— <a class="ae kv" href="https://irain.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank"> iRain </a>、<a class="ae kv" href="https://rainsphere.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank"> RainSphere </a>。</p></blockquote><h1 id="a1e0" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">[计]元数据</h1><h1 id="5f39" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">佩尔夏恩</h1><p id="cd43" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><strong class="ky ir">数据周期:</strong>2000 年 3 月至今</p><p id="f230" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">覆盖范围:</strong>60° S 至 60 N</p><p id="6e20" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">分辨率:</strong> 0.25 x 0.25</p><p id="81dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> HTTP 下载(全地球):</strong> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/hrly/" rel="noopener ugc nofollow" target="_blank">每小时一次、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/3hrly/" rel="noopener ugc nofollow" target="_blank"> 3 小时一次、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/6hrly/" rel="noopener ugc nofollow" target="_blank"> 6 小时一次、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/daily/" rel="noopener ugc nofollow" target="_blank">每天一次、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/monthly/" rel="noopener ugc nofollow" target="_blank">每月一次、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/yearly/" rel="noopener ugc nofollow" target="_blank">每年一次</a></p><p id="9a69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">FTP 也可用:ftp://persiann.eng.uci.edu/CHRSdata/PERSIANN</p><p id="0dea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">最新更新:</strong>接近实时，延迟 2 天</p><h1 id="cb17" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">PERSIANN-CCS</h1><p id="06ed" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">数据周期:2003 年 1 月至今</p><p id="0ce7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">覆盖范围:</strong>60° S 至 60 N</p><p id="7190" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">分辨率:</strong>0.04×0.04</p><p id="cc6e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> HTTP 下载(全地球):</strong><a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/hrly/" rel="noopener ugc nofollow" target="_blank"/><a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/3hrly/" rel="noopener ugc nofollow" target="_blank">每小时一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/6hrly/" rel="noopener ugc nofollow" target="_blank">每小时三次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/daily/" rel="noopener ugc nofollow" target="_blank">每天一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/mthly/" rel="noopener ugc nofollow" target="_blank">每月一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS/yearly/" rel="noopener ugc nofollow" target="_blank">每年一次</a></p><p id="cf5c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> FTP 也可用:</strong>ftp://persiann.eng.uci.edu/CHRSdata/PERSIANN-CCS</p><p id="a843" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">最新更新:</strong>实时</p><h1 id="d069" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">PERSIANN-CDR</h1><p id="ce22" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">数据周期:1983 年 1 月至今</p><p id="21e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">覆盖范围:</strong>南纬 60°至北纬 60°</p><p id="a24b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">分辨率:</strong> 0.25 x 0.25</p><p id="e16a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> HTTP 下载(全地球):</strong> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR/daily/" rel="noopener ugc nofollow" target="_blank">每日、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR/mthly/" rel="noopener ugc nofollow" target="_blank">每月、</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR/yearly/" rel="noopener ugc nofollow" target="_blank">每年</a></p><p id="dbea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> FTP 也可用:</strong>ftp://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR</p><p id="bb93" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">3hr PERSIANN-CDR:</strong><a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR/adj_3hB1" rel="noopener ugc nofollow" target="_blank">3hr PERSIANN-CDR，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN-CDR/adj_3hB1/README_PERSIANN-CDR_3hr.txt" rel="noopener ugc nofollow" target="_blank">自述</a></p><p id="9bbe" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">最新更新:</strong>2020 年 9 月</p><h1 id="efac" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">PDIR-现在</h1><p id="3120" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated"><strong class="ky ir">数据周期:</strong>2000 年 3 月 1 日至今</p><p id="b9e6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">覆盖范围:</strong> 60 S 到 60 N</p><p id="4fb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">分辨率:</strong>0.04×0.04</p><p id="10f5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> HTTP 下载(全地球):</strong><a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNow1hourly/" rel="noopener ugc nofollow" target="_blank"/><a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNow3hourly/" rel="noopener ugc nofollow" target="_blank">每小时一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNow6hourly/" rel="noopener ugc nofollow" target="_blank">每小时三次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNowdaily/" rel="noopener ugc nofollow" target="_blank">每天一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNowmonthly/" rel="noopener ugc nofollow" target="_blank">每月一次，</a> <a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNowyearly/" rel="noopener ugc nofollow" target="_blank">每年一次</a></p><p id="9e2a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据文件格式:<a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PDIRNow/PDIRNow_readme.txt" rel="noopener ugc nofollow" target="_blank"> PDIRNow 自述文件</a></p><p id="c6a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> FTP 也可用:</strong>ftp://persiann.eng.uci.edu/CHRSdata/PDIRNow</p><h1 id="5ead" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">下载数据</h1><h1 id="472e" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">在门户上查询数据</h1><p id="b305" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">任何用户都可以通过在<a class="ae kv" href="https://chrsdata.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank"> CHRS 数据门户</a>上创建查询来下载全球任何地方的降雨卫星数据。对于每个数据集，您可以从下拉列表中选择可用的时态粒度，并选择过滤域。过滤域可以是全球、任何特定的国家、地区或位置。您甚至可以提供一个 shapefile 来查询数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi np"><img src="../Images/229176f628e2f9e372749c6fd53e6f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*VJiQT3B2NiTDTmnWDW1lcQ.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">从 CHRS 数据门户查询数据以下载降水数据。<a class="ae kv" href="https://chrsdata.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank">查询工具</a>作者截图。</p></figure><p id="2dc3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">选择时间步长、属性域和数据集后，提供开始和结束日期以及可用选项(ArcGrid、NetCDF、Tif)中的下载数据格式。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/5ee73e126e160521b1d0e6e06c144ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*39OCQwHu5QPG1wZTGOaOXQ.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">查询 2021 年 PERSIANN 数据的示例，粒度为全球每月。<a class="ae kv" href="https://chrsdata.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank">查询工具</a>作者截图。</p></figure><p id="8ed1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成查询的详细信息并单击下载按钮后，您将被带到一个对话框，提供电子邮件地址。成功提交后，您将通过电子邮件收到一个链接，通过提供的地址下载数据。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nr"><img src="../Images/871cad981e08ae3369f771d6ceedb42a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AmPSoT4Y7HFIPVLBrdTZyQ.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">在提示中提供电子邮件地址。您应该会收到一封邮件，其中包含所查询数据的下载链接。<a class="ae kv" href="https://chrsdata.eng.uci.edu/" rel="noopener ugc nofollow" target="_blank">查询工具</a>作者截图。</p></figure><p id="4198" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您需要手动浏览用户界面来查询数据，并通过电子邮件提示流程下载数据。此外，下载链接是通过电子邮件发送的，这只会减慢下载过程。还有一种替代方法，你可以通过它下载数据，以避免电子邮件的提示。</p><h1 id="3f52" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">HTTP 下载</h1><p id="f4cd" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">CHRS 还通过一个 HTTP 服务器提供数据，你可以用它来下载数据。根据每个数据集的可用时间步长，可用数据适用于整个地球。您可以参考上面的元数据部分，以获得可用时间步长及其各自 HTTP 服务器链接的概述。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/1de04360307e77daaa174f2811367f29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*7P7VLAtXY4M1GE8Mt1thTQ.jpeg"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">HTTP 服务器上 PERSIANN 系统的每日降雨量数据。作者提供的<a class="ae kv" href="https://persiann.eng.uci.edu/CHRSdata/PERSIANN/daily/" rel="noopener ugc nofollow" target="_blank"> HTTP 服务器</a>的截图。</p></figure><p id="bdf4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然这种方法可以帮助您克服电子邮件验证过程，但是您必须手动下载每个观察的文件。与您可以在 UI 上进行的灵活查询相比，数据可以以“. bin.gz”格式提供。</p><h1 id="607a" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">使用 Python</h1><p id="b105" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">上述两种方法都有一些局限性。因此，我使用 python 构建了一个实用程序库来处理从 CHRS 数据门户查询和下载降雨卫星数据。实用程序库<a class="ae kv" href="https://github.com/samashti/chrs-persiann-util" rel="noopener ugc nofollow" target="_blank"> chrs-persiann-util </a>让您可以查询不同时间步长和文件格式的可用数据集。</p><div class="ls lt gp gr lu lv"><a href="https://github.com/samashti/chrs-persiann-util" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">GitHub-samashti/chrs-Persian n-util:一个搜索、下载全球水平 PERSIANN…</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">从 CHRS 数据门户中心搜索、下载全球水平个人降水数据的实用程序</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">github.com</p></div></div><div class="me l"><div class="nt l mg mh mi me mj kp lv"/></div></div></a></div><p id="563e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要安装这个库，请将 GitHub 项目克隆到您的本地，并从您的终端的根目录运行以下命令；</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="8f0b" class="nz mm iq nv b gy oa ob l oc od">python setup.py install</span></pre><p id="eeb4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，您也可以直接从 Github 链接安装；</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="cfda" class="nz mm iq nv b gy oa ob l oc od">pip install git+https://github.com/samashti/chrs-persiann-util.git</span></pre><p id="44ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">安装完成后，您可以使用该库下载数据，如下所示:</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="6063" class="nz mm iq nv b gy oa ob l oc od">from chrs_persiann import CHRS</span><span id="fcce" class="nz mm iq nv b gy oe ob l oc od">params = {<br/>    'start': '2021010100',<br/>    'end': '2021010300',<br/>    'mailid': 'test@gmail.com',<br/>    'download_path': '~/Downloads',<br/>    'file_format': 'Tif',<br/>    'timestep': 'daily',<br/>    'compression': 'zip'<br/>}</span><span id="090e" class="nz mm iq nv b gy oe ob l oc od">dl = CHRS()</span><span id="b82a" class="nz mm iq nv b gy oe ob l oc od"># PERSIANN<br/>dl.get_persiann(**params)</span></pre><p id="a502" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在<a class="ae kv" href="https://github.com/samashti/chrs-persiann-util#readme" rel="noopener ugc nofollow" target="_blank"> Github </a>上阅读更多关于库和输入查询参数标准的用法。</p><h1 id="c021" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">下载和可视化降雨数据</h1><p id="4931" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">让我们来看一下一月份的降雨量卫星数据。你也可以在 Google Colab 上找到这个例子。</p><div class="ls lt gp gr lu lv"><a href="https://colab.research.google.com/drive/1erI4OIrZZkqQfz5FEzmp_q4nxD7PcHnc?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">谷歌联合实验室</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">编辑描述</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">colab.research.google.com</p></div></div><div class="me l"><div class="of l mg mh mi me mj kp lv"/></div></div></a></div><p id="27a6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们首先初始化所需的 python 模块。我们使用 rasterio 来读取下载后的栅格数据。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="0c78" class="nz mm iq nv b gy oa ob l oc od">import rasterio<br/>import zipfile<br/>from chrs_persiann import CHRS</span></pre><p id="e0a2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这里，我们想下载 2022 年 1 月的个人数据。因此，我将相应的查询参数传递给实用程序库，并下载 zip 格式的降雨卫星数据。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="6a54" class="nz mm iq nv b gy oa ob l oc od">params = {<br/>    'start': '2021010100',<br/>    'end': '2021013100',<br/>    'mailid': 'test@gmail.com',<br/>    'download_path': '/home/',<br/>    'file_format': 'Tif',<br/>    'timestep': 'monthly',<br/>    'compression': 'zip'<br/>}</span><span id="f38a" class="nz mm iq nv b gy oe ob l oc od">dl.get_persiann(**params)</span></pre><p id="a21d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您应该可以在日志中看到正在进行的查询和订购过程，如下所示；</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="8868" class="nz mm iq nv b gy oa ob l oc od">Querying data &amp; Placing the order...<br/>Query Params:</span><span id="a00c" class="nz mm iq nv b gy oe ob l oc od">start date - 2021010100<br/>end date - 2021013100<br/>time step - monthly<br/>data type - PERSIANN<br/>file format - Tif<br/>compression format - zip<br/>download path - /home/</span><span id="49cc" class="nz mm iq nv b gy oe ob l oc od">Query complete.<br/>Order Details - User IP: 108598346, File: 2022-03-10074331am<br/>Generating Data url...<br/>File url Generated - &lt;https://chrsdata.eng.uci.edu/userFile/108598346/temp/PERSIANN/PERSIANN_2022-03-10074331am.zip&gt;<br/>Downloading compressed data file - /home/PERSIANN_2022-03-10074331am.zip<br/>Download Complete ------------------------------------------</span></pre><p id="d408" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，我们检查下载的 zip 文件并查看可用的光栅文件。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="6a20" class="nz mm iq nv b gy oa ob l oc od">file = '/home/PERSIANN_2022-03-10074331am.zip'<br/>z = zipfile.ZipFile(file)<br/>z.filelist</span></pre><p id="2c8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们看到<code class="fe og oh oi nv b">PERSIANN_1m202101.tif</code>是 zip 文件内容的一部分，我们有兴趣使用 rasterio 读取这个文件。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="a859" class="nz mm iq nv b gy oa ob l oc od">rasterfile = z.filelist[0].filename<br/>raster = rasterio.open(f'/vsizip/{file}/{rasterfile}')</span></pre><p id="c2bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">成功读取栅格后，我们可以利用 rasterio 和 matplotlib 库快速可视化栅格。</p><pre class="kg kh ki kj gt nu nv nw nx aw ny bi"><span id="03c7" class="nz mm iq nv b gy oa ob l oc od">from rasterio.plot import show<br/>from matplotlib import pyplot as plt</span><span id="e3ea" class="nz mm iq nv b gy oe ob l oc od">fig, ax = plt.subplots(figsize=(30,9))</span><span id="5e58" class="nz mm iq nv b gy oe ob l oc od"># use imshow so that we have something to map the colorbar to<br/>image_hidden = ax.imshow(raster.read(1), cmap='viridis')</span><span id="0673" class="nz mm iq nv b gy oe ob l oc od"># plot on the same axis with rio.plot.show<br/>image = show(raster.read(1), transform=raster.transform, ax=ax, cmap='viridis')</span><span id="aed7" class="nz mm iq nv b gy oe ob l oc od"># add colorbar using the now hidden image<br/>fig.colorbar(image_hidden, ax=ax)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/64e115cd1a7e5c0c722cd06a56f57a35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xXh_IIVOrWKrRGNdBdcxgA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">2022 年 1 月全球 CHRS 降雨数据。图片作者。</p></figure><h1 id="31c4" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">摘要</h1><p id="5511" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">在这个快速教程中，我们学习了如何通过多种方法从 CHRS 门户网站下载降雨卫星数据，包括使用 python 模块。chrs-persiann-util 将帮助您对数据集进行查询，并从您的代码中下载进行快速分析。如果您喜欢试验代码，您可以查看这个 Google Colab 笔记本上的代码。</p><div class="ls lt gp gr lu lv"><a href="https://colab.research.google.com/drive/1erI4OIrZZkqQfz5FEzmp_q4nxD7PcHnc?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">谷歌联合实验室</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">编辑描述</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">colab.research.google.com</p></div></div><div class="me l"><div class="of l mg mh mi me mj kp lv"/></div></div></a></div><p id="1ae4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你喜欢这个博客，喜欢&amp;订阅博客，以获得关于未来博客帖子的通知。如有任何疑问或讨论，你可以在<a class="ae kv" href="https://www.linkedin.com/in/nikhilhubballi/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae kv" href="https://twitter.com/samashti_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>上找到我。</p><p id="52e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">阅读其他帖子:</p><div class="ls lt gp gr lu lv"><a href="https://www.samashti.space/articles/how-to-geocode-addresses-for-free" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">如何免费对地址进行地理编码？- Samashti |博客</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">近年来，位置数据的使用一直在增加。我们做的每件事都有地理标签。可能是……</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.samashti.space</p></div></div><div class="me l"><div class="ok l mg mh mi me mj kp lv"/></div></div></a></div><div class="ls lt gp gr lu lv"><a href="https://www.samashti.space/articles/why-geospatial-data-is-the-way-forward-in-data-analytics" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">为什么地理空间数据是数据分析的发展方向？- Samashti |博客</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">在过去的 10 年里，数据科学和分析已经成为各地的热门话题。数据分析帮助了…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.samashti.space</p></div></div><div class="me l"><div class="ol l mg mh mi me mj kp lv"/></div></div></a></div></div></div>    
</body>
</html>