<html>
<head>
<title>Setting up Apple’s Custom Silicon Devices for Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为数据科学设置苹果定制芯片设备</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/setting-up-apples-custom-silicon-devices-for-data-science-c70bf671b901#2022-07-25">https://towardsdatascience.com/setting-up-apples-custom-silicon-devices-for-data-science-c70bf671b901#2022-07-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a52e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">两分钟内准备好任何M1和M2机器</h2></div><p id="fe1b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">随着定制片上系统第二代产品的发布，苹果再次提高了计算能力。新的M2芯片支持高达24 GB的主内存，并可以提供多达10个GPU核心。虽然与M1 Pro、Ultra和Max型号相比，这款产品目前还很小，但预计第二代产品将在以后推出更高性能的版本。</p><figure class="lf lg lh li gt lj gh gi paragraph-image"><div role="button" tabindex="0" class="lk ll di lm bf ln"><div class="gh gi le"><img src="../Images/76d75e71739cfe484cea469967583d97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*P_EREM42yl1jhv72"/></div></div><p class="lq lr gj gh gi ls lt bd b be z dk translated">由<a class="ae lu" href="https://unsplash.com/@alesnesetril?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Ales Nesetril </a>在<a class="ae lu" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="bd6d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在此之前，我们可以最大限度地利用当前的计算能力。然而，从基于英特尔的系统转换到定制芯片后，设置Mac电脑变得有点复杂。在<a class="ae lu" rel="noopener" target="_blank" href="/setting-up-apples-new-m1-macbooks-for-machine-learning-f9c6d67d2c0f">这个指南的早期版本</a>中，我手动指导你一步一步地完成这个过程。自从这篇文章发表后，我收到了反馈，并对设置有了更多的了解。更多的知识带来更多的可能性，在这篇文章中，我将向您展示一个自动化安装过程的脚本。该脚本可以在任何M*设备上运行，无论是最初的M1芯片，它的兄弟，还是全新的M2版本。</p><h2 id="6fea" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">运行完整的脚本</h2><p id="88ae" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">该脚本让您在不到两分钟的时间内解决我的设置中的机器学习问题。它有20行代码，其中9行(约50%)是注释，让我们了解安装过程的最新情况。</p><p id="f621" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">如果你只有两分钟的时间，下面是方法:</strong>要运行这个脚本，下载源代码。为此，打开一个新的终端窗口(Spotlight →终端)并输入</p><blockquote class="mt mu mv"><p id="ea85" class="ki kj mw kk b kl km ju kn ko kp jx kq mx ks kt ku my kw kx ky mz la lb lc ld im bi translated"><em class="it">wget</em><a class="ae lu" href="https://github.com/phrasenmaeher/apple__ml_setup/blob/main/apple_setup.sh" rel="noopener ugc nofollow" target="_blank"><em class="it">https://github . com/phrasenmaeher/apple _ _ ml _ setup/blob/main/apple _ setup . sh</em></a></p></blockquote><p id="bc00" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这会将安装脚本下载到您的机器上。接下来，键入<em class="mw"> chmod +x apple_setup.sh </em>，这使得脚本可执行。最后，键入<em class="mw">。/apple_setup.sh </em>开始安装。</p><p id="eab0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">整个脚本如下所示。每当我在这篇文章的剩余部分提到行号时，我指的是这个完整脚本的行:</p><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="na nb l"/></div></figure><h2 id="ef66" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">安装MiniForge</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="d90f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在前四行中，我们下载并安装了MiniForge的最新版本，这是一个适用于Apple系统的最小Anaconda版本。最小化意味着它不臃肿，只包含基本的特性。这对于我们的用例来说已经足够了；我们将手动安装所有需要的东西。通常，我们需要包管理器软件来处理我们机器学习任务所需的所有不同工具。简而言之，该软件允许我们安装所有需要开始使用的软件包，例如TensorFlow和PyTorch。</p><h2 id="c119" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">创建新的虚拟环境</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="ca2f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在第五行(上面代码片段中的一行)，我们激活了新的MiniForge包管理器。</p><p id="8f9c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这随后让我们创建一个专门为机器学习任务设计的新环境。我们将这个环境命名为<em class="mw">机器学习</em>。每个虚拟环境可以看成一个盒子，每个项目通常使用自己的盒子。通过为每个项目使用单独的盒子，我们可以极大地减少项目之间不必要的干扰。这是Anaconda和MiniForge的主要工作。</p><h2 id="e8ab" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">安装TensorFlow</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="16ef" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">从第九行开始(在上面的代码片段中有一行)，我们激活我们的新环境，并继续安装TensorFlow。为此，我们需要一个特定的包，<em class="mw"> tensorflow-deps </em>，它是我们从苹果的软件库(也就是第14行的<em class="mw">-c Apple</em>；上面第一行)。之后，我们安装实际的TensorFlow包(第15行；上面第二行)。</p><h2 id="d2aa" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">安装PyTorch和Scikit-学习</h2><figure class="lf lg lh li gt lj"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="0593" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">安装TensorFlow之后，我们也是碰运气，安装了scikit-learn(通常叫做<em class="mw"> sklearn </em>)和PyTorch。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><p id="0f8d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样；您现在已经为机器学习准备好了一个环境！要在终端应用程序中激活它，请键入</p><blockquote class="mt mu mv"><p id="893f" class="ki kj mw kk b kl km ju kn ko kp jx kq mx ks kt ku my kw kx ky mz la lb lc ld im bi translated"><em class="it">source ~/miniforge 3/bin/activate</em></p></blockquote><p id="3891" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后输入</p><blockquote class="mt mu mv"><p id="76f1" class="ki kj mw kk b kl km ju kn ko kp jx kq mx ks kt ku my kw kx ky mz la lb lc ld im bi translated"><em class="it">康达激活机器学习</em></p></blockquote><p id="e15f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">来激活新的环境。在你选择的IDE中，你可能需要将解释器(让你运行代码的东西)指向<em class="mw">/Users/&lt;replace _ with _ your _ username&gt;/</em>miniforge 3<em class="mw">/envs/machine _ learning</em></p><p id="65c0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">对于这个过程的可视化，参见<a class="ae lu" rel="noopener" target="_blank" href="/setting-up-apples-new-m1-macbooks-for-machine-learning-f9c6d67d2c0f">我之前的帖子</a>并适当地插入上面的路径。</p><h2 id="a746" class="lv lw it bd lx ly lz dn ma mb mc dp md kr me mf mg kv mh mi mj kz mk ml mm mn bi translated">摘要</h2><p id="1112" class="pw-post-body-paragraph ki kj it kk b kl mo ju kn ko mp jx kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">在这篇博客中，我指导您完成了一个简短的安装脚本，让您在两分钟内为机器学习做好准备。它使用MiniForge来管理所需的包，并自动安装TensorFlow和PyTorch。重复我在开头写的内容:要运行脚本，通过打开一个新的终端窗口(Spotlight-&gt;Terminal)并输入</p><blockquote class="mt mu mv"><p id="e1c0" class="ki kj mw kk b kl km ju kn ko kp jx kq mx ks kt ku my kw kx ky mz la lb lc ld im bi translated"><em class="it">wget https://github . com/phrasenmaeher/apple _ _ ml _ setup/blob/main/apple _ setup . sh</em></p></blockquote><p id="3ef2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这会将安装脚本下载到您的机器上。接下来，键入<em class="mw"> chmod +x apple_setup.sh </em>，这使得脚本可执行。最后，输入<em class="mw">。/apple_setup.sh </em>开始安装。</p></div></div>    
</body>
</html>