<html>
<head>
<title>Why is it Important to Constantly Monitor Machine Learning and Deep Learning Models after Production?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么生产后不断监控机器学习和深度学习模型很重要？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/why-is-it-important-to-constantly-monitor-machine-learning-and-deep-learning-models-after-4136f6067547#2022-06-28">https://towardsdatascience.com/why-is-it-important-to-constantly-monitor-machine-learning-and-deep-learning-models-after-4136f6067547#2022-06-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="6f1c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解生产后监控ML和深度学习模型的重要性可以对这些模型给业务组织带来重大影响。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1d59745a57fbe27c623823f18081f3c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*w_5On4DZUTASidbJ"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">马库斯·斯皮斯克在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="0668" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">作为一个主要参与数据相关活动(如数据处理、数据操作和模型预测)的人，你还被赋予了作为数据科学家或机器学习工程师的额外任务，以<strong class="ky ir">实时部署</strong>产品。在完成了了解各种模型的正确<strong class="ky ir">参数</strong>并最终提出最佳模型的繁重工作后，实时部署模型可以在给<strong class="ky ir">业务</strong>留下深刻印象和创造<strong class="ky ir">货币</strong>影响的方式上产生重大影响。</p><p id="93ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，模型被部署，它能够根据训练它的历史数据进行预测并给出它的决策。此时，大多数人认为他们已经完成了很大一部分机器学习任务。虽然确实已经做了大量的工作，因此模型已经<strong class="ky ir">生产化</strong>，但是在机器学习生命周期中还有一个经常被忽略的步骤，那就是监控模型，并检查它们是否对未来数据或模型以前没有见过的数据执行。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ls"><img src="../Images/2f307a0e48cfb3de805379d90df4aec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wTtowLMXOGj4CBC4"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@cadop?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马修·施瓦茨</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="9919" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">尽管在训练ML模型和考虑我们任务的最佳评估度量上花费了大量时间，但是总会有测试数据<strong class="ky ir">分布</strong>可能与训练数据分布完全不同的情况。这听起来有点复杂，但是让我花点时间来进一步简化它。给你一个背景，假设你在2005年<strong class="ky ir"/>训练了一个健壮的<strong class="ky ir">推荐系统</strong>，向不同的用户推荐书籍。在那个年代，<strong class="ky ir">哈利波特</strong>系列曾经相当火爆，大多会被推荐。如果一个用户实际上寻找的书大多与儿童小说有关，他们很可能会被推荐《哈利·波特》。然而，在当今时代，如果只推荐《哈利·波特》系列，那就没有意义了，因为那里有很多其他作家的畅销书。这并不是要诋毁JK罗琳(哈利波特系列的作者)的作品，而是要展示在训练期间根据完全不同的数据训练的推荐系统模型可能并不总是在生产阶段可用的测试数据上表现最佳。因此，在对一组特定的数据训练模型，并期望它在分布与训练数据完全不同的数据上表现良好时，可能会出现问题。现在让我们来看看如果我们在生产后不监控我们的ML和深度学习模型，我们可能会面临的潜在问题。</p><h2 id="56a4" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">数据漂移</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mm"><img src="../Images/7062ce06f9e970767af5bd3bf7887072.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0gHqXssoFeTboxRH"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@fbazanegue?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">杨奇煜·巴赞内格</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="7f5d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们测试了大量模型，以根据评估指标(如均方误差或许多其他取决于业务需求的指标)获得最佳结果。此外，我们还进一步将数据分为<strong class="ky ir">训练</strong>和<strong class="ky ir">测试集</strong>，以便监控模型如何实时运行。我们在使用测试集时所做的一个基本假设是，该分布与我们实时查找数据的方式非常相似。如果生产时间中的数据反映了测试数据，那么模型也可以像对测试数据那样执行。尽管如此，总会有这样的情况，在生产时间中可用的数据与测试数据的分布非常<strong class="ky ir">不同。这种现象也被称为<strong class="ky ir">数据漂移</strong>，如果不加以控制，会导致公司损失大量利润。因此，在生产之后不断地监控模型以查看行为是否与测试阶段的实际预期相似是至关重要的。</strong></p><h2 id="2fdd" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">概念漂移</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mn"><img src="../Images/7fdb86febc2c45a2dc18f891a47090a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1DsUgbNrN8y5yXJP"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@jannerboy62?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">尼克·费因斯</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="6a3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当考虑包含输入数据<strong class="ky ir">‘X’</strong>和底层目标变量<strong class="ky ir">‘y’</strong>的受监督机器学习问题时，有许多ML模型试图理解X和y之间的关系。换句话说，它们试图基于一组不同的参数将输入‘X’与目标变量‘y’进行映射，这些参数取决于它们在幕后使用的算法。然而，由于我们无法控制的情况，也可能存在输入和输出之间的关系随时间变化的情况。这可能导致ML模型在实时部署时性能不佳。这也被称为概念漂移，即输入和输出之间的关系在几天或几个月的时间里发生了变化。因此，持续监控当前正在<strong class="ky ir">流向</strong>生产中的ML模型的数据，以确保它在没有概念漂移现象的情况下表现最佳，这可能会很方便。</p><h2 id="7db9" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">图书馆的贬值</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d9383a6435229390cbdcaa77d9484d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3HJoLQAV6clNnlDq"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@hadassah_carlson?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Hadassah Carlson </a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><p id="04ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在模型训练和特征工程阶段，为了获得最佳预测，实际使用了各种库。为了执行这些任务，使用了各种库，这些库通常使得训练模型的任务更容易遵循和简单使用。然而，随着时间的推移，这些库有时会被<strong class="ky ir">弃用</strong>，它们的一些特性也会发生变化。在这种情况下，当我们处理数据并执行预测时，执行<strong class="ky ir">最优</strong>的库现在不一定执行得很好。正是在这种情况下，持续的模型监控非常方便，最新的库和环境可以用来进一步改进模型及其预测。</p><h2 id="57ac" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">管道问题</h2><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mo"><img src="../Images/63d42593e9a49b93818b9a5adbcabc02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*wdXxD6-9pQ_TrukB"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/es/@quinten149?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">昆腾·德格拉夫</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="780a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了执行<strong class="ky ir">恒定流</strong>的操作，通常要考虑流水线，在这种方法中，大量的操作可以轻松执行。<strong class="ky ir">特征标准化</strong>和<strong class="ky ir">降维</strong>等操作都是在流水线中完成的，使得操作变得更加容易，并且易于部署。然而，当我们不能持续地监控模型时，管道中可能会出现问题。当我们试图不断加载数据并从我们的模型中获得预测时，这些管道可能会出现问题。当我们监控我们的模型时，我们有更大的机会检测到这些管道问题，并确保预测是实时生成的，而不会延迟它们的操作。</p><h2 id="ef43" class="lt lu iq bd lv lw lx dn ly lz ma dp mb lf mc md me lj mf mg mh ln mi mj mk ml bi translated">结论</h2><p id="d8f3" class="pw-post-body-paragraph kw kx iq ky b kz mp jr lb lc mq ju le lf mr lh li lj ms ll lm ln mt lp lq lr ij bi translated">在实时执行了模型部署任务之后，现在是时候持续监控模型的性能了。如果不定期进行监控，可能会出现数据漂移、概念漂移、管道问题以及各种库的废弃等问题。当我们不监控我们的模型时，也可能有其他问题。感谢您花时间阅读这篇文章。请随时让我知道你的想法和意见。</p><p id="7860" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是您联系我或查看我作品的方式。谢了。</p><p id="c45a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> GitHub: </strong> <a class="ae kv" href="https://github.com/suhasmaddali" rel="noopener ugc nofollow" target="_blank">苏哈斯·马达利(Suhas Maddali)(github.com)</a></p><p id="79ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> LinkedIn: </strong> <a class="ae kv" href="https://www.linkedin.com/in/suhas-maddali/" rel="noopener ugc nofollow" target="_blank"> (1)苏哈斯·马达利，东北大学，数据科学| LinkedIn </a></p><p id="3dde" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">中等: <a class="ae kv" href="https://suhas-maddali007.medium.com/" rel="noopener">苏哈斯·马达利——中等</a></p></div></div>    
</body>
</html>