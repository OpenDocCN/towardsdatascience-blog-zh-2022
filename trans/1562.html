<html>
<head>
<title>An Interactive Guide to Hypothesis Testing in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中假设检验的交互式指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-interactive-guide-to-hypothesis-testing-in-python-979f4d62d85#2022-04-15">https://towardsdatascience.com/an-interactive-guide-to-hypothesis-testing-in-python-979f4d62d85#2022-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="73a2" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">t检验、方差分析、卡方检验及示例</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/35f60b9fd102f9bddda15783425d60c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2hGMrCjLtVKtOKD_QnyuWA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python Cheatsheet中的统计测试(图片来自作者的<a class="ae ky" href="https://www.visual-design.net/" rel="noopener ugc nofollow" target="_blank">网站</a></p></figure><h1 id="4e5f" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">什么是假设检验？</h1><p id="4084" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">假设检验是推断统计学中的一个重要部分，在推断统计学中，我们使用样本中的观察数据来得出关于未观察数据(通常是总体)的结论。</p><p id="0812" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">假设检验的含义:</strong></p><ul class=""><li id="d3c5" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">临床研究:广泛用于心理学、生物学和医疗保健研究，以检验临床试验的有效性</li><li id="5dc9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">A/B测试:可应用于商业环境，通过测试不同版本的活动激励、网站设计等来提高转化率</li><li id="fbbc" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">机器学习中的特征选择:基于过滤器的特征选择方法使用不同的统计测试来确定特征的重要性</li><li id="c354" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">学院或大学:嗯，如果你主修统计学或数据科学，它很可能会出现在你的考试中…</li></ul><h1 id="3be2" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">假设检验的4个步骤</h1><p id="41c4" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><em class="ng">(如果你喜欢视频演练，也请查看我的YouTube视频。)</em></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nh ni l"/></div></figure><h2 id="2bba" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">第一步。定义无效假设和替代假设</h2><p id="401d" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated"><strong class="lt iu">零假设(H0) </strong>根据统计检验，可以有不同的表述，但可以概括为两个或多个变量之间不存在差异、不存在关系或不存在依赖关系。</p><p id="203f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">替代假设(H1) </strong>与零假设相矛盾，它声称关系存在。这是我们想要证明正确的假设。然而，在统计学中更保守的方法更受青睐，我们总是假设零假设是真的，并试图找到证据来拒绝零假设。</p><h2 id="5933" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">第二步。选择适当的统计检验</h2><p id="c0d3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">常见的统计检验类型包括<strong class="lt iu"> t检验、z检验、anova检验和卡方检验</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c88f7b287cd351ce0b0e375cde638f82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5mYMMX1IVu3rHuaappPQQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">选择适当的统计测试(图片由作者提供)</p></figure><p id="ea16" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> T检验:</strong>比较两组/两类小样本数值变量</p><p id="2788" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> Z检验:</strong>用大样本量比较两组/两类数值变量</p><p id="7ba8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> ANOVA检验:</strong>比较两组或多组/多类数值变量之间的差异</p><p id="879f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">卡方检验:</strong>检验两个分类变量之间的关系</p><p id="b875" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">相关性检验:检验两个数值变量之间的关系</p><h2 id="969d" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">第三步。计算p值</h2><p id="f211" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">p值的计算方式因统计测试而异。首先，基于观察到的样本数据的平均值和标准偏差，我们能够导出检验统计值(例如t统计)。然后计算得到这个检验统计量的概率给定零假设的分布(如学生t分布)，我们就求出p值。我们将使用一些例子来更详细地说明这一点。</p><h2 id="067d" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">第四步。确定统计显著性</h2><p id="2c86" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">然后将p值与显著性水平(也称为α值)进行比较，以确定是否有足够的证据来拒绝零假设。显著性水平是预定的概率阈值，通常为0.05。如果p值大于阈值，则意味着该值很可能出现在零假设为真的分布中。另一方面，如果低于显著性水平，这意味着它不太可能出现在零假设分布中，因此拒绝零假设。</p><p id="b797" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">除了显著性水平，<a class="ae ky" rel="noopener" target="_blank" href="/statistical-power-in-hypothesis-testing-visually-explained-1576968b587e">功效分析</a>也常用于假设检验，查看我关于统计功效的文章。</p><div class="nw nx gp gr ny nz"><a rel="noopener follow" target="_blank" href="/statistical-power-in-hypothesis-testing-visually-explained-1576968b587e"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">假设检验中的统计功效——直观解释</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">权力是什么/为什么/如何的互动指南</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">towardsdatascience.com</p></div></div><div class="oi l"><div class="oj l ok ol om oi on ks nz"/></div></div></a></div></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><h1 id="3170" class="kz la it bd lb lc ov le lf lg ow li lj jz ox ka ll kc oy kd ln kf oz kg lp lq bi translated">用示例进行假设检验</h1><p id="e355" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Kaggle数据集“<a class="ae ky" href="https://www.kaggle.com/datasets/imakash3011/customer-personality-analysis" rel="noopener ugc nofollow" target="_blank">客户个性分析”</a>用于本案例研究，展示不同类型的统计测试:T检验、ANOVA和卡方检验。它们对大样本量很敏感，当样本量很大时，几乎肯定会产生非常小的p值。因此，我从原始数据中随机抽取了一个样本(大小为100 ):</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="1da8" class="nj la it pb b gy pf pg l ph pi">sampled_df = df.sample(n=100, random_state=100)</span></pre><h1 id="a1b4" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">t检验</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/f5301fc6a1c7b464af994d918501ab56.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*8JusNNFqoToX5wt7H_rxXg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">t测试(图片来自作者的<a class="ae ky" href="https://www.visual-design.net/" rel="noopener ugc nofollow" target="_blank">网站</a>)</p></figure><p id="1ced" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">当我们想要测试一个数字变量和一个分类变量之间的关系时，使用T-test。t检验有三种主要类型。</p><ol class=""><li id="4fc3" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm pk my mz na bi translated">一个样本的t-检验:根据一个常量值检验一个组的平均值</li><li id="bc0b" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm pk my mz na bi translated">双样本t检验:检验两组间均值的差异</li><li id="40c9" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm pk my mz na bi translated">成对样本t检验:检验同一受试者两次测量值的均值差异</li></ol><p id="0158" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，如果我想测试“最近”(客户上次购买后的天数)是否有助于预测“响应”(客户是否在上次活动中接受了报价)，我可以使用双样本t-检验。</p><p id="949f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">第一个样本是接受报价的客户的“最近”:</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="7757" class="nj la it pb b gy pf pg l ph pi">recency_P = sampled_df[sampled_df['Response']==1]['Recency']</span></pre><p id="7355" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">第二个样本是拒绝该提议的客户的“最近”:</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="36c2" class="nj la it pb b gy pf pg l ph pi">recency_N = sampled_df[sampled_df['Response']==0]['Recency']</span></pre><p id="78f3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了直观地比较这两组的“近期性”，我们可以使用直方图(或distplot)来显示分布。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/7c396cad5d55236dd806d7929b40f870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xwTkM1NW1P9cLr5LTyZV8Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">t检验的距离图(图片由作者提供)</p></figure><p id="722e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">与消极反应相比，积极反应似乎具有较低的新近性。为了量化差异，让我们按照假设检验中的步骤进行t检验。</p><p id="686c" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">第一步。定义无效假设和替代假设</p><ul class=""><li id="73a7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">null:在上次活动中接受报价的客户和不接受报价的客户在<em class="ng">最近度</em>上没有区别</li><li id="2ff3" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">替代方案:与不接受报价的客户相比，接受报价的客户具有更低的<em class="ng">新近度</em></li></ul><p id="f0a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">第二步。选择合适的测试</strong></p><p id="184a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">要检验两个独立样本之间的差异，双样本t检验是最合适的统计检验。当零假设为真时，检验统计量遵循学生t分布。t分布的形状由自由度决定，计算方法是两个样本大小之和减2。</p><p id="5961" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">导入Python库<em class="ng"> scipy.stats </em>并创建如下所示的t分布。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="580f" class="nj la it pb b gy pf pg l ph pi">from scipy.stats import t<br/>rv = t(df=100-2)</span></pre><p id="5ef7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">第三步。计算p值</strong></p><p id="284a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Python中有一些方便的函数可以计算分布中的概率。对于分布范围内覆盖的任意x，<em class="ng"/><strong class="lt iu"><em class="ng">pdf(x)</em></strong>为x的概率密度函数——可表示为下面的橙色线，<strong class="lt iu"> <em class="ng"> cdf(x) </em> </strong>为x的累积密度函数——可视为累积面积。在本例中，我们正在测试另一个假设，即肯定回答的最近次数减去否定回答的最近次数小于0。因此，我们应该使用单尾检验，并将我们得到的t统计量与该分布中的最低值进行比较，因此在这种情况下，p值可以计算为<strong class="lt iu"><em class="ng">CDF(t _ statistics)</em></strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/f6e6e0fd3e1c2afbabc09fe3c40dbe6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jb6Ri7urwqLiVvxd-0j-JA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">t统计和t分布(图片由作者提供)</p></figure><p id="2e12" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"><em class="ng">【ttest _ ind()</em></strong>是python中一个方便的独立t测试函数，它已经自动为我们完成了所有这些工作。传递两个样本recency _ P和recency_N作为参数，选择备选项=“less”，我们得到t统计量和P值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/f64d2fe8c376396c2a33e989292ae51d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*E2mSDNK24928-uJW4ClsZw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Python中的t-test(图片作者提供)</p></figure><p id="954f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这里我用<a class="ae ky" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>来形象化t分布中的p值。将鼠标悬停在线上，查看点概率和p值如何随着x的移动而变化。填充颜色的区域突出显示了我们在这个特定示例中获得的p值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="pp">t分布与t统计的交互可视化(查看</em> <a class="ae ky" href="https://www.visual-design.net/code-snippets" rel="noopener ugc nofollow" target="_blank"> <em class="pp">代码</em> </a> <em class="pp"> ) </em></p></figure><p id="f918" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ng">如果你想自己构建这个，可以查看我网站上的</em> <a class="ae ky" href="https://www.visual-design.net/code-snippets" rel="noopener ugc nofollow" target="_blank"> <em class="ng">代码片段</em> </a> <em class="ng">。</em></p><p id="19a8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">第四步。确定统计显著性</strong></p><p id="db0a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">常用的显著性水平阈值是0.05。由于这里的p值(0.012)小于0.05，所以我们可以说，基于收集的样本，它具有统计学意义。接受该报价的客户的近期发生率较低可能不是偶然发生的。这进一步表明特征“响应”可能是目标变量“新近性”的强预测器。如果我们要为预测“最近”值的机器学习模型执行特征选择，“响应”可能具有很高的重要性。</p><h1 id="2188" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">方差分析检验</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/a12f9614ae84f61ad28f555df8e8e9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:868/format:webp/1*zlCQI70PZ7Kt7pVuO7m5Lw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">方差分析测试(图片由作者提供)</p></figure><p id="0a50" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">既然我们知道t检验是用来比较一个或两个样本组的平均值的。如果我们想要测试两个以上的样本呢？使用ANOVA测试。</p><p id="14cf" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">ANOVA通过计算<strong class="lt iu">组间方差与组内方差的比率</strong>来检查组间差异。较大的比率表明组间的差异是组间差异的结果，而不仅仅是随机的。</p><p id="4118" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">作为一个例子，我使用特征“Kidhome”来预测“NumWebPurchases”。“Kidhome”有三个值——0、1、2，自然形成三组。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="5778" class="nj la it pb b gy pf pg l ph pi">kidhome_0 = sampled_df[sampled_df['Kidhome']==0]['NumWebPurchases']<br/>kidhome_1 = sampled_df[sampled_df['Kidhome']==1]['NumWebPurchases']<br/>kidhome_2 = sampled_df[sampled_df['Kidhome']==2]['NumWebPurchases']</span></pre><p id="7c73" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，将数据可视化。我发现<strong class="lt iu">箱线图</strong>是方差分析测试最一致的视觉表现。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/afadcd3fedc86fa6aa3ebce53a41b8b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uAtZ992LMY1alM0FNMwwhA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">方差分析检验的箱线图(图片由作者提供)</p></figure><p id="270e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">三个组之间似乎有明显的差异。所以让我们进行ANOVA测试来证明是否是这样。</p><p id="1048" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 1。定义假设:</strong></p><ul class=""><li id="1d5f" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">零:三组之间没有差异</li><li id="fb44" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">备选方案:至少两组之间存在差异</li></ul><p id="5c9e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 2。选择适当的检验:</strong> ANOVA检验是检查两个以上组的数值与分类值之间关系的首选方法。方差分析检验中零假设的检验统计量也遵循由自由度定义的分布，即f分布。自由度通过总样本数(n)和组数(k)来计算。</p><ul class=""><li id="10d7" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">dfn = n — 1</li><li id="bb50" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">dfd = n — k</li></ul><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="d9f4" class="nj la it pb b gy pf pg l ph pi">from scipy.stats import f<br/>dfn = 3-1<br/>dfd = 100-3<br/>rv = f(dfn, dfd)</span></pre><p id="4258" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 3。计算p值:</strong>为了计算f统计量的p值，我们用f分布的右尾累积面积，也就是<code class="fe ps pt pu pb b">1-rv.cdf(f_statistics)</code> <strong class="lt iu">。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pv"><img src="../Images/be2add1c82366315beeac5d32ebec757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MFLGoFMstlMeuSnatAsUAw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">f统计和f分布(图片由作者提供)</p></figure><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="e728" class="nj la it pb b gy pf pg l ph pi">x = np.linspace(rv.ppf(0.0001), rv.ppf(0.9999), 100000)<br/>y = rv.pdf(x)<br/>pvalue = 1 - rv.cdf(x)</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="pp">f分布与f统计的交互可视化(查看</em> <a class="ae ky" href="https://www.visual-design.net/code-snippets" rel="noopener ugc nofollow" target="_blank"> <em class="pp">代码</em> </a> <em class="pp"> ) </em></p></figure><p id="78b8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了使用Python轻松获得f统计数据和p值，我们可以使用函数<code class="fe ps pt pu pb b">stats.f_oneway()</code>返回p值:0.00040。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="9c0f" class="nj la it pb b gy pf pg l ph pi">f_stat, pvalue = stats.f_oneway(kidhome_0, kidhome_1, kidhome_2)</span></pre><p id="c5e2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 4。确定统计显著性</strong>:将p值与0.05的显著性水平进行比较，我们可以推断有强有力的证据反对零假设，并且很可能至少两组之间的“NumWebPurchases”存在差异。</p><h1 id="ccdb" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">卡方检验</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/1f6cc88dfc07aa1ed2933e62e402133c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*uL9WeBkkCIM_gADrp_1iSA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡方检验(图片来自作者的<a class="ae ky" href="https://www.visual-design.net/" rel="noopener ugc nofollow" target="_blank">网站</a></p></figure><p id="5436" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">卡方检验用于检验两个分类变量之间的关系。基本原则是，如果两个分类变量是独立的，那么当一个分类变量改变时，另一个分类变量应该具有相似的组成。我们来看“教育”和“反应”是否独立的例子。</p><p id="d91f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">首先，使用<strong class="lt iu">堆积条形图和</strong>列联表汇总每个类别的数量。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="a61a" class="nj la it pb b gy pf pg l ph pi">ed_contingency = pd.crosstab(sampled_df['Education'], sampled_df['Response'])</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi px"><img src="../Images/164102e42e1f114baf3981277db6349e.png" data-original-src="https://miro.medium.com/v2/resize:fit:434/format:webp/0*O8T-g-TS-gbJdwfT.png"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi py"><img src="../Images/46679b0fde09c14748d918bac1dd971f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6d6KiyoIq5lLrz_Pzx_wYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡方检验的堆积条形图(图片由作者提供)</p></figure><p id="54e6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果这两个变量彼此完全独立(零假设成立)，那么所有教育组中正面回答和负面回答的比例应该是相同的。看起来组成略有不同，但这是否足以说明存在依赖性——让我们进行卡方检验。</p><p id="d332" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 1。定义假设:</strong></p><ul class=""><li id="4d42" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">空:“教育”和“反应”是相互独立的。</li><li id="4827" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">备选案文:“教育”和“反应”是相互依存的。</li></ul><p id="81ac" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 2。选择适当的检验:</strong>选择卡方检验进行分类vsl分类统计检验。卡方分布由自由度决定，计算方法为(行-1)x(列-1)。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="fe08" class="nj la it pb b gy pf pg l ph pi">from scipy.stats import chi2<br/>r = 5<br/>c = 2<br/>dof = (5-1) * (2-1)<br/>rv = chi2(df= dof)</span></pre><p id="2264" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 3。计算p值:</strong> p值计算为右尾累积面积:<code class="fe ps pt pu pb b">1-rv.cdf(chi2_statistics)</code></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pz"><img src="../Images/989ba90c96b2a54b5cac49c652a6e161.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZkWah-TStr7uDIEEJJrT4w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">χ2统计和χ2分布(图片由作者提供)</p></figure><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="64b8" class="nj la it pb b gy pf pg l ph pi">x = np.linspace(rv.ppf(0.0001), rv.ppf(0.9999), 100000)<br/>y = rv.pdf(x)<br/>pvalue = 1 - rv.cdf(x)</span></pre><p id="9536" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Python还提供了一个有用的函数来获取给定列联表的chi统计数据和p值。</p><pre class="kj kk kl km gt pa pb pc pd aw pe bi"><span id="a507" class="nj la it pb b gy pf pg l ph pi">chi2_stat, pvalue, dof, exp = chi2_contingency(ed_contingency)</span></pre><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po ni l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><em class="pp">chi分布与chi统计的交互可视化(查看</em> <a class="ae ky" href="https://www.visual-design.net/code-snippets" rel="noopener ugc nofollow" target="_blank"> <em class="pp">代码</em> </a> <em class="pp"> ) </em></p></figure><p id="9b3a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu"> 4。确定统计显著性</strong>e:p值为0.41，表明不具有统计显著性。因此，我们不能拒绝这两个分类变量是独立的零假设。这也表明“教育程度”可能不是“反应”的强预测因素。</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="71ca" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">感谢到目前为止，我们已经涵盖了本文中的许多内容，但仍然有两个重要的假设检验值得在即将到来的帖子中分别讨论。</p><ul class=""><li id="ddd8" class="ms mt it lt b lu mn lx mo ma mu me mv mi mw mm mx my mz na bi translated">z检验:检验两类数值变量之间的差异——当样本量较大时</li><li id="638a" class="ms mt it lt b lu nb lx nc ma nd me ne mi nf mm mx my mz na bi translated">相关性:测试两个数值变量之间的关系</li></ul><p id="b181" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如果你想阅读更多这样的文章，我将非常感谢你的支持，注册<a class="ae ky" href="https://destingong.medium.com/membership" rel="noopener">中级会员</a>:)</p></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><h1 id="8961" class="kz la it bd lb lc ov le lf lg ow li lj jz ox ka ll kc oy kd ln kf oz kg lp lq bi translated">带回家的信息</h1><p id="fb1a" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，我们交互式地探索和可视化三种常见统计检验之间的差异:T检验、ANOVA检验和卡方检验。我们还使用示例来演练假设检验中的基本步骤:</p><p id="876a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">1.定义无效假设和替代假设</p><p id="e8a4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">2.选择合适的测试</p><p id="38b2" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">3.计算p值</p><p id="f4d6" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">4.确定统计显著性</p><h2 id="3c2b" class="nj la it bd lb nk nl dn lf nm nn dp lj ma no np ll me nq nr ln mi ns nt lp nu bi translated">更多这样的文章</h2><div class="nw nx gp gr ny nz"><a rel="noopener follow" target="_blank" href="/how-to-self-learn-data-science-in-2022-a537a76d138e"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd iu gy z fp oe fr fs of fu fw is bi translated">2022年如何自学数据科学</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">基于项目的数据科学入门方法</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">towardsdatascience.com</p></div></div><div class="oi l"><div class="qa l ok ol om oi on ks nz"/></div></div></a></div><div class="nw nx gp gr ny"><div role="button" tabindex="0" class="ab bv gv cb fp qb qc bn qd ks ex"><div class="qe l"><div class="ab q"><div class="l di"><img alt="Destin Gong" class="l de bw qf qg fe" src="../Images/dcd4375055f8aa7602b1433a60ad5ca3.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*_qYYfgLTcvZF3zhHO0yVdA@2x.jpeg"/><div class="fb bw l qf qg fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://destingong.medium.com/?source=post_page-----979f4d62d85--------------------------------" rel="noopener follow" target="_top">德斯坦贡</a></p></div></div><div class="qj qk gw l"><h2 class="bd iu vl ms fp vm fr fs of fu fw is bi translated">机器学习实用指南</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vn au vo vp vq sc vr an eh ei vs vt vu el em eo de bk ep" href="https://destingong.medium.com/list/practical-guides-to-machine-learning-a877c2a39884?source=post_page-----979f4d62d85--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vv l fo"><span class="bd b dl z dk">10 stories</span></div></div></div><div class="qw dh qx fp ab qy fo di"><div class="di qo bv qp qq"><div class="dh l"><img alt="Principal Component Analysis for ML" class="dh" src="../Images/1edea120a42bd7dc8ab4a4fcdd5b822d.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*swd_PY6vTCyPnsgBYoFZfA.png"/></div></div><div class="di qo bv qr qs qt"><div class="dh l"><img alt="Time Series Analysis" class="dh" src="../Images/fda8795039b423777fc8e9d8c0dc0d07.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*8sSAHftNwd_RNJ3k4VA0pA.png"/></div></div><div class="di bv qu qv qt"><div class="dh l"><img alt="deep learning cheatsheet for beginner" class="dh" src="../Images/b2a4e3806c454a795ddfae0b02828b30.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*uNyD4yNMH-DnOel1wzxOOA.png"/></div></div></div></div></div><div class="nw nx gp gr ny"><div role="button" tabindex="0" class="ab bv gv cb fp qb qc bn qd ks ex"><div class="qe l"><div class="ab q"><div class="l di"><img alt="Destin Gong" class="l de bw qf qg fe" src="../Images/dcd4375055f8aa7602b1433a60ad5ca3.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*_qYYfgLTcvZF3zhHO0yVdA@2x.jpeg"/><div class="fb bw l qf qg fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated"><a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://destingong.medium.com/?source=post_page-----979f4d62d85--------------------------------" rel="noopener follow" target="_top">德斯坦贡</a></p></div></div><div class="qj qk gw l"><h2 class="bd iu vl ms fp vm fr fs of fu fw is bi translated">开始学习数据科学</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi vn au vo vp vq sc vr an eh ei vs vt vu el em eo de bk ep" href="https://destingong.medium.com/list/get-started-in-data-science-8006bb4ba3ad?source=post_page-----979f4d62d85--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="vv l fo"><span class="bd b dl z dk">8 stories</span></div></div></div><div class="qw dh qx fp ab qy fo di"><div class="di qo bv qp qq"><div class="dh l"><img alt="" class="dh" src="../Images/d302bbd526df8af0e847419971dc535a.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*__Lp9NvZvtLrZ00KKyoS_A.png"/></div></div><div class="di qo bv qr qs qt"><div class="dh l"><img alt="Statistical Tests in Python" class="dh" src="../Images/2ff8d4b6d8bd95fde596b31de22ef09e.png" width="194" height="194" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*2hGMrCjLtVKtOKD_QnyuWA.png"/></div></div><div class="di bv qu qv qt"><div class="dh l"><img alt="" class="dh" src="../Images/ae659430af3f4c100a2e11f1f558462c.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/1*wCpwHS7BWBe6JnHfIMSWrQ.png"/></div></div></div></div></div></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><p id="14a0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ng">原载于2022年4月14日https://www.visual-design.net</em><em class="ng">的</em> <a class="ae ky" href="https://www.visual-design.net/post/an-interactive-guide-to-hypothesis-testing-in-python" rel="noopener ugc nofollow" target="_blank"> <em class="ng">。</em></a></p></div></div>    
</body>
</html>