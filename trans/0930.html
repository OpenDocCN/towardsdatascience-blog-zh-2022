<html>
<head>
<title>The Beauty of Gradient</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">渐变之美</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-beauty-of-gradient-7798f4f0dd40#2022-03-11">https://towardsdatascience.com/the-beauty-of-gradient-7798f4f0dd40#2022-03-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="6d30" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">在一个真实的例子中，让我们探索这个简单而强大的计算如何帮助您过滤数据，尤其是不同的生产批次</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/18ee454b4e5f58247b573174a0e57763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NdWhBmlYD16DHX0n"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">杰里米·贝赞格在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9082" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">梯度在机器学习中的一般用途</h1><p id="64f5" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">当然，如果你对数据科学感兴趣已经有一段时间了，甚至只有几个星期，你可能听说过梯度下降以及它如何帮助你找到线性函数或神经网络的最佳系数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/a4571a54014224372732c353dfcfdbb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*WU8tvXq9pDzk3NYOz2Ux1A.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">成本函数示例-作者图片</p></figure><p id="6182" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">一个典型的用例是当您寻找线性回归的最佳参数时。成本函数曲线可能如上图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/b261ff254d0f3abdd9bdebf4c7d050eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/format:webp/1*8ekz8FjB0KRU7lrBEo9wzQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">损失函数(红色)-步长(蓝色)-局部斜率(绿色)-作者提供的图像</p></figure><p id="99a9" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">从第 1 点开始，我们可以使用每一步的斜率来确定我们的目标是优化损失函数还是偏离它。</p><ul class=""><li id="4645" class="mu mv it lt b lu mo lx mp ma mw me mx mi my mm mz na nb nc bi translated">第一步:x = 0；斜率= -6</li><li id="18f8" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">第二步:x = 0，5；斜率= -5</li><li id="80aa" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">第三步:x = 1；斜率= -4</li><li id="1c4c" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">第四步:x = 1，5；斜率= -3</li><li id="dcc1" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">第五步:x = 4；斜率= +2</li><li id="425d" class="mu mv it lt b lu nd lx ne ma nf me ng mi nh mm mz na nb nc bi translated">第六步:x = 3；slope = 0&lt;= local miminum</li></ul><p id="0b50" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Curious about how this gradient (or slope) is calculated? We simply need to use the derivative from the loss function:</p><p id="6d8b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">Loss function:<br/>f(x)=(x-3)+2<br/>f(x)= x-2 *(3x)+2<br/>f(x)= x-6x+4</p><p id="a9fd" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">导数:<br/> f'(x) = 2x-6</p><p id="075e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">结果:<br/>f '(0)= 2(0)-6 =-4<br/>f '(4)= 2(4)-6 =+2<br/>f '(3)= 2(3)-6 = 0</p><h1 id="bd23" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">利用梯度过滤生产时间序列</h1><p id="36d2" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">最近，我一直在处理一个案例，一台机器生产许多不同等级的产品，其速度有规律地变化(如下图的时间序列所示)。</p><p id="c411" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">由于历史数据中有数百处变化，我们需要确定生产稳定的时期，并消除加速/减速时期:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/4bc0f38819af19156f1eca93205d06e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncZrV7R-e5CA3g6LhctrFA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始时间序列—作者提供的图像</p></figure><p id="a499" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">首先，为了抵消传感器自身不稳定性的影响，我们决定使用滚动窗口(20)来平滑局部变化:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/10659d24157e2dc2dc493db412113571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GS10dl-2TrFioPHEHNNoHw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始时间序列+平滑滚动窗口-作者提供的图像</p></figure><p id="cb8b" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">神奇的事情发生了:通过计算时间序列中每一点的梯度，我们可以很容易地识别出速度变化并向另一个名义速率移动的时刻。</p><p id="16a6" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">每当这种情况发生时，梯度将从非常低的水平(0=完全稳定)切换到更高的水平(看到绿线上的小突起)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/70039b99e9e22e6ef3c45f9362641fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ioJqxUgmq_tdKNiZ1NcNug.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">平滑滚动窗口+梯度计算—作者提供的图像</p></figure><p id="30a3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">这种方法的好处是，它对绝对值不敏感:从 50 到 150 或从 100 到 200 切换将给出相同的梯度值，这使得自动分析生产变化容易得多。</p><p id="49a9" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">然后，只需定义一个梯度阈值，从时间序列中移除变化周期，如下所示:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/cfae39c9653225654cfaf7fd4924ef72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CS77X52Z5mUL72SbgrlSlQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始时间序列+排除时段-按作者分类的图像</p></figure><h1 id="c547" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">结论:</h1><p id="5c46" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">复杂的问题，例如在一个时间序列中分离稳定和不稳定的时期，从一开始就看起来很有挑战性！</p><p id="8eff" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">例如，您可能会考虑计算一个“移动绝对差值”来识别这种变化。我们甚至可以考虑将时间序列的第一部分标记为“稳定”和“不稳定”类，然后训练神经网络来识别它们(是的，这肯定是“过度的”，但我们可以做到！).</p><p id="2b9e" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">但是，有时候，最简单的方法仍然是最有效的。</p><p id="8320" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated"><strong class="lt iu">寻找简单数学函数如何帮助特征工程的另一个例子？<br/> </strong>看看我写得最好的一篇文章，解释“余弦”和“正弦”如何帮助你处理周期性特征:</p><div class="nk nl gp gr nm nn"><a rel="noopener follow" target="_blank" href="/cyclical-features-encoding-its-about-time-ce23581845ca"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">周期性特征编码，是时候了！</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">发现一个简单的技术来转换的特点，如时间，周，月或季节，并仍然保持其…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">towardsdatascience.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob ks nn"/></div></div></a></div><p id="89f3" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">与本文对应的代码存储在这里:</p><div class="nk nl gp gr nm nn"><a href="https://github.com/pierrelouisbescond/medium_articles/blob/main/medium_gradient.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">medium _ articles/medium _ gradient . ipynb at main pierrelouisscond/medium _ articles</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">一个 repo 来存储我在我的 Medium articles-Medium _ articles/Medium _ gradient . ipynb 中共享的代码在 main …</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">github.com</p></div></div><div class="nw l"><div class="oc l ny nz oa nw ob ks nn"/></div></div></a></div><p id="ab61" class="pw-post-body-paragraph lr ls it lt b lu mo ju lw lx mp jx lz ma mq mc md me mr mg mh mi ms mk ml mm im bi translated">请不要犹豫，浏览我在 Medium 上的其他文章:</p><div class="nk nl gp gr nm nn"><a href="https://pl-bescond.medium.com/pierre-louis-besconds-articles-on-medium-f6632a6895ad" rel="noopener follow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd iu gy z fp ns fr fs nt fu fw is bi translated">皮埃尔-路易·贝斯康德关于媒介的文章</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">数据科学、机器学习和创新</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">pl-bescond.medium.com</p></div></div><div class="nw l"><div class="od l ny nz oa nw ob ks nn"/></div></div></a></div></div></div>    
</body>
</html>