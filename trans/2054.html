<html>
<head>
<title>Looker and BigQuery ML: Two Approaches for KPI Monitoring</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Looker和big query ML:KPI监控的两种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/looker-and-bigquery-ml-create-control-charts-for-your-kpis-3d9ad6ee99f7#2022-05-09">https://towardsdatascience.com/looker-and-bigquery-ml-create-control-charts-for-your-kpis-3d9ad6ee99f7#2022-05-09</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="e1a9" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">如何跟踪和报告多系列数据集中的KPI目标</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/1159050638b59e4a76fcd6778223bb5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M9_XaEqIclYqJ2LH"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Miguel A. Amutio 在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="bc00" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated"><strong class="ak">简介</strong></h1><p id="7dde" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">在与跨组织的业务团队合作开发战略措施时，我们注意到所有领域都有一个共同的分析需求。这就是:<strong class="lu iv">监控和报告KPI目标</strong>。</p><p id="1dca" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果我们把重点放在监测上，主要任务是对照实际值跟踪目标。也就是说，应首先定义<strong class="lu iv">目标</strong>。</p><p id="d36a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">然而，对于业务用户来说，在多系列数据集上定义目标并不总是容易的。换句话说，<strong class="lu iv">数据集</strong>中的每一个新系列的复杂度都会增加。</p><p id="eb36" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们将分享一个例子。</p><p id="4007" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">假设我们想要跟踪40+家商店的<code class="fe mt mu mv mw b">revenue</code> KPI。为此，我们需要定义每个商店级别的预期<code class="fe mt mu mv mw b">revenue</code>的上限和下限，即80+目标。如果我们想要跟踪每个商店和国家级别的<code class="fe mt mu mv mw b">revenue</code>，我们可以使用公式<code class="fe mt mu mv mw b">number_of_shops x number_of_countries x 2 (upper and lower target)</code>计算所需目标的数量。</p><p id="0938" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">为了克服在业务方面定义KPI目标的复杂性，我们的数据和分析团队开发了两种分析方法:</p><ol class=""><li id="abd3" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nc nd ne nf bi translated"><a class="ae kz" href="https://cloud.google.com/bigquery-ml/docs" rel="noopener ugc nofollow" target="_blank"><strong class="lu iv">big query ML</strong></a><strong class="lu iv">车间级方法:</strong>用于设置<code class="fe mt mu mv mw b">revenue</code>或<code class="fe mt mu mv mw b">marketing costs</code>等连续措施的目标。</li><li id="678b" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><strong class="lu iv">车间级</strong> <a class="ae kz" href="https://www.looker.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lu iv">查看器</strong> </a> <strong class="lu iv">中的硬编码方式:</strong>用于设置比率措施的目标，如<code class="fe mt mu mv mw b"><a class="ae kz" href="https://www.indeed.com/career-advice/career-development/cost-revenue-ratio#:~:text=What%20is%20a%20cost%20revenue,including%20marketing%20and%20shipping%20costs." rel="noopener ugc nofollow" target="_blank">cost revenue ratio</a></code>或<code class="fe mt mu mv mw b"><a class="ae kz" href="https://www.klipfolio.com/metrics/marketing/return-on-ad-spend-roas" rel="noopener ugc nofollow" target="_blank">return on ad spend</a></code>。</li></ol><p id="b1f9" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">让我们从发展阶段的解释开始。:)</p><h1 id="49c8" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">方法论体系</h1><p id="1951" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">三个主要阶段定义了开发框架:</p><ul class=""><li id="274d" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated"><strong class="lu iv">第一阶段:定义KPI目标</strong></li><li id="b3ed" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><strong class="lu iv">第二阶段:数据建模</strong></li><li id="9145" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><strong class="lu iv">第三阶段:见解陈述</strong></li></ul><p id="f8ef" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">此外，每个阶段分为两个步骤，如下图所示。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj nm"><img src="../Images/5e1e598d9450db0b64980fce57a08fa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*3THDP3-6Euc6JpQd5kSNpw.png"/></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">开发方法的分解[图片由作者提供]</p></figure><p id="7e1a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在开发部分，我们将使用两个不同的数据集来展示上述步骤的实施:</p><ul class=""><li id="afc8" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated"><strong class="lu iv"> (1)成本营销数据集，</strong>与</li><li id="8505" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><strong class="lu iv"> (2)车间订单数据集</strong>。</li></ul><p id="487c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">根据这两个数据集，我们将计算以下KPI:</p><ul class=""><li id="4868" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated"><code class="fe mt mu mv mw b"><strong class="lu iv">marketing costs</strong></code> —所有流量渠道的费用(如谷歌、脸书等。)每家店，</li><li id="3f05" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><code class="fe mt mu mv mw b"><strong class="lu iv">cost revenue ratio (CRR)</strong></code> —每家店铺的营销成本与收入的比率，</li><li id="4afb" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><code class="fe mt mu mv mw b"><strong class="lu iv">return on ad spend (ROAS)</strong></code> —逆CRR，即每家店铺的收入与营销成本之比。</li></ul><p id="d037" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如导言中所述，目的是展示如何使用两种不同的方法来监控和报告战略性KPI。</p><p id="1a55" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">所以，先从Looker里的动手部分说起。:)</p></div><div class="ab cl nn no hy np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="in io ip iq ir"><h1 id="5ec1" class="la lb iu bd lc ld nu lf lg lh nv lj lk ka nw kb lm kd nx ke lo kg ny kh lq lr bi translated">阶段1/3:使用BigQuery ML方法和Looker中的硬编码方法定义KPI目标</h1><p id="d567" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><strong class="lu iv">步骤1/2: BigQuery ML方法:为</strong>设置目标<code class="fe mt mu mv mw b"><strong class="lu iv">marketing costs</strong></code></p><p id="5d95" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们将使用<a class="ae kz" href="https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-create-time-series" rel="noopener ugc nofollow" target="_blank"> BigQuery ML (BQML)时间序列模型</a> <code class="fe mt mu mv mw b">ARIMA_PLUS</code>来寻找<code class="fe mt mu mv mw b">marketing costs</code>目标。</p><p id="c972" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">一般来说，为了训练BQML多时间序列模型，我们需要定义以下内容[1]:</p><ol class=""><li id="4095" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">model_type</code> =时间序列模型的类型，即<code class="fe mt mu mv mw b">ARIMA_PLUS</code></li><li id="8a36" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">time_series_data_col</code> =目标变量= <code class="fe mt mu mv mw b">marketing costs</code></li><li id="2b42" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">time_series_timestamp_col</code> =时间戳变量=费用的日志日期</li><li id="0b85" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">time_series_id_col</code> =系列变量= <code class="fe mt mu mv mw b">shop</code></li><li id="04b7" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">horizon</code> =预测范围，即我们希望预测未来多远</li><li id="6620" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nc nd ne nf bi translated"><code class="fe mt mu mv mw b">data_frequency</code> =时间段频率，即每天、每月、每周等。</li></ol><p id="f9d8" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在解释了模型架构之后，我们可以将BQML模型放在一个<a class="ae kz" href="https://docs.looker.com/reference/view-params/view" rel="noopener ugc nofollow" target="_blank"> LookML视图</a>中:</p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><p id="81c0" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">模型的结果保存到Looker项目的预定义数据库中(检查管理部分→数据库→连接)。</p><p id="bcca" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — —</p><p id="8270" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">步骤2/2:Looker中的硬编码方法:设置</strong> <code class="fe mt mu mv mw b"><strong class="lu iv">cost revenue ratio (CRR)</strong></code> <strong class="lu iv">和</strong> <code class="fe mt mu mv mw b"><strong class="lu iv">return on ad spend (ROAS)</strong></code>的目标</p><p id="9e95" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这一步很简单，因为任务是:</p><ul class=""><li id="27cf" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">将店铺分成<strong class="lu iv">店铺群</strong>，即品类/品牌/性能店铺群。</li><li id="9147" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated"><strong class="lu iv">为<code class="fe mt mu mv mw b">CRR</code>和<code class="fe mt mu mv mw b">ROAS</code>KPI设定硬编码目标</strong>按<strong class="lu iv">各车间组</strong>。</li></ul><p id="f33c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">为此，我们将使用LookML层中的<code class="fe mt mu mv mw b"><a class="ae kz" href="https://docs.looker.com/fr/reference/manifest-reference" rel="noopener ugc nofollow" target="_blank">manifest</a></code>文件，为每个车间组创建常数，并为每个车间组的<code class="fe mt mu mv mw b">CRR</code>和<code class="fe mt mu mv mw b">ROAS</code>目标值创建<a class="ae kz" href="https://docs.looker.com/reference/manifest-params/constant#:~:text=Constants%20can%20be%20referenced%20anywhere,in%20the%20project%20manifest%20file." rel="noopener ugc nofollow" target="_blank">常数</a>。</p><p id="1bf1" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">下图显示了一个创建常量的例子，完整的清单代码可以在<a class="ae kz" href="https://gist.github.com/CassandraOfTroy/f63157ac62705ce910e44d86d593d1c8" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div class="gi gj ob"><img src="../Images/dffa3f2d6a02e9397c864538d6767d3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*gwgKuRm85yhxvg0Q4eXLjg.png"/></div></figure><p id="a1ab" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">太神奇了。现在我们可以切换到<strong class="lu iv">阶段2 </strong>并创建一个数据模型来合并此阶段开发的步骤的结果。</p></div><div class="ab cl nn no hy np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="in io ip iq ir"><h1 id="dfce" class="la lb iu bd lc ld nu lf lg lh nv lj lk ka nw kb lm kd nx ke lo kg ny kh lq lr bi translated">阶段2/3:数据建模:汇集实际和目标KPI值</h1><p id="a582" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">现在是简洁的部分，即数据建模部分。</p><p id="8821" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">步骤1/2: LookML建模:在一个视图中组合结果</strong></p><p id="0bb2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这一步包括开发一个<a class="ae kz" href="https://docs.looker.com/reference/view-params/derived_table" rel="noopener ugc nofollow" target="_blank">派生表</a>，它是三个查询<code class="fe mt mu mv mw b">UNION</code>的产物:</p><ul class=""><li id="8f8c" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">查询<strong class="lu iv"> </strong>，检索每个商店<code class="fe mt mu mv mw b">marketing costs</code>的<strong class="lu iv">目标值</strong>(BQML模型结果)，</li><li id="18e0" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">检索每个商店<code class="fe mt mu mv mw b">marketing costs</code>的<strong class="lu iv">实际值</strong>的查询(根据成本营销数据集计算)，以及</li><li id="ad90" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">检索每个商店的实际值<code class="fe mt mu mv mw b">revenue</code>的查询(根据商店订单数据集计算)。</li></ul><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><p id="c518" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">从上面的视图中可以看出，通过计算每个商店的<code class="fe mt mu mv mw b">marketing costs</code>和<code class="fe mt mu mv mw b">revenue</code>，我们也能够得到实际的<code class="fe mt mu mv mw b">CRR</code>和<code class="fe mt mu mv mw b">ROAS</code>值。</p><p id="0c52" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">此外，我们将这两个KPI的实际值与目标值进行了比较。</p><p id="0ba2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这个阶段剩下的最后一部分是在这个视图之上创建一个数据模型。</p><p id="d5e4" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — —</p><p id="f492" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">第2/2步:LookML建模:在第1步<em class="oc"> </em>中创建的视图之上创建一个数据模型</strong> <strong class="lu iv"/></p><figure class="kk kl km kn gu ko"><div class="bz fq l di"><div class="nz oa l"/></div></figure><p id="2814" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">瞧啊。我们成功地完成了数据建模部分，现在可以进入最后一个阶段。</p></div><div class="ab cl nn no hy np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="in io ip iq ir"><h1 id="61e2" class="la lb iu bd lc ld nu lf lg lh nv lj lk ka nw kb lm kd nx ke lo kg ny kh lq lr bi translated">阶段3/3:洞察力演示:创建控制图和控制表</h1><p id="070d" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">我们最终可以以可视化的形式呈现数据洞察，即我们的三个KPI。</p><p id="c341" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">第1/2步:观察者:创建控制图跟踪</strong> <code class="fe mt mu mv mw b"><strong class="lu iv">marketing costs</strong></code></p><p id="8526" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">教程:</p><ul class=""><li id="7bc6" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">选择滤镜:<code class="fe mt mu mv mw b">Marketing Shop Types</code>、<code class="fe mt mu mv mw b">Order Date</code>、<code class="fe mt mu mv mw b">Shop Brand</code>。</li><li id="a928" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">选择维度和度量:<code class="fe mt mu mv mw b">Order date</code>、<code class="fe mt mu mv mw b">PM Costs Predicted [€]</code>、<code class="fe mt mu mv mw b">PM Costs Lower Bound[€]</code>、<code class="fe mt mu mv mw b">PM Costs Upper Bound [€]</code>、<code class="fe mt mu mv mw b">Above/Below Predicted cost value [%]</code>。</li><li id="9741" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">选择<code class="fe mt mu mv mw b">Line</code>图表类型以可视化结果。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj od"><img src="../Images/fecaea1a12ebe57e17aced0859b17444.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QOT6OjMMFH5dGMD4JUxLOA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">旁观者:跟踪营销成本目标的控制图[图片由作者提供]</p></figure><p id="0669" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><em class="oc">功能:</em></p><ul class=""><li id="16c3" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">通过上述设置，我们可以每天跟踪数据集中每个商店的<strong class="lu iv">的<code class="fe mt mu mv mw b">marketing costs</code>。</strong></li></ul><p id="b1a4" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi">— — — — — — — — — — — — — — — — — — — — — — — — — — — —</p><p id="4839" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">步骤2/2: Looker:创建一个控制表来跟踪</strong> <code class="fe mt mu mv mw b"><strong class="lu iv">CRR</strong></code> <strong class="lu iv">和</strong><code class="fe mt mu mv mw b"><strong class="lu iv">ROAS</strong></code><strong class="lu iv">KPI</strong></p><p id="41a2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">教程:</p><ul class=""><li id="ce48" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">选择过滤器:<code class="fe mt mu mv mw b">Marketing Shop Types</code>、<code class="fe mt mu mv mw b">Order Date</code>、<code class="fe mt mu mv mw b">Shop Brand</code>。</li><li id="0572" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">选择尺寸和度量:<code class="fe mt mu mv mw b">Order date</code>、<code class="fe mt mu mv mw b">Marketing Shop Types</code>或<code class="fe mt mu mv mw b">Shop Brand</code>、<code class="fe mt mu mv mw b">CRR Actual [%]</code>、<code class="fe mt mu mv mw b">CRR Target [%]</code>、<code class="fe mt mu mv mw b">ROAS Actual</code>、<code class="fe mt mu mv mw b">ROAS Target</code>、<code class="fe mt mu mv mw b">Above/Below predicted CRR value [%]</code>、<code class="fe mt mu mv mw b">Above/Below predicted ROAS value [%]</code>。</li><li id="5843" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">选择<code class="fe mt mu mv mw b">Table (Report)</code>可视化类型来呈现结果。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj oe"><img src="../Images/0ddb9b699515f30b06b9646374d9caf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVRS_WFE6E9B_jVRXSBivg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">Looker:跟踪CRR和ROAS目标的控制表</p></figure><p id="228e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><em class="oc">功能:</em></p><ul class=""><li id="9803" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">通过控制表，我们可以按照<strong class="lu iv">定义的车间组每天跟踪<code class="fe mt mu mv mw b">CRR</code>和<code class="fe mt mu mv mw b">ROAS</code>KPI。</strong></li></ul><h1 id="1c5c" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">摘要</h1><p id="714c" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">本文中呈现的实现阶段的简要概述如下:</p><ul class=""><li id="6c51" class="mx my iu lu b lv mo ly mp mb mz mf na mj nb mn nl nd ne nf bi translated">首先，我们提出了<strong class="lu iv">两种不同的方法来定义多系列数据集的KPI目标</strong>；BigQuery ML和Looker中的硬编码方法。</li><li id="5a51" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">其次，我们展示了如何在数据建模阶段<strong class="lu iv">将实际和目标KPI值</strong>结合起来。</li><li id="ba5d" class="mx my iu lu b lv ng ly nh mb ni mf nj mj nk mn nl nd ne nf bi translated">最后，我们创建了一个Looker教程，用于将<strong class="lu iv">制作成控制图/控制表</strong>，并可视化地呈现<strong class="lu iv">数据洞察。</strong></li></ul><p id="4684" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">有了这些摘要，我们就完成了监控和报告KPI目标的实施之旅。编码快乐！:)</p></div><div class="ab cl nn no hy np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="in io ip iq ir"><p id="1041" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">参考文献:</strong></p><p id="908f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">[1] BigQuery ML ARIMA加文档，访问日期:2022年5月1日，<a class="ae kz" href="https://cloud.google.com/bigquery-ml/docs/reference/standard-sql/bigqueryml-syntax-create-time-series" rel="noopener ugc nofollow" target="_blank">https://cloud . Google . com/big query-ML/docs/reference/standard-SQL/bigqueryml-syntax-create-time-series</a></p></div></div>    
</body>
</html>