<html>
<head>
<title>How to Extract and Convert Tables From PDF Files to Pandas Data frame</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何从PDF文件提取表格并将其转换为Pandas数据框架</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-extract-and-convert-tables-from-pdf-files-to-pandas-dataframe-cb2e4c596fa8#2022-04-19">https://towardsdatascience.com/how-to-extract-and-convert-tables-from-pdf-files-to-pandas-dataframe-cb2e4c596fa8#2022-04-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="9d40" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">因此，您有一些包含表格的pdf文件，并希望将它们读入熊猫数据框。让我告诉你怎么做。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c804eaf15b98829d01628550c6fdc59e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nz8GP5aEHNi_Zkw4"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">约翰内斯·格罗尔在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="9c10" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">设置</h1><p id="4e0f" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">出于本文的目的，我们将从英国住房协会于12月2日发布的住房统计文件中提取表格。pdf文件的副本可以在<a class="ae ky" href="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/1037739/Housing_Statistics_December_2021.pdf" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="0323" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们将使用<strong class="lt iu"> tabula-py </strong>库从pdf文件中提取表格。运行<code class="fe ms mt mu mv b">pip install tabula-py</code>进行安装</p><p id="8017" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">确保您的系统中安装了Java。如果遇到任何安装错误，请参考库的<a class="ae ky" href="https://tabula-py.readthedocs.io/en/latest/getting_started.html#installation" rel="noopener ugc nofollow" target="_blank">文档。</a></p><p id="3e39" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">好了，我们都准备好撤离了！😎</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="8085" class="kz la it bd lb lc nd le lf lg ne li lj jz nf ka ll kc ng kd ln kf nh kg lp lq bi translated">Tabula:将Pdf表格提取到数据框</h1><p id="2992" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">现在假设感兴趣的pdf文件在同一个工作目录中，让我们尝试从中提取表格。要做到这一点，我们需要做的是:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ni"><img src="../Images/9dd8101963d87d1c814b0b758da9a694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hViRH3do1xQqvln13Ua8Fg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用Tabula从pdf文件中读取表格的Python代码。(来源:作者)</p></figure><p id="8b92" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">如您所见，代码非常简单，不言自明。该代码为提取的每个单独的表返回pandas数据框的列表。</p><p id="f92f" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">您可以通过运行<code class="fe ms mt mu mv b">len(tables)</code>快速查看提取的表的数量，对于这个例子，T1应该返回<code class="fe ms mt mu mv b">9</code>。如果您看一下本文使用的pdf文件，整个文档中有9个表格。</p><p id="36e9" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在，我们要做的就是对列表进行索引，将每个表作为一个数据框。例如，<code class="fe ms mt mu mv b">tables[0]</code>应该返回第一个表，<code class="fe ms mt mu mv b">tables[1]</code>应该返回第二个表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nj"><img src="../Images/1710d2835ffe605e243d58a5c4b41a3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xBm-o6aBBV0OoI5I_6pKlw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用tables[0]从pdf文件中提取的第一个表格。(来源:作者)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nk"><img src="../Images/c379d286420ee8a685a568f11d91654e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*69A_373JoxpS52HRV0D04A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从pdf文件中提取的第一个表格的实际版本。(来源:作者)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/2195162132232b65333e771097c3e085.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*Nk31DCtz7S_OUEybWwFDjw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">使用表[1]从pdf文件中提取的第二个表。(来源:作者)</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nm"><img src="../Images/06095a0392bd3a01e8d123389a706443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mCEEO1ke-x6weoazJaOZuA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">从pdf文件中提取的第二个表格的实际版本。(来源:作者)</p></figure></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="804e" class="kz la it bd lb lc nd le lf lg ne li lj jz nf ka ll kc ng kd ln kf nh kg lp lq bi translated">记住</h1><p id="6b88" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">从上面两个提取表格的例子可以看出，tabula库在从pdf中提取表格方面做得非常好。但是，它并不总是干净和精确的。有时，我们必须进行一些手动清洁，以:</p><ul class=""><li id="21af" class="nn no it lt b lu mn lx mo ma np me nq mi nr mm ns nt nu nv bi translated">更正表格的标题</li><li id="fd31" class="nn no it lt b lu nw lx nx ma ny me nz mi oa mm ns nt nu nv bi translated">删除不必要的行和列</li><li id="ea39" class="nn no it lt b lu nw lx nx ma ny me nz mi oa mm ns nt nu nv bi translated">拆分合并在一起的列。</li></ul><p id="6353" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这些问题通常在嵌套标题表中很突出，并且很容易解决。😄</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><h1 id="12e0" class="kz la it bd lb lc nd le lf lg ne li lj jz nf ka ll kc ng kd ln kf nh kg lp lq bi translated">最后的想法</h1><p id="c29c" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">在本文中，我们看到了使用Tabula库从pdf文件中提取表格并将其作为pandas数据框加载是多么容易。该库在提取表格方面做得很好，但是我们必须总是直观地验证表格的不一致性。大多数时候，任何不一致都很容易解决。</p><p id="3bfc" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">为了完整起见，值得一提的是用于pdf表格提取的另一个库:<a class="ae ky" href="https://camelot-py.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank"> Camelot </a>。虽然这里没有涉及，但它是白板的一个很好的替代品。两者之间没有偏好，因为两者都做得很好。</p><p id="be08" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">现在您已经有了作为数据框的表格，可以随心所欲地操纵它们。😄</p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="2c0a" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">🚀希望这篇文章对你有用。</strong> <strong class="lt iu">如果你愿意支持我，可以考虑使用我的</strong> <a class="ae ky" href="https://saedhussain.medium.com/membership" rel="noopener"> <strong class="lt iu">推荐链接</strong> </a> <strong class="lt iu">加入medium。这将让你在这个平台上看到我所有的文章以及更多来自其他了不起的作者的文章！🙏</strong></p></div><div class="ab cl mw mx hx my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="im in io ip iq"><p id="6cf3" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ob">我写的其他文章，你可能会喜欢:</em></p><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/documenting-your-python-code-9e69671f046a"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">记录您的Python代码</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">正确记录python代码需要练习的3件事</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot ks of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/machine-learning-model-as-a-serverless-app-using-google-app-engine-b760de59156"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">使用谷歌应用引擎的无服务器应用的机器学习模型</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">因此，您构建了一个模型，并希望将其部署为一个无服务器应用程序。让我告诉你如何使用Docker来做这件事…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="ou l oq or os oo ot ks of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/machine-learning-model-as-a-serverless-endpoint-using-google-cloud-function-a5ad1080a59e"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">使用谷歌云功能作为无服务器端点的机器学习模型</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">因此，你已经建立了一个模型，并希望将其生产为谷歌云平台(GCP)上的无服务器解决方案。让我…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="ov l oq or os oo ot ks of"/></div></div></a></div><div class="oc od gp gr oe of"><a rel="noopener follow" target="_blank" href="/how-to-schedule-a-serverless-google-cloud-function-to-run-periodically-249acf3a652e"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">如何安排无服务器谷歌云功能定期运行</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">你有一些需要定期运行的代码吗？</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">towardsdatascience.com</p></div></div><div class="oo l"><div class="ow l oq or os oo ot ks of"/></div></div></a></div></div></div>    
</body>
</html>