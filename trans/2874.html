<html>
<head>
<title>The Battle of Choropleths — Part 3 — Folium</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Choropleths之战——第三部分——叶子</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-battle-of-choropleths-part-3-folium-86ab1232afc#2022-06-22">https://towardsdatascience.com/the-battle-of-choropleths-part-3-folium-86ab1232afc#2022-06-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="7443" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">PYTHON。数据科学。地理可视化</h2><div class=""/><div class=""><h2 id="6239" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用叶包创造惊人的Choropleths</h2></div><p id="b619" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在本系列的前两篇文章中，我们能够从Geopandas和Altair包中创建choropleths。让我们继续学习，但这一次让我们使用叶包。</p><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ln"><img src="../Images/4bae57983f80fbe18d4837b8279beb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-KH2xQlqnHZIFJyKhgNZ3g.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片由作者提供:通过叶创建的Choropleth</p></figure><h1 id="9838" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">树叶包装</h1><p id="08e4" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">在这篇<a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-5-folium-cc2213d29a7">文章</a>中，我们介绍了leav包以及该包的优缺点。</p><p id="93f5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">正如我们将在后面看到的，leav引入了许多定制工具，这些工具将帮助我们创建更具交互性和专业外观的地图。当然，这带来了额外几行代码的额外成本。</p><p id="a07b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">不多说了，我们开始吧。</p><h1 id="8a79" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">编码</h1><p id="c84d" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">编码部分类似于前两篇文章，但是在这篇文章中，我们不需要合并数据集(<em class="nb">，除非我们想要创建一个自定义的颜色图，我们将在后面看到。)</em></p><h2 id="4720" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">预赛</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="e94c" class="nc me it no b gy ns nt l nu nv">import pandas as pd<br/>import numpy as np</span><span id="4677" class="nc me it no b gy nw nt l nu nv">import geopandas as gpd<br/>import folium</span></pre><h2 id="0b31" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">加载和预处理数据</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="0403" class="nc me it no b gy ns nt l nu nv">df = pd.read_csv('data/gdp_per_capita.csv', <br/>            skiprows=4)<br/>df = df.loc[:,['Country Name','Country Code', '2020']] #Choose only 2020</span><span id="f6c6" class="nc me it no b gy nw nt l nu nv">df = df.fillna(0) #New step </span><span id="7c87" class="nc me it no b gy nw nt l nu nv">df.head()</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/8d7b8d77f4da3678cbe7cca9478b71de.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*Y0gTfj2Yd9yW2VaPnSKfuA.png"/></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片由作者提供:数据集的前五次观察</p></figure><h2 id="620e" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">加载形状文件</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="c135" class="nc me it no b gy ns nt l nu nv">gdf = gpd.read_file('shapefiles/world-administrative-boundaries/world-administrative-boundaries.shp')</span><span id="8929" class="nc me it no b gy nw nt l nu nv">gdf.head()</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ny"><img src="../Images/5aa675ea98a498d10e1db2d61bda6413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bB5CjgAzvQzsfN_bjc9bQw.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者图片:形状文件的前五个观察</p></figure><h1 id="72cc" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">测绘</h1><h2 id="1441" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">启动地图</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="a602" class="nc me it no b gy ns nt l nu nv">#Folium<br/>mymap = folium.Map(location=[19.0649070739746, 73.1308670043945], zoom_start=2,tiles=None)</span><span id="9c75" class="nc me it no b gy nw nt l nu nv">#ADDING TILES AS A SEPARATE LAYER ALLOWS FOR MORE CONTROL AND MORE SUTOMIZATION<br/>folium.TileLayer('CartoDB positron',name="Light Map",control=False).add_to(mymap)</span><span id="3ff3" class="nc me it no b gy nw nt l nu nv">#Calling the map<br/>mymap</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nz"><img src="../Images/a12680f8187a051775bb6b077aa79087.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gmQKnFQI3a4PgPyNWPfBoQ.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者提供的图片:将包含其他图层的空白地图</p></figure><h2 id="a368" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">创建要作为层添加的CHOROPLETH</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="bcf9" class="nc me it no b gy ns nt l nu nv">choropleth = folium.Choropleth(<br/>    geo_data=gdf, #the dataset merged with the geometry and the data we need to plot on,<br/>    data=df,<br/>    key_on='feature.properties.name',<br/>    columns=['Country Name', '2020'], #the first one is the 'index' which needs to be connected with the 'key_on' property of  the geo_data<br/>    name = 'GDP per capita (Constant USD 2015 )',<br/>    fill_color='YlGn',<br/>        fill_opacity=0.7,<br/>    line_opacity=0.5,<br/>).add_to(mymap)<br/>mymap</span></pre><p id="d957" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们讨论一下代码的参数:</p><ul class=""><li id="d5c4" class="oa ob it kt b ku kv kx ky la oc le od li oe lm of og oh oi bi translated"><code class="fe oj ok ol no b">geo_data </code> —形状文件数据集</li><li id="0065" class="oa ob it kt b ku om kx on la oo le op li oq lm of og oh oi bi translated"><code class="fe oj ok ol no b">data</code> —包含choropleth颜色的基础值。</li><li id="d413" class="oa ob it kt b ku om kx on la oo le op li oq lm of og oh oi bi translated"><code class="fe oj ok ol no b">key_on </code> —这是指在shapefile(或<code class="fe oj ok ol no b">geo_data</code>参数)中找到的列，该列将用于将值与<code class="fe oj ok ol no b">data</code>参数中的值合并。<strong class="kt jd">我们跳过数据合并部分的原因是这样的:follow将使用该参数进行合并。</strong></li><li id="1905" class="oa ob it kt b ku om kx on la oo le op li oq lm of og oh oi bi translated"><code class="fe oj ok ol no b">.add_to </code>—将choropleth图层添加到我们初始化的地图中。</li></ul><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nz"><img src="../Images/0218809e0a9aec2a88c734019a355a32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gBmSMv4AMu9rhDbHGp6Twg.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片由作者提供:初始Choropleth地图</p></figure><p id="feed" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">一个潜在的弱点是它的调色板有限。我们现在使用黄绿色，但有一种方法可以在以后定制它。</p><h1 id="ff14" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">自定义</h1><p id="d6d9" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">让我们通过做两件事来定制我们的choropleth:</p><ol class=""><li id="92fc" class="oa ob it kt b ku kv kx ky la oc le od li oe lm or og oh oi bi translated">添加互动工具提示</li><li id="b5f8" class="oa ob it kt b ku om kx on la oo le op li oq lm or og oh oi bi translated">创建自定义的色彩映射表—红-黄-绿。</li></ol><h2 id="b10d" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">添加工具提示</h2><p id="3114" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">要添加定制的工具提示，我们需要调用leav的<code class="fe oj ok ol no b">GeoJsonTooltip</code>类。这为我们提供了一种交互和查看数据的方式，这非常方便，尤其是在我们做一些报告的时候。</p><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="9705" class="nc me it no b gy ns nt l nu nv"># Display Region Label<br/>choropleth.geojson.add_child(<br/>    folium.features.GeoJsonTooltip(['name'], labels=True)<br/>)<br/>mymap</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi nz"><img src="../Images/ecafb5797d5ccb9ee3bfc2ced90f0c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*_EgQIqxJHBUsr723vjyzzw.gif"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者GIF:添加工具提示</p></figure><h2 id="9860" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">创建自定义色彩映射表</h2><p id="9d2e" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">要尝试复制第一个系列的配色方案，有必要创建一个自定义颜色映射。如前所述，follous中可用的调色板是有限的，要创建一个定制的调色板，我们需要添加更多行代码。</p><p id="8aa5" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在我们最初的文章中，我们使用了“红-黄-绿”的颜色图。要在这里使用这个，我们需要做几件事情:<br/> <br/> 1 .使用<code class="fe oj ok ol no b">branca</code>库创建自定义色彩映射表。可用的色彩映射表是有限的，如果我们想创建一个定制的，我们需要使用<code class="fe oj ok ol no b">branca</code>库。<br/> 2。将数据与地理数据框架合并。<strong class="kt jd">这现在变得很有必要，因为为了添加一个颜色依赖于值的层，几何数据应该存在。</strong> <br/> 3。用自定义的色彩映射表添加一个单独的层。</p><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="ba7d" class="nc me it no b gy ns nt l nu nv">import branca<br/>import branca.colormap as cm</span><span id="ce9a" class="nc me it no b gy nw nt l nu nv">#First determine your maximum and minimum values - this becomes the basis for the steps in the map<br/>vmax = df['2020'].max()<br/>vmin = df['2020'].min()</span><span id="fbc4" class="nc me it no b gy nw nt l nu nv">colormap = cm.LinearColormap(colors=['red', 'yellow','green'], <br/>                             vmin=vmin,<br/>                             vmax=vmax)</span></pre><h2 id="5284" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">合并数据</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="8ff9" class="nc me it no b gy ns nt l nu nv">merged = gdf.merge(df, left_on='name', right_on='Country Name' )<br/>merged.head()</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi os"><img src="../Images/1edca7e05d3ad615c63492b77de5b191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oXqgCycOY5ox1k8pgeqwQA.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者提供的图片:合并数据集中的前五个观察值</p></figure><h2 id="5302" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated">作为单独的层添加</h2><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="c20d" class="nc me it no b gy ns nt l nu nv"># First create a function that would call on these values<br/>style_function = lambda x: {"weight":0.5, <br/>                            'color':'black',<br/>                            'fillColor':colormap(x['properties']['2020']), <br/>                            'fillOpacity':0.75}</span><span id="aa0b" class="nc me it no b gy nw nt l nu nv">#Add the colormap as a legend<br/>colormap.add_to(mymap)</span><span id="2d97" class="nc me it no b gy nw nt l nu nv">#Save it as an object so you can add it<br/>folium.features.GeoJson(<br/>        merged.fillna(0),<br/>        style_function=style_function,<br/>    ).add_to(mymap)</span><span id="c3a2" class="nc me it no b gy nw nt l nu nv">mymap</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ot"><img src="../Images/0ae0dc54bd294f0706395f54573cb508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*uB6LzwLs790H3BCtWcp6Ng.gif"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">GIF作者:红黄绿配色</p></figure><p id="5920" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这个现在类似于我们创建的原始牛郎星地图。万岁！</p><p id="15cb" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">为了使颜色更均匀，这就是忽略离群值，正如我们使用分位数方法所做的那样，我们需要添加更多的代码。</p><h1 id="511c" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">分位数方法——复制以前文章中的图</h1><p id="b2ce" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">为了完全复制我们在前两篇文章中创建的地图，我们需要确保这些值被分成几个步骤(忽略异常值，在文章的最后一部分发布了警告)。</p><p id="b3d1" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">但是，请注意，随着您不断向地图添加图层，地图会变得混乱，因此创建一个新的图层可能会更清晰。但是，如果您计划创建一个自定义的颜色映射，不保持choropleth部分的干净可能更简单，如下所示:</p><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="bdcb" class="nc me it no b gy ns nt l nu nv"># My Map<br/>#Folium<br/>mymap = folium.Map(location=[19.0649070739746, 73.1308670043945], zoom_start=2,tiles=None)</span><span id="5599" class="nc me it no b gy nw nt l nu nv">#ADDING TILES AS A SEPARATE LAYER ALLOWS FOR MORE CONTROL AND MORE SUTOMIZATION<br/>folium.TileLayer('CartoDB positron',name="Light Map",control=False).add_to(mymap)</span><span id="5fdc" class="nc me it no b gy nw nt l nu nv">choropleth = folium.Choropleth(<br/>    geo_data=gdf,</span><span id="e1ab" class="nc me it no b gy nw nt l nu nv">name = 'GDP per capita (Constant USD 2015 )',<br/>).add_to(mymap)<br/>mymap</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ou"><img src="../Images/8bdba588f8915b35b8021cf35b9957e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZC45TI2ehnx-nTvpJNbp8g.png"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">图片由作者提供:已清理的初始化地图</p></figure><p id="72dd" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">下面的代码显示了我们建议的步骤:</p><ol class=""><li id="7e57" class="oa ob it kt b ku kv kx ky la oc le od li oe lm or og oh oi bi translated">我们利用索引(手动指定颜色的切割点。这首先要求我们知道数列的最大值和最小值。</li><li id="a542" class="oa ob it kt b ku om kx on la oo le op li oq lm or og oh oi bi translated">我们对色彩映射表进行了线性化，以便值可以落入索引中的箱中。</li><li id="20b4" class="oa ob it kt b ku om kx on la oo le op li oq lm or og oh oi bi translated">如你所见，我们重复了两次十六进制代码<code class="fe oj ok ol no b">#c7f6b6</code>。这不是偶然的。<strong class="kt jd">叶似乎很难剪切列表中的最后一种颜色，因此添加更多的颜色可以确保在最后一种颜色绿色之前有更线性的过渡。当然，颜色应该是上一个颜色渐变，这样十六进制代码就是浅绿色的。</strong></li><li id="e15e" class="oa ob it kt b ku om kx on la oo le op li oq lm or og oh oi bi translated">我们手动剪切索引，在原始索引中，只使用了五次剪切。然而，对于这个地图，7似乎更好一些(<em class="nb">回想一下，在对数字范围进行索引时，Python中的最后一个值无论如何都会被忽略</em>)。</li></ol><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="cbb2" class="nc me it no b gy ns nt l nu nv">#First determine your maximum and minimum values - this becomes the basis for the steps in the map<br/>vmax = df['2020'].max()<br/>vmin = df['2020'].min()</span><span id="737a" class="nc me it no b gy nw nt l nu nv">colormap = cm.LinearColormap(colors=['red','yellow' , '#c7f6b6' ,'#c7f6b6','green'], <br/>                             vmin=vmin,<br/>                             vmax=vmax)</span><span id="c9c2" class="nc me it no b gy nw nt l nu nv"># We add this in extra step to emulate the coloring scheme of the prveious articles<br/>n_steps = 7 # Quantiles<br/>list_of_values = df['2020'].sort_values()</span><span id="384c" class="nc me it no b gy nw nt l nu nv">#Remove all 0's as the geopandas version did not count 0 on the count of merging<br/>list_of_values = [i for i in list_of_values if i != 0]</span><span id="564c" class="nc me it no b gy nw nt l nu nv">length = len(list_of_values)</span><span id="7ca6" class="nc me it no b gy nw nt l nu nv">index = [list_of_values[int((length/n_steps)*i)] for i in range(n_steps)]</span><span id="92da" class="nc me it no b gy nw nt l nu nv">print(index)</span><span id="6344" class="nc me it no b gy nw nt l nu nv">colormap = colormap.to_step(index=index)</span></pre><p id="f28d" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后润色:</p><p id="c224" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">请注意，在这一层中，<strong class="kt jd">工具提示需要作为最后一层的一部分添加，以便使用，所以我们将它合并到我们使用的最后一层</strong>。</p><pre class="lo lp lq lr gt nn no np nq aw nr bi"><span id="8c42" class="nc me it no b gy ns nt l nu nv"># First create a function that would call on these values<br/>style_function = lambda x: {"weight":0.5, <br/>                            'color':'black',<br/>                            'fillColor':colormap(x['properties']['2020']), <br/>                            'fillOpacity':0.75}</span><span id="60e0" class="nc me it no b gy nw nt l nu nv">#Add the colormap as a legend<br/>colormap.add_to(mymap)</span><span id="df2a" class="nc me it no b gy nw nt l nu nv">#Save it as an object so you can add it<br/>folium.features.GeoJson(<br/>        merged,<br/>        style_function=style_function,<br/>    tooltip=folium.features.GeoJsonTooltip(['name'], labels=True)<br/>    ).add_to(mymap)</span><span id="7e41" class="nc me it no b gy nw nt l nu nv">mymap</span></pre><figure class="lo lp lq lr gt ls gh gi paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="gh gi ot"><img src="../Images/7adf14ed4bb9cecdeb98a76578470d64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*7efHSYwlaM2dfe5SxX6Tbw.gif"/></div></div><p class="lz ma gj gh gi mb mc bd b be z dk translated">作者GIF:最后的润色</p></figure><p id="f232" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">瞧啊。我们能够精确地复制前两篇文章中的地图，尽管并不容易。</p><h1 id="2f67" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">结束语</h1><p id="7c5e" class="pw-post-body-paragraph kr ks it kt b ku mv kd kw kx mw kg kz la mx lc ld le my lg lh li mz lk ll lm im bi translated">正如我们所看到的，使用leav，定制的能力是以便利性为代价的。为了在前两篇文章中重新创建整个地图，我们需要添加更多的代码。</p><p id="3552" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">对于一些打算部署地图的人来说，这个成本可能是值得的，因为follow输出可以保存为HTML。最重要的是，其他功能，如添加定制工具提示的能力，在特定区域周围创建视觉半径，以及更多其他功能，使leav成为choropleths的一个很好的包。</p><p id="4972" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我的<a class="ae na" href="https://github.com/francisadrianviernes/GeoVisualization/blob/master/The%20Battle%20of%20Choropleths%20-%20Part%203%20-%20Folium.ipynb" rel="noopener ugc nofollow" target="_blank"> Github页面</a>上的全部代码。</p><h1 id="b6ac" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">其他相关文章</h1><h2 id="4def" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" href="https://medium.com/towards-data-science/the-battle-of-choropleths-part-1-e6102e62eea?source=list-392080e5cdc--------0-------3dec1f652be9---------------------" rel="noopener">乔洛普勒斯之战——第一部</a></h2><h2 id="6a01" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-choropleths-part-2-altair-accaa4b46fb4">乔洛普勒斯之战——第二部——牛郎星</a></h2><h2 id="067b" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-1-interactive-geoplot-using-one-line-of-8214e9ed1bb4?source=your_stories_page-------------------------------------">交互式地理可视化之战第一部分——使用一行……的交互式地理地图</a></h2><h2 id="f8b8" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-2-interactive-geoplot-using-one-line-of-2118af59a77c?source=your_stories_page-------------------------------------">交互式地理可视化之战第二部分——使用一行……的交互式geo plot</a></h2><h2 id="3f25" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-3-plotly-graph-objects-go-c3d3f2a00132?source=your_stories_page-------------------------------------">交互式地理可视化之战第三部分——Plotly图形对象(Go) </a></h2><h2 id="6885" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-4-altair-5b67e3e5e29e?source=your_stories_page-------------------------------------">交互式地理可视化之战第四部——牛郎星</a></h2><h2 id="0e7d" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-5-folium-cc2213d29a7?source=your_stories_page-------------------------------------">交互式地理可视化之战第五部分——叶子</a></h2><h2 id="e406" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-6-greppo-4f615a1dae43?source=your_stories_page-------------------------------------">交互式地理可视化之战第六部分—格雷波</a></h2><h2 id="09d4" class="nc me it bd mf nd ne dn mj nf ng dp mn la nh ni mp le nj nk mr li nl nm mt iz bi translated"><a class="ae na" rel="noopener" target="_blank" href="/the-battle-of-interactive-geographic-visualization-part-7-bokeh-57e40e159354?source=your_stories_page-------------------------------------">交互式地理可视化之战第七集——散景</a></h2></div></div>    
</body>
</html>