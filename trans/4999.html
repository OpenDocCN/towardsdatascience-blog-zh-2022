<html>
<head>
<title>How is an ML Driven System Unique? — Understanding Why MLOps Is Necessary and What Components of ML Infrastructure is Required</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ML驱动的系统有何独特之处？—了解为什么需要MLOps以及需要ML基础架构的哪些组件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-is-an-ml-driven-system-unique-4b52ae4aed03#2022-11-07">https://towardsdatascience.com/how-is-an-ml-driven-system-unique-4b52ae4aed03#2022-11-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="dc78" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">更深入地解释为什么需要MLOps，以及MLOps试图解决什么问题来使AI在现实世界的生产环境中工作</h2></div><p id="82d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于任何已经建立了ML解决方案或者甚至处于开发ML模型的PoC阶段的组织，我确信MLOps已经成为一个话题。事实上，为了以可靠、安全和高度可用的方式在生产环境中开发和部署ML解决方案，需要MLOps。</p><p id="5e3f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在今天的博客中，我想退一步解释一下:</p><ul class=""><li id="7e0b" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">为什么MLOps是必要的和必需的？</li><li id="273f" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">更重要的是，MLOps到底想解决什么问题？</li><li id="e98a" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">为了解决这个问题，需要ML基础设施的哪些组件？</li></ul><p id="0e83" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望通过了解原因，您可以就<strong class="kh ir">做出更明智的决定，如果</strong>您的组织需要MLOps，如果需要，<strong class="kh ir">为了解决阻止AI在您的组织中工作的问题/挑战，MLOps的哪些</strong>组件是必要的。</p><p id="7454" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，我想解释一下ML驱动系统的独特性，以及这种独特性需要MLOps解决方案的原因。</p><figure class="lq lr ls lt gt lu gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lp"><img src="../Images/45cb5e8c7fd3a6d4c2539675e13d787d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FnICcjGSxEhGDZqQ"/></div></div><p class="mb mc gj gh gi md me bd b be z dk translated">照片由<a class="ae mf" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·温克勒</a>在<a class="ae mf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="bb31" class="mn mo iq bd mp mq mr dn ms mt mu dp mv ko mw mx my ks mz na nb kw nc nd ne nf bi translated">ML驱动系统有何独特之处</h2><p id="ec46" class="pw-post-body-paragraph kf kg iq kh b ki ng jr kk kl nh ju kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">为了理解为什么MLOps是必要的，并评估您的组织需要建立哪些与MLOps相关的能力，我们需要首先理解ML驱动的系统是如何独特的。我将ML驱动系统的“独特性”总结为以下四个方面:</p><ul class=""><li id="81d4" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated"><strong class="kh ir">以数据为中心</strong> —以数据为中心不仅意味着ML驱动的解决方案的成功取决于数据的质量和数量，而且数据本身的内在特征决定了需要什么样的MLOps功能。</li><li id="9661" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kh ir">多团队和多技能组合协作</strong> —在大多数组织中，构建和运行一个ML驱动的系统通常需要多个团队的努力，包括数据科学家、数据工程师、ML工程师、DevOps工程师等等。我将很快解释团队结构如何影响MLOps工作流和流程的设计。</li><li id="169e" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kh ir">动态生态系统</strong> —对于ML和AI来说，有一个极其丰富且快速增长的生态系统。比如ML和深度学习(DL)算法的开源库也不少，像Scikit Learn，Tensorflow，Keras，PyTorch，Fast.ai，抱抱脸。此外，还有各种各样的人工智能应用可以从ML中构建，包括监督、半监督、自我监督、非监督、强化学习等等。根据您的ML系统构建的算法和应用，所需的MLOps功能也有所不同。</li><li id="3a92" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated"><strong class="kh ir">连续变化</strong> —从数据中建立和学习ML驱动系统。当底层数据发生变化时，ML模型和算法也需要相应更新。ML驱动的系统总是处于持续变化的状态，而且真的没有尽头。因此，监控数据变化和模型性能变化变得非常必要。商业环境和数据变化越快，就越有必要对ML模型进行“再训练”和“再学习”。因此，您确实需要了解您的业务需求和数据环境变化，然后确定在您的MLops工作流中构建监控解决方案的重要性。</li></ul><p id="c7be" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们深入探讨上述4个方面如何影响您选择整体MLOps解决方案的设计。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="509d" class="mn mo iq bd mp mq mr dn ms mt mu dp mv ko mw mx my ks mz na nb kw nc nd ne nf bi translated">以数据为中心</h2><p id="3d1e" class="pw-post-body-paragraph kf kg iq kh b ki ng jr kk kl nh ju kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">当我们谈论以数据为中心的ML系统时，显而易见的解释是ML模型的性能很大程度上取决于数据的质量和数量。的确，这是真的。但是，我认为“以数据为中心”在MLOps方面有更多含义:</p><ul class=""><li id="8ae2" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">首先，<strong class="kh ir">数据总是变化</strong>。数据总是在变化，这就需要一种监控解决方案来检测数据漂移，包括关键统计数据的变化，如最小值、最大值、标准差变化和数据分布变化。一旦底层数据发生变化，基于该数据训练的ML模型的性能也很可能发生变化(通常是以坏的方式)。还需要监控模型性能。因此，如果您的数据更改非常频繁，则绝对有必要在您的整体MLOps基础架构堆栈中构建监控功能。</li><li id="8d5f" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">第二，<strong class="kh ir">数据几乎总是脏的</strong>。众所周知，数据科学家花了相当多的时间清理数据并将数据转换为干净的状态。了解您自己的数据科学家在清理脏数据上花费了多少时间是值得的。如果时间很长，那么了解您的整个数据管道现在是如何运行的，并包括一些数据质量检查和模式实施以提高整体数据质量和可靠性，可能会很有用。</li><li id="5a1e" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">第三，<strong class="kh ir">数据并不总是可用的</strong>。原始数据很少能被输入最大似然算法进行即时学习。数据科学家经常必须将原始数据转换成特征，以帮助最大似然算法更快更准确地学习。这个转换过程被称为特征工程。特征工程通常需要数据科学家投入大量时间和精力。因此，功能也是组织的资产，就像数据本身一样。如果您的组织有多个数据科学家团队，并且他们处理相似的原始数据，那么他们很有可能会生成相似甚至相同的要素。在这种情况下，为数据科学家构建一个中心要素库来发布、共享他们的要素以及发现和重用由其他数据科学家创建的要素，可以显著增加价值并加快ML模型的开发时间。当然，除了特征发现和特征重用，特征库还有其他功能。我很快会有另一个关于“特色商店”的深度博客。如果您想在特色商店的博客发布时收到通知，请随时关注我的Medium。</li></ul><p id="0470" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以上是“ML是以数据为中心”这一事实所带来的影响。这些暗示需要你的ML基础设施的不同组件来处理，比如数据和模型监控，以及特征存储。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="fe68" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">多团队多技能协作</strong></p><p id="db10" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">构建端到端的ML解决方案，需要多个团队的不同技能。在我之前的文章— <a class="ae mf" rel="noopener" target="_blank" href="/learn-the-core-of-mlops-building-machine-learning-ml-pipelines-7242b77520b7?source=friends_link&amp;sk=0a3006eed886f1071082ac1b5a485785">了解MLOps的核心—构建机器学习(ML)管道</a>中，我提到为了构建一个端到端的ML解决方案，至少需要以下3个关键管道:</p><ul class=""><li id="070a" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">数据和特征工程管道，通常由数据工程团队开发。</li><li id="9280" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">ML模型培训和再培训管道，通常由数据科学团队开发和拥有。</li><li id="ddc1" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">ML模型推理/服务管道，通常由ML工程师或生产工程师团队开发和拥有。</li></ul><p id="b451" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了以可靠的方式自动化这三个管道，还需要其他关键组件—持续集成/持续培训/持续部署(CI / CT / CD)和基础设施即代码(IaC)。这些组件通常归基础架构团队或开发运维团队所有。</p><p id="2317" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通常这些团队使用非常不同的服务和工具集。例如，数据科学家主要使用Jupyter notebook进行ML模型培训和实验，数据工程师使用Python、SQL和Spark开发数据管道，而ML工程师不仅需要了解ML模型如何将数据科学家的笔记本转换为模块化和可测试的代码，他们还必须了解底层基础设施(如Container和Kubernetes和DevOps)，以及DevOps管道(如Github actions和Azure DevOps管道)。</p><p id="f7ce" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用不同的工具、服务和框架，通常会在这些团队之间产生更多的差距。团队不得不花费更多的时间来集成不同的服务和框架，这可能会重复一些工作，并可能造成不一致。如果这些场景在您的组织中经常发生，那么考虑一个可以支持各种工作负载(数据工程、ML培训和部署、ML管道、功能存储、工作流编排、DevOps集成、数据和模型监控)的单一平台将是非常有价值的，以便这些不同的团队可以在同一个平台上工作。我知道Databricks有这样一个数据和AI统一的平台，支持上面提到的各种工作负载。</p><p id="5774" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有了这样一个统一的平台，管理您的ML基础设施和建立您的端到端MLOps工作流程将变得更加容易，因为您可以避免将不同提供商的许多不同服务“缝合在一起”。</p><p id="ead2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果团队花费相当多的时间集成不同的平台，由于这些集成导致不一致，(甚至错误)，或者由于这些平台差异导致团队成员交流(甚至争论)，也许是时候考虑迁移到统一的平台，从基础设施层解决这些问题了。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="f82a" class="mn mo iq bd mp mq mr dn ms mt mu dp mv ko mw mx my ks mz na nb kw nc nd ne nf bi translated">动态生态系统</h2><p id="c291" class="pw-post-body-paragraph kf kg iq kh b ki ng jr kk kl nh ju kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">ML生态系统的所有方面都在快速发展，包括ML模型算法、分布式培训、数据和模型监控、ML生命周期管理、ML管道框架、ML基础设施抽象、工作流程编排，以及用于共享数据见解和ML模型结果的网络应用。此外，人工智能和人工智能可以应用的各种商业用例也在蓬勃发展——例如计算机视觉、自然语言处理(NLP)、音频、表格数据、重新通知学习和机器人，以及多模型任务。</p><p id="47d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面，我总结了这些ML方面的几个顶级开源库:</p><ul class=""><li id="91db" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">ML模型算法— Scikit Learn、Tensorflow、Keras、Pytorch、fastai、拥抱脸变形金刚、XGboost</li><li id="9814" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">ML分布式培训— Ray、Horovod、Dask</li><li id="5d61" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">数据和模型监控—显然，arize、whylabs、Deepchecks、</li><li id="67e8" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">ML生命周期/管道管理— mlflow、ZenML</li><li id="2d29" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">ML基础设施抽象——元流、库贝流</li><li id="15ae" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">用于共享数据和ML结果的Web应用程序— Streamlit、Gradio</li><li id="2ebf" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">工作流程编排— Metaflow、kubeflow、ZenML、Argo、Luigi、Dagster、Prefect</li><li id="e98f" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">用例—计算机视觉(图像分类、图像分割、对象检测)、自然语言处理(会话、文本分类、问答、摘要)、音频(音频分类、语音检测)、表格(分类、回归)、强化学习和机器人技术</li></ul><p id="31de" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个动态的生态系统无疑鼓励并创造了AI和ML社区中的许多创新。但是，如果每个团队都有自己的数据和ML栈和库，那么在整个组织中建立标准化和一致的ML工作流也会面临挑战。</p><p id="2f24" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您的组织拥有分散到不同职能部门的各种数据科学和ML团队，评估和推荐跨团队的一组一致的开源堆栈和库，并将它们作为整体ML基础架构的一部分，将会非常有用。在这种情况下，团队的工作可以重用，知识可以共享，ML工作流/ MLOps实践可以标准化。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="9b08" class="mn mo iq bd mp mq mr dn ms mt mu dp mv ko mw mx my ks mz na nb kw nc nd ne nf bi translated">连续变化状态</h2><p id="f67c" class="pw-post-body-paragraph kf kg iq kh b ki ng jr kk kl nh ju kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">与普通软件不同，ML驱动系统的迭代可以非常快，因为ML模型是从数据中学习的，而不是用定义的和固定的规则编程的。事实上，我们知道数据可能会很快改变。结果，ML驱动系统的性能会显著改变(通常以恶化的方式)。为了应对这些挑战并确保ML驱动的系统始终保持高性能和可靠性，有两个方面非常关键。一个是监控，一个是自动化。</p><ul class=""><li id="808e" class="lb lc iq kh b ki kj kl km ko ld ks le kw lf la lg lh li lj bi translated">监控<strong class="kh ir"> — </strong>一般来说，ML监控包括数据监控、特征监控和模型监控。数据监控是指了解数据的汇总统计、分布和趋势是否发生了变化。与数据监控类似，特征监控是为了了解用于训练模型的特征如何随时间而变化。模型监控侧重于关键指标的性能退化，并在未知问题对您的产品和业务造成真正损害之前将其暴露出来。如果我们以分类模型为例，这些关键指标将包括分类准确度、精确度、召回率、F1和混淆矩阵。对于可能对特定群体产生偏见和不公平的ML驱动的系统，深入了解模型如何跨特定群组得出结果也是至关重要的。用多维比较根除和减轻潜在模型偏差对边缘群体的影响。</li><li id="0ecb" class="lb lc iq kh b ki lk kl ll ko lm ks ln kw lo la lg lh li lj bi translated">自动化<strong class="kh ir"> — </strong>由于ML驱动系统的迭代可能非常快，要求任何人通过重新开发新功能、重新训练ML模型和重新部署模型来手动响应变化是不现实的，特别是当您有数百个ML模型在生产中运行时。首先，这种手动方法非常耗费人力，您必须不断发展您的数据科学和ML团队来应对这些变化。第二，这种方法是不可测试的，如果ML驱动的系统没有经过充分的测试和验证，可能会产生更多的错误。第三，这种手动方法可能需要几天的时间来完成，并且可能永远不够快来处理变更并部署ML模型的最新更新版本。因此，有必要将这种模型重新训练和重新部署过程自动化。强大的监控加上有力的持续集成/持续培训/持续部署(CI / CT / CD)可以实现这种自动化。这就是为什么MLOps是非常必要的，特别是对于在生产中有许多ML模型或者有非常复杂和关键的系统使用ML模型作为基本部分的组织。</li></ul></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="76d5" class="mn mo iq bd mp mq mr dn ms mt mu dp mv ko mw mx my ks mz na nb kw nc nd ne nf bi translated">摘要</h2><p id="7d18" class="pw-post-body-paragraph kf kg iq kh b ki ng jr kk kl nh ju kn ko ni kq kr ks nj ku kv kw nk ky kz la ij bi translated">对于许多ML驱动的系统，MLOps是必要的。希望通过解释为什么ML系统是独特的——以数据为中心、多团队和多技能组合、动态生态系统和持续变化状态——您可以更好地理解为什么MLOps是必要的。更重要的是，您可以了解MLOps试图解决什么问题，以便您可以做出更明智的决策，如您的组织是否需要MLOps，如果答案是“是”，那么MLOps的哪些组件是必要的，以及您应该如何构建您的数据和人工智能基础设施以真正收获人工智能的价值。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="7571" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我希望你喜欢阅读这篇博客。如果你想在有新博客发表时得到通知，请随时关注我。我一般每周都会发表1-2篇关于数据和AI的文章。</p><p id="aaa0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想看到更多围绕现代高效数据+AI栈的指南、深度潜水、见解，请订阅我的免费简讯— <a class="ae mf" href="https://yunnawei.substack.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir"> <em class="nl">高效数据+AI栈</em> </strong> </a>，谢谢！</p><p id="8aa8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">注:以防万一你还没有成为一个媒体成员，并希望获得无限制的媒体，你可以使用我的<a class="ae mf" href="https://medium.com/@weiyunna91/membership" rel="noopener">推荐链接</a>注册！我可以免费给你一点佣金。非常感谢你的支持！</p></div></div>    
</body>
</html>