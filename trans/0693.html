<html>
<head>
<title>McNemar’s Test, with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">McNemar的测试，使用Python</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/mcnemars-test-with-python-e1bab328d15c#2022-02-28">https://towardsdatascience.com/mcnemars-test-with-python-e1bab328d15c#2022-02-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="52e1" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">执行麦克纳玛测试的完整初学者指南(带代码！)</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/7ae703873a732d14f7f5e7ad34ea19e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h0mZH6bDqQa6k57IINQriA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">塞尔吉奥·罗塔在<a class="ae ky" href="https://unsplash.com" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fb20" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将介绍麦克纳玛检验的基本原理，这是一种用于比较两个相依总体比例的统计方法<strong class="lb iu">。[1]</strong></p><ul class=""><li id="f9f7" class="lv lw it lb b lc ld lf lg li lx lm ly lq lz lu ma mb mc md bi translated">这是一种配对卡方检验(χ2)，但这一次，两个群体都是<strong class="lb iu">依赖</strong>。</li><li id="5f6f" class="lv lw it lb b lc me lf mf li mg lm mh lq mi lu ma mb mc md bi translated">仅用于成对的名义数据。<br/> 1。<strong class="lb iu">前后对比数据</strong>，以揭示营销活动、药物测试等中认知、态度、行为的任何变化。<br/> 2。<strong class="lb iu">配对病例对照</strong> : <br/>一、每个病例都有配对对照，即年龄、性别、种族等匹配。<br/>二。双胞胎研究，即配对是双胞胎。[2]</li></ul><p id="1d02" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与χ2检验类似，在计算麦克内马统计量之前，需要将数据排列在2×2列联表中。[1]</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mj"><img src="../Images/2aa1347a6ca4f0ddcef5e3d78142c79a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qDNYFLWaZMHh2CjW5Bfddw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表1:对同一个样本进行两次测试(之前和之后)的结果的2x2列联表。图片作者。</p></figure><p id="0806" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">麦克纳玛检验中的零假设(H₀)是<strong class="lb iu">边际同质性</strong>，即每个结果的两个边际概率是相同的(<strong class="lb iu"> R₁总数= C₁总数</strong>类似地<strong class="lb iu"> R₂总数= C₂总数</strong>)，如果我们扩展方程→ A + B = A + C → B = C [1]</p><p id="1429" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">检验统计量具有一个自由度的近似χ2分布:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mk"><img src="../Images/6a4bcd3aac2f09f4e051ef4740524e2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6eI4fP61avbmtfjrFpiKyg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">麦克内马的测试统计。图片作者。</p></figure></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h2 id="1e39" class="ms mt it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">A.麦克内马前后数据检验</h2><blockquote class="nl nm nn"><p id="68f5" class="kz la no lb b lc ld ju le lf lg jx lh np lj lk ll nq ln lo lp nr lr ls lt lu im bi translated">日本汽车制造商丰田和三菱都致力于增加他们在中东的市场份额。在总共100个客户中，60个首选丰田，其余的在看到任何东西之前首选三菱。然而，在观看完丰田新发布的电视广告首映后，相同的受访者被要求再次考虑这两个品牌，并选择他们现在更喜欢的品牌，结果如下表所示。在1%的显著性水平上，有证据表明顾客在广告后改变了主意吗？</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/9fcf226e8d5010be91d23473f2996dce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GNVvKmj-s21uibwQXcemfg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表2:调查摘要2x2列联表。图片作者。</p></figure><p id="1433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据假设检验的五步流程:<br/>让π₁ =广告筛选前喜欢丰田的真实客户比例<br/> π₂ =广告筛选后喜欢丰田的真实客户比例<br/>h₀:π₁=π₂<br/>h₁:π₁≠π₂<br/>α= 0.01<br/>根据麦克纳玛的检验统计:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3faed21a080ab07f34cefcf48b9cb8cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SAFLEcr0nkDjmENXvATE3g.png"/></div></div></figure><p id="71f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结论:我们没有足够的证据表明广告筛选前后偏好丰田的客户的真实比例是不一样的，在1%的显著水平上。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h2 id="5d0f" class="ms mt it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">B.配对病例对照资料的麦克内马检验</h2><blockquote class="nl nm nn"><p id="5e4d" class="kz la no lb b lc ld ju le lf lg jx lh np lj lk ll nq ln lo lp nr lr ls lt lu im bi translated">进行了一项实验来比较两种哮喘治疗方法在消除急诊室就诊方面的有效性。200对哮喘患者按疾病严重程度配对。每对中的一名患者被分配治疗A，另一名被分配治疗b。实验将记录患者是否至少因呼吸困难而去过一次急诊室。在1%的显著性水平上，是否有证据表明这两种治疗方法不是同样有效？</p></blockquote><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/84683c0dc2b469872f9e4ab910f244e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vGOypsjgP47yiDSnIHjsYg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">表3:实验总结2x2列联表[3]</p></figure><p id="f309" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据假设检验的五个步骤:<br/>让π₁ =治疗a的患者中去急诊室的真实比例<br/> π₂ =治疗b的患者中去急诊室的真实比例<br/>h₀:π₁=π₂<br/>h₁:π₁≠π₂<br/>α= 0.01<br/>根据麦克纳玛的检验统计:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/71caad6847367f04795ce9a4fe2f48e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DzFdoUnCvhmff13tpd16w.png"/></div></div></figure><p id="f730" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结论:我们有足够的证据表明，在1%的显著性水平上，这两种治疗方法不是同等有效的</p><h2 id="4c19" class="ms mt it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">结论</h2><p id="e745" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">麦克内马检验是卡方检验的一种。然而，与用于检验两个变量之间关系的卡方检验(独立性的χ2检验)不同，麦克内马检验用于检查两个相关群体的感知、态度和行为是否有任何变化。每当相同的个体被测量两次(在调查之前和之后)、配对(双胞胎或已婚夫妇)、配对对照(即在一些变量上匹配(在上述例子中根据疾病的严重程度对哮喘患者配对))时，使用麦克内马检验。</p></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h2 id="2c7b" class="ms mt it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">推荐阅读</h2><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/chi-square-test-with-python-d8ba98117626"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">卡方检验，用Python</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">执行卡方检验的完全初学者指南(带代码！)</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="oq l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/anova-test-with-python-cfbf4013328b"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">用Python进行ANOVA测试</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">执行ANOVA测试的完全初学者指南(带代码！)</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a rel="noopener follow" target="_blank" href="/two-way-anova-test-with-python-a112e2396d78"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">使用Python进行双向ANOVA测试</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">执行双向ANOVA检验的完全初学者指南(带代码！)</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://levelup.gitconnected.com/how-to-perform-one-sample-hypothesis-tests-with-python-308eae8789fc" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">使用Python进行单样本假设检验</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">执行单样本假设检验的完全初学者指南(带代码！)</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="op l"><div class="ox l or os ot op ou ks og"/></div></div></a></div><div class="od oe gp gr of og"><a href="https://levelup.gitconnected.com/two-sample-hypothesis-tests-with-python-43e1b8c52306" rel="noopener  ugc nofollow" target="_blank"><div class="oh ab fo"><div class="oi ab oj cl cj ok"><h2 class="bd iu gy z fp ol fr fs om fu fw is bi translated">使用Python进行双样本假设检验</h2><div class="on l"><h3 class="bd b gy z fp ol fr fs om fu fw dk translated">执行双样本假设检验的完全初学者指南(带代码！)</h3></div><div class="oo l"><p class="bd b dl z fp ol fr fs om fu fw dk translated">levelup.gitconnected.com</p></div></div><div class="op l"><div class="oy l or os ot op ou ks og"/></div></div></a></div></div><div class="ab cl ml mm hx mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="im in io ip iq"><h2 id="1747" class="ms mt it bd mu mv mw dn mx my mz dp na li nb nc nd lm ne nf ng lq nh ni nj nk bi translated">参考</h2><p id="6f01" class="pw-post-body-paragraph kz la it lb b lc ny ju le lf nz jx lh li oa lk ll lm ob lo lp lq oc ls lt lu im bi translated">[1] <a class="ae ky" href="https://stats.libretexts.org/Bookshelves/Applied_Statistics/Book%3A_Learning_Statistics_with_R_-_A_tutorial_for_Psychology_Students_and_other_Beginners_(Navarro)/12%3A_Categorical_Data_Analysis/12.08%3A_The_McNemar_Test" rel="noopener ugc nofollow" target="_blank">麦克内马检验—统计库文本</a></p><p id="4df1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[2] <a class="ae ky" href="https://en.wikipedia.org/wiki/McNemar's_test" rel="noopener ugc nofollow" target="_blank">麦克纳玛的测试——维基百科</a></p><p id="de60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">[3] <a class="ae ky" href="https://www.biostat.wisc.edu/~lindstro/15.contingency.tables.10.29.pdf" rel="noopener ugc nofollow" target="_blank">威斯康星大学麦迪逊分校BMI541/99讲座:生物统计学和医学信息学</a>，2022</p></div></div>    
</body>
</html>