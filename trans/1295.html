<html>
<head>
<title>Fact vs Dimension Tables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">事实与维度表</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/star-schema-924b995a9bdf#2022-04-01">https://towardsdatascience.com/star-schema-924b995a9bdf#2022-04-01</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="d141" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">在星型模式和数据仓库的上下文中理解事实表和维度表之间的区别</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/e3e5127bdeb3a85368084addafc942ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-qHYSnNJF2_guHSBmZPxiA.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在<a class="ae kz" href="https://unsplash.com/s/photos/star?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kz" href="https://unsplash.com/@jareeign?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">统治的</a>拍照</p></figure><h2 id="071a" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="4ec7" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">随着组织生成和消耗越来越多的数据，有效的数据管理变得越来越具有挑战性，尤其是在数据存储和建模方面。因此，建立适当的数据结构对于有效管理数据至关重要。</p><p id="806c" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">在本文中，我们将探索一个在数据工程中广泛使用的原则，称为<strong class="ly iv">星型模式</strong>，并深入研究它的两个主要组件:<strong class="ly iv">事实</strong>和<strong class="ly iv">维度</strong> <strong class="ly iv">表</strong>。通过讨论它们的区别并提供一个端到端的例子，我们旨在展示这些概念是如何在现实项目中使用的。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="531b" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">简而言之的星型模式</h2><p id="020b" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">星型模式广泛用于数据仓库和多维数据集市的建模。它由引用任意数量的维度表的单个事实表组成。</p><p id="5357" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">这种模式是雪花模式的变体，通常用于支持更简单的查询集，既有优点也有缺点。“星型模式”这个名字来源于事实表在模式图中的中心位置，被维度表包围着。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="abf8" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">事实和维度表</h2><p id="c936" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">一个<strong class="ly iv">事实表</strong>保存了被引用的<strong class="ly iv">维度表</strong>的<strong class="ly iv">主键</strong>以及一些<strong class="ly iv">量化指标</strong>(即测量值)，在这些指标上可以执行某种计算。事实表的一些常见示例包括<em class="nb">订单</em>、<em class="nb">日志</em>和<em class="nb">时序财务数据</em>。</p><p id="f624" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">另一方面，<strong class="ly iv">维度表</strong>保存了事实表记录中包含的所有相关字段的<strong class="ly iv">描述信息</strong>。维度表的几个常见示例是物理实体，如客户表<em class="nb">和产品表</em>和产品表<em class="nb">甚至时间表。一般来说，<strong class="ly iv">维度表的大小比</strong>事实表要小得多。</em></p><p id="a010" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">区分事实表和维度表的一个简单方法是检查一个表是否引用一个名词，比如一个物理对象或人。例如，产品或客户可能独立于任何特定的业务事件而存在。因此，维度表表示名词，因为它们表示采取行动或对其采取行动的事物(例如实体店、客户或产品)。另一方面，一个动词通常对应于一个事实表，其中每个记录对应于一个事件，该事件涉及维度表中的条目。例如，一个订单涉及一个客户和一个产品(或者可能更多)。下订单的行为是由特定客户针对特定产品做出的。</p><p id="8db1" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">作为一个例子，让我们考虑一个用例，客户在实体店购买产品。星形模式如下图所示。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nc"><img src="../Images/b4932d967d18407da3f79a0dc3183bfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aa5f69jOLbOkVNKRp7g-CA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">示例星型架构，事实表为橙色，维度表为蓝色—来源:作者</p></figure><p id="ee88" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">蓝色的维度表对应于包含关于<em class="nb">客户</em>、<em class="nb">商店</em>、<em class="nb">产品</em>和<em class="nb">日期</em>的信息的表。这些是商业案例的<em class="nb">名词</em>。</p><p id="ddf8" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">橙色显示的事实表包含维度表的所有主键(PK)——事实表中的外键(FK)——以及两个定量字段，即<code class="fe nd ne nf ng b">quantity</code>和<code class="fe nd ne nf ng b">amount</code>。</p><p id="454d" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">请注意，即使没有主键，事实表也可以存在，但通常会给它们分配一个代理键。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="c52d" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">星型模式的优势</h2><p id="59eb" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">由于模型的非规范化性质，星型模式在性能方面往往更快。同时，星型模式往往相当简单，因此整体结构更容易设计。此外，尽管不可维护，但可读性更好——下一节将详细介绍。</p><p id="21f1" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">星型模式的结构有助于数据聚合，事实表通常只连接到一个级别的维度表。这种简单性降低了数据工程师和科学家查询的复杂性，也可以简化测试过程。此外，星型模式的高效查询性能有助于最小化对其他 OLAP 产品产生负面影响的风险。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="75dd" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">何时(不)使用星型模式</h2><p id="f0b4" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">如前所述，星型模式中的维度是非规范化的，这可能会导致表中出现重复值。因此，星型模式的存储需求相对大于其他模式，如规范化雪花模式。如果存储大小是一个问题，这种数据冗余可能需要重新考虑星型模式。</p><p id="eddf" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">此外，星型模式中的数据冗余增加了数据完整性的风险，因为由于数据在多个记录中重复，新的更新、删除和插入可能会影响整体数据完整性。</p><p id="8c6f" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">尽管由于表之间的直接关系，星型模式的设计和实现很简单，但是由于前面提到的数据完整性问题，维护星型模式可能会带来挑战。随着新数据的接收和新表的潜在创建，在整个数据仓库中验证和保持数据完整性可能会变得很困难。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><h2 id="78f3" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="e6b7" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在本文中，我们强调了拥有适当的数据存储结构以实现有效数据管理的重要性。我们讨论了星型模式，这是数据工程中常用的原则，以及它的两个主要组成部分，事实表和维度表。此外，我们已经看到了如何在实际用例中应用这些概念。我们还分析了星型模式的优缺点，包括其潜在的存储和数据完整性问题。</p><p id="530c" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated">最终，使用星型模式的决定取决于具体的环境，并且应该考虑必要的替代方法，如雪花模式。通过了解星型模式，数据工程师和科学家可以构建高效的数据存储结构并执行有效的数据分析。</p></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><p id="1b77" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="nh ni gq gs nj nk"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">通过我的推荐链接加入 Medium-Giorgos Myrianthous</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kt nk"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz mp jv mb mc mq jy me lj mr mg mh ln ms mj mk lr mt mm mn mo in bi translated"><strong class="ly iv">相关文章你可能也喜欢</strong></p><div class="nh ni gq gs nj nk"><a rel="noopener follow" target="_blank" href="/data-lakes-vs-data-warehouses-47444228604c"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">数据湖与数据仓库</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">数据湖和仓库有什么区别？</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">towardsdatascience.com</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kt nk"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nk"><a href="https://pub.towardsai.net/object-storage-521d5454d2d" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">对象存储对于大数据是否高效？</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">使用对象存储来存储、归档和管理数据</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">pub.towardsai.net</p></div></div><div class="nt l"><div class="nz l nv nw nx nt ny kt nk"/></div></div></a></div></div><div class="ab cl mu mv hy mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu nk"><a href="https://betterprogramming.pub/kafka-cli-commands-1a135a4ae1bd" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fp"><div class="nm ab nn cl cj no"><h2 class="bd iv gz z fq np fs ft nq fv fx it bi translated">用于日常编程的 15 个 Kafka CLI 命令</h2><div class="nr l"><h3 class="bd b gz z fq np fs ft nq fv fx dk translated">演示最常用的 Kafka 命令行界面命令的使用</h3></div><div class="ns l"><p class="bd b dl z fq np fs ft nq fv fx dk translated">better 编程. pub</p></div></div><div class="nt l"><div class="oa l nv nw nx nt ny kt nk"/></div></div></a></div></div></div>    
</body>
</html>