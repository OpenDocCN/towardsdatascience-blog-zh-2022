<html>
<head>
<title>Job Scheduling with Apache AirFlow 2.0 in 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Apache AirFlow 2.0在10分钟内完成作业调度</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/job-scheduling-with-apache-airflow-2-0-in-10-minutes-16d19f548a46#2022-02-26">https://towardsdatascience.com/job-scheduling-with-apache-airflow-2-0-in-10-minutes-16d19f548a46#2022-02-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="faac" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">简化工作流管理系统——用Python示例解释</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/40c067c970a9bc62ffd764e456376c4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hi_RMJ1ZVWHkd04A"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@fahrulazmi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">法鲁尔·阿兹米</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a84d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Apache Airflow是Airbnb打造的工作流管理系统。通俗地说，它可以被认为是一个打了兴奋剂的作业调度器<em class="lv"/>。如果您有应该按计划运行或按顺序运行的Python脚本，Apache Airflow是一个方便而可靠的工具，可以处理这些问题，甚至更多。Apache Airflow有4个组件:元数据数据库、调度器、执行器和Web服务器。本文将涉及Apache Airflow中使用的组件和术语，如何设置和使用Apache Airflow的Python示例，以及如何启动Apache Airflow Web服务器。</p><p id="4508" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">注</em> </strong> : Apache Airflow只在Linux上运行，在Windows上可以通过Docker或者WSL2 (Windows子系统for Linux)获得。</p><p id="b09e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> <em class="lv">更新</em> </strong> <em class="lv">:本文是系列文章的一部分。查看其他“10分钟内”话题</em> <a class="ae ky" href="https://medium.com/@kayjanwong/list/in-10-minutes-eeaa9aa67055" rel="noopener"> <em class="lv">此处</em> </a> <em class="lv">！</em></p><h1 id="c077" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">目录</h1><ul class=""><li id="064a" class="mo mp it lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated"><a class="ae ky" href="https://medium.com/p/16d19f548a46/#7ab2" rel="noopener">什么是阿帕奇气流</a></li><li id="e445" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><a class="ae ky" href="https://medium.com/p/16d19f548a46/#101b" rel="noopener">什么是任务和DAG </a></li><li id="a0b4" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><a class="ae ky" href="https://medium.com/p/16d19f548a46/#0b68" rel="noopener">安装气流</a></li><li id="b893" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><a class="ae ky" href="https://medium.com/p/16d19f548a46/#d4b3" rel="noopener">用Python使用气流</a></li><li id="3ecf" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><a class="ae ky" href="https://medium.com/p/16d19f548a46/#7aec" rel="noopener">启动网络服务器</a></li></ul></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="7ab2" class="lw lx it bd ly lz nl mb mc md nm mf mg jz nn ka mi kc no kd mk kf np kg mm mn bi translated">什么是阿帕奇气流</h1><p id="6f0b" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">Apache Airflow是一个工作流管理系统，它将任务及其依赖关系定义为代码，并定期执行任务。它提供了一个web UI，显示当前活动和过去任务的状态，以及关于任务执行的诊断信息。如果需要，用户还可以手动管理任务的执行和状态，使其自动化，但也允许人工干预。</p><p id="36e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">气流有几个组成部分，即</p><ul class=""><li id="e999" class="mo mp it lb b lc ld lf lg li nt lm nu lq nv lu mv mw mx my bi translated"><strong class="lb iu">元数据数据库</strong>:存储关于任务状态的信息</li><li id="a137" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><strong class="lb iu">调度器</strong>:决定需要执行哪些任务以及执行优先级</li><li id="d47a" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><strong class="lb iu">执行器</strong>:执行任务逻辑的进程</li><li id="0e84" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><strong class="lb iu">网络服务器</strong>:支持向用户显示信息的图形用户界面(GUI)的服务器</li></ul><h1 id="101b" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">什么是任务和DAG</h1><p id="5f00" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">任务被定义为一个工作单元，可以看作是运行脚本的Python作业。一个任务实例运行一个单独的任务，并有一个状态，如<code class="fe nw nx ny nz b">running</code>、<code class="fe nw nx ny nz b">success</code>、<code class="fe nw nx ny nz b">failed</code>、<code class="fe nw nx ny nz b">skipped</code>或<code class="fe nw nx ny nz b">up for retry</code>等。</p><p id="b5b7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有两种类型的任务，即</p><ul class=""><li id="0f35" class="mo mp it lb b lc ld lf lg li nt lm nu lq nv lu mv mw mx my bi translated"><strong class="lb iu">操作员</strong>:执行操作。<code class="fe nw nx ny nz b">PythonOperator</code>可以执行任何可以在Python中执行的函数，还有<code class="fe nw nx ny nz b">BashOperator</code>、<code class="fe nw nx ny nz b">EmailOperator</code>、<code class="fe nw nx ny nz b">SimpleHttpOperator</code>等。取决于您的需求</li><li id="c2a1" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><strong class="lb iu">传感器</strong>:暂停相关任务的执行，直到满足某个标准。传感器可以检查任何进程或数据结构的状态</li></ul><p id="e8a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这两类任务通常按<code class="fe nw nx ny nz b">sensor &gt; operator</code>顺序执行，其中传感器任务可以暂停操作员任务的执行，直到满足条件。</p><p id="c5d6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">任务可以在有向非循环图(DAG)中链接起来执行。DAG是一种有向图(任务执行有一个顺序)和无环图(任务不能形成一个永无止境的循环)。</p><h1 id="0b68" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">安装气流</h1><p id="a086" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">Airflow可以作为Python包安装，并使用以下命令实例化其数据库，</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="d3f1" class="oe lx it nz b be of og l oh oi">$ pip install apache-airflow<br/>$ airflow db init</span></pre><p id="99f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你已经准备好使用阿帕奇气流！</p><h1 id="d4b3" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">通过Python使用气流</h1><p id="991e" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">使用Apache Airflow有3个主要步骤。首先，您需要定义DAG，指定脚本需要运行的时间表，在任务失败时向谁发送电子邮件，等等。接下来，您需要通过将任务链接到Python函数来定义操作员任务和传感器任务。最后，您需要定义任务之间的依赖关系，指定任务的顺序。</p><p id="451e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们深入了解如何将Apache Airflow与Python结合使用！</p><h2 id="4873" class="oj lx it bd ly ok ol dn mc om on dp mg li oo op mi lm oq or mk lq os ot mm ou bi translated">1.定义DAG</h2><p id="8346" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">要定义DAG，它只是一个带有传入<code class="fe nw nx ny nz b">default_args</code>的参数的<code class="fe nw nx ny nz b">DAG</code>对象。有几个重要的参数需要定义，</p><ul class=""><li id="67a7" class="mo mp it lb b lc ld lf lg li nt lm nu lq nv lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">owner</code>:DAG的所有者</li><li id="13ed" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">start_date</code>:运行DAG的开始日期，这必须是历史日期</li><li id="9d72" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">schedule_interval</code>:运行DAG的时间间隔，可以用<code class="fe nw nx ny nz b">datetime.timedelta</code>或<a class="ae ky" href="https://crontab.guru/" rel="noopener ugc nofollow" target="_blank"> CRON schedule </a>格式后的字符串定义</li><li id="2ae6" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">email</code>:失败或重试时发送邮件的邮件地址</li><li id="f337" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">retries</code>:重试次数</li><li id="0b9f" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">retry_delay</code>:每次重试之间的延迟</li></ul><p id="e0df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">更多参数可以在Apache Airflow文档中找到。下面是如何实例化DAG的示例，</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="cde9" class="oe lx it nz b be of og l oh oi">import datetime<br/><br/>from airflow.models import DAG<br/><br/># Parameteres<br/>WORFKLOW_DAG_ID = "my_example_dag"<br/>WORFKFLOW_START_DATE = datetime.datetime(2022, 1, 1)<br/>WORKFLOW_SCHEDULE_INTERVAL = "* * * * *"<br/>WORKFLOW_EMAIL = ["youremail@example.com"]<br/><br/>WORKFLOW_DEFAULT_ARGS = {<br/>    "owner": "kayjan",<br/>    "start_date": WORFKFLOW_START_DATE,<br/>    "email": WORKFLOW_EMAIL,<br/>    "email_on_failure": False,<br/>    "email_on_retry": False,<br/>    "retries": 0,<br/>}<br/># Initialize DAG<br/>dag = DAG(<br/>    dag_id=WORFKLOW_DAG_ID,<br/>    schedule_interval=WORKFLOW_SCHEDULE_INTERVAL,<br/>    default_args=WORKFLOW_DEFAULT_ARGS,<br/>)</span></pre><h2 id="ca29" class="oj lx it bd ly ok ol dn mc om on dp mg li oo op mi lm oq or mk lq os ot mm ou bi translated">2.定义任务</h2><p id="a8b7" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">任务应该链接到它们各自的Python函数。任务名称在<code class="fe nw nx ny nz b">task_id</code>中指定，并且必须是唯一的，而Python函数是用<code class="fe nw nx ny nz b">python_callable</code>参数指定的。</p><p id="6235" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的例子中，我定义了两个Python函数<code class="fe nw nx ny nz b">job_1</code>和<code class="fe nw nx ny nz b">job_2</code>，一个传感器的虚拟函数<code class="fe nw nx ny nz b">sensor_job</code>，并将它链接到操作员和传感器任务。</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="604a" class="oe lx it nz b be of og l oh oi">from airflow.operators.python import PythonOperator<br/>from airflow.sensors.python import PythonSensor<br/><br/># Define functions<br/>def job_1():<br/>    print("Perform job 1")<br/><br/>def job_2():<br/>    print("Perform job 2")<br/><br/>def sensor_job():<br/>    print("Sensor Job")<br/><br/># Define jobs<br/>job_1_operator = PythonOperator(<br/>    task_id="task_job_1",<br/>    python_callable=job_1,<br/>    dag=dag,<br/>)<br/><br/>job_2_sensor = PythonSensor(<br/>    task_id="task_job_2_sensor",<br/>    python_callable=sensor_job,<br/>    dag=dag,<br/>    poke_interval=180,<br/>)<br/><br/>job_2_operator = PythonOperator(<br/>    task_id="task_job_2",<br/>    python_callable=job_2,<br/>    dag=dag,<br/>)</span></pre><h2 id="bb12" class="oj lx it bd ly ok ol dn mc om on dp mg li oo op mi lm oq or mk lq os ot mm ou bi translated">3.定义任务之间的相关性</h2><p id="44a3" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">定义了任务之后，我们需要定义任务运行的顺序。这可以使用具有惯例的位移算子<code class="fe nw nx ny nz b">&gt;&gt;</code>来完成，</p><ul class=""><li id="8a15" class="mo mp it lb b lc ld lf lg li nt lm nu lq nv lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">preceding_task &gt;&gt; subsequent_task</code>，或者</li><li id="4c3b" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">subsequent_task &lt;&lt; preceding_task</code></li></ul><p id="3329" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">依赖性也可以用Pythonic代码来定义，</p><ul class=""><li id="659b" class="mo mp it lb b lc ld lf lg li nt lm nu lq nv lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">preceding_task.set_downstream(subsequent_task)</code>，或者</li><li id="eafa" class="mo mp it lb b lc mz lf na li nb lm nc lq nd lu mv mw mx my bi translated"><code class="fe nw nx ny nz b">subsequent_task.set_upstream(preceding_task)</code></li></ul><p id="9005" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就我个人而言，我更喜欢使用位移运算符，因为它可以堆叠，可读性更强。</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="a6ee" class="oe lx it nz b be of og l oh oi"># Set dependency<br/>job_1_operator &gt;&gt; job_2_sensor &gt;&gt; job_2_operator</span></pre><p id="33c1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我把上面所有的代码放在目录<code class="fe nw nx ny nz b">dags_folder/dag.py</code>里。务必使用<code class="fe nw nx ny nz b">python3 dags_folder/dag.py</code>运行一次代码，检查是否有错误。完成后，将文件复制到<code class="fe nw nx ny nz b">~/airflow/airflow.cfg</code>中定义的文件路径。或者，使用绝对路径将<code class="fe nw nx ny nz b">airflow.cfg</code>文件改为指向您的<code class="fe nw nx ny nz b">dags_folder</code>目录。</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="dba2" class="oe lx it nz b be of og l oh oi">$ cp dags_folder/dag.py /home/kayjan/airflow/dags/</span></pre><h1 id="7aec" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">启动Web服务器</h1><p id="29cf" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">在Airflow Web服务器上查看DAG之前，仍需要完成一些步骤。</p><p id="80df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，用户需要注册，因为Airflow Web服务器需要登录凭证。我们可以分别使用以下命令注册用户和删除用户，</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="416b" class="oe lx it nz b be of og l oh oi">$ airflow users create -r Admin -u &lt;username&gt; -p &lt;password&gt; -f &lt;first_name&gt; -l &lt;last_name&gt; -e &lt;email&gt;<br/>$ airflow users delete -u &lt;username&gt;</span></pre><p id="dca0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，启动气流调度程序。请注意，要使DAG按计划运行，气流调度程序必须正在运行。</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="1e64" class="oe lx it nz b be of og l oh oi">$ airflow scheduler</span></pre><p id="3c32" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过运行<code class="fe nw nx ny nz b">airflow dags list</code>命令检查您的DAG是否存在。可能有许多其他Dag是您现在可以忽略的示例Dag。</p><p id="7394" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，打开一个新的终端，用下面的命令启动Web服务器，</p><pre class="kj kk kl km gt oa nz ob bn oc od bi"><span id="a41b" class="oe lx it nz b be of og l oh oi">$ airflow webserver</span></pre><p id="1a68" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Web服务器上，可以以树形格式查看历史运行及其状态，或者以图形格式查看DAG。还有其他信息，如DAG参数、DAG代码、任务日志等。您可以使用右上角的播放按钮手动触发DAG运行。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/ce569dfe29479e8cf9d22173a94fd006.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mn9qLkZXHCEShjg0KzlZ3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1: Apache Airflow Web服务器树选项卡(查看历史运行和状态)-按作者分类的图片</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/cc461099095ae33345b55b108d586031.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q8FO2VcctsPKCV-SHR70xg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2: Apache Airflow Web服务器图表选项卡(查看DAG)-按作者分类的图像</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ov"><img src="../Images/2c3aae23b9e17d2e6c3575e4b1d07375.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R2kmBvjxsERzEFyIDDgX4w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:作业1的任务日志——按作者分类的图像</p></figure></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="7d45" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望你已经学习了Apache Airflow的基础知识，以及如何设置一个运行Python代码的Airflow DAG。Apache Airflow中有许多新的术语，可能会非常混乱。在这篇介绍之后，您应该能够更好地理解Apache Airflow文档、论坛或其他文章。</p><p id="c747" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Apache Airflow上还有更多的功能，比如用Celery或Kubernetes Executors以分布式方式运行任务，用XCom在操作员之间交换信息，用hooks定义自己的操作员和传感器。有需求的话可以出续集；)</p><p id="abfd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，本文中共享的代码总结如下，</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="da82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">感谢您的阅读！</strong>如果你喜欢这篇文章，请随意分享。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="ac02" class="lw lx it bd ly lz nl mb mc md nm mf mg jz nn ka mi kc no kd mk kf np kg mm mn bi translated">相关链接</h1><p id="e9fd" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nq lk ll lm nr lo lp lq ns ls lt lu im bi translated">阿帕奇气流文件:【https://airflow.apache.org/ T2】</p><p id="53df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">阿帕奇气流教程:<a class="ae ky" href="https://airflow-tutorial.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">https://air flow-Tutorial . readthedocs . io/en/latest/index . html</a></p><p id="ad5a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">阿帕奇气流官方GitHub:<a class="ae ky" href="https://github.com/apache/airflow" rel="noopener ugc nofollow" target="_blank">https://github.com/apache/airflow</a></p></div></div>    
</body>
</html>