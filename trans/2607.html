<html>
<head>
<title>Creating a Dashboard App with Dash/Heroku: A Streamlined Process</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Dash/Heroku创建仪表板应用程序:简化的流程</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/creating-a-dashboard-app-with-dash-heroku-a-streamlined-process-26bce4fbf2c8#2022-06-06">https://towardsdatascience.com/creating-a-dashboard-app-with-dash-heroku-a-streamlined-process-26bce4fbf2c8#2022-06-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/915b41acd4faff54ab08a02bd18c887d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1hlTJV_pHRRguD4u"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kf" href="https://unsplash.com/@kmuza?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Carlos Muza </a>拍摄的照片</p></figure><p id="8f80" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一直想创建一个仪表板，但担心你必须在哪里托管它，学习CSS和HTML似乎令人生畏？那这篇文章就送给你了！</p><p id="8275" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Dash/Plotly协同工作，因此您可以在单独使用Python [1]时轻松创建令人惊叹的视觉效果。Dash是一个python库，作为HTML代码的包装库。事实上，这种符号看起来有点类似于HTML，并与一般的框架和格式相呼应，只是略有不同。</p><p id="5197" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">本文致力于使用Dash构建和使用Heroku [2]托管的仪表板的部署，假设您对使用. py文件构建Dash应用程序有足够的了解。如果你想看更多关于Dash的信息/文章，请在下面留言。: )</p><h2 id="cef1" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">在Heroku上创建帐户/安装必要的依赖项:</h2><ol class=""><li id="8ad3" class="lx ly it ki b kj lz kn ma kr mb kv mc kz md ld me mf mg mh bi translated">在Heroku上注册一个账户:【https://id.heroku.com/login T4】</li><li id="94de" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">创建您的应用程序名称(这最终将成为URL的一部分，因此请明智选择！)</li><li id="8b88" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld me mf mg mh bi translated">下载并安装<a class="ae kf" href="https://devcenter.heroku.com/articles/heroku-cli" rel="noopener ugc nofollow" target="_blank">Heroku CLI</a>:<br/>——这允许您使用git从命令行更新和更改您的仪表板</li></ol><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mn"><img src="../Images/ddbfa74152c51dac5fb1e6d8e9e2f430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gLiiUR-VInXfYeZdEZZF4A.png"/></div></div></figure><h2 id="c104" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">在选择的IDE中:</h2><p id="0487" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">4.在文件夹中创建新项目，并使用您喜欢的编辑器(PyCharm，VSCode等)。)</p><ul class=""><li id="84e6" class="lx ly it ki b kj kk kn ko kr mv kv mw kz mx ld my mf mg mh bi translated">在PyCharm中选择“创建新项目”,这将提示您为文件的位置指定一个带有文件夹的路径名。名称/文件夹应该是特定于项目的</li><li id="e97f" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld my mf mg mh bi translated">在单击项目的“创建”之前，选择“新环境使用”,并使用下拉菜单选择<strong class="ki iu"> Virtualenv </strong></li><li id="8679" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld my mf mg mh bi translated">venv应该使用您的基本Python解释器环境在项目文件夹中构建自己的venv</li><li id="992e" class="lx ly it ki b kj mi kn mj kr mk kv ml kz mm ld my mf mg mh bi translated">最后，选择“创建”</li></ul><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mz"><img src="../Images/1b45196dc7326b9bb6a6a17c50c379cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sNCm-tUVzsj1dbNKLFwSdw.png"/></div></div></figure><p id="bf5b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">5.在项目venv中，在终端中安装依赖项:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="61ee" class="le lf it nb b gy nf ng l nh ni">pip install numpy<br/>pip install pandas<br/>pip install dash<br/>pip install plotly<br/>pip install gunicorn</span></pre><p id="75c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Gunicorn允许您通过在单个dyno(支持所有Heroku应用程序的构建块)中运行多个Python进程来同时运行一个Python应用程序。</p><p id="094f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">6.在项目文件夹中创建一个<strong class="ki iu">。gitignore </strong>文件(告诉我们的git要忽略哪些文件)并在其中复制/粘贴:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="c89e" class="le lf it nb b gy nf ng l nh ni">venv<br/>.DS_Store<br/>.env<br/>*.pyc</span></pre><p id="6663" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">7.在项目文件夹中创建一个<strong class="ki iu"> Procfile </strong>并粘贴这个<strong class="ki iu"> : </strong></p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="97c4" class="le lf it nb b gy nf ng l nh ni">web gunicorn projectname:server</span></pre><p id="a794" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">其中projectname是您的。您在项目创建开始时指定的py文件。你不会使用。以文件名结尾的py文件(所以去掉文件名的这一部分)。</p><p id="b1d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">8.创建<strong class="ki iu"> requirements.txt </strong>。该命令应该从您的项目文件夹和venv:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="f901" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ pip freeze &gt; requirements.txt</span></pre><p id="88c3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">9.您的<strong class="ki iu"> project.py </strong>文件是您编写应用程序代码的地方。我将在另一篇文章中介绍Dash和Plotly的一些基础知识。</p><p id="e97c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">10.在你的应用程序的主<strong class="ki iu"> project.py </strong>文件中，你需要添加下面两行。这标志着我们正在建立一个应用程序。当我们单击右上角的“运行”时，它将在本地运行，并提供一个URL链接，您可以根据需要调整我们的控制面板。</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="48bd" class="le lf it nb b gy nf ng l nh ni">app = dash.Dash(__name__)<br/>server = app.server</span></pre><p id="86d2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您的文件结构应该如下图所示。在我的例子中，我的项目(python文件)是<strong class="ki iu"> multi-ml-health.py </strong>。我们还需要确保我们的。csv(数据被提取)也在我们的项目文件夹中。</p><figure class="mo mp mq mr gt ju gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/18e662eef39ab70e46e68e2f5dbd452d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*GRVgytyb-BMl5979XVDoQQ.png"/></div></figure><p id="4ac1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">11.希望您已经位于您的项目文件夹中，并且您的venv是活动的。如果没有，这是下一步所需要的，因为我们将我们在Heroku网站上实例化的项目连接到我们使用Python中的Dash创建的仪表板。登录Heroku:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="7481" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ heroku login</span></pre><p id="2adc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">它将提示您选择任意键来打开浏览器，并使用您的凭据登录。</p><p id="17f9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">12.在项目文件夹中创建一个新的git repo:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="233c" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ git init<br/>(venv) /projectfolder$ heroku git:remote -a projectnameonHeroku</span></pre><p id="1ab1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> projectnameonHeroku </strong>是你在Heroku上创建的名字(不是你上传的文件夹)。并准备将更改转移到git:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="02d7" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ git add .</span></pre><p id="4f92" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">提交更改并为初始应用程序启动添加消息！这将使我们对Heroku上的项目进行修改。: )</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="5f48" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ git commit -am "launch app"</span></pre><p id="14cc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">将变更推送到Heroku上项目的主(主要)分支:</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="1b4c" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ git push heroku master</span></pre><p id="8961" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后三个git命令将用于在将来根据需要对您的dashboard应用程序进行调整。</p><h2 id="df89" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">更新仪表板:克隆回购</h2><p id="4aca" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">再次登录Heroku。使用Git将multimodal-ml-health的源代码克隆到您的本地机器上。从初始部署开始，这应该理想地嵌套在您的本地文件夹系统中。</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="64d5" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ heroku login<br/>(venv) /projectfolder$ heroku git:clone -a multimodal-ml-health <br/>(venv) /projectfolder$ cd multimodal-ml-health</span></pre><h2 id="95a6" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">部署您的更改</h2><p id="ef08" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">对刚刚克隆的代码进行一些修改，并使用Git将它们部署到Heroku。</p><pre class="mo mp mq mr gt na nb nc nd aw ne bi"><span id="7030" class="le lf it nb b gy nf ng l nh ni">(venv) /projectfolder$ git add .<br/>(venv) /projectfolder$ git commit -am "updated figure 2"<br/>(venv) /projectfolder$ git push heroku master</span></pre><h2 id="019d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated"><strong class="ak">仪表板示例</strong></h2><p id="14b0" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">这是我的仪表板的链接，它是作为一个例子创建的，与提交给<em class="nk">Nature Machine Intelligence</em>的一篇评论文章一起开发的:</p><p id="ebc3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae kf" href="https://multimodal-ml-health.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://multimodal-ml-health.herokuapp.com/</a></p></div><div class="ab cl nl nm hx nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="im in io ip iq"><p id="c4af" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，如果你喜欢看到这样的文章，并希望无限制地访问我的文章和所有由Medium提供的文章，请考虑使用下面的我的推荐链接注册。会员费为5美元/月；我赚一小笔佣金，这反过来有助于推动更多的内容和文章！</p><div class="ns nt gp gr nu nv"><a href="https://medium.com/@askline1/membership" rel="noopener follow" target="_blank"><div class="nw ab fo"><div class="nx ab ny cl cj nz"><h2 class="bd iu gy z fp oa fr fs ob fu fw is bi translated">通过我的推荐链接加入Medium-Adrienne Kline</h2><div class="oc l"><h3 class="bd b gy z fp oa fr fs ob fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="od l"><p class="bd b dl z fp oa fr fs ob fu fw dk translated">medium.com</p></div></div><div class="oe l"><div class="of l og oh oi oe oj jz nv"/></div></div></a></div><h2 id="b05d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">参考资料:</h2><p id="bb61" class="pw-post-body-paragraph kg kh it ki b kj lz kl km kn ma kp kq kr ms kt ku kv mt kx ky kz mu lb lc ld im bi translated">[1] Dash Enterprise，<a class="ae kf" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank">plotly.com</a>，访问时间:2022年6月5日<br/>【2】Heroku，<a class="ae kf" href="https://www.heroku.com/" rel="noopener ugc nofollow" target="_blank"> Heroku:云应用平台</a>，访问时间:2022年6月6日</p></div></div>    
</body>
</html>