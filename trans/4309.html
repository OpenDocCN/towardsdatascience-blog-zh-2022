<html>
<head>
<title>4 Ways to Load Data in Pandas You Need to Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你需要知道的在Pandas中加载数据的4种方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-ways-to-load-data-in-pandas-you-need-to-know-f6a2d6bc9a98#2022-09-23">https://towardsdatascience.com/4-ways-to-load-data-in-pandas-you-need-to-know-f6a2d6bc9a98#2022-09-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="61ec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">熊猫图书馆的隐藏瑰宝</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/66999d780cef2559f8bd637bcb8449ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*j4TSt3jrGLq4yurL"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@homajob?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">斯科特·格雷厄姆</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="44bd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">熊猫让领先数据变得简单！我们可以使用<code class="fe lv lw lx ly b">pd.read_csv()</code>和<code class="fe lv lw lx ly b">pd.read_excel()</code>函数轻松加载CSV或Excel文件。但是我们可以扩展它们的功能，使加载数据更容易、更直接！</p><p id="57b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本指南中，您将学习:</p><ol class=""><li id="a889" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">如何从剪贴板加载数据，</li><li id="6ef9" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">如何一次读取一个工作簿中的所有Excel表格，</li><li id="1981" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">如何在一个目录中加载多个工作簿，以及</li><li id="280f" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">如何将多个列合并成一个日期列</li></ol><p id="b587" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们开始吧！</p><h1 id="1bff" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">从剪贴板加载数据</h1><p id="dbc5" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">如果你正在处理网上或工作中的电子表格中的小数据，你可以使用<code class="fe lv lw lx ly b">pd.read_clipboard()</code>函数加载数据。让我们看看这个过程是什么样子的。将下面的文本复制到剪贴板上:</p><pre class="kj kk kl km gt nk ly nl nm aw nn bi"><span id="02c2" class="no mo it ly b gy np nq l nr ns">Name  Age  Score<br/>0  Evan   33     85<br/>1  Kate   34     90<br/>2   Nik   32     85<br/>3  Kyra   35     95</span></pre><p id="84f2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后运行以下命令，这将输出结构化数据帧:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如何从剪贴板中读取数据帧</p></figure><p id="1b0d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">很酷，对吧？在下一节中，您将学习如何一次读取一个文件中的所有Excel表格。</p><h1 id="c230" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">一次读取所有Excel表格</h1><p id="d47d" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Pandas提供了一种非常有用的方法，可以一次加载Excel工作簿中包含的所有工作表。这可以通过使用<code class="fe lv lw lx ly b">pd.read_excel()</code>功能并在<code class="fe lv lw lx ly b">sheet_name=None</code>中加载来完成。想跟着去吗？你可以在这里下载<a class="ae ky" href="https://github.com/datagy/mediumdata/raw/master/Pandas_read_files_tips.xlsx" rel="noopener ugc nofollow" target="_blank">数据集。(数据集完全虚构，由作者提供。)</a></p><p id="afda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当<code class="fe lv lw lx ly b">None</code>用作参数时，Pandas将加载一个数据帧字典，其中键是表名，数据帧是值。</p><p id="2750" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从那里，我们可以使用<code class="fe lv lw lx ly b">pd.concat()</code>函数来传递字典的值。让我们看看这个是什么样子的:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">如何将Excel文件中的所有工作表读入单个数据框</p></figure><p id="2e7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我们访问字典的值时，会返回一个类似列表的结构。我们可以将它传递给<code class="fe lv lw lx ly b">pd.concat()</code>函数，函数<a class="ae ky" href="https://datagy.io/pandas-merge-concat/" rel="noopener ugc nofollow" target="_blank">会一个接一个地追加数据帧</a>。</p><h1 id="9c6f" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">一次加载多个工作簿</h1><p id="c9a3" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在这一节中，您将学习如何使用Pandas在一个目录中同时加载多个工作簿。你可以<a class="ae ky" href="https://github.com/datagy/mediumdata/raw/master/Files.zip" rel="noopener ugc nofollow" target="_blank">在这里</a>下载文件，并将它们加载到一个文件夹中。(关于数据集的快速说明:它是作者出于虚构的目的而创建的)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="c681" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看我们在上面的代码中做了什么:</p><ol class=""><li id="49d4" class="lz ma it lb b lc ld lf lg li mb lm mc lq md lu me mf mg mh bi translated">我们导入熊猫和操作系统库</li><li id="54e2" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">我们将目录加载到一个变量中，<code class="fe lv lw lx ly b">file_path</code></li><li id="c201" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">然后，我们使用列表理解来创建文件的路径列表</li><li id="e2b3" class="lz ma it lb b lc mi lf mj li mk lm ml lq mm lu me mf mg mh bi translated">然后，我们使用<code class="fe lv lw lx ly b">pd.concat()</code>函数追加所有的数据帧</li></ol><p id="ca9d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在下面的最后一节中，您将学习如何从多个专栏中提高阅读日期。</p><h1 id="b4b0" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">改进多列的阅读日期</h1><p id="1ad5" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">Pandas使得将某些列解析为日期变得很容易。然而，可能让您感到惊讶的是，您可以解析来自不同列的日期组件。</p><p id="3b3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的工作表包含月、日和年，它们分布在不同的列中。我们可以将它们组合在一起，作为单个日期时间列来读取。这可以通过传递一个包含要解析的列的列表来实现，比如<code class="fe lv lw lx ly b">[['Month', 'Day', 'Year']].</code></p><p id="1ea2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，我们可以更进一步，使用下面的代码为列指定一个名称:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div></figure><p id="1403" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通过传入字典，我们可以为结果列指定一个名称。这还会阻止读取单个列，从而使数据帧变得更小。</p><h1 id="7c91" class="mn mo it bd mp mq mr ms mt mu mv mw mx jz my ka mz kc na kd nb kf nc kg nd ne bi translated">结论</h1><p id="28eb" class="pw-post-body-paragraph kz la it lb b lc nf ju le lf ng jx lh li nh lk ll lm ni lo lp lq nj ls lt lu im bi translated">在这篇文章中，你学到了与熊猫一起工作时阅读数据的四个隐藏的宝石！熊猫提供了大量的功能，很难找到你想要的东西。希望你能学到新的东西！</p></div></div>    
</body>
</html>