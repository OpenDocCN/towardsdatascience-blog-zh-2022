<html>
<head>
<title>5 Simple Steps to MLOps with GitHub Actions, MLflow, and SageMaker Pipelines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用GitHub操作、MLflow和SageMaker管道进行MLOps的5个简单步骤</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-simple-steps-to-mlops-with-github-actions-mlflow-and-sagemaker-pipelines-19abf951a70#2022-09-21">https://towardsdatascience.com/5-simple-steps-to-mlops-with-github-actions-mlflow-and-sagemaker-pipelines-19abf951a70#2022-09-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1440" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用项目模板启动生产之路</h2></div><p id="51a7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今年早些时候，我发布了一个<a class="ae lb" rel="noopener" target="_blank" href="/mlops-with-mlflow-and-amazon-sagemaker-pipelines-33e13d43f238">分步指南</a>，通过内置的SageMaker MLOps项目模板和MLflow实现端到端ML生命周期的自动化。它将工作流编排、模型注册和CI/CD整合在一起，减少了运行端到端MLOps项目的工作量。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/0e9d1386126407981a9d92aa03f86460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHNMYD1iPYWqda0RvxemuA.jpeg"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">由<a class="ae lb" href="https://unsplash.com/@nasa?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> NASA </a>在<a class="ae lb" href="https://unsplash.com/photos/dCgbRAQmTQA?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="373f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我们将更进一步，定义一个基于GitHub、GitHub Actions、MLflow和SageMaker管道的MLOps项目模板，您可以在多个项目中重用它来加速您的ML交付。</p><p id="20cc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将采用随机森林在<a class="ae lb" href="https://www.kaggle.com/datasets/camnugent/california-housing-prices" rel="noopener ugc nofollow" target="_blank">加州房价</a>数据集上训练的示例模型，并自动化其端到端生命周期，直到部署到实时推理服务中。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a441" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">演练概述</h1><p id="4e8d" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们将分4步解决这个问题:</p><ul class=""><li id="cfc7" class="mw mx iq kh b ki kj kl km ko my ks mz kw na la nb nc nd ne bi translated">我们将首先使用IDE、MLflow tracking server设置一个开发环境，并将GitHub操作连接到您的AWS帐户。</li><li id="7c19" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">其次，我将展示如何进行实验，以及如何与团队成员轻松协作。我们还将把代码打包到容器中，并在可伸缩的SageMaker作业中运行它们。</li><li id="fa59" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">然后，我们将使用SageMaker管道自动化您的模型构建工作流，并安排它每周运行一次。</li><li id="8067" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated">最后，我们将使用基于GitHub Actions的CI/CD管道在您的帐户中部署实时推理服务。</li></ul><p id="8072" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>除了部署推理服务(例如:数据标记、日期版本控制、模型监控)，MLOps还可以有更多的功能，这个模板应该为您提供足够的结构来满足您的需求。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="dacc" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">先决条件</h1><p id="2ec6" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">要浏览此示例，请确保您具备以下条件:</p><ol class=""><li id="eee3" class="mw mx iq kh b ki kj kl km ko my ks mz kw na la nk nc nd ne bi translated">如果您对SageMaker Pipelines听起来不熟悉，请访问<a class="ae lb" href="https://www.youtube.com/watch?v=Hvz2GGU3Z8g" rel="noopener ugc nofollow" target="_blank">介绍亚马逊SageMaker Pipelines </a>。</li><li id="3d3b" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nk nc nd ne bi translated">熟悉<a class="ae lb" rel="noopener" target="_blank" href="/mlops-with-mlflow-and-amazon-sagemaker-pipelines-33e13d43f238">使用MLFlow和Amazon SageMaker管道的MLOps】。</a></li><li id="b81f" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nk nc nd ne bi translated">熟悉GitHub动作。<a class="ae lb" rel="noopener" target="_blank" href="/github-actions-everything-you-need-to-know-to-get-started-537f1dffa0ed">Github Actions——如果对你来说听起来很新鲜，那么开始使用Github Actions</a>所需要知道的一切都是一个好的开始。</li><li id="b1d6" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nk nc nd ne bi translated">这个<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>克隆到您的环境中。</li></ol></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="b5c8" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">步骤1:设置项目环境</h1><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nl"><img src="../Images/ab531eafda1390f774fa8867186faea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZQAN_Pv_qiWvn4gIrH4IyQ.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片:项目架构概述。</p></figure><p id="b755" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们将在项目中使用以下组件:</p><ul class=""><li id="8ddf" class="mw mx iq kh b ki kj kl km ko my ks mz kw na la nb nc nd ne bi translated"><strong class="kh ir"> SageMaker </strong>负责基于容器的工作、模型托管和ML管道</li><li id="4ec5" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir"> MLflow </strong>用于实验跟踪和模型注册。</li><li id="1ae4" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir"> API网关</strong>用于暴露API背后的推理端点。</li><li id="cbc7" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir"> GitHub </strong>作为repo、CI/CD和ML管道调度程序，具有<strong class="kh ir"> GitHub动作</strong>。</li></ul><p id="7f7b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您在企业中工作，此设置可能由IT管理员为您完成。</p><h2 id="7105" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">在您最喜欢的IDE中工作</h2><p id="7f57" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">为了提高工作效率，请确保您在自己熟悉的IDE中工作。在这里，我在SageMaker笔记本实例上托管VS代码，还将使用SageMaker Studio来可视化ML管道。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ny"><img src="../Images/eedbf942a1681b98de79b2733df7c950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*evOl0nEt0zFrUt7xQhs7-Q.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="8944" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">参见亚马逊SageMaker 上的<a class="ae lb" href="https://aws.amazon.com/blogs/machine-learning/host-code-server-on-amazon-sagemaker/" rel="noopener ugc nofollow" target="_blank">主机代码-服务器获取安装说明。</a></p><h2 id="405e" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">设置中央MLflow跟踪服务器</h2><p id="21e7" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们需要一个中央MLflow跟踪服务器来合作进行实验和注册模型。如果没有，可以<a class="ae lb" href="https://github.com/aws-samples/amazon-sagemaker-mlflow-fargate" rel="noopener ugc nofollow" target="_blank">按照说明</a>和<a class="ae lb" href="https://aws.amazon.com/blogs/machine-learning/managing-your-machine-learning-lifecycle-with-mlflow-and-amazon-sagemaker/" rel="noopener ugc nofollow" target="_blank">博文</a>在AWS Fargate上部署MLflow的开源版本。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi nz"><img src="../Images/e4e1094203c1f73316498a69a4c1758a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ec-Nsq65Amo0Lgu5ygwqxQ.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">图片由作者提供:一旦部署，确保你把负载平衡器URI放在某个地方。我们将在我们的项目中使用它，以便代码、作业和管道可以与MLflow对话。</p></figure><p id="b6da" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您还可以将MLflow替换为本地SageMaker选项、权重和偏差或您选择的任何其他工具。</p><h2 id="5ce1" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">将GitHub操作连接到您的AWS帐户</h2><p id="0a99" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">接下来，我们将使用OpenID Connect (OIDC)来允许GitHub Actions工作流访问您帐户中的资源，而无需将AWS凭据存储为长期GitHub机密。参见<a class="ae lb" href="https://docs.github.com/en/actions/deployment/security-hardening-your-deployments/configuring-openid-connect-in-amazon-web-services" rel="noopener ugc nofollow" target="_blank">在亚马逊网络服务</a>中配置OpenID Connect获取说明。</p><div class="ld le lf lg gt ab cb"><figure class="oa lh ob oc od oe of paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/c656f459728970dadd7baa4a6e67c266.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*Y2tLQxT4dwWVZD0DaVo2xw.png"/></div></figure><figure class="oa lh og oc od oe of paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/32257c53a1078fd66011928b32130217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1212/format:webp/1*H8miSMLJ3rdmzg0G5DLA4w.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk oh di oi oj translated">作者图片:我们将GitHub OIDC身份提供者添加到IAM中，并配置一个信任它的IAM角色。</p></figure></div><p id="8ec2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以设置一个具有以下信任关系的<code class="fe ok ol om on b">github-actions</code>角色:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="2cb0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们添加SageMaker作为主体，这样我们就可以直接从GitHub工作流中运行作业和管道。对于Lambda和API Gateway也是如此。</p><p id="47ea" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了便于说明，我将<code class="fe ok ol om on b">AdministratorAccess</code>托管策略附加到角色上。确保在您的环境中加强权限。</p><h2 id="abc9" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">为项目设置GitHub回购机密</h2><p id="de33" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">最后，我们将<code class="fe ok ol om on b">AWS account ID</code>、<code class="fe ok ol om on b">region name</code>和<code class="fe ok ol om on b">github-actions role ARN</code>作为秘密存储在GitHub repo中。它们可能是敏感信息，将被您的GitHub工作流安全地使用。详见<a class="ae lb" href="https://docs.github.com/en/actions/security-guides/encrypted-secrets" rel="noopener ugc nofollow" target="_blank">加密秘密</a>。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi oq"><img src="../Images/d79466fe303166d8b674196aef31ff58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9zpnV26yTDlrSjym5q97jg.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">图片作者:确保机密名称映射到您的工作流程中使用的名称。</p></figure><p id="5592" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在准备好出发了！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4b29" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">步骤2:在你的项目中进行实验和协作</h1><p id="243e" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">你可以在带有示例笔记本和脚本的repo中找到<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/experiment" rel="noopener ugc nofollow" target="_blank">实验文件夹</a>。它通常是你开始项目并试图找出解决你的ML问题的方法的地方。</p><p id="556c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">下面是主笔记本，显示如何在<a class="ae lb" href="https://www.kaggle.com/datasets/camnugent/california-housing-prices" rel="noopener ugc nofollow" target="_blank">加州房价</a>数据集上训练一个随机森林模型，并进行基本预测:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="4776" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的端到端项目中，这是一个简单的例子，您可以运行<code class="fe ok ol om on b">pip install -r requirements.txt</code>与您的团队成员使用相同的依赖项。</p><p id="b513" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">ML项目的这个实验阶段可能是相当松散的，你可以和你的团队一起决定如何组织子文件夹。此外，您是否应该使用笔记本或python脚本完全取决于您。</p><p id="4094" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以将本地数据和文件保存在<code class="fe ok ol om on b">data</code>和<code class="fe ok ol om on b">model</code>文件夹中。我已经把它们添加到了<code class="fe ok ol om on b">.gitignore</code>中，这样你就不会把大文件推给GitHub了。</p><h2 id="8f76" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">构建您的回购以实现轻松协作</h2><p id="a9d3" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">你可以随心所欲地构建你的回购协议。请记住，易用性和可重复性是项目生产率的关键。所以在这里，我将整个项目放在一个回购中，并试图在<a class="ae lb" href="https://docs.python-guide.org/writing/structure/" rel="noopener ugc nofollow" target="_blank"> python项目惯例</a>和MLOps需求之间找到平衡。</p><p id="0eed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以在下面的文件夹结构中找到描述:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="oo op l"/></div></figure><h2 id="c2fd" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">使用MLflow进行跟踪实验</h2><p id="2a9d" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">无论是在IDE中还是在SageMaker作业中运行代码，都可以使用MLflow跟踪实验运行。在这里，我记录了在<code class="fe ok ol om on b">housing</code>实验下运行的日志。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi or"><img src="../Images/b04e667775f91295a4c98e85263ba247.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cKFLFKkqk5nZJE-yhcjl_A.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="3445" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您也可以在<a class="ae lb" href="https://github.com/aws-samples/amazon-sagemaker-mlflow-fargate/tree/main/lab" rel="noopener ugc nofollow" target="_blank">本回购</a>中找到示例实验室以供参考。</p><h1 id="5f87" class="lz ma iq bd mb mc os me mf mg ot mi mj jw ou jx ml jz ov ka mn kc ow kd mp mq bi translated">步骤3:在SageMaker中从本地计算转移到基于容器的作业</h1><p id="cc0c" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在本地运行代码可以在项目早期发挥作用。但是，在某些时候，您会希望将依赖项打包到可复制的Docker映像中，并使用SageMaker来运行可伸缩的、基于容器的作业。我推荐阅读<a class="ae lb" href="https://medium.com/towards-aws/a-lift-and-shift-approach-for-getting-started-with-amazon-sagemaker-b18109ce1b44" rel="noopener">亚马逊SageMaker </a>入门的提升和转移方法，如果这对你来说听起来很新鲜的话。</p><h2 id="49f9" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">将工作流分解为作业</h2><p id="f921" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">您可以将项目工作流分解为多个步骤。我们将我们的工作分成两部分:我们在SageMaker处理作业中运行数据处理，在SageMaker培训作业中运行模型培训。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ox"><img src="../Images/7f87a0fcbc4546268413110edbaef1de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u1wI4Y5ECQZ5yUKkOy2JxA.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片:处理作业将运行并输出一个CSV文件到S3。然后在启动培训作业时使用文件S3位置。</p></figure><h2 id="9b43" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated"><strong class="ak">构建集装箱并将其推送到ECR </strong></h2><p id="7f06" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们作业的docker文件在<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/docker" rel="noopener ugc nofollow" target="_blank"> docker文件夹</a>中，您可以运行下面的shell命令将图像推送到ECR。</p><pre class="ld le lf lg gt oy on oz pa aw pb bi"><span id="3ebe" class="nm ma iq on b gy pc pd l pe pf">sh scripts/build_and_push.sh &lt;ecr-repo-name&gt; &lt;dockerfile-folder&gt;</span></pre><h2 id="f5a3" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated"><strong class="ak">在项目中使用配置文件</strong></h2><p id="2132" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">为了防止硬编码，我们需要一个存放作业参数的地方。这些参数可以包括容器映像URIs、MLflow跟踪服务器URI、入口点脚本位置、实例类型、在SageMaker作业中运行的代码中使用的超参数。</p><p id="a226" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，我们将使用<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/cfg/model_build.yaml" rel="noopener ugc nofollow" target="_blank"> model_build.yaml </a>。它的YAML结构使其易于扩展和维护。确保在运行作业之前将MLflow服务器URI和新推送的容器映像URIs添加到配置中。</p><h2 id="f3f7" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated"><strong class="ak">在SageMaker运行集装箱作业</strong></h2><p id="5e83" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">您现在已经准备好执行<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/scripts/run_jobs.py" rel="noopener ugc nofollow" target="_blank"> run_job.py </a>并在SageMaker jobs中运行您的代码。它将从<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/src/model_build" rel="noopener ugc nofollow" target="_blank"> src/model_build </a>中读取配置并使用代码来启动处理和训练任务。</p><p id="90d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">SageMaker会在运行时将<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/src/model_build/data_preparation/prepare.py" rel="noopener ugc nofollow" target="_blank"> prepare.py </a>和<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/src/model_build/training/train.py" rel="noopener ugc nofollow" target="_blank"> train.py </a>注入到各自的容器中，并将它们作为入口点。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="ce32" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">步骤4:自动化您的模型构建</h1><p id="0d5f" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">因此，您已经成功地在本地进行了试验，并在SageMaker中将工作流步骤作为基于容器的作业运行。现在您可以自动化这个过程。让我们称之为<code class="fe ok ol om on b">model_build</code>过程，因为它与模型版本注册到MLflow之前发生的所有事情相关。</p><p id="4589" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们希望自动化容器映像构建，将ML工作流步骤绑定到管道中，并将管道创建自动化到SageMaker中。我们还将安排管道执行。</p><h2 id="a005" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">使用GitHub工作流自动构建容器图像</h2><p id="7ede" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在上一步中，我们用脚本<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/scripts/build_and_push.sh" rel="noopener ugc nofollow" target="_blank">将容器映像推送到ECR，并在SageMaker作业中运行它们。转向自动化，我们使用这个</a><a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/.github/workflows/build-images.yaml" rel="noopener ugc nofollow" target="_blank"> GitHub工作流</a>来为我们处理流程。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pg"><img src="../Images/1c863f29d253413ee2ea4e0cb46a0adf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UpjMJ-O2KXjW5MOxvgn8fQ.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="dd0c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">工作流查看<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/docker" rel="noopener ugc nofollow" target="_blank"> docker文件夹</a>中的Dockerfiles，并在repo <code class="fe ok ol om on b">main</code>分支中发生更改时触发。它使用了一个<a class="ae lb" href="https://github.com/sofianhamiti/composite-action-push-image-ecr" rel="noopener ugc nofollow" target="_blank">复合GitHub动作</a>，负责登录ECR、构建和推送图像。</p><p id="5103" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该工作流还基于GitHub commit标记容器图像，以确保ML工作流步骤的可追溯性和可再现性。</p><h2 id="32d2" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">在SageMaker中将ML工作流步骤绑定到管道中</h2><p id="3c02" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">接下来，我们在SageMaker中定义一个管道来运行我们的工作流步骤。你可以在<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/src/model_build" rel="noopener ugc nofollow" target="_blank"> src/model_build </a>文件夹中找到我们的管道。它基本上运行处理步骤，获取其输出数据位置，并触发训练步骤。与作业一样，管道执行使用我们的<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/cfg/model_build.yaml" rel="noopener ugc nofollow" target="_blank"> model_build.yaml </a>中定义的参数。</p><p id="78b8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我在repo中添加了<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/scripts/submit_pipeline.py" rel="noopener ugc nofollow" target="_blank">scripts/submit _ pipeline . py</a>来帮助您按需在SageMaker中创建/更新管道。它可以在需要时帮助调试和运行SageMaker中的管道。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi ph"><img src="../Images/67bd98bc4d3297fd5a17061cc87f9de2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LnNtnNp-S9YihJIH4dUc9A.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片:你可以在SageMaker Studio中看到你更新的管道，并且可以用<code class="fe ok ol om on b"><strong class="bd pi">submit_pipeline.py --execute </strong>command.</code>运行执行</p></figure><p id="b8c4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦对管道满意，我们就使用<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/.github/workflows/update-pipeline.yaml" rel="noopener ugc nofollow" target="_blank">更新管道</a> GitHub工作流来自动化其管理。它在<code class="fe ok ol om on b">main</code>分支中寻找管道变更，并运行<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/scripts/submit_pipeline.py" rel="noopener ugc nofollow" target="_blank"> submit_pipeline </a>来创建/更新。</p><h2 id="2608" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">用GitHub动作调度我们的SageMaker管道</h2><p id="0a4a" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们可以对管道应用不同的触发器，这里我们将使用<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/.github/workflows/schedule-pipeline.yaml" rel="noopener ugc nofollow" target="_blank">schedule-pipeline</a>GitHub工作流来调度它的执行。它使用cron表达式在星期五的12:00运行管道。</p><p id="e7fc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个基本的调度示例可以为您的一些用例工作，并在您认为合适的时候随意调整管道触发器。您可能还希望将model_build配置指向新数据进入的位置。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pj"><img src="../Images/0fa8c351c15edcda9ab9bec6d07cd9c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*njfZNelPBtCFxId5iMYhZw.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="e9a2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">每次执行管道后，您将看到MLflow中出现一个新的模型版本。这些是我们想要部署到生产中的模型版本。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a9a2" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">步骤5:将推理服务部署到生产环境中</h1><p id="e570" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">既然我们已经有了定期进入模型注册中心的模型版本，我们就可以将它们部署到产品中了。这就是<code class="fe ok ol om on b">model_deploy</code>过程。</p><h2 id="d828" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">我们的实时推理服务</h2><p id="66a7" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们将为我们的项目构建一个实时推理服务。为此，我们希望从模型注册中心获得模型工件，构建一个MLflow <a class="ae lb" href="https://www.mlflow.org/docs/latest/models.html#deploy-a-python-function-model-on-amazon-sagemaker" rel="noopener ugc nofollow" target="_blank">推理容器</a>，并将它们部署到SageMaker端点中。我们将通过Lambda函数和API公开我们的端点，客户端可以调用这些函数和API进行预测。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pk"><img src="../Images/055ae4e0fd1561058c3abfd9b5b55c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxpDpOZhACOflPS8aENVLA.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="c86a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您需要批量运行预测，您可以使用我们为<code class="fe ok ol om on b">model_build</code>采用的相同方法构建一个ML推理管道。</p><h2 id="1b30" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">将推理容器映像推送到ECR</h2><p id="bdc9" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">除了ML模型，我们还需要一个容器映像来处理SageMaker端点中的推理。让我们把MLflow提供的推送到ECR。</p><p id="4c4c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我已经添加了<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/.github/workflows/build-mlflow-image.yaml" rel="noopener ugc nofollow" target="_blank">build-ml flow-image</a>Github工作流来自动完成这个任务，它将运行<code class="fe ok ol om on b"><a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/docker/mlflow_endpoint/mlflow_pyfunc.sh" rel="noopener ugc nofollow" target="_blank">mlflow sagemaker build-and-push-container</a></code>命令来完成这个任务。</p><h2 id="b177" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">用CDK定义我们的API栈</h2><p id="682c" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们使用CDK来部署我们的推理基础设施，并在<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/tree/master/src/model_deploy" rel="noopener ugc nofollow" target="_blank"> model_deploy </a>文件夹中定义我们的堆栈。app.py 是我们的主堆栈文件。您将看到它读取了<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/cfg/model_deploy.yaml" rel="noopener ugc nofollow" target="_blank"> model_deploy </a>配置，并创建了SageMaker端点、作为请求代理的Lambda函数以及使用API gateway的API。</p><p id="fc48" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在部署之前，确保使用容器映像和MLflow tracking server URIs更新您的<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/cfg/model_deploy.yaml" rel="noopener ugc nofollow" target="_blank"> model_deploy </a>配置。</p><h2 id="6869" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">通过多级CI/CD管道部署到生产环境中</h2><p id="0aeb" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们使用基于<a class="ae lb" href="https://www.toptal.com/software/trunk-based-development-git-flow" rel="noopener ugc nofollow" target="_blank">主干的方法</a>将我们的推理API部署到生产中。本质上，我们使用一个与repo <code class="fe ok ol om on b">main</code>分支挂钩的多阶段GitHub工作流来构建、测试和部署我们的推理服务。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pl"><img src="../Images/6fc3a38977e48720fe9ebde21e3fc86d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mIrF7Da0ZSiTGts1j5aW9w.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="2878" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">CI/CD工作流程在<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/.github/workflows/deploy-inference.yaml" rel="noopener ugc nofollow" target="_blank">部署-推理</a>中定义，有4个步骤:</p><ul class=""><li id="269b" class="mw mx iq kh b ki kj kl km ko my ks mz kw na la nb nc nd ne bi translated"><strong class="kh ir"> build </strong>从MLflow(在配置中定义)中读取选择的模型版本二进制文件，并将其model.tar.gz上传到S3。这是由<a class="ae lb" href="https://github.com/sofianhamiti/amazon-sagemaker-github-actions-mlflow/blob/master/src/model_deploy/utils.py" rel="noopener ugc nofollow" target="_blank"> mlflow_handler </a>完成的，它还将模型S3位置保存在AWS SSM中，供以后的CI/CD阶段使用。MLflow处理程序还将模型转换为模型注册表中的Staging。</li><li id="cd10" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir">部署-试运行</strong>将CDK堆栈部署到试运行中，这样我们就可以在投入生产之前对API进行测试。这项工作使用了我为将CDK模板部署到AWS中而构建的复合GitHub动作。</li><li id="f5b2" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir"> test-api </strong>在准备阶段对推理服务进行基本测试。它向API发送一个示例有效负载，并检查响应状态是否正常。如果确定，MLflow处理程序将在模型注册表中将模型转换为生产。如果您认为合适，可以随意添加更多的测试。</li><li id="ca75" class="mw mx iq kh b ki nf kl ng ko nh ks ni kw nj la nb nc nd ne bi translated"><strong class="kh ir">部署-生产</strong>将CDK堆栈部署到生产环境中。</li></ul><div class="ld le lf lg gt ab cb"><figure class="oa lh pm oc od oe of paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/3eb801bbcf47d590b705f0c831628d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*0N5CnDCYNAGjo1PURRK_bQ.png"/></div></figure><figure class="oa lh pm oc od oe of paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><img src="../Images/55ac01c614ee484ddb1ad9df47e994fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*9Xff1IM1oXSnO-jts_2f1w.png"/></div><p class="lo lp gj gh gi lq lr bd b be z dk pn di po oj translated">作者提供的图片:模型阶段将在MLflow中转换，因为它在管道中前进，并在新版本出现时存档。</p></figure></div><h2 id="ecde" class="nm ma iq bd mb nn no dn mf np nq dp mj ko nr ns ml ks nt nu mn kw nv nw mp nx bi translated">使用您的推理服务</h2><p id="d2f0" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">当您的服务成功部署到产品中时，您可以导航到AWS CloudFormation控制台，查看堆栈<code class="fe ok ol om on b">Outputs</code>，并复制您的API URL。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pp"><img src="../Images/1246d24f0486bc66f5689371c68bf8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M37eN_wfG3zJRBoweEPGRg.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">作者图片</p></figure><p id="067c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您已经准备好调用您的推理API，并且可以在请求正文中使用以下示例数据点:</p><figure class="ld le lf lg gt lh"><div class="bz fp l di"><div class="oo op l"/></div></figure><p id="e077" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以使用像<a class="ae lb" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank"> Postman </a>这样的工具从你的电脑上测试推理API:</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi pq"><img src="../Images/bd5b622a818177a04bab0ccb16cfdbb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ddiHE4n1f4nL7dIpA1GQNg.png"/></div></div><p class="lo lp gj gh gi lq lr bd b be z dk translated">图片作者:API将在几毫秒内返回预测的房价值。</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="3bbd" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结论</h1><p id="7fae" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在这篇文章中，我与你分享了一个MLOps项目模板，它将实验跟踪、工作流程编排、模型注册和CI/CD放在一个伞下。它的主要目标是减少运行端到端MLOps项目的工作量，并加快您的交付。</p><p id="e9ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它使用GitHub、GitHub Actions、MLflow和SageMaker管道，您可以在多个项目中重用它。</p><p id="9cae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了进一步学习，您可以访问<a class="ae lb" href="https://github.com/aws-samples/awesome-sagemaker" rel="noopener ugc nofollow" target="_blank"> Awesome SageMaker </a>，在一个地方找到与SageMaker合作所需的所有相关和最新资源。</p></div></div>    
</body>
</html>