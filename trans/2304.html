<html>
<head>
<title>An Overview of Model Selection Tests for Nested and Non-Nested Regression Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">嵌套和非嵌套回归模型的模型选择测试概述</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/an-overview-of-model-selection-tests-for-nested-and-non-nested-regression-models-5edfa00a12bc#2022-05-20">https://towardsdatascience.com/an-overview-of-model-selection-tests-for-nested-and-non-nested-regression-models-5edfa00a12bc#2022-05-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/3afcb377769ec9f889cb6eae93614393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mcsqs4RY1qtZ9P59yPi1_Q.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">图片由<a class="ae jd" href="https://pixabay.com/users/tumisu-148124/" rel="noopener ugc nofollow" target="_blank"> Tumisu </a>发自<a class="ae jd" href="https://pixabay.com/illustrations/compare-comparison-scale-balance-643305/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a> ( <a class="ae jd" href="https://pixabay.com/service/license/" rel="noopener ugc nofollow" target="_blank"> Pixabay牌照</a>)</p></figure><div class=""/><div class=""><h2 id="1247" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">如何比较所有或部分变量相同的回归模型</h2></div><p id="6f27" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">通常，回归建模者面临着在两个或多个竞争模型中选择相同的问题。诸如<a class="ae jd" rel="noopener" target="_blank" href="/the-complete-guide-to-r-squared-adjusted-r-squared-and-pseudo-r-squared-4136650fc06c"> <strong class="kx jh"> R平方</strong> </a>(或<a class="ae jd" rel="noopener" target="_blank" href="/the-complete-guide-to-r-squared-adjusted-r-squared-and-pseudo-r-squared-4136650fc06c"> <strong class="kx jh">伪R平方</strong> </a>)和用于回归分析的<a class="ae jd" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> <strong class="kx jh"> F检验</strong> </a>之类的拟合优度测量可用于指示单个模型与训练数据集的拟合程度，而<a class="ae jd" rel="noopener" target="_blank" href="/the-akaike-information-criterion-c20c8fd832f2"> <strong class="kx jh"> AIC </strong> </a>或BIC这两个模型的分数可进行比较，以查看哪一个更好地拟合数据集。</p><p id="9eca" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，这种测试本身不能用来决定在两个模型A和B之间，其中一个是否明显优于另一个。</p><p id="39ca" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">例如，如果模型A的调整后R平方值为0.67，而模型B报告的调整后R平方值为0.76，那么0.09的差异是否大到足以具有统计学意义？或者模型A只是不幸地在一个不合适的数据样本上被训练？</p><p id="fc20" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模型选择测试就是为了解决这个问题。具体来说，给定两个回归模型A和B，模型选择测试将帮助您决定A更好还是B更好。正如我们将看到的，从一对候选模型中选择一个合适的模型可能是一个有趣的练习，有时会以两个模型都被接受或拒绝而告终！</p><h1 id="8f11" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">型号选择程序概述</h1><p id="126e" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">模型选择的过程基于H1和H2两个假设的形成，使得H1倾向于模型A和模型b，而H2倾向于模型b。选择测试由测试统计量<strong class="kx jh"> <em class="mo"> X </em> </strong>(随机变量)的公式组成，如果两个假设中的一个假设(比如H1)为真，则该统计量服从某个已知的概率分布<em class="mo">。这个分布给了我们对于不同的观察值<strong class="kx jh"><em class="mo">X</em></strong>H1为真的概率。一旦计算出这个检验统计量<strong class="kx jh"> <em class="mo"> X </em> </strong>的值，我们就可以使用<strong class="kx jh"> <em class="mo"> X </em> </strong>的概率分布来“读出”H1为真的概率。然后，我们根据这个概率是大于还是小于某个临界概率<em class="mo"> α </em>来接受或拒绝H1。</em></p><h1 id="df01" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">嵌套与非嵌套回归模型</h1><p id="286e" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">模型选择测试的性质取决于两个模型A和B是否嵌套。</p><p id="445c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果模型B包含模型A的所有回归变量(以及参数)加上至少一个，那么A被认为嵌套在B中。模型A被称为<strong class="kx jh">限制</strong>(或<strong class="kx jh">限制</strong>)模型，而模型B被称为<strong class="kx jh">非限制</strong>(或<strong class="kx jh">非限制</strong>)模型。下图说明了这种情况:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/d78cb808b0e140f10a0ffa68529e8f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*VPhAlQfoseowHfrwHwQy0g.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">受限制的模型A嵌套在不受限制的模型B中(图片由作者提供)</p></figure><p id="8232" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果模型以上述方式嵌套，诸如用于回归分析的<a class="ae jd" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> <strong class="kx jh"> F检验</strong> </a> <strong class="kx jh"> </strong>和<strong class="kx jh">似然比检验</strong>之类的检验可用于在约束和非约束模型之间进行选择。</p><p id="b520" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">f检验和LR检验的好处在于，与调整后的R平方相比，它们还可以用于比较嵌套的<em class="mo">非线性</em>模型。还有一点需要注意的是(这也适用于调整后的R平方和AIC)，候选模型必须具有相同的响应变量<strong class="kx jh"> <em class="mo"> y </em> </strong>。不能使用这些测试中的任何一个来比较两个模型，其中模型A将<strong class="kx jh"> <em class="mo"> y </em> </strong>作为响应变量，而模型B将<em class="mo">log</em><strong class="kx jh"><em class="mo">y</em></strong>或<em class="mo">sqrt(</em><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">)</em>作为响应变量。</p><p id="1e91" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当模型A和B仅共享一些回归变量或它们不共享任何回归变量时，即当它们不嵌套时，f检验和LR检验不能用于模型选择。我们需要查看一组不同的模型选择测试来比较这种非嵌套模型。</p><p id="4bc2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">有大量关于非嵌套模型的模型选择测试的研究文献。我们将检验一个由Davidson和MacKinnon (1984)设计的称为<strong class="kx jh"> J检验</strong>的检验，并且我们将说明它在现实世界数据集的两个非嵌套回归模型之间进行选择的用途。</p><h1 id="ef6e" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">型号选择程序的图示</h1><p id="8ae7" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">为一个问题选择一个合适的模型的过程最好用一个例子来描述。在本文中，我们将在真实数据集上比较两个固定效应回归模型的性能。我们将使用的真实数据集是一个面板数据集，包含了从1992年到2014年测量的七个国家人均GDP的同比增长百分比。除了GDP增长数据，该面板还包含每个国家总资本形成和人均二氧化碳排放量的同比增长数据。数据集可以从这个<a class="ae jd" href="https://gist.github.com/sachinsdate/67b12abd253c571b73c42eae8ea79f91" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">下载链接</strong> </a>下载。</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mu"><img src="../Images/98255820868bf23dbc4cc167c4e41e7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aMhEQ4C5BbAXHrjN5bJFFQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">a面板数据集(来源:<a class="ae jd" href="https://databank.worldbank.org/metadataglossary/world-development-indicators/series" rel="noopener ugc nofollow" target="_blank">世界发展指标</a>数据<a class="ae jd" href="https://www.worldbank.org/en/about/legal/terms-of-use-for-datasets" rel="noopener ugc nofollow" target="_blank"> CC BY 4.0 license </a>)(图片由作者提供)</p></figure><p id="fca3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果你是固定效果模型的新手，我建议你回顾一下我关于固定效果模型的文章。对于考虑中的数据集，您可以将FE模型视为包含虚拟变量(即1/0值变量)的线性回归模型，数据集中的7个国家/地区各有一个虚拟变量。虚拟模型应该能够捕捉特定国家的“效应”。</p><p id="1e3b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们来看看上面数据集的两个竞争有限元模型。</p><p id="9b9f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模型A是一个FE模型，在该模型中，我们假设每年人均GDP的变化受到总资本形成变化的高度影响(“解释”)。</p><p id="0dde" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模型B也是一个有限元模型。模型B认为人均国内生产总值的变化与其说是由资本形成总额的变化来解释，不如说是由二氧化碳排放量的年度变化来解释。</p><p id="28b1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">作为固定效应模型的A和B都同意使用6个虚拟变量来表示数据面板中7个国家的效应。我们使用少一个变量来避免完美的多重共线性。</p><p id="f3b4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">模型A和B的方程可以表述如下:</p><p id="7cdd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于型号A:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mv"><img src="../Images/fe52a5f9cb7e08017715c744a9b6c526.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KxVONzJxt_qiezaxsPhvag.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型A的模型方程(图片由作者提供)</p></figure><p id="1072" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于型号B:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/9dd3a0adb1fb1bb439abc116f62b0424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-NkKAnp5Qc_wXsqeKnP63w.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型B的模型方程(图片由作者提供)</p></figure><p id="6ef7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这两个等式中，下标<em class="mo"> i </em>指的是数据集的第<em class="mo">I</em>行。特定于国家的变量是虚拟变量，其值为1或0，取决于第<em class="mo">行与第</em>行是否与该国家相关。<strong class="kx jh"><em class="mo">β</em></strong><em class="mo">=【β_ 0，β_1，…β_ 7】</em>是模型A中回归系数的向量，而<strong class="kx jh"><em class="mo">γ</em></strong><em class="mo">=【γ_ 0，γ_1，…γ_ 7】</em><strong class="kx jh"/>是模型b中系数的向量<strong class="kx jh"> <em class="mo"> β </em> </strong>和<strong class="kx jh"> <em class="mo"> γ </em>在这两种模型中，<em class="mo"> ϵ_i </em>是第<em class="mo">行和第</em>行的误差项。误差项是GDP_PCAP_GWTH_PCNT的观测值与其模拟值之差。</strong></p><p id="e44f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用Python和<a class="ae jd" href="https://www.statsmodels.org/stable/index.html" rel="noopener ugc nofollow" target="_blank"> statsmodels </a>，让我们使用经典的OLS技术在同一个数据集上训练A和B。</p><p id="bd6d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们从导入我们将需要的所有包开始:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="20d1" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">import </strong>pandas <strong class="my jh">as </strong>pd<br/><strong class="my jh">import </strong>statsmodels.formula.api <strong class="my jh">as </strong>smf<br/><strong class="my jh">from </strong>patsy <strong class="my jh">import </strong>dmatrices<br/><strong class="my jh">import </strong>scipy.stats <strong class="my jh">as </strong>st</span></pre><p id="4a67" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们在固定效应模型中定义感兴趣的单位:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="39fd" class="nc ls jg my b gy nd ne l nf ng">unit_names = [<strong class="my jh">'Belgium'</strong>, <strong class="my jh">'CzechRepublic'</strong>, <strong class="my jh">'France'</strong>, <strong class="my jh">'Ireland'</strong>, <strong class="my jh">'Portugal'</strong>, <strong class="my jh">'UK'</strong>, <strong class="my jh">'USA'</strong>]</span><span id="9f96" class="nc ls jg my b gy nh ne l nf ng">unit_names.sort()</span></pre><p id="0f16" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">标记数据集中包含单位名称的列:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="658f" class="nc ls jg my b gy nd ne l nf ng">unit_col_name=<strong class="my jh">'COUNTRY'</strong></span></pre><p id="42e2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于模型A，定义<strong class="kx jh"> <em class="mo"> y </em> </strong>和<strong class="kx jh"> <em class="mo"> X </em> </strong>变量。<strong class="kx jh"> <em class="mo"> X </em> </strong>尚不包括假人。我们将很快添加它们。</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="9b8b" class="nc ls jg my b gy nd ne l nf ng">y_var_name = <strong class="my jh">'GDP_PCAP_GWTH_PCNT'<br/></strong>X_var_names = [<strong class="my jh">'GCF_GWTH_PCNT'</strong>]</span></pre><p id="623a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将世界银行公布的发展指标的面板数据载入熊猫数据框架:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="0d72" class="nc ls jg my b gy nd ne l nf ng">df_panel = pd.read_csv(<strong class="my jh">'wb_data_panel_4ind_7units_1992_2014.csv'</strong>, <strong class="my jh">header</strong>=0)</span></pre><p id="c17f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">打印出前30行:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="1da8" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">print</strong>(df_panel.<strong class="my jh">head</strong>(30))</span></pre><p id="ea9d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ni"><img src="../Images/9268b5da1f069fa6e3f5359210f75673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4e_DfqlI7Hx39k9xwmqpeQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">世界银行数据集的前30行(图片由作者提供)</p></figure><p id="9ed2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">创建虚拟变量，每个国家一个虚拟变量:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="050a" class="nc ls jg my b gy nd ne l nf ng">df_dummies = pd.<strong class="my jh">get_dummies</strong>(df_panel[unit_col_name])</span></pre><p id="ad7e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">将虚拟数据框与数据集的其余部分连接起来:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="5dea" class="nc ls jg my b gy nd ne l nf ng">df_panel_with_dummies = df_panel.<strong class="my jh">join</strong>(df_dummies)</span></pre><p id="1906" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们看看扩充数据集是什么样子的:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="8f33" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">print</strong>(df_panel_with_dummies.<strong class="my jh">head</strong>())</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nj"><img src="../Images/d75bdd2713affb75bc99003fdc23584c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onbf9DsCgZYPJ9kzSkkJ-w.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">世界银行数据集增加了虚拟变量(图片由作者提供)</p></figure><p id="3eba" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在让我们构建模型A的回归方程。回想一下，模型A使用总资本形成作为回归变量之一。请注意，我们在回归方程中遗漏了一个虚拟变量，以避免7个虚拟变量之间的多重共线性。回归模型的截距将包含被忽略的虚拟变量的系数值(在我们的例子中，为美国):</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="1333" class="nc ls jg my b gy nd ne l nf ng">model_a_expr = y_var_name + <strong class="my jh">' ~ '</strong></span><span id="7ef7" class="nc ls jg my b gy nh ne l nf ng">i = 0</span><span id="ef6b" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>X_var_name <strong class="my jh">in </strong>X_var_names:<br/>    <strong class="my jh">if </strong>i &gt; 0:<br/>        model_a_expr = model_a_expr + <strong class="my jh">' + ' </strong>+ X_var_name<br/>    <strong class="my jh">else</strong>:<br/>        model_a_expr = model_a_expr + X_var_name<br/>    i = i + 1</span><span id="a39f" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>dummy_name <strong class="my jh">in </strong>unit_names[:-1]:<br/>    model_a_expr = model_a_expr + <strong class="my jh">' + ' </strong>+ dummy_name</span></pre><p id="9670" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">打印出回归方程(用Patsy语法):</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="e628" class="nc ls jg my b gy nd ne l nf ng">print(<strong class="my jh">'Regression expression for model A=\n' </strong>+ model_a_expr)</span></pre><p id="0a6b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出(截距在模型创建期间由statsmodels静默包含):</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="1d01" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">Regression expression for model A=<br/></strong>GDP_PCAP_GWTH_PCNT ~ GCF_GWTH_PCNT + Belgium + CzechRepublic + France + Ireland + Portugal + UK</span></pre><p id="0973" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">建立和训练固定效果模型A:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="b78e" class="nc ls jg my b gy nd ne l nf ng">fe_model_a = smf.<strong class="my jh">ols</strong>(<strong class="my jh">formula</strong>=model_a_expr, <strong class="my jh">data</strong>=df_panel_with_dummies)</span><span id="c28b" class="nc ls jg my b gy nh ne l nf ng">fe_model_a_results = fe_model_a.<strong class="my jh">fit</strong>()</span></pre><p id="5dfb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">打印出培训总结:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="95bc" class="nc ls jg my b gy nd ne l nf ng">print(fe_model_a_results.<strong class="my jh">summary</strong>())</span></pre><p id="895e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/f9b1dd3ad945abc299af8b81683336a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hnwk_fYoe4FHOxEOpzHMPQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型A的模型训练总结(图片由作者提供)</p></figure><p id="dbe8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们快速记下模型报告的调整后的R平方为0.639，以及<a class="ae jd" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> <strong class="kx jh"> F检验</strong> </a>的p值为2.57e-32。p值几乎为零，这意味着该模型在解释<strong class="kx jh"> <em class="mo"> y </em> </strong>的方差方面比均值模型做得好得多，均值模型基本上是一条穿过<strong class="kx jh"> <em class="mo"> y </em> </strong>均值的平线。这是好消息。</p><p id="ecde" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，让我们对固定效果模型B重复上述所有步骤:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="7827" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh"><em class="mo">#Construct the regression equation.<br/></em></strong>X_var_names = [<strong class="my jh">'CO2_PCAP_GWTH_PCNT'</strong>]</span><span id="f58a" class="nc ls jg my b gy nh ne l nf ng">model_b_expr = y_var_name + <strong class="my jh">' ~ '<br/></strong>i = 0<br/><strong class="my jh">for </strong>X_var_name <strong class="my jh">in </strong>X_var_names:<br/>    <strong class="my jh">if </strong>i &gt; 0:<br/>        model_b_expr = model_b_expr + <strong class="my jh">' + ' </strong>+ X_var_name<br/>    <strong class="my jh">else</strong>:<br/>        model_b_expr = model_b_expr + X_var_name<br/>    i = i + 1</span><span id="fab0" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>dummy_name <strong class="my jh">in </strong>unit_names[:-1]:<br/>    model_b_expr = model_b_expr + <strong class="my jh">' + ' </strong>+ dummy_name<br/><br/>print(<strong class="my jh">'Regression expression for model B=\n' </strong>+ model_b_expr)<br/><br/><strong class="my jh"><em class="mo">#Build and train model B<br/></em></strong>fe_model_b = smf.<strong class="my jh">ols</strong>(<strong class="my jh">formula</strong>=model_b_expr, <strong class="my jh">data</strong>=df_panel_with_dummies)</span><span id="5fc8" class="nc ls jg my b gy nh ne l nf ng">fe_model_b_results = fe_model_b.<strong class="my jh">fit</strong>()</span><span id="84b0" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh"><em class="mo">#Print the model training summary<br/></em></strong>print(fe_model_b_results.<strong class="my jh">summary</strong>())</span></pre><p id="e937" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/b88ece0033bafecaa8bcdf8c5af83b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J1s9TDIx2CDduqMKCxq2JQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型B的模型训练总结(图片由作者提供)</p></figure><p id="35e9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">请注意，模型B报告的调整后R平方为0.272。同样，f检验的p值(8.5e-10)实际上为零，这意味着模型B在解释<strong class="kx jh"> <em class="mo"> y </em> </strong>的方差方面也比均值模型做得更好。</p><h2 id="9cf4" class="nc ls jg bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">模型A和模型B的拟合优度比较</h2><p id="8178" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">模型B的调整后R平方(0.272)远小于模型A的(0.639)。这似乎是模型A优于模型B的必然结果。其他拟合优度指标似乎也倾向于模型A优于模型B。模型A的对数似然性(-292.91)高于模型B (-349.43)。模型A的AIC得分(601.8)低于模型B的得分(714.9)。对于AIC分数，分数越低越好。</p><p id="0b8d" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这种情况下，A和B之间看起来没有太大的竞争。但想象一下，模型B的R平方、Log-LL和AIC分数碰巧与A的相似。在这种情况下，如何比较A和B的拟合度呢？</p><p id="6579" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">回想一下，模型A和B只有一些共同的回归变量，具体来说，它们只有共同的虚拟变量。因此，A没有嵌套在B中，B也没有嵌套在A中。因此，不能使用f检验或似然比检验在A和B之间进行选择。</p><p id="9c81" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在这种情况下，我们可以用J检验。我们来举例说明它的用法。</p><h1 id="a440" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">J检验</h1><p id="d821" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">J测试基于组合所谓的<strong class="kx jh">综合模型</strong>的原理，具体如下:</p><ol class=""><li id="e00e" class="nx ny jg kx b ky kz lb lc le nz li oa lm ob lq oc od oe of bi translated">我们假设模型A和B预计能够单独解释响应变量<strong class="kx jh"> <em class="mo"> y </em> </strong>中的一些方差。</li><li id="a850" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">模型a由方程描述:<strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">xβ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">ϵ</em></strong></li><li id="94aa" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">模型b由方程描述:<strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">zγ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">ϵ</em></strong></li><li id="af79" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">我们创建一个综合模型c，它使用按比例加权和来组合模型a和b，如下所示:<br/><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=(1-λ)</em><strong class="kx jh"><em class="mo">xβ</em></strong><em class="mo">+λ</em><strong class="kx jh"><em class="mo">zγ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">ϵ</em></strong><em class="mo">，其中λ从0变化到1<strong class="kx jh"/></em></li><li id="5092" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">现在这里的关键是:如果模型A能够解释模型B能够解释的<strong class="kx jh"> <em class="mo"> y </em> </strong>中的所有差异，加上一些更多的差异，那么模型B实际上包含在模型A中。我们不需要模型B。在这种情况下，当你在数据集上训练综合模型C时，系数<em class="mo"> λ </em>的拟合值应该计算为零<strong class="kx jh">。</strong></li><li id="bea7" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">另一方面，如果模型B恰好能够解释模型A能够单独解释的<strong class="kx jh"> <em class="mo"> y </em> </strong>中的所有方差，那么模型A就是多余的，拟合系数<em class="mo"> λ </em>应该算出为1。</li><li id="eec8" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">在所有其他情况下，拟合的<em class="mo"> λ </em>既不是零也不是一，这意味着每个模型A和B都能够单独解释<strong class="kx jh"><em class="mo"/></strong>y中总方差的一部分，而另一个模型无法解释。任何一种模式都不能为了另一种模式而被彻底抛弃。</li><li id="00db" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">有趣的是，还有第四种情况，在综合模型C中交换A和B之后，<em class="mo"> λ仍然计算为零。在这种情况下，我们最终拒绝了型号A和型号B！</em></li></ol><p id="1f8a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在最后两个场景中，测试在A和b之间的选择是不确定的。</p><p id="972a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">综合模型方法有一个严重问题。鉴于<em class="mo"> λ </em>的指定方式，它会乘以模型A和b的系数。因此，不可能将<em class="mo"> λ </em>与模型系数的相互作用隔离开来，从而使<em class="mo"> λ </em>实际上不可测量。</p><p id="4aa6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">Davidson和MacKinnon提出的J检验解决了这个问题，同时仍然保留了综合模型方法的精神。我们在J测试中所做的是用模型B的<em class="mo">预测值</em> <strong class="kx jh"> <em class="mo"> y </em> </strong>【拟合】值代替模型B对综合模型的贡献。这样做为模型C提供了以下更新的等式:</p><p id="a917" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">xβ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">zγ_ cap</em></strong><em class="mo">λ+</em><strong class="kx jh"><em class="mo">ϵ</em></strong><em class="mo">，其中λ从0到1不等</em></p><p id="f998" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们将综合模型中的<strong class="kx jh"> <em class="mo"> Zγ </em> </strong>替换为<strong class="kx jh"> <em class="mo"> Zγ_cap </em> </strong>其中<strong class="kx jh"> <em class="mo"> γ_cap </em> </strong>为B在数据集上自行拟合后模型B的拟合系数向量。</p><p id="02a6" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">使用J测试的过程如下:</p><ol class=""><li id="1608" class="nx ny jg kx b ky kz lb lc le nz li oa lm ob lq oc od oe of bi translated">将模型B单独拟合到数据集上。这是<strong class="kx jh"> <em class="mo"> y </em> </strong>对<strong class="kx jh"><em class="mo"/></strong>的回归，从中我们得到拟合系数<strong class="kx jh"> <em class="mo"> γ_cap </em> </strong>。</li><li id="3e6b" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">通过拟合的模型运行训练数据集<strong class="kx jh"> <em class="mo"> Z </em> </strong>以产生拟合模型的预测<strong class="kx jh"><em class="mo">y _ cap</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">Zγ_ cap</em></strong>。</li><li id="6039" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">现在，构建模型C作为模型A的扩充版本，其中一个回归变量是<strong class="kx jh"> <em class="mo"> y_cap </em> </strong>。由此，我们对<strong class="kx jh"/>x<strong class="kx jh"><em class="mo">y _ cap</em><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">xβ</em></strong><em class="mo">+</em><strong class="kx jh"/></strong></li><li id="84a0" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">如果在这个扩充的模型中，<strong class="kx jh"> <em class="mo"> y_cap </em> </strong>的系数<em class="mo"> λ </em>被发现为零，那么模型B已经无法解释任何超出模型A所能解释的<strong class="kx jh"><em class="mo"/></strong>y的方差。因此，模型A包含模型B，我们选择A而不是B。</li><li id="fb9a" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">如果增强模型中的<em class="mo"> λ </em>不为零，那么模型B有能力解释<strong class="kx jh"> <em class="mo"> y </em> </strong>中超出A所能捕捉的一些差异。在这种情况下，我们不能选择A而不是b。我们很快就会看到在这种情况下该怎么做。</li><li id="c54a" class="nx ny jg kx b ky og lb oh le oi li oj lm ok lq oc od oe of bi translated">我们也可以通过如下方式构造模型c来逆向测试:<br/><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">xβ_ cap</em></strong><em class="mo">λ+</em><strong class="kx jh"><em class="mo">zγ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">【ϵ<br/></em></strong>即我们在<strong class="kx jh">【t3t上倒退<strong class="kx jh"> <em class="mo"> y </em> </strong> 从这个模型中得到预测<strong class="kx jh"><em class="mo">y _ cap</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">xβ_ cap</em></strong>并将这些预测作为一个变量加入到<strong class="kx jh"> <em class="mo"> y </em> </strong>对<strong class="kx jh"> <em class="mo"> Z </em> </strong>的回归中。 如果<strong class="kx jh"> <em class="mo"> y_cap </em> </strong>的拟合系数为零，我们得出结论，A无法解释任何超出B所能解释的<strong class="kx jh"><em class="mo"/></strong>y的方差。所以我们选择B而不是a。</strong></li></ol><p id="7545" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在J测试中，在两种情况下，拟合的<em class="mo"> λ </em>都可能为零，从而表明A和B都不适合数据集。</p><h2 id="c70c" class="nc ls jg bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">J测试的图示</h2><p id="1bbe" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">让我们对之前构建的两个固定效应模型进行J测试。在J测试的语言中，我们将<strong class="kx jh"> <em class="mo"> X </em> </strong>和<strong class="kx jh"> <em class="mo"> Z </em> </strong>定义如下:</p><p id="e972" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="mo"> X </em> </strong>是固定效应模型A的回归变量矩阵:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ol"><img src="../Images/58344f129722a81708d07c3c3142b703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j917HjG9o3dnrIQ2wJQ74g.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效应模型A的回归变量矩阵(图片由作者提供)</p></figure><p id="7792" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="mo"> Z </em> </strong>是固定效应模型B的回归变量矩阵:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi om"><img src="../Images/8da2aaf63c302f47fc9ae953788184c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VQS4kdy2TmilQUeIvYLuJw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效应模型B的回归变量矩阵(图片由作者提供)</p></figure><p id="fce7" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"> <em class="mo"> y </em> </strong>是<strong class="kx jh"> GDP_PCAP_GWTH_PCNT </strong>。</p><p id="8caf" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在前面的部分中，我们已经在数据集上拟合了模型B。让我们在<strong class="kx jh"> Z </strong>得到它的预测。为此，我们需要首先从Pandas数据帧中切出<strong class="kx jh"> <em class="mo"> Z </em> </strong>。Patsy的<code class="fe on oo op my b">dmatrices</code>类将使用模型B的回归方程帮助我们做到这一点:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="c12e" class="nc ls jg my b gy nd ne l nf ng">y_train, Z_train = <strong class="my jh">dmatrices</strong>(model_b_expr, df_panel_with_dummies, <strong class="my jh">return_type</strong>='dataframe')</span></pre><p id="08a1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<strong class="kx jh"> <em class="mo"> Z_train </em> </strong>上运行拟合的模型B，以获得预测值:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="dc0c" class="nc ls jg my b gy nd ne l nf ng">y_cap = fe_model_b_results.<strong class="my jh">predict</strong>(Z_train)</span></pre><p id="f1a5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">通过添加来自模型B的预测来扩充数据集:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="4171" class="nc ls jg my b gy nd ne l nf ng">df_panel_with_dummies[<strong class="my jh">'</strong>y_cap<strong class="my jh">'</strong>] = y_cap</span></pre><p id="c251" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在构建综合模型(模型C)的回归方程。回想一下，模型C的表达式如下:</p><p id="5168" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx jh"><em class="mo">y</em></strong><em class="mo">=</em><strong class="kx jh"><em class="mo">y _ cap</em></strong><em class="mo">λ+</em><strong class="kx jh"><em class="mo">xβ</em></strong><em class="mo">+</em><strong class="kx jh"><em class="mo">ϵ</em></strong></p><p id="4203" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">其中<strong class="kx jh"> <em class="mo"> X </em> </strong>是模型a的回归矩阵，<strong class="kx jh"> <em class="mo"> y_cap </em> </strong>是来自模型b的预测，<strong class="kx jh"> <em class="mo"> ϵ </em> </strong>是回归的误差项。</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="46f7" class="nc ls jg my b gy nd ne l nf ng">X_var_names = [<strong class="my jh">'y_cap'</strong>, <strong class="my jh">'GCF_GWTH_PCNT'</strong>]</span><span id="2d20" class="nc ls jg my b gy nh ne l nf ng">comprehensive_model_expr = y_var_name + <strong class="my jh">' ~ '<br/></strong>i = 0<br/><strong class="my jh">for </strong>X_var_name <strong class="my jh">in </strong>X_var_names:<br/>    <strong class="my jh">if </strong>i &gt; 0:<br/>        comprehensive_model_expr = comprehensive_model_expr + <strong class="my jh">' + ' </strong>+ X_var_name<br/>    <strong class="my jh">else</strong>:<br/>        comprehensive_model_expr = comprehensive_model_expr + X_var_name<br/>    i = i + 1</span><span id="b5c7" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>dummy_name <strong class="my jh">in </strong>unit_names[:-1]:<br/>    comprehensive_model_expr = comprehensive_model_expr + <strong class="my jh">' + ' </strong>+ dummy_name</span><span id="e7f9" class="nc ls jg my b gy nh ne l nf ng">print(<strong class="my jh">'Regression expression of the comprehensive model=\n' </strong>+ comprehensive_model_expr)</span></pre><p id="e932" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="478b" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">Regression expression of the comprehensive model=</strong><br/>GDP_PCAP_GWTH_PCNT ~ y_cap + GCF_GWTH_PCNT + Belgium + CzechRepublic + France + Ireland + Portugal + UK</span></pre><p id="b9de" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们在扩充数据集上构建和训练这个模型:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="93dd" class="nc ls jg my b gy nd ne l nf ng">comprehensive_model = smf.<strong class="my jh">ols</strong>(formula=comprehensive_model_expr, data=df_panel_with_dummies)</span><span id="7917" class="nc ls jg my b gy nh ne l nf ng">comprehensive_model_results = comprehensive_model.<strong class="my jh">fit</strong>()</span><span id="3459" class="nc ls jg my b gy nh ne l nf ng">print(comprehensive_model_results.<strong class="my jh">summary</strong>())</span></pre><p id="7316" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下结果:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oq"><img src="../Images/1502451d0b82dff9ca3fc82a0dd511c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ez-CtwRryBvZTHRxBexcTA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">综合模型训练总结(图片由作者提供)</p></figure><p id="bba3" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在训练总结中，我们看到除了y_cap和GCF_GWTH_PCNT的系数外，所有变量的系数在统计上均不显著(即为零)。</p><p id="4506" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">综合模型中代表模型B的系数<em class="mo"> y_cap </em>非常显著。这突出了一个重要的发现:<strong class="kx jh">模型B具有模型A所没有的解释力。我们不应该为了a模式而完全抛弃B模式</strong></p><p id="9176" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这一决定与我们之前通过简单比较两个模型的调整后R平方值以及Log-LL和AIC分数所做的决定背道而驰。</p><p id="e48f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">但它回避了一个问题，B中的哪些变量具有超出模型A所能提供的解释力？我们可以这样回答这个问题:</p><p id="06b0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在综合模型中包含<em class="mo">y _ cap</em>——B的代表——导致A和B共有的每一个变量的系数在拟合的综合模型中变得统计上不重要。因此，B中唯一可能具有额外解释力的变量是那些与A不常见的变量，即<strong class="kx jh"> CO2_PCAP_GWTH_PCNT </strong>。</p><p id="fa90" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了检验这一假设，我们将在模型A中加入CO2_PCAP_GWTH_PCNT <strong class="kx jh"> </strong>以构建如下新模型(我们称之为模型D) <strong class="kx jh"> : </strong></p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi or"><img src="../Images/2778a19c60701779bf0eeaf3c8136b3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4R39Ln9ZCgWUd-wlxqM5uw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效应模型D的回归方程(图片由作者提供)</p></figure><p id="9d02" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们在训练数据集上拟合模型D:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="f86b" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh"><em class="mo">#Formulate model D by adding CO2_PCAP_GWTH_PCNT to model A<br/></em></strong>X_var_names = [<strong class="my jh">'GCF_GWTH_PCNT'</strong>, <strong class="my jh">'CO2_PCAP_GWTH_PCNT'</strong>]</span><span id="130a" class="nc ls jg my b gy nh ne l nf ng">fe_model_d_expr = y_var_name + <strong class="my jh">' ~ '</strong></span><span id="daca" class="nc ls jg my b gy nh ne l nf ng">i = 0</span><span id="5018" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>X_var_name <strong class="my jh">in </strong>X_var_names:<br/>    <strong class="my jh">if </strong>i &gt; 0:<br/>        fe_model_d_expr = fe_model_d_expr + <strong class="my jh">' + ' </strong>+ X_var_name<br/>    <strong class="my jh">else</strong>:<br/>        fe_model_d_expr = fe_model_d_expr + X_var_name<br/>    i = i + 1</span><span id="8c78" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh">for </strong>dummy_name <strong class="my jh">in </strong>unit_names[:-1]:<br/>    fe_model_d_expr = fe_model_d_expr + <strong class="my jh">' + ' </strong>+ dummy_name<br/><br/>print(<strong class="my jh">'Regression expression of model D=\n' </strong>+ fe_model_d_expr)<br/><br/><strong class="my jh"><em class="mo">#Build and train FE model D<br/></em></strong>fe_model_d = smf.<strong class="my jh">ols</strong>(formula=fe_model_d_expr, <strong class="my jh">data</strong>=df_panel_with_dummies)</span><span id="4934" class="nc ls jg my b gy nh ne l nf ng">fe_model_d_results = fe_model_d.<strong class="my jh">fit</strong>()<br/><strong class="my jh">print</strong>(fe_model_d_results.<strong class="my jh">summary</strong>())</span></pre><p id="abd5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="decf" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">Regression expression of model D=</strong><br/>GDP_PCAP_GWTH_PCNT ~ GCF_GWTH_PCNT + CO2_PCAP_GWTH_PCNT + Belgium + CzechRepublic + France + Ireland + Portugal + UK</span></pre><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi os"><img src="../Images/9920232053af4a79095b245f130d4374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HIzzzm-8hPF-Nyakk2ROXQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型D的训练总结(图片由作者提供)</p></figure><p id="8c07" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们来回忆一下A型的训练总结:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nk"><img src="../Images/f9b1dd3ad945abc299af8b81683336a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hnwk_fYoe4FHOxEOpzHMPQ.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效果模型A的模型训练总结(图片由作者提供)</p></figure><p id="5d89" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">以下是固定效应模型A和D的拟合优度的比较:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ot"><img src="../Images/01e97816aa5e9ac1ae02a5c8644b382b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JhBLvGSE_I3mHTYydBpwdA.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">固定效应模型A和D的拟合优度的比较(图片由作者提供)</p></figure><p id="6a02" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到，模型A和D之间的三个拟合优度非常相似，尽管D似乎比A略胜一筹。</p><p id="4c95" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们还注意到，模型A嵌套在D中，因为模型D包含模型A的所有变量，再加上一个变量。因此，为了知道模型D是否在统计意义上优于A，我们可以使用<a class="ae jd" rel="noopener" target="_blank" href="/fisher-test-for-regression-analysis-1e1687867259"> <strong class="kx jh"> F检验进行回归分析</strong> </a>。</p><h1 id="cb2e" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">使用f检验</h1><p id="19a0" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我们将使用f检验来检验假设，即模型D比模型a在数据集上产生了更好的统计拟合。</p><p id="3829" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">具体来说，我们对f检验的两个假设如下:</p><p id="df05" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">H1:D型并不比A型更合适H2:D型比A型更合适</p><p id="8ea1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果发现H1是正确的，我们将得出结论，将二氧化碳_PCAP_GWTH_PCNT添加到模型A不会导致更好的拟合，因此我们接受模型A并拒绝d</p><p id="53c8" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果H1被证伪，我们将得出结论，将二氧化碳_PCAP_GWTH_PCNT添加到模型A中会导致拟合优度的显著改善。因此，我们将拒绝A而支持d。</p><p id="6bb0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">f检验的检验统计如下:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ou"><img src="../Images/a5310c3256fc26969a1bdbe71095c597.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RKzGwY59A2kZ-AFQBSPBw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">f检验的检验统计量(图片由作者提供)</p></figure><p id="ed37" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的公式中，</p><p id="2dcd" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">RSS_a =拟合模型A的残差平方和(也称为残差误差).<br/> RSS_d =拟合模型b的残差平方和.<br/> k_a =模型A的参数个数(k_a=8) <br/> k_d =模型D的参数个数(k_d=9) <br/> N =训练数据集中的行数(N=161)</p><p id="db5b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们计算F统计量的值，并将其值与在<em class="mo"> α </em> =.05时的临界F (1，152)值进行比较:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="2421" class="nc ls jg my b gy nd ne l nf ng">k_a = <strong class="my jh">len</strong>(fe_model_a_results.<strong class="my jh">params</strong>)<br/>k_d = <strong class="my jh">len</strong>(fe_model_d_results.<strong class="my jh">params</strong>)<br/>N = <strong class="my jh">len</strong>(df_panel_with_dummies)<br/>rss_a = fe_model_a_results.<strong class="my jh">ssr</strong><br/>rss_d = fe_model_d_results.<strong class="my jh">ssr</strong></span><span id="e859" class="nc ls jg my b gy nh ne l nf ng">f_statistic = ((rss_a-rss_d)/(k_d-k_a))/(rss_d/(N-k_d))<br/><br/>print(<strong class="my jh">'F-statistic='</strong>+str(f_statistic))<br/><br/>alpha=0.05</span><span id="0569" class="nc ls jg my b gy nh ne l nf ng">f_critical_value=st.<strong class="my jh">f</strong>.<strong class="my jh">ppf</strong>((1.0-alpha), (k_d-k_a), (N-k_d))</span><span id="d01d" class="nc ls jg my b gy nh ne l nf ng">print(<strong class="my jh">'F test critical value at alpha of 0.05='</strong>+str(f_critical_value))</span></pre><p id="9426" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="ef64" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">F-statistic=</strong>14.12366072014461<br/><strong class="my jh">F test critical value at alpha of 0.05=</strong>3.9033664964061314</span></pre><p id="26ba" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">由于统计值(14.12)的计算值远大于临界值(3.90)，我们拒绝H1，接受临界<em class="mo">α</em><strong class="kx jh"/>. 05的H2，即(1 — .05)100%=95%的置信水平。</p><p id="4285" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">因此，我们确定，对于所考虑的数据集，固定效应模型D确实比固定效应模型A更适合。</p><h1 id="99a5" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">似然比检验</h1><p id="4eae" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">由于模型A嵌套在D中，我们也可以使用LR测试来比较两个模型的拟合优度。让我们使用LRT检验，并用它的结果来交叉验证f检验的结果。</p><p id="1bb0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">似然比检验的检验统计量如下:</p><figure class="mq mr ms mt gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ov"><img src="../Images/751b8fa67133b3cb21cc7d7dc2994a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WDZtvgqzBFlT95c3R1PN8g.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">似然比检验的检验统计量(图片由作者提供)</p></figure><p id="de7e" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在上面的公式中:</p><p id="7105" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">受限模型是具有较少参数的模型。在我们的例子中，它是模型a。</p><p id="790b" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">无限制模型是带有附加参数的模型，在我们的例子中，模型d。</p><p id="9cf0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于这两个模型，我们计算最大化的对数似然，从限制模型的对数似然中减去非限制模型的对数似然，并取负2倍的差值作为统计量。</p><p id="1e1f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">这两个竞争假设与f检验相同，即:</p><p id="ac47" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">H1:D型不比A型更合适<br/>H2:D型比A型更合适</p><p id="966f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在假设H1为真的情况下，LR检验统计量是卡方分布的，其自由度等于两个模型之间的参数数之差。在我们的例子中，这个差值是(k _ d—k _ a)=(9–8)= 1。</p><p id="32ba" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">让我们计算测试统计量，并将其值与. 05的<em class="mo"> α </em>处的临界卡方(1)值进行比较:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="02c5" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh"><em class="mo">#Get the maximumed log likelihoods of models A and D<br/></em></strong>log_ll_a = fe_model_a_results.<strong class="my jh">llf</strong><br/>log_ll_d = fe_model_d_results.<strong class="my jh">llf</strong></span><span id="9dc9" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh"><em class="mo">#Calculate the LR test statistic<br/></em></strong>lrt_statistic = -2*(log_ll_a - log_ll_d)<br/>print(<strong class="my jh">'LRT-statistic='</strong>+<strong class="my jh">str</strong>(lrt_statistic))</span><span id="1992" class="nc ls jg my b gy nh ne l nf ng"><strong class="my jh"><em class="mo">#Calculate the critical Chi-squared(1) value at alpha=0.05<br/></em></strong>alpha=0.05</span><span id="cc62" class="nc ls jg my b gy nh ne l nf ng">chi2_critical_value=st.<strong class="my jh">chi2</strong>.<strong class="my jh">ppf</strong>((1.0-alpha), (k_d-k_a))</span><span id="1c69" class="nc ls jg my b gy nh ne l nf ng">print(<strong class="my jh">'Chi-squared critical value at alpha of 0.05='</strong>+<strong class="my jh">str</strong>(chi2_critical_value))</span></pre><p id="56c5" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们看到以下输出:</p><pre class="mq mr ms mt gt mx my mz na aw nb bi"><span id="8221" class="nc ls jg my b gy nd ne l nf ng"><strong class="my jh">LRT-statistic</strong>=14.305161418177136<br/><strong class="my jh">Chi-squared critical value at alpha of 0.05</strong>=3.841458820694124</span></pre><p id="3291" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在<em class="mo"> α </em> =.05时，测试统计值(14.31)远大于临界卡方(1)值3.84，这导致我们拒绝H1，接受H2，即有限元模型D比有限元模型a产生更好的拟合优度。LR测试与f检验一致。</p><h1 id="c038" class="lr ls jg bd lt lu lv lw lx ly lz ma mb km mc kn md kp me kq mf ks mg kt mh mi bi translated">摘要</h1><p id="c314" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">我们检验了两个相互竞争的非嵌套固定效应模型A和B解释7个国家人均GDP增长差异的能力。</p><p id="1617" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在FE模型A中，我们假设人均GDP增长很大程度上是由人均总资本形成的增长(以及特定国家的影响)来解释的。在FE模型B中，我们采用了一个不同的假设，假设人均GDP的增长是由人均二氧化碳排放量的增长来解释的(除了特定国家的影响之外)。</p><p id="7167" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们在面板数据集上训练了两个模型，发现模型A似乎产生了明显更好的拟合。</p><p id="741c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">然而，当我们使用<strong class="kx jh"> J检验</strong>在模型A和B之间进行选择时，我们发现模型B也能够解释模型A所不能解释的回归因变量中的一些方差。因此，不能为了a而完全抛弃B。</p><p id="8872" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对J检验结果的分析表明，用模型b中的人均二氧化碳排放量变量来扩充模型A可能对我们有益。</p><p id="e854" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我们继续这样做，从而构建了一个新的模型D，我们继续在数据集上训练D。</p><p id="2282" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">D的拟合优度，通过其<strong class="kx jh">调整后的R平方</strong>、<strong class="kx jh">最大化对数似然</strong>和<strong class="kx jh"> AIC得分</strong>来证明，被发现与A非常相似，尽管比A稍有优势。这提出了一个问题:D是否可能偶然受益于一个有益的数据样本，即一个恰好被调整到D的优势的数据面板？</p><p id="0406" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">由于A嵌套在D中，我们能够通过使用用于回归分析的<strong class="kx jh"> F检验</strong>和<strong class="kx jh">似然比检验</strong>来客观地比较A和D的拟合优度，并得出D确实是比A更好的拟合模型的结论。</p></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><p id="393f" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下面是本文中使用的完整源代码:</p><figure class="mq mr ms mt gt is"><div class="bz fp l di"><div class="pd pe l"/></div></figure></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><h1 id="d33d" class="lr ls jg bd lt lu pf lw lx ly pg ma mb km ph kn md kp pi kq mf ks pj kt mh mi bi translated">参考文献、引文和版权</h1><h2 id="cb4c" class="nc ls jg bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">数据集</h2><p id="d792" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated"><a class="ae jd" href="https://databank.worldbank.org/metadataglossary/world-development-indicators/series" rel="noopener ugc nofollow" target="_blank">世界发展指标</a>世界银行数据<a class="ae jd" href="https://www.worldbank.org/en/about/legal/terms-of-use-for-datasets" rel="noopener ugc nofollow" target="_blank"> CC BY 4.0 license </a>。<a class="ae jd" href="https://gist.github.com/sachinsdate/67b12abd253c571b73c42eae8ea79f91" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">下载链接</strong> </a></p><h2 id="f215" class="nc ls jg bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">纸质和图书链接</h2><p id="3656" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">佩萨兰博士和韦克斯博士(1999年)。<a class="ae jd" href="https://ideas.repec.org/p/cam/camdae/9918.html" rel="noopener ugc nofollow" target="_blank">非嵌套假设检验:概述</a>、<a class="ae jd" href="https://ideas.repec.org/s/cam/camdae.html" rel="noopener ugc nofollow" target="_blank">、<em class="mo">剑桥经济学工作论文</em>、<em class="mo"> 9918 </em>，剑桥大学经济学院。</a><a class="ae jd" href="https://www.econ.cam.ac.uk/people-files/emeritus/mhp1/nnest.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="kx jh">下载链接</strong> </a></p><p id="d85a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">戴维森和麦金农(1984年)。基于人工线性回归的模型规格测试。<em class="mo">国际经济评论</em>，<em class="mo"> 25 </em> (2)，485–502。<a class="ae jd" href="https://doi.org/10.2307/2526210" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.2307/2526210</a></p><h2 id="3d78" class="nc ls jg bd lt nm nn dn lx no np dp mb le nq nr md li ns nt mf lm nu nv mh nw bi translated">形象</h2><p id="9273" class="pw-post-body-paragraph kv kw jg kx b ky mj kh la lb mk kk ld le ml lg lh li mm lk ll lm mn lo lp lq ij bi translated">本文中的所有图片版权归<a class="ae jd" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener ugc nofollow" target="_blank"> CC-BY-NC-SA </a>所有，除非图片下面提到了不同的来源和版权。</p></div></div>    
</body>
</html>