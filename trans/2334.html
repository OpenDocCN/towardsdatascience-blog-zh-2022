<html>
<head>
<title>A Gentle Introduction to the Monte Carlo Simulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙特卡洛模拟的简明介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/a-gentle-introduction-to-the-monte-carlo-simulation-a3e5518a4aa7#2022-05-23">https://towardsdatascience.com/a-gentle-introduction-to-the-monte-carlo-simulation-a3e5518a4aa7#2022-05-23</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="de5a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何使用R和Python创建这个著名的模拟</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1d465ea0b20cc8bd9f027b100e8a3d9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RU_LAHJlhCJG8-BAT4qNsg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">安德鲁·西曼在<a class="ae ky" href="https://unsplash.com/s/photos/repeat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="e86f" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">什么是蒙特卡洛模拟？</h2><p id="d0da" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">蒙特卡罗模拟(<em class="mv">以下简称MCS</em>)——也称为多概率模拟——是一种估计不确定事件结果概率的方法。</p><p id="1a91" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">在数学家Stanislaw Ulam在建造原子弹的项目中考虑了这一方法之后，这一方法变得很有名。除了使MCS出名的令人讨厌的目的之外，仅仅通过一遍又一遍地模拟问题来获得一些问题的近似结果实际上是非常有用的。随着计算机处理速度的提高，MCS成为您工具箱中的另一个好资源。</p><blockquote class="nb"><p id="c800" class="nc nd it bd ne nf ng nh ni nj nk mu dk translated">蒙特卡罗模拟可以理解为将同一个实验重复n次的过程，使用随机生成的遵循我们数据相同分布的数字来模拟问题的一个变量。</p></blockquote><h2 id="f0fb" class="lg lh it bd li lj nl dn ll lm nm dp lo lp nn lr ls lt no lv lw lx np lz ma mb bi translated">蒙特卡罗模拟和LLN</h2><p id="d8fa" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">支持MCS的一个概念是大数定律。这条著名的定律表明，当我们增加一个给定实验的重复次数时，结果的平均值会越来越接近那些事件发生的概率的真实值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/8ef534a4947f88b88dadbf394b94bb34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KDiofbNRVVjoSFGkEuz0Qg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">增加重复次数，你更接近真实概率。图片由作者提供。</p></figure><p id="8ba2" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">我们都知道，掷硬币时，正面或反面各有50%的机会。但是如果你连续两次抛硬币，你可以得到正面(H-H)，反面(T-T)或H-T或T-H。嗯，一半的机会是你只会得到正面(100% | 0%)或反面(0% | 100%)，这与真实概率相差甚远。现在，如果你把同一个硬币抛几百次，你就知道了。你肯定会看到50/50分布的一些东西。</p><p id="334f" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">这就是为什么MCS多次运行相同的实验。</p><h2 id="a7cc" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">鱼类问题</h2><p id="9b3a" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">想象一个湖。我们想知道里面有多少鱼。一个经典的MCS问题解决了这个问题，它说我们最初可以钓100条鱼并给它们做标记。现在我们知道有100种鱼被标记，但我们不知道它在总数中所占的比例。</p><p id="042a" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">因此，我们重复这个过程，再钓100条鱼几次，检查有标记和没有标记的鱼的百分比。如果我们知道被标记的鱼的大概百分比，我们需要做的就是计算总数(例如，MCS给我们20%被标记的鱼，这意味着在那个湖中被标记的鱼的数量(100)代表总数的20%)。因此，总数将是500。)</p><p id="e23e" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">让我们看看代码。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="b591" class="lg lh it ns b gy nw nx l ny nz"># Creating the Lake with 100 marked fish and 400 not marked<br/>fishes &lt;- data.frame(num = seq(1:500),<br/>                     marked = rep(c(1,1,0,0,0,0,0,0,0,0), times=50)<br/>                     )</span><span id="7559" class="lg lh it ns b gy oa nx l ny nz"># Confirming 100 marked fishes<br/>marked_fish_total &lt;- sum(fishes[fishes$marked==1,2])<br/>print( paste("Marked Fish in the lake:", marked_fish_total) )</span><span id="ec2a" class="lg lh it ns b gy oa nx l ny nz">### Monte Carlo Simulation ###</span><span id="35d5" class="lg lh it ns b gy oa nx l ny nz"><em class="mv">monte_carlo &lt;- function (reps, dataset){<br/>  "Run the same experiment for n reps and return the average proportion<br/>  * reps: [int] How many repetitions of the same experiment<br/>  * dataset: [data.frame] it is the dataframe with the fish data<br/>  "<br/>  <br/># Creating a vector to collect the marked fishes proportion<br/>marked_prop &lt;- c()</em></span><span id="2ae4" class="lg lh it ns b gy oa nx l ny nz"><em class="mv">#Let's simulate a fishing of 100 fishes, repeated 1,000 times<br/>  for (experiment in seq(1,reps)) {<br/>    <br/>    # Shuffle the dataset<br/>    shuffled &lt;- sample(nrow(dataset))<br/>    dataset &lt;- dataset[shuffled, ]<br/>    <br/>    # Create a random index before catching the fish<br/>    index &lt;- sample(1:500, size=100)<br/>    fishing &lt;- dataset[index,]<br/>    # Calculate the proportion<br/>    p &lt;- mean(fishing$marked)<br/>    <br/>    # Store result in the vector<br/>    marked_prop &lt;- c(marked_prop, p)<br/>    <br/>  } # close for Loop</em></span><span id="bb36" class="lg lh it ns b gy oa nx l ny nz"><em class="mv"># Calculate and return the mean proportion after n repetitions<br/>  return (mean(marked_prop))</em></span><span id="ee7c" class="lg lh it ns b gy oa nx l ny nz"><em class="mv">} #close the function</em><br/></span><span id="c831" class="lg lh it ns b gy oa nx l ny nz"># Running the Monte Carlo Simulation<br/>marked_fish_proportion &lt;- monte_carlo(1000, fishes)</span><span id="0201" class="lg lh it ns b gy oa nx l ny nz">"If we know the percentage of marked fish and we know that the total <br/>of marked fish in that lake is 100, then we can calculate the 100%<br/>using this formula:<br/>Marked Fish Total / Marked Fish Proportion "</span><span id="43c1" class="lg lh it ns b gy oa nx l ny nz"># Total Fish in the lake<br/>marked_fish_total / marked_fish_proportion</span></pre><p id="083c" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">将上面的整个代码运行500次后，下面是结果的直方图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/ecd7aa24c301d7bb6225925afd1a57c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WkPCnwsYdO0xNPkCFrpPEg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">看到我们能够在大多数情况下击中500条鱼的正确结果，或者非常接近它。图片由作者提供。</p></figure><p id="9175" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">嗯，这是维基百科中MCS定义的<a class="ae ky" href="https://pt.wikipedia.org/wiki/M%C3%A9todo_de_Monte_Carlo" rel="noopener ugc nofollow" target="_blank">葡萄牙语版本中共享的一个示例问题，但我可能会说这更像是一个自助问题，而不是蒙特卡洛问题，尽管它不是。</a></p><h2 id="98da" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">MCS和自举有什么不同？</h2><p id="9fe4" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">这两种技术密切相关，因为它们都是基于大数定律和中心极限定理，通过重复来得到估计的数字。</p><p id="a134" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">然而，它们之间的最大区别是，Bootstrap技术将对您已经拥有的数据进行采样，并从中获得估计的统计数据，就像一个奇特的平均计算一样。</p><p id="e37e" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">现在，MCS技术将使用与您的真实数据相同的分布创建新的随机数，因此它模拟了一个新的数据集，并帮助您回答这个<em class="mv">如果</em>问题:“如果新数据在相同的条件下不断出现，我试图预测的统计数据/数字会发生什么情况？”</p><h2 id="6796" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">使用R理解MCS逻辑</h2><p id="cc79" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">要应用蒙特卡罗方法，记住以下主要步骤很重要:</p><p id="55ee" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated"><em class="mv"> 1。定义您的输入。你试图预测/估计什么，你的解释变量是什么。</em></p><p id="0204" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">现在，我们受雇于一家餐馆，该餐馆想知道一个月内来就餐的平均顾客人数。业主给我们90天的出勤率:平均每晚193人。250或更多的人发生了几次。在最平静的夜晚，他们看到大约150人来吃饭。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="becd" class="lg lh it ns b gy nw nx l ny nz"># Creating a Normal Distribution<br/>n &lt;- rnorm(90, mean=200, sd=40)<br/>n &lt;- as.integer(n)</span><span id="b0a6" class="lg lh it ns b gy oa nx l ny nz">[day1] 171 163 170 153 247 251 213 163 233 277 197 175 165 200 155 238 260 183 253 199 299 236 207 147 219 238 234<br/>256 177 160 143 188 241 230 234 143 152 201 241 180 153 144 163 196 103 177 209 254 240 203 191 105 178 219<br/>263 241 183 176 161 167 291 179 273 186 239 192 199 192 121 270 182 196 162 187 177 168 201 143 185 228 217<br/>149 238 177 201 220 182 190 193 186 [day90]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/d72b4b74154e6c267803bb49a5705232.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*exiJKbmg0tzJmIN1zn9D0A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每晚平均顾客人数。图片由作者提供。</p></figure><p id="d6c0" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated"><em class="mv"> 2。定义解释变量的分布(如正态分布、连续均匀分布、指数分布)。</em></p><p id="d51a" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">在这种情况下，我创建了一个正态分布，但我们也可以将平均数视为正态分布，因为它依赖于中心极限定理，样本的平均值将收敛到一条近似正态的曲线。</p><p id="98e3" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated"><em class="mv"> 3。我们的下一步是为我们的模拟创建一个分布。因此，我们必须计算累积分布函数，或CDF，它将告诉我们一个数在给定区间内的概率是多少。</em></p><p id="0571" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">为了使上面的陈述更清楚，让我们画出CDF。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="d2d5" class="lg lh it ns b gy nw nx l ny nz"># Plot the CDF<br/>plot( x= n, <br/>      xlab= 'Customers',<br/>      y= pnorm(n, mean=193, sd=40),<br/>      ylab= 'Probability',<br/>      col='red', <br/>      main='CDF for Customers')</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/d82a93c70711f006097dcd1cc540cfc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n1_cKGUxVvkUYgTdkd2T9g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">累积分布函数。图片由作者提供。</p></figure><p id="d05a" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">请注意，对于X中的每个客户数量，都有一个与y相关联的概率。因此，如果您想知道有50%可能性发生的客户数量，您将看到平均值193。</p><p id="d394" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated"><em class="mv"> 4。有了这个分布，现在你可以生成0到1之间的N个随机数。这些数字将代表您可以与步骤3中的分布相关联的百分比，从而生成一个模拟的餐厅出席人数。</em></p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="06d8" class="lg lh it ns b gy nw nx l ny nz"># Simulated attendance<br/>mcs_customers &lt;- function(simulations){<br/>  "This function takes an integer number and generates that amount of repetitions of the simulation"<br/>  <br/>  # Create a list to store the results<br/>  mcs_results &lt;- c()<br/>  <br/>  # Loop<br/>  for (n in 1:simulations){<br/>    # Generate a random number<br/>    r &lt;- runif(1)<br/>    # Use our CDF to capture the simulated quantity of customers<br/>    simulated &lt;- qnorm(r, mean=customer_avg, sd= customer_std)<br/>    # Take the lowest integer rounded<br/>    simulated &lt;- floor(simulated)<br/>    <br/>    #Store result<br/>    mcs_results &lt;- c(mcs_results, simulated)<br/>    <br/>  } #end loop<br/>    <br/>  # Plot histogram<br/>  hist(mcs_results, col='royalblue')<br/>  <br/>  # Return vector<br/>  return(mcs_results)<br/>  <br/>}# end function</span></pre><p id="55e8" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">并且应用上面的函数，就是这个结果。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="33ff" class="lg lh it ns b gy nw nx l ny nz">mcs &lt;- mcs_customers(500)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/5890600c316ef86229582d92a27a67d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oajqre5PenvUxzRvwM9vQA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">每晚模拟的平均客户数量。图片由作者提供。</p></figure><p id="df5c" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">比较两个结果，看看它们有多相似。我们真的可以说，在保持其他变量不变的情况下，每晚的平均顾客数量将在200人左右浮动。有了这个数字，你就可以计划人员配备、桌子数量、估计收入和进行其他战略分析。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/caed0f934bb450118bcb556a2206e38c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mr1oLdk8K4iFF3ubLFEyew.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">对比:真实分布|每晚客户的模拟分布。图片由作者提供。</p></figure><h2 id="eda7" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">在Python中应用MC仿真</h2><p id="9763" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">同样的练习可以用Python来完成。我个人认为，R更适合创建快速MCS，因为它已经内置了所需的统计工具——比如那些用于计算随机数、CDF和分布的逆值的工具。</p><p id="a076" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">在Python中，<code class="fe og oh oi ns b">scipy</code>是和<code class="fe og oh oi ns b">numpy</code>一起做这些事情的最好的库。</p><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="37ff" class="lg lh it ns b gy nw nx l ny nz">#Imports<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import numpy as np<br/>import scipy.stats as scs</span><span id="3527" class="lg lh it ns b gy oa nx l ny nz"># 90 Days of Clients<br/>customers = [171, 163, 170, 153, 247, 251, 213, 163, 233, 277, 197, 175, 165, 200, 155, 238, 260, 183, 253, 199, 299, 236, 207, 147 ,219, 238, 234, 256, 177, 160, 143, 188, 241, 230, 234, 143, 152,201, 241, 180, 153, 144, 163, 196, 103, 177, 209, 254, 240, 203, 191, 105, 178, 219,263, 241, 183, 176, 161, 167, 291, 179, 273, 186, 239, 192, 199 ,192, 121, 270, 182, 196, 162,187, 177,168, 201, 143, 185, 228, 217, 149, 238, 177, 201, 220, 182, 190, 193, 186]</span><span id="91c2" class="lg lh it ns b gy oa nx l ny nz"># Histogram of customers<br/>sns.histplot(customers)<br/>plt.title('Histogram of Customers');</span><span id="4372" class="lg lh it ns b gy oa nx l ny nz"># Calculating Mean and Std of customers<br/>cust_avg = np.mean(customers)<br/>cust_std = np.std(customers)</span><span id="68d2" class="lg lh it ns b gy oa nx l ny nz"># Calculating CDF from the distribution<br/>cdf = scs.norm.cdf(customers, loc=cust_avg, scale=cust_std)</span><span id="4516" class="lg lh it ns b gy oa nx l ny nz">#Plot CDF<br/>sns.lineplot(x=customers, y=cdf)<br/>plt.annotate(f'mean: {round(cust_avg,1)}', xy=(cust_avg+10, 0.5),<br/>             bbox=dict(boxstyle="larrow, pad=0.4", fc="lightgray", ec="r", lw=0));</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/ca2934e3c098b5546e7d615f6b9044c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*f71XIfN_i8xSpvqIncYcbQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">客户的累积分布频率(CDF):这是模拟的来源。作者图片</p></figure><pre class="kj kk kl km gt nr ns nt nu aw nv bi"><span id="f88f" class="lg lh it ns b gy nw nx l ny nz"># Function to perform simulations<br/>def mcs(simulations):<br/> <em class="mv"> "Provide integer with number of simulations and the function returns an array and histogram with the results"</em><br/>  # List to store results<br/>  results = []<br/>  # Loop<br/>  for n in range(simulations):<br/>    # Generate random number as a probability<br/>    r = np.random.uniform()<br/>    # Calculate the number<br/>    sim_cust = scs.norm.ppf(r, loc=cust_avg, scale=cust_std)<br/>    # Math floor of the number<br/>    sim_cust = int(sim_cust)</span><span id="88aa" class="lg lh it ns b gy oa nx l ny nz">#Store result<br/>    results.append(sim_cust)</span><span id="c7f0" class="lg lh it ns b gy oa nx l ny nz"># Plot Histogram<br/>  sns.histplot(results)<br/>  plt.title('Histogram of Results MCS')</span><span id="f3d2" class="lg lh it ns b gy oa nx l ny nz">#Return array<br/>  return results</span><span id="392e" class="lg lh it ns b gy oa nx l ny nz"># Apply mcs function<br/>r = mcs(500)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/e9051d4c88957bbf758ab83fcf6f1b4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zBSdPCpoMuQGvnIJRPUttg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">原始数字与模拟数字。图片由作者提供。</p></figure><p id="e84f" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">我们可以看到，这些数字与实际情况非常接近。就像硬币的例子一样，我们模拟得越多，它就越接近真实的概率。</p><p id="9656" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">考虑到第1天是星期一，我们来看看按工作日划分的模拟客户。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/28ca7c21371ccc699857181072d3edce.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/1*swgFj7OVrL3x6RtwB-Zc9w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按工作日模拟平均值。图片由作者提供。</p></figure><p id="2057" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">看起来我们在周二和周末需要更多的人员(《Fri太阳报》)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/6c45a296a208d8f138a5b64ad40d2d75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ME9ii7qV8JhadRBjZKeCfQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按工作日模拟。图片由作者提供。</p></figure><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="on oo l"/></div></figure><p id="28ce" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">这是非常强大的。</p><h2 id="0b72" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">在你走之前</h2><p id="2cbf" class="pw-post-body-paragraph mc md it me b mf mg ju mh mi mj jx mk lp ml mm mn lt mo mp mq lx mr ms mt mu im bi translated">在你走之前，我想把逻辑打印出来，这样你可以练习并发展它来解决更复杂的问题。</p><p id="04a9" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">我一直在研究蒙特卡洛模拟，我知道还可以做得更多。</p><ol class=""><li id="aa56" class="op oq it me b mf mw mi mx lp or lt os lx ot mu ou ov ow ox bi translated">确定你的问题。知道自己要模拟什么。</li><li id="5562" class="op oq it me b mf oy mi oz lp pa lt pb lx pc mu ou ov ow ox bi translated">找出原始数据的分布(正态分布，均匀分布)。</li><li id="1e5a" class="op oq it me b mf oy mi oz lp pa lt pb lx pc mu ou ov ow ox bi translated">计算累积分布频率(CDF)</li><li id="ce85" class="op oq it me b mf oy mi oz lp pa lt pb lx pc mu ou ov ow ox bi translated">生成一个介于0和1之间的随机数作为你的随机概率。</li><li id="1ceb" class="op oq it me b mf oy mi oz lp pa lt pb lx pc mu ou ov ow ox bi translated">使用您的CDF，该数字将被转换为模拟数字。</li><li id="72a7" class="op oq it me b mf oy mi oz lp pa lt pb lx pc mu ou ov ow ox bi translated">根据需要重复多次，计算出您想要的结果。</li></ol><p id="b8af" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">如果你喜欢这个内容，你可以使用<a class="ae ky" href="https://gustavorsantos.medium.com/membership" rel="noopener">这个推荐代码</a>订阅Medium。</p><p id="768b" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">你也可以关注我的博客了解更多内容。</p><div class="pd pe gp gr pf pg"><a href="https://gustavorsantos.medium.com/" rel="noopener follow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">古斯塔沃·桑托斯-中等</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">阅读古斯塔夫·桑托斯在媒介上的作品。数据科学家。我从数据中提取见解，以帮助个人和公司…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">gustavorsantos.medium.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu ks pg"/></div></div></a></div><h2 id="86a5" class="lg lh it bd li lj lk dn ll lm ln dp lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">参考</h2><div class="pd pe gp gr pf pg"><a href="https://en.wikipedia.org/wiki/Law_of_large_numbers" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">大数定律-维基百科</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">在概率论中，大数定律(LLN)是一个描述执行相同操作的结果的定理</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">en.wikipedia.org</p></div></div><div class="pp l"><div class="pv l pr ps pt pp pu ks pg"/></div></div></a></div><p id="5615" class="pw-post-body-paragraph mc md it me b mf mw ju mh mi mx jx mk lp my mm mn lt mz mp mq lx na ms mt mu im bi translated">蒙特卡洛模拟的定义:<a class="ae ky" href="https://tinyurl.com/3nkxpe4p" rel="noopener ugc nofollow" target="_blank">https://tinyurl.com/3nkxpe4p</a></p><div class="pd pe gp gr pf pg"><a href="https://en.wikipedia.org/wiki/Monte_Carlo_method" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">蒙特卡罗方法-维基百科</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">蒙特卡罗方法，或蒙特卡罗实验，是一大类计算算法，依赖于重复的…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">en.wikipedia.org</p></div></div><div class="pp l"><div class="pw l pr ps pt pp pu ks pg"/></div></div></a></div><div class="pd pe gp gr pf pg"><a href="https://www.ibm.com/cloud/learn/monte-carlo-simulation" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">蒙特卡洛模拟是什么？</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">了解一切你需要知道的蒙特卡罗模拟，一种计算算法，使用重复…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">www.ibm.com</p></div></div><div class="pp l"><div class="px l pr ps pt pp pu ks pg"/></div></div></a></div><div class="pd pe gp gr pf pg"><a href="https://blog.minitab.com/en/the-4-simple-steps-for-creating-a-monte-carlo-simulation-with-engage-or-workspace" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd iu gy z fp pl fr fs pm fu fw is bi translated">使用Engage或Workspace创建蒙特卡洛模拟的4个简单步骤</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">蒙特卡洛模拟自20世纪40年代首次应用以来已经走过了漫长的道路，当时科学家们正在研究…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">blog.minitab.com</p></div></div></div></a></div></div></div>    
</body>
</html>