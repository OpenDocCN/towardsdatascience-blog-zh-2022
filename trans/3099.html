<html>
<head>
<title>Should you use pandas correlation function?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你应该使用熊猫相关函数吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/should-you-use-pandas-corr-function-af82c454bc0#2022-07-07">https://towardsdatascience.com/should-you-use-pandas-corr-function-af82c454bc0#2022-07-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3d33" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">熊猫corr()的局限性及对策</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/36cfa9fcd247275edb8c6dc846b4d930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AsRkFn4-f-p4okI6"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">克里斯·利维拉尼在<a class="ae kv" href="https://unsplash.com/s/photos/statistics?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="0293" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">什么是相关性？</h1><p id="ca7c" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">相关性被定义为两个随机变量之间的关联。在统计学中，它通常指一对变量线性相关的程度。</p><blockquote class="mk ml mm"><p id="bc79" class="lo lp mn lq b lr mo jr lt lu mp ju lw mq mr lz ma ms mt md me mu mv mh mi mj ij bi translated">旁白:在谈论相关性时必须提到的一个强制性警告是“相关性并不意味着因果关系”。查看<a class="ae kv" href="https://sundaskhalid.medium.com/correlation-vs-causation-in-data-science-66b6cfa702f0" rel="noopener">这篇文章</a>了解更多。</p></blockquote><p id="1c50" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">您会经常发现自己在探索性数据分析中使用相关性。在监督设置中，可以查看特征和目标变量之间是否存在高度相关性，从而决定数据集是否可用于预测目标结果。在无监督的设置中，您可能会使用它来查看是否有要素之间具有高度相关性。这种相关性可能指向您可能想要删除的冗余功能。</p><p id="ac47" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">大多数数据科学新手会发现自己在使用pandas内置的关联函数，即pandas。DataFrame.corr()，如下所示</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用熊猫计算相关性的代码。DataFrame.corr()</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/7e57aec0910c4808ed507fc87e0dbe74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AOxLX11GgDXyyFJxthiUCQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用pandas计算相关性的代码输出。DataFrame.corr()</p></figure><p id="5be6" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">如果您查看该功能的<a class="ae kv" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.corr.html" rel="noopener ugc nofollow" target="_blank">文档</a>，根据设计，它具有最小配置。它允许您更改计算相关性的方法，例如，它提供了Pearson、Spearman、Kendall Tau计算相关性的方法。要了解更多关于这些方法的信息，请参阅下面的文章。</p><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/clearly-explained-pearson-v-s-spearman-correlation-coefficient-ada2f473b8"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">解释清楚:皮尔逊V/S斯皮尔曼相关系数</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">在这篇文章中了解更多何时使用哪个系数</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq kp nc"/></div></div></a></div><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/kendall-rank-correlation-explained-dee01d99c535"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">肯德尔等级相关解释。</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">肯德尔秩相关(也称为肯德尔的tau-b)怎么样？这是什么？我如何开始？我什么时候使用…</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="nr l nn no np nl nq kp nc"/></div></div></a></div><p id="d89e" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">然而不管用什么方法。DataFrame.corr()函数仅返回由相关值组成的DataFrame。</p><h1 id="48f3" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">熊猫角的限制()</h1><p id="df69" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">相关性只是故事的一半。当我们谈论变量之间的相关性时，我们理想情况下想要度量的是整个总体中变量之间的相关性。然而，大多数数据科学家处理的是数据样本。因此，如果我们获得不同的样本，我们可能会有不同的相关分数。因此，我们需要评估我们计算的相关值的<strong class="lq ir">显著性</strong>，这取决于样本大小。关于显著性检验的理论公式，请查阅这篇文章。</p><div class="mz na gp gr nb nc"><a rel="noopener follow" target="_blank" href="/eveything-you-need-to-know-about-interpreting-correlations-2c485841c0b8"><div class="nd ab fo"><div class="ne ab nf cl cj ng"><h2 class="bd ir gy z fp nh fr fs ni fu fw ip bi translated">关于解释相关性你需要知道的一切</h2><div class="nj l"><h3 class="bd b gy z fp nh fr fs ni fu fw dk translated">并非所有的相关性都是表面上看起来的那样</h3></div><div class="nk l"><p class="bd b dl z fp nh fr fs ni fu fw dk translated">towardsdatascience.com</p></div></div><div class="nl l"><div class="ns l nn no np nl nq kp nc"/></div></div></a></div><h1 id="5575" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">如果不是corr()还有什么？</h1><p id="45b9" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">从应用角度来说，如果熊猫。DataFrame.corr()没有给出p值，如何找到它们？你可以自己计算。或者您可以使用scipy来计算相关性！</p><p id="74b7" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">Scipy的stats库提供了熊猫相关测试的所有三个版本。DataFrame.corr()即<a class="ae kv" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.pearsonr.html" rel="noopener ugc nofollow" target="_blank">皮尔森</a>、<a class="ae kv" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.spearmanr.html" rel="noopener ugc nofollow" target="_blank">斯皮尔曼</a>、<a class="ae kv" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kendalltau.html" rel="noopener ugc nofollow" target="_blank">肯德尔τ</a>。使用它很简单，只需传入要比较的数据帧的列。考虑下面的片段</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mw mx l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Scipy.stats计算相关性和p值的代码</p></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nt"><img src="../Images/bb2d38dad897be69c6fec89860ea224e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jIROPp463tx7Q_kTd-WdOQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用于计算相关性和p值的代码Scipy.stats的输出</p></figure><p id="0b47" class="pw-post-body-paragraph lo lp iq lq b lr mo jr lt lu mp ju lw lx mr lz ma mb mt md me mf mv mh mi mj ij bi translated">从上面的输出中，我们可以看到p值，从而知道相关性有多重要。</p><h1 id="d3a9" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><p id="0ef3" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">对于数据样本的相关性测试(这是您经常要做的工作),也要计算p值。因此，当处理样本数据时，请使用熊猫的scipy.stats。DataFrame.corr()</p></div></div>    
</body>
</html>