<html>
<head>
<title>How Should We Be Thinking about Data Lineage?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们应该如何考虑数据血统？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-should-we-be-thinking-about-data-lineage-541ca5ab83d0#2022-03-22">https://towardsdatascience.com/how-should-we-be-thinking-about-data-lineage-541ca5ab83d0#2022-03-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="4e48" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">全面了解您的数据和分析生态系统</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1913423670e9e6feec4f676caf4c0704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oNtEgTas7B6OQ-UZvM4OlA.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片由<a class="ae kv" href="https://elements.envato.com/user/Rawpixel" rel="noopener ugc nofollow" target="_blank"> Rawpixel </a>提供，在<a class="ae kv" href="https://elements.envato.com/couple-checking-a-public-transportation-map-XVZFDB4" rel="noopener ugc nofollow" target="_blank"> Envanto </a>支付</p></figure><h2 id="d1d5" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">为什么数据血统现在如此热门？</h2><p id="2d87" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">数据血统是目前所有数据治理中谈论最多的话题之一，这是有充分理由的。</p><p id="652a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">随着数据沿袭工具的发展，沿袭已经开始在释放数据的全部价值方面拥有越来越大的潜力。现在，人们对使用沿袭作为真正实现组织数据可操作化的途径，并使数据供应链具有弹性、健壮和可靠感到非常兴奋。</p><p id="e68a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">投资于采用数据驱动文化的组织高度重视沿袭，因为它使业务中各个级别的团队成员能够理解和信任数据管道，并有望更快地做出数据驱动的决策。它让您的团队充满信心，能够对不断变化的市场条件数据做出快速反应，并做出及时、准确的决策。而且，当出现问题时，它可以帮助数据生产者诊断这些问题，并快速恢复业务。</p><p id="be56" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">出于这些原因以及更多原因，<a class="ae kv" href="https://data.world/podcasts/whats-the-story-with-data-lineage/" rel="noopener ugc nofollow" target="_blank">数据谱系</a>已经成为<a class="ae kv" href="https://www.bvp.com/atlas/emergence-and-evolution-of-metadata-management/?from=spot" rel="noopener ugc nofollow" target="_blank">数据治理世界</a>的最新必备工具，许多新的数据谱系工具，包括商业的和开源的，已经涌现出来。但是血统仍然很难完全理解，也很难实现。</p><h2 id="8ea1" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">数据血统到底是什么？</h2><p id="62d1" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><a class="ae kv" href="https://data.world/blog/data-lineage-the-not-so-secret-solution/" rel="noopener ugc nofollow" target="_blank">数据谱系</a>是元数据更有趣、更有用的应用之一。它让数据用户更好地了解他们的数据，并清楚地了解他们的数据来自哪里；它要去哪里；以及它是如何改变的，由谁改变的，以及为什么改变。简而言之，它通过为您提供一个更完整、自上而下的数据和分析生态系统图，实现了更好的数据治理。</p><p id="c8ef" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">但是有不同类型的血统，每种类型服务于不同的目的，解决不同的问题。</p><ul class=""><li id="2072" class="mq mr iq lu b lv ml ly mm lf ms lj mt ln mu mk mv mw mx my bi translated">业务沿袭—业务沿袭提供了数据如何从其来源流向其消费地的概要视图。对于希望了解数据来源以及数据是否可信，但又不想迷失在细节中的分析师来说，这是一个重要的工具。</li><li id="6792" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk mv mw mx my bi translated">技术谱系— <a class="ae kv" href="https://data.world/resources/webinar/webinar-lineage-data-management/" rel="noopener ugc nofollow" target="_blank">技术谱系</a>则更详细，它允许数据工程师和更多的技术用户尽可能详细地查看基础设施和数据转换；查看表、列和查询级别沿袭。并跟踪数据在管道中的传输，让他们确认一切正常运行。</li></ul><p id="e63e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在您的业务概念、它们之间的关联方式以及它们的技术规范之间，存在着很大一部分难以捉摸的语义层。这一层决定了您的业务定义和您的技术谱系如何相互关联，它不像业务或技术谱系本身那样经常被讨论，但是它提供了关于哪些数据资产对您的组织真正重要的有价值的见解。它还为核心业务概念提供了关键的“事实来源”。连接这些层的能力使我们能够映射所有权和管理权的概念，完成图片并交叉您组织的社交图和数据图。</p><p id="d4ec" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">根据您需要了解的内容(无论是验证信任的关键业务数据来自何处，还是您的数据系统是否正常工作)，这些不同类型的沿袭适合不同的需求。</p><h2 id="f3d3" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">数据沿袭如何帮助解决数据和业务问题</h2><p id="69de" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">lineage 提供的洞察力使数据用户能够解决在大量互联数据中遇到的各种问题:</p><ol class=""><li id="d69a" class="mq mr iq lu b lv ml ly mm lf ms lj mt ln mu mk ne mw mx my bi translated">数据故障排除—如果您的组织依赖于一个关键的数据模型来做出实时决策，而该模型失败了，lineage 使您的团队能够跟踪数据流并确定错误的根本原因。</li><li id="7f7e" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">影响分析-如果您正在对数据源进行更改，lineage 允许您在数据流中向前看，以准确预测并准备好对模型的影响，并提醒下游数据使用者更改即将到来。</li><li id="aa3e" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">发现和信任——沿袭使数据科学家能够了解在哪里可以向模型添加必要的数据集，并确定这些数据集的所有者以推动流程。它还可以让数据科学家对其模型中数据的质量和来源放心。</li><li id="3c71" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">数据隐私法规(GDPR 和 PII 映射)— Lineage 帮助您的数据隐私和合规团队确定 PII 在您数据中的位置。例如，在 GDPR 请求的情况下，lineage 可以确保您需要删除的所有数据都已删除，从而确保您的组织符合法规要求。</li><li id="aea6" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">数据资产清理/技术迁移-在从一个系统或技术到另一个系统或技术的清理或迁移过程中，lineage 允许您识别和保留最重要的数据，以便将其移动到新设备。</li><li id="ec41" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">数据评估—当您需要识别和分类对您的组织最关键的数据和分析时，lineage 允许您回顾数据供应链，并了解哪些源系统正在推动真正的业务价值和业务决策。</li></ol><h1 id="c147" class="nf kx iq bd ky ng nh ni lb nj nk nl le jw nm jx li jz nn ka lm kc no kd lq np bi translated">如何实现数据沿袭？</h1><p id="e65f" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">正如我在本系列的第一篇文章中所说的，数据沿袭是在数据从数据源流向消费者的过程中理解、记录和可视化数据的过程。这可能包括数据在传输过程中经历的所有转换—数据是如何转换的？什么变了？为什么呢？</p><p id="91b7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">太好了。但是你如何从技术上回答这些问题呢？实现沿袭有三个步骤:</p><ol class=""><li id="c4a8" class="mq mr iq lu b lv ml ly mm lf ms lj mt ln mu mk ne mw mx my bi translated">收集新的世系相关元数据</li><li id="6abf" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">将这些信息与您已经拥有的(或之前收集的)知识相结合</li><li id="5a93" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk ne mw mx my bi translated">以对您的用例有用和适用的方式表示信息</li></ol><h2 id="05da" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">收集血统</h2><p id="447d" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">收集数据沿袭有几种不同的方法，每种方法都有其优点。根据您的用例以及您收集血统的系统，一种方法可能比另一种更适合您。</p><p id="7f30" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在这些不同的系统中，数据沿袭收集通过以下方式完成:</p><ul class=""><li id="dc35" class="mq mr iq lu b lv ml ly mm lf ms lj mt ln mu mk mv mw mx my bi translated">该系统通过其应用编程接口(API)来公开沿袭。这种方法最常见于现代商业信息(BI)和数据可视化工具，如 Tableau 或 Looker。当提供这些工具的数据被编目时，从表到仪表板的数据流(沿袭)也被记录。</li><li id="4a6a" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk mv mw mx my bi translated">该系统在运行时发出明确的沿袭信息，越来越多的公司在构建数据管道时采用这种方法。通常，这种基于推送的运行时沿袭方法在运行时被写出到文件或调用沿袭收集系统中的 API，并且它是极其健壮和准确的信息。一些转换系统，如 dbt，本身就能做到这一点。但是如果您正在创建自己的管道，那么自己发布这些信息是一个很好的实践。这可能需要对您的管道代码进行一些返工，但它非常可靠。你可以从<a class="ae kv" href="https://www.linkedin.com/in/julienledem/" rel="noopener ugc nofollow" target="_blank"> OpenLineage 的创建者 Julien LeDem </a>那里读到更多关于这个想法的内容。</li><li id="d7bb" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk mv mw mx my bi translated">解析系统的转换代码以自动创建技术谱系是一种在系统没有明确发出关于数据谱系的结构化元数据时使用的方法，并且生成谱系视图的唯一方式是通过解析代码。这种对现有代码进行静态分析的方法可能很脆弱，无论是通过 CI/CD 还是其他方式，当需要重新扫描时，您都需要某种方式来触发或检测。</li><li id="cfe3" class="mq mr iq lu b lv mz ly na lf nb lj nc ln nd mk mv mw mx my bi translated">手动沿袭条目——无论您使用什么系统来存储和维护沿袭，都应该绝对支持手动建模、扩充或修正从自动化系统收集的沿袭。虽然这听起来令人畏惧，而且肯定不性感，但是如果您的系统不支持扩充和覆盖血统，您将会走进死胡同。</li></ul><p id="fe79" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">当您考虑这些系统中的每一个时，您还需要决定是否要依赖您的数据先前建立的谱系(这可能容易收集，也可能不容易收集),或者在您编目数据时映射一个新的声明性谱系，实际上编写新的代码，说明“这个数据依赖于 X，那个依赖于 y。”</p><p id="ec27" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">无论您决定什么，无论您的用例是什么，选择确保您的血统是可靠的、健壮的和值得信赖的系统是至关重要的。</p><h2 id="2b6c" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">用知识图表示和协调世系</h2><p id="aa9e" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">不管你如何收集你的数据血统，有一件事是肯定的，那就是你必须能够以一种灵活的、支持简单进化的方式来存储和管理它。表现血统的最好方式之一是通过<a class="ae kv" href="https://data.world/blog/3-ways-to-confirm-your-data-catalog-is-really-powered-by-a-knowledge-graph/" rel="noopener ugc nofollow" target="_blank">知识图</a>；知识图是健壮的、可扩展的——如果您需要添加数据源的话——并且它们可以表示数据的多个层和视图——例如语义的或技术的——并且支持在这些视图之间导航。</p><p id="6440" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">现在有两种很好的方法来表示血统，一种是<a class="ae kv" href="https://openlineage.io" rel="noopener ugc nofollow" target="_blank"> OpenLineage 标准</a>，另一种是语义标准<a class="ae kv" href="https://www.w3.org/TR/prov-o/" rel="noopener ugc nofollow" target="_blank"> PROV-O </a>(一种在 RDF 中描述出处的开放标准)。这两种表示都非常适合将出处信息合并到知识图或其他基于图的表示中。</p><p id="5818" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">但是为什么知识图在这里如此重要呢？首先，您会发现，当您从不同的系统收集血统信息时，这些信息可能是不完整的或矛盾的。通过推理和图表分析，<a class="ae kv" href="https://data.world/blog/how-knowledge-graph-brings-together-people-context-connections/" rel="noopener ugc nofollow" target="_blank">知识图表</a>可以以可靠的方式帮助整理矛盾的信息，并且还可以轻松地允许您添加额外的信息——无论是通过手动输入还是从另一个系统收集——而不会丢失您收集的任何原始信息。图表也可以很好地表现血统的演变以及它是如何随时间变化的。</p><h2 id="539a" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">利用血统</h2><p id="a1be" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">当然，拥有一个基于<a class="ae kv" href="https://data.world/blog/data-catalog-powered-by-knowledge-graph/" rel="noopener ugc nofollow" target="_blank">知识图的</a>谱系表示法不仅仅是让解决矛盾和添加新信息变得容易——它也让谱系更容易付诸行动。显然，这使得创建基于图形的血统信息可视化变得容易，以便于探索，特别是当您在语义层和技术层之间移动时。</p><p id="d9f3" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">但是除此之外，它使得操作血统变得非常容易。使用基于图的查询和推理，当管道出现问题时，实现上游生产者和消费者的通知变得很容易；易于在数据集之间传播状态信息；易于进行根本原因问题分析和变更管道的影响分析；这样的例子不胜枚举。</p><h1 id="6a74" class="nf kx iq bd ky ng nh ni lb nj nk nl le jw nm jx li jz nn ka lm kc no kd lq np bi translated">凭借数据血统取胜</h1><p id="052c" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">数据沿袭使您的组织能够全面了解您的数据，从数据的来源到数据的聚合方式，再到数据在传输过程中为了提供知识和意义而经历的任何转换！由于这种可见性，lineage 确保使用准确、完整和可信的数据来推动您的业务向前发展。</p><p id="4630" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">血统有很多。建立可靠的 it 观需要努力和深思熟虑。虽然没有灵丹妙药——当你建立一个数据驱动的文化时，许多东西必须聚集在一起——但如果你投入工作并把它做好，它将具有难以置信的价值。我希望这篇文章能够帮助您思考如何让 lineage 为您和您的团队工作。</p></div></div>    
</body>
</html>