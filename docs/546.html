<html>
<head>
<title>What’s in a Dictionary?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">字典里有什么？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/whats-in-a-dictionary-87f9b139cc03#2022-01-18">https://towardsdatascience.com/whats-in-a-dictionary-87f9b139cc03#2022-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="990d" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">字典里有什么？</h1></div><div class=""><h2 id="5142" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">基本Python数据结构的概述以及为什么应该使用它</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/496f7c0608cb7dc94a2ba941279f505e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tpHcLycP_RZf6Lvf"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Emmanuel Ikwuegbu 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="435d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我的系列文章中的第三篇，讨论Python中有用的特性以及使用它们的好处。一定要看看这里的前两部分:<a class="ae ky" rel="noopener" target="_blank" href="/whats-in-a-lambda-c8cdc67ff107">Lambda中有什么？</a>和<a class="ae ky" rel="noopener" target="_blank" href="/whats-in-a-list-comprehension-c5d36b62f5">什么是列表理解？</a></p><p id="c467" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我还是计算机科学入门的助教时，我经常被问到的话题之一就是Python字典。学生们还不清楚1)语法是如何工作的，以及2)词典应该用于什么目的。我将在本文中解决这两个问题。</p><h2 id="3ba5" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">字典到底是什么？</h2><p id="7d13" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">字典是Python版本的散列图。如果你不知道那是什么，不要担心。我喜欢Python的实现的原因之一是它为用户抽象了许多复杂的东西。这对于数据科学家或其他研究人员来说是非常理想的，他们可能没有接受过密集的编程培训，但仍然坚持使用Python。</p><p id="6954" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一种看待字典的方式是将字典视为由成对的<em class="mt">键</em>和<em class="mt">值</em>组成的查找表。它非常适合存储无序的对象集合，其中的键和值以某种方式相互关联。使用键是为了访问它们各自的值。</p><p id="acf5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">理解词典最简单的方法是看一个具体的例子。假设我有一个人员列表，我想记录每个人最喜欢的泰勒·斯威夫特的歌曲:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="6e88" class="lv lw it mv b gy mz na l nb nc">&gt;&gt;&gt; swifties = {'Arjun' : 'Dorothea', 'Ali' : 'Champagne Problems'}</span></pre><p id="24ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">关于上述内容的一些要点:</p><ul class=""><li id="b633" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">与列表不同，字典由花括号表示:<code class="fe nm nn no mv b">{}</code>。</li><li id="145f" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">字典中的单个<strong class="lb iu">条目</strong>由一个<strong class="lb iu">键-值对</strong>组成，其中键和值由冒号分隔。所以，上面的字典<code class="fe nm nn no mv b">swifties</code>有两个条目。在第一个条目中，键是字符串<code class="fe nm nn no mv b">'Arjun'</code>，而值是字符串<code class="fe nm nn no mv b">'Dorothea'</code>。</li><li id="4447" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">字典中的条目用逗号分隔。</li></ul><p id="54f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们继续上面的代码，看一些如何使用字典的例子。我将编写一个执行一些操作的代码片段，稍后我将解释它们:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="60b2" class="lv lw it mv b gy mz na l nb nc">&gt;&gt;&gt; swifties['Ali']<br/>'Champagne Problems'</span><span id="8fea" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties['Georgia'] = 'All Too Well'</span><span id="b039" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties<br/>{'Arjun': 'Dorothea', 'Ali': 'Champagne Problems', 'Georgia': 'All Too Well'}</span><span id="3f02" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties['Champagne Problems']<br/>Traceback (most recent call last):<br/>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>KeyError: 'Champagne Problems'</span></pre><p id="7347" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来分解一下上面的代码:</p><ul class=""><li id="6603" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">在第一行中，我们看到如何使用方括号来访问字典中的值。我们键入字典的名称，然后将我们想要访问其值的键放在后面的括号中。</li><li id="e970" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">在第二行中，我们看到如何将一个条目添加到一个已经存在的字典中。它的语法类似于访问一个值，但是这次我们使用<code class="fe nm nn no mv b">=</code>将值赋给那个键。第三行打印出字典以及我们成功添加的条目。</li><li id="5f96" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">最后一行是为了说明我们不能使用值直接访问字典中的键；这是一条单行道。然而，一次访问所有的值是可能的(与键没有任何关联)——我稍后将向您展示如何操作。</li></ul><p id="0fd6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，让我们看看几个实用函数，它们在使用字典时经常被证明是有帮助的:</p><pre class="kj kk kl km gt mu mv mw mx aw my bi"><span id="7a58" class="lv lw it mv b gy mz na l nb nc">&gt;&gt;&gt; swifties.keys()<br/>dict_keys(['Arjun', 'Ali', 'Georgia'])</span><span id="d8b8" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties.values()<br/>dict_values(['Dorothea', 'Champagne Problems', 'All Too Well'])</span><span id="565a" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties.items()<br/>dict_items([('Arjun', 'Dorothea'), ('Ali', 'Champagne Problems'), ('Georgia', 'All Too Well')])</span><span id="1649" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties['Ella']<br/>Traceback (most recent call last):<br/>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;<br/>KeyError: 'Ella'</span><span id="a987" class="lv lw it mv b gy nu na l nb nc">&gt;&gt;&gt; swifties.get('Ella', '22')<br/>'22'</span></pre><p id="4946" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">同样，让我们来分解一下:</p><ul class=""><li id="1483" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">在前三个例子中，我们看到了三个有用的函数，它们允许我们直接访问所有的1)键、2)值或3)条目(键-值对)。从技术上讲，它们是作为特殊的Python iterable对象返回的，但是通过键入<code class="fe nm nn no mv b">list(swifties.keys())</code>很容易将它们转换成列表。</li><li id="ee53" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">最后两个例子说明了访问字典中的值的第二种也可能是更好的方法:<code class="fe nm nn no mv b">dict.get()</code>函数。使用这个函数的好处是，如果您试图访问字典中不存在的键，您可以提供一个默认值。相比之下，使用方括号方法会给我们一个错误。</li></ul><p id="1881" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这一节的最后，我将简要提及你应该记住的关于字典的三个要点。首先，<em class="mt"/>从不依赖字典中条目的顺序。字典被设计成一个无序的集合，它不应该用来完成由其他数据结构更好处理的顺序任务。</p><p id="11da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些人不同意这一点，因为从Python 3.7开始，字典事实上有一致的顺序。然而，有两个原因你应该避免在你的代码中依赖这种顺序:1)这违反了抽象障碍，因为哈希映射(字典所基于的)从来就不是有序的，2)你可能偶尔会发现自己在一个旧的代码库中工作，在这种情况下Python字典将不会是有序的。</p><p id="53bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其次，字典的键在Python中不能是可变类型(比如lists)。这个细节对于高级应用来说并不太重要，但是它与可变类型不能被可靠地散列(这是一个将它们随机放在查找表中的时髦词)的事实有关，因为它们可以随时改变。值可以是任何东西(甚至其他字典！).</p><p id="5ae0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后，字典中的键必须<strong class="lb iu">唯一</strong>(值不必如此)。如果允许重复，那么当您查找一个键时，Python将不知道您想要哪个关联值。</p><p id="e81c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于字典来说，一个有用的类比是把它想象成一个银行金库:</p><ul class=""><li id="3492" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated">金库里的每个抽屉都对应一件物品。</li><li id="8133" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">如果你去保险库，你的钥匙会和其他人的不同，你会用它来打开你放在抽屉里的贵重物品。</li><li id="752c" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated">很有可能其他人的抽屉里也有和你一样的东西(比如一条一模一样的项链)，但是他们当然还是有一把不同的钥匙。类似地，字典中的键必须是唯一的，而值可以重复。</li></ul><p id="d7ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们谈谈为什么我们可能会使用字典。</p><h2 id="df11" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">字典为什么有用？</h2><p id="f8a7" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">好吧，所以字典很酷，但是拥有它们真的有意义吗？我们就不能把变量放在一个列表里然后就到此为止吗？</p><p id="c5fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我想如果你真的很有创造力，你可以只通过列表来应付。然而，正如我在以前关于lambdas和list comprehensions的文章中提到的，Pythonic编程风格反对不必要的复杂的做事方式。字典是编写简单逻辑代码的好方法。</p><p id="7a12" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里有几个可能适合使用字典的场景:</p><ul class=""><li id="3392" class="nd ne it lb b lc ld lf lg li nf lm ng lq nh lu ni nj nk nl bi translated"><strong class="lb iu">清洗和处理熊猫的数据。</strong>熊猫中的多个函数以字典为可选参数。您可以使用它们方便地重命名行，或者使用<a class="ae ky" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.astype.html" rel="noopener ugc nofollow" target="_blank">来更改整列的类型。</a>见鬼，你甚至可以使用字典直接创建完整的数据框架。如果你是熊猫用户，理解字典是必须的。</li><li id="d5ec" class="nd ne it lb b lc np lf nq li nr lm ns lq nt lu ni nj nk nl bi translated"><strong class="lb iu">在交互程序中存储用户输入</strong>。许多程序包括从用户那里收集信息，并以某种方式进行转换。字典为存储这些数据提供了一种明智的方式——字典的结构很好地将用户与他们的特定信息联系起来。事实上，像MongoDB这样的专业数据库服务使用的内部结构与字典非常相似。</li></ul><p id="0d88" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当然，这只是两个例子。在很多情况下，字典可能会被证明是有用的。总的来说，我建议寻找像上面第二点那样的情况，在这种情况下，你有一个明确的案例来存储一堆相关联的对。如果你这样做了，我相信最终的结果将是高质量的代码。</p><p id="cdf3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下次见，伙计们！</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><p id="e8d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">想擅长Python？</strong> <a class="ae ky" href="https://witty-speaker-6901.ck.page/0977670a91" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">获取独家、免费获取我简单易懂的指南点击</strong> </a> <strong class="lb iu">。想在介质上无限阅读故事？用我下面的推荐链接注册！</strong></p><div class="oc od gp gr oe of"><a href="https://murtaza5152-ali.medium.com/?source=entity_driven_subscription-607fa603b7ce---------------------------------------" rel="noopener follow" target="_blank"><div class="og ab fo"><div class="oh ab oi cl cj oj"><h2 class="bd iu gy z fp ok fr fs ol fu fw is bi translated">穆尔塔扎阿里培养基</h2><div class="om l"><h3 class="bd b gy z fp ok fr fs ol fu fw dk translated">阅读媒介上穆尔塔扎·阿里的作品。华盛顿大学的博士生。对人机感兴趣…</h3></div><div class="on l"><p class="bd b dl z fp ok fr fs ol fu fw dk translated">murtaza5152-ali.medium.com</p></div></div><div class="oo l"><div class="op l oq or os oo ot ks of"/></div></div></a></div><p id="05b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mt">我叫穆尔塔扎·阿里，是华盛顿大学研究人机交互的博士生。我喜欢写关于教育、编程、生活以及偶尔的随想。</em></p></div></div>    
</body>
</html>