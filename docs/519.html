<html>
<head>
<title>Hey AI — Tell Me a Quote About Rainbow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">嘿，艾——给我讲一段关于彩虹的话</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/hey-ai-tell-me-a-quote-about-rainbow-f351340ffb45#2022-01-17">https://towardsdatascience.com/hey-ai-tell-me-a-quote-about-rainbow-f351340ffb45#2022-01-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="c212" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">嘿，艾——给我讲一段关于彩虹的话</h1></div><div class=""><h2 id="c32c" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">一个动手的人工智能项目</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c1a19e27a6b360d2af777962fe9812d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UnYflOqXNFz9vtjZXAw2pg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://sonsuzdesign.blog" rel="noopener ugc nofollow" target="_blank">作者</a>设计。照片由<a class="ae ky" href="https://unsplash.com/@owenbeard?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">欧文比尔德</a> &amp; <a class="ae ky" href="https://unsplash.com/@akeenster?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">阿比盖尔基南</a>在<a class="ae ky" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></p></figure><p id="3340" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我们将学习如何建立一个人工智能程序，与我们分享特定的报价。该计划有不同的层次:语音识别，生成报价，并将文本转换为语音。在我以前的文章中，我已经讨论了<a class="ae ky" rel="noopener" target="_blank" href="/building-a-speech-recognizer-in-python-2dad733949b4">语音识别</a>和<a class="ae ky" rel="noopener" target="_blank" href="/convert-text-to-speech-in-5-lines-of-code-1c67b12f4729">文本到语音转换</a>的主题。</p><p id="6e21" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我决定写一篇关于报价生成的文章时，我说为什么不通过添加人工智能来增加一点趣味呢。这是一个非常有趣的项目。关于这个话题，我有更多的想法，希望以后能写出来。</p><p id="0123" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在不损失任何时间的情况下，我们开始吧。</p><h2 id="6c9e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">目录</h2><ul class=""><li id="c7f3" class="mo mp it lb b lc mq lf mr li ms lm mt lq mu lu mv mw mx my bi translated"><em class="mz">入门</em></li><li id="5676" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><em class="mz">第一步——库</em></li><li id="9860" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><em class="mz">步骤2 —语音识别</em></li><li id="6119" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><em class="mz">步骤3 —报价生成</em></li><li id="44be" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><em class="mz">最后一步—人工智能阅读报价</em></li></ul></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="08d0" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">入门指南</h1><p id="63fb" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">让我首先列出这个项目的组成部分。我们只需要三个python库，分别是:<em class="mz"> quote，pyttsx3和语音识别</em>。</p><p id="3f2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://pypi.org/project/quote/" rel="noopener ugc nofollow" target="_blank"> Quote </a>是Goodreads quote API的python包装器。</p><p id="5803" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://pypi.org/project/pyttsx3/" rel="noopener ugc nofollow" target="_blank"> Pyttsx3 </a>是一个文本到语音的python库。使用这个模块的一个很大的好处是，它可以离线工作，不需要互联网连接。</p><p id="c0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://pypi.org/project/SpeechRecognition/" rel="noopener ugc nofollow" target="_blank">语音识别</a>是一个语音到文本的python库。它支持多种语音识别引擎，例如:</p><ul class=""><li id="675f" class="mo mp it lb b lc ld lf lg li oa lm ob lq oc lu mv mw mx my bi translated">Microsoft Bing语音识别API</li><li id="dc6b" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">IBM语音转文本API</li><li id="e623" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">谷歌云语音API</li><li id="24b6" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated">还有更多。</li></ul><p id="66da" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我们对我们需要的包有了一个想法。为了能够使用它们，我们必须使用<em class="mz"> pip </em>安装它们。PIP是一个python库管理器工具。帮助组织库和包。我们将在终端窗口中运行下面一行来开始安装:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="8c46" class="lv lw it oe b gy oi oj l ok ol">pip install quote pyttsx3 speechrecognition</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="19d7" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">步骤1 —库</h1><p id="daef" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">现在我们已经安装了库。我们可以将它们导入到我们的程序中。请随意使用任何类型的文本编辑器。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="5ddb" class="lv lw it oe b gy oi oj l ok ol">from quote import quote<br/>import pyttsx3<br/>import speech_recognition as sr</span></pre><p id="fbbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我已经在<em class="mz">入门</em>部分分享了每个包的文档。如果你想更多地了解它们是如何工作的，你可以检查它们。</p></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="9e88" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">步骤2 —语音识别</h1><p id="5436" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">在这一步，我们将学习如何使用python来识别语音。识别是直接通过麦克风进行的。它一直听到你停止说话，然后把它转换成文本。我挑的是谷歌的识别器引擎，基本使用不需要API键。但是如果您想使用不同的识别器引擎，请随意。</p><p id="aed1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="mz"> dynamic_energy_threshold </em>是我们定义麦克风在静音时应该停止监听的地方。我选择这个设置是因为用户可能会做一个很长的演讲，我不想被一个设定的持续时间所限制。</p><p id="de3d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">演讲大概是这样的"<em class="mz">嘿，AI，给我讲一段关于彩虹的话。</em>“关键词必须在演讲的结尾。我们要做的是将识别出的单词拆分成一个列表，并将最后一项作为我们的关键字。</p><p id="9407" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">这里是代码:</strong></p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="66a0" class="lv lw it oe b gy oi oj l ok ol">r = sr.Recognizer()<br/>r.dynamic_energy_threshold = False</span><span id="022f" class="lv lw it oe b gy om oj l ok ol">with sr.Microphone() as source:<br/>    print("Say a keyword: ")<br/>    <br/>    audio_text = r.listen(source)<br/>    <br/>    print("Time is over.")<br/>    <br/>    <br/>s = r.recognize_google(audio_text)</span><span id="6b9b" class="lv lw it oe b gy om oj l ok ol">words = s.split()</span><span id="559c" class="lv lw it oe b gy om oj l ok ol">keyword = str(words[-1])</span></pre></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="2f3e" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">第3步—报价生成</h1><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="ead4" class="lv lw it oe b gy oi oj l ok ol">keyword = str(keyword)</span><span id="c445" class="lv lw it oe b gy om oj l ok ol">result = quote(keyword, limit=3)</span></pre><p id="f71a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里没什么复杂的。</p><p id="a95d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们只是将关键字转换成一个字符串。然后将它传递给<em class="mz"> quote </em>函数，这是我们之前安装和导入的包。</p><p id="a688" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它有两个参数，第一个是关键字，另一个是我们想要得到的报价数量。报价函数将我们连接到Goodreads的报价API。</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="670d" class="lv lw it oe b gy oi oj l ok ol">r = (random.randint(0, 2))</span><span id="1749" class="lv lw it oe b gy om oj l ok ol">quote_ = result[r]['quote']<br/>author_ = result[r]['author']</span></pre><p id="52ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在上面的代码中，我们将结果的值赋给两个不同的变量。返回的结果是一个字典，它现在存储着3个不同的报价。我喜欢做不止一个，这样当我们使用相同的关键字时，我们可以得到不同的报价，而不是同一个。</p><p id="6055" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从中获得<em class="mz">引用</em>和<em class="mz">作者</em>值后，我们要放入一个句子。它必须是一个写得很好的句子，因为在下一步，我们将要求机器为我们读它。</p><p id="8426" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我写的句子格式:</p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="dca5" class="lv lw it oe b gy oi oj l ok ol">text = ("Quote of the day is about " + keyword + " by " + author_ + ". \n\n " + quote_)</span><span id="e343" class="lv lw it oe b gy om oj l ok ol">print(text)</span></pre><p id="9b89" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我们运行该程序时的一些引用示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/d2d54da0d2b09ff297267ec0db584bd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b16CmrYmUSSUBxF9TMjrBQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由作者提供。</p></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h1 id="3867" class="nm lw it bd lx nn no np ma nq nr ns md jz nt ka mg kc nu kd mj kf nv kg mm nw bi translated">最后一步—人工智能阅读报价</h1><p id="b5c0" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">在这最后一步，我们将定义我们的文本到语音转换引擎。我们使用的是pyttsx3库。这个库为不同的语言提供了许多不同的语音引擎。如果您想尝试不同的语音引擎，请查看我在简介中分享的文章。</p><p id="2656" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">代码如下:</strong></p><pre class="kj kk kl km gt od oe of og aw oh bi"><span id="80cf" class="lv lw it oe b gy oi oj l ok ol">engine = pyttsx3.init()</span><span id="b69b" class="lv lw it oe b gy om oj l ok ol">en_voice_id = "com.apple.speech.synthesis.voice.Alex"</span><span id="335b" class="lv lw it oe b gy om oj l ok ol">engine.setProperty('voice', en_voice_id)</span><span id="61fe" class="lv lw it oe b gy om oj l ok ol">engine.say(text)</span><span id="43d9" class="lv lw it oe b gy om oj l ok ol">engine.runAndWait()</span></pre><p id="e052" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">是时候看看代码是如何运行的了。</p><p id="fc65" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将文本文件保存为python文件。我把我的名字命名为:<em class="mz"> listen_to_quote.py </em></p><p id="f420" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们打开用来安装库的终端窗口。然后，我们将转到保存python代码的文件夹。然后我们会运行它。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oo op l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae ky" href="https://www.youtube.com/channel/UCmo4tnTcj92DlzES5hvlWwQ" rel="noopener ugc nofollow" target="_blank">作者</a>制作的视频演示。</p></figure></div><div class="ab cl nf ng hx nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="im in io ip iq"><h2 id="e4c0" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">结论</h2><p id="b0a5" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li nx lk ll lm ny lo lp lq nz ls lt lu im bi translated">恭喜你。在这个实践教程中，我们学习了如何构建一个程序来读取与特定关键字相关的引用。我们在语音转文本和文本转语音库方面也有一些经验。我喜欢创建和从事这类项目，因为它们是机器学习和人工智能在我们日常生活中的伟大应用。</p><blockquote class="oq or os"><p id="80c1" class="kz la mz lb b lc ld ju le lf lg jx lh ot lj lk ll ou ln lo lp ov lr ls lt lu im bi translated">我是贝希克·居文，我喜欢分享关于编程、教育和生活的故事。<a class="ae ky" href="https://lifexplorer.medium.com/membership" rel="noopener">订阅</a>我的内容，保持灵感。泰，</p></blockquote><p id="34f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">如果你想知道我写什么样的文章，这里有一些:</strong></p><ul class=""><li id="6cfa" class="mo mp it lb b lc ld lf lg li oa lm ob lq oc lu mv mw mx my bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/building-a-face-recognizer-in-python-7fd6630c6340">使用Python构建人脸识别器</a></li><li id="11b7" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/speech-recognition-in-real-time-using-python-fbbd62e6ff9d">使用Python实现实时语音识别</a></li><li id="2b69" class="mo mp it lb b lc na lf nb li nc lm nd lq ne lu mv mw mx my bi translated"><a class="ae ky" rel="noopener" target="_blank" href="/building-a-speech-emotion-recognizer-using-python-4c1c7c89d713">使用Python构建语音情感识别器</a></li></ul></div></div>    
</body>
</html>