# 分析不干净的数据是什么感觉？

> 原文：<https://towardsdatascience.com/what-is-it-like-to-analyze-unclean-data-efaffa9a6803>

## 用户功能的 4 个用户体验级别

![](img/bedfce58700e9e1effc1b2aa4aab652b.png)

亚伦·米查姆在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

有一天，我在 Reddit 上看到了 [**这张图片**](https://i.redd.it/vy7o0jp1r1f81.png) ，它让我放声大笑。我们数据人做“数据洗衣”的时间有多长？
【这张图片最初出现在这本关于数据分析的[教科书](https://mcs-notes2.open.ac.uk/files/M140_Unit1.pdf)中。]

有人称之为“数据清洗”、“数据清洗”或“数据准备”，但这都指向同一个根本挑战:**我们如何从杂乱的数据中获得更准确的洞察**？

为大型、结构化和可预测的数据做数据准备是一回事。当您知道会发生什么时，您可以在 ETL 管道中构建自动化的数据清理作业，并且如果您构建它是为了重复使用，那么它肯定是划算的。

但是在有些情况下，ETL 管道的投资是不合理的，在这种情况下，您必须求助于手动清理:

*   **短暂或暂时的数据**:不值得建立新的工作岗位。
*   **实时数据**:不想等太久处理。
*   **小数据**:同事分享的电子表格。

在这篇文章中，我想讨论一个在结构不良、实时或小数据的环境中处理数据清理的框架。我们将从考虑好的数据清理的理想特性和可用选项开始。

# 数据清理中的用户体验

抽象地说，理想的数据清理过程应该具有以下三个特征:

1.  **分布式**:能够处理无限大小的数据，响应时间延迟可预测(低)。
2.  **实时**:能够快速准确的处理移动窗口的流数据。
3.  **功能**:它将有能力在一种通用编程语言中运行用户定义的 ETL 逻辑(有限制)。

在平台特性中，**功能**是与“数据清理”相关的主要特性，数据分析师通常有四个平台提供的主要选项:

1.  **无代码**:直观的 UI 帮助用户启用转换/提取逻辑，通常只需点击几下鼠标。
2.  **公式**:用户可以应用于数据集的预定义函数，常见于 Excel、Google Sheets 等类似平台。
3.  **COMMON-LANG** :一种流行的编程语言，比如 Python、R 或 JavaScript，允许分析师编写代码来执行特定的 ETL 逻辑。
4.  **SPECIAL-LANG** :为用户学习编写数据处理逻辑而设计的特殊语言。

从用户体验的角度来看，上面的选项提供了更好的体验，但是下面的选项提供了更好的控制和可定制性。一个好的用于处理结构不良、实时或小数据的分析产品应该以顶级选项为目标，同时试图通过使用户能够从产品中获得他们需要的东西来取得平衡。选项#4 对于处理这种类型的数据并不理想。

# 个案研究

我们将跳过演示被许多 Excel 和 Google 电子表格用户广泛使用的**公式**。类似地，我们也跳过说明**特殊语言**,[dax guide](https://dax.guide)是一种被称为 DAX 的特殊语言的很好参考，这种语言被许多 Power BI 用户使用。

Columns.ai 正在通过优先考虑用户体验而不是功能集来构建一个简单、快速和可访问的数据分析工具。让我们看看它如何在其简单的数据分析器中支持**无代码**和**通用语言**的两个例子。

> 案例 1(无代码)-存储一列并按存储桶分组。

将一列分成直方图列表是一个常见的任务，通常，人们希望了解每个桶的具体指标，例如回答“每个消费范围的客户数量”、“每个 GDP 范围的州数”等问题。由于它非常常见，用户不需要编写代码，只需使用 UI 中的 bucketing 滑块，参见此演示:

使用动态存储桶分析指标

这种无代码体验，我们认为是用户以超快的方式进步的最好(**一级用户体验**)。

> 案例 2(公共语言)—编写代码来转换脏列

编写一些逻辑来从混乱的文本中提取关键字是一项普通的任务，使用 regex 是一种常见的方法，Javascript 是一种日益普及的流行语言。互联网上有大量容易找到的资源，可以学习如何编写一个简单的 JS 代码片段来完成一些转换工作。

这个例子分析了这个 [Google 电子表格](https://docs.google.com/spreadsheets/d/1qQON2med2bf2OIXoZZRNWtHQk0-4PARgN0vySCSos5c/edit#gid=0)中出现的一个杂乱的数据。加载之后，我们可以编写一个简单的函数来提取#key1、#key2 和#key3 的所有散列键，并获得这些键的度量。JS 函数如下所示:

```
const func = () => {
  const d = nebula.column('dirty');
  const m = d.match(/^.*(#[a-z0-9]+).*$/);
  if(!m || m.length <1) return 'none';
  return m[1];
};columns
.apply('clean', columns.Type.STRING, func)
.select('clean',sum('value'))
.run();
```

您可以将上面的代码复制并粘贴到这个可视化工具的控制台中，并进行生动的试验:[数据可视化工具](https://columns.ai/visual/temp/0472a9b9-d287-4e70-a8a2-2fb3e74eb816)。

如果这样做，结果将与本演示中所示的一样:

支持像 Javascript 这样的通用语言是一种**第三级用户体验**以在他们的分析问题上取得进展，并且它有巨大的容量允许用户在他们的分析中实现任何逻辑。

# 摘要

在这篇文章中，我们探讨了数据清理对数据分析师有多重要。有时候并不好玩……但是如果我们做得好，还是可以实现很好的用户体验。

我们通过几个例子来感受**在支持功能方面不同层次的**用户体验，帮助用户在数据清理方面取得进步。

最后，感谢您阅读到目前为止，我希望“数据清理”是有趣的，很容易在我们的定期数据分析。

如果你喜欢这篇文章，请以任何方式关注我们这里列出的。