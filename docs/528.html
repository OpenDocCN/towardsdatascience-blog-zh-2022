<html>
<head>
<title>I-Scores: How to choose the best method to fill in NAs in your data set</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">I-Scores:如何选择在数据集中填充NAs的最佳方法</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/i-scores-how-to-choose-the-best-method-to-fill-in-nas-in-your-data-set-43f3f0df971f#2022-01-18">https://towardsdatascience.com/i-scores-how-to-choose-the-best-method-to-fill-in-nas-in-your-data-set-43f3f0df971f#2022-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="74ef" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">I-Scores:如何选择在数据集中填充NAs的最佳方法</h1></div><div class=""><h2 id="1587" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">应用R-package<em class="ki">is cores</em>中实施的<em class="ki">插补分数</em>选择最佳插补方法</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/4bc3b08c86dca90c4d1e25a4d1a1020a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mngXllUGXnQPFlUQ4gW2mw.jpeg"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图1:显示螺旋上不同插补的原始论文插补分数图。</p></figure><p id="3893" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">撰稿人:<a class="lv lw ep" href="https://medium.com/u/1e04db6f8e30?source=post_page-----43f3f0df971f--------------------------------" rel="noopener" target="_blank">梅塔丽娜·斯波</a>，<a class="lv lw ep" href="https://medium.com/u/ca780798011a?source=post_page-----43f3f0df971f--------------------------------" rel="noopener" target="_blank">杰弗里·纳夫</a>，<a class="lv lw ep" href="https://medium.com/u/f562dceaeb63?source=post_page-----43f3f0df971f--------------------------------" rel="noopener" target="_blank">洛里斯·米歇尔</a></p><p id="f998" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们都在数据中遇到过它们:令人讨厌和担忧的<strong class="lb iu">缺失值</strong>，通常编码为NA。事实上，在现代数据科学中，缺失值几乎是无法避免的。丢弃含有缺失信息的观测值会导致大量样本丢失，并经常导致数据分析中的偏差。因此，研究人员已经提出了一系列广泛的方法来在任何给定的设置中估算缺失值，例如通过链式方程进行多元估算(<a class="ae lx" href="https://www.researchgate.net/publication/44203418_MICE_Multivariate_Imputation_by_Chained_Equations_in_R" rel="noopener ugc nofollow" target="_blank"> mice </a>)或<a class="ae lx" href="https://academic.oup.com/bioinformatics/article/28/1/112/219101" rel="noopener ugc nofollow" target="_blank"> missForest </a>等等。</p><h1 id="08af" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">问题是:选择一个好的插补方法</h1><p id="4b0f" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated"><em class="mv">在给定的应用中，如何选择“最佳”插补方法？</em>标准的方法是选择一些观测值，将它们的状态设置为缺失，用不同的方法对它们进行估算，并比较它们的预测精度。也就是说，简单地将估算值与被屏蔽的真实值进行比较。选择的精度度量通常是均方根误差(RMSE)或平均绝对误差(MAE)。对于分类变量，使用正确预测百分比(PCP)。为了选择一种插补方法，将选择总体误差值最低的方法。尽管这种方法很常见，但它有两个主要缺点:</p><ol class=""><li id="c8a3" class="mw mx it lb b lc ld lf lg li my lm mz lq na lu nb nc nd ne bi translated">人们不得不在某种程度上人为地屏蔽观察结果，这本身就带来了问题，例如选择多少观察结果和屏蔽哪些观察结果。</li><li id="4e28" class="mw mx it lb b lc nf lf ng li nh lm ni lq nj lu nb nc nd ne bi translated">在RMSE精确度测量中，使用条件均值估算的方法更受欢迎；在MAE中，使用条件中位数估算的方法更受欢迎；在PCP中，使用条件模式估算的方法更受欢迎，而不是使用来自真实条件分布的样本。</li></ol><p id="9159" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">第二点尤其严重:它可能导致选择“无意义的”估算方法。特别是，所选择的方法往往会人为地加强变量之间的关联。因此，应用于这样估算的数据集的统计估计和推断技术可能是无效的。</p><h1 id="bb16" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">一个例子:螺旋的插补</h1><p id="704c" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">我们用一个简单的例子来说明第二个问题。考虑上图:在最左边的两个图中，您可以看到原始数据集的灰色和黑色点位于一个嘈杂的螺旋上。灰点不包含任何NA，黑点包含二维中的一个安娜。在最上面一行中，缺失值遵循一个随机缺失的<em class="mv"/>(MAR)，在最下面一行中，它们遵循一个完全随机缺失的<em class="mv"/>(MCAR)机制。在这个<a class="ae lx" rel="noopener" target="_blank" href="/handling-missing-data-for-a-beginner-6d6f5ea53436">帖子</a>中，我们将介绍这些机制以及其他与缺失值相关的主题。</p><p id="bb47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，您可以在两行中看到不同方法的3种不同插补:</p><p id="1cb6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">i) <em class="mv"> mice.cart </em>用软件包<a class="ae lx" href="https://cran.r-project.org/web/packages/mice/index.html" rel="noopener ugc nofollow" target="_blank"> mice </a>进行插补，可从CRAN上获得，<br/> ii) <em class="mv"> sample </em>从各个维度的观察值中获得每个条目的NA值，以及<br/> iii) <em class="mv">黄土</em>插补，通过使用局部回归方法估计完整病例的条件期望E[X1|X2]和E[X2|X1]，并通过从X1(如果X2缺失)或从X2(如果缺失)进行预测来填充缺失值</p><p id="856c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从视觉上看，很容易发现最佳插补是方法<em class="mv">鼠标推车</em>的插补。当然，这种视觉排序在更高维度中是不可能的，需要另一种方法来选择最佳插补(<em class="mv"> I-Scores </em>，即将推出)。尽管如此，我们还是用这个例子来说明。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/90fed65b6cfe107d098df7a3d9d35621.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*yl4YAocoeiO9JRebyrZ28g.jpeg"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图2:原始论文中的数字，根据三月(灰色)和MCAR(黑色)的3次插补计算出负RMSE。</p></figure><p id="176a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们在这3个插补上计算RMSE(通过使用真实的基础值—在实践中不适用！)我们得到了图2中的排序，在图2中我们绘制了RMSE的负值:最好的方法是<em class="mv">黄土</em>，其次是<em class="mv">样品、</em>，最差的方法是<em class="mv"> mice.cart </em>。这与我们从图1中得到的视觉印象明显矛盾。</p><h1 id="2754" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">解决方案:使用插补分数</h1><p id="51ca" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">与通过RMSE获得的排名相比，我们希望将<em class="mv"> mice.cart </em>排名最高，因为它准确地再现了真实的底层联合数据分布。同样，<em class="mv">黄土</em>严重低估了数据中的变化，应该排在最末<em class="mv">。</em>为此，我们在论文<em class="mv"> </em> <a class="ae lx" href="https://arxiv.org/abs/2106.03742" rel="noopener ugc nofollow" target="_blank"> <em class="mv">插补分数</em> </a> <em class="mv">中开发了一个叫做“插补分数”(I-Scores)的框架。</em>该分数避免了上述与绩效测量(如RMSE)相关的缺陷:它不需要掩盖额外的观察值，并且通常支持从真实条件分布中取样的插补方法。此外，该方法适用于所有类型的数据(离散的和连续的),并且不需要完整的观测值。</p><p id="73d9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们在CRAN上提供R-package <a class="ae lx" href="https://cran.r-project.org/web/packages/Iscores/index.html" rel="noopener ugc nofollow" target="_blank"> Iscores </a>来实现这个分数。它可以很容易地应用于通过对具有NAs ( <em class="mv"> X.NA </em>)的数据集应用不同的插补<em class="mv">方法</em>获得的<em class="mv">插补列表:</em></p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nl"><img src="../Images/fc7e55db676a98358e05645804f1f6c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xaCwlA3fChg9CFhZ_JzHig.png"/></div></div></figure><p id="c03d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">与图2所示的通过负RMSE获得的排名相反，我们观察到以下情况:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/bef02a05d7198e4ab836709c1978a24d.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*_nbl35qfAjmY6MXWiUMbmQ.jpeg"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图3:原始论文中的数字，Iscore是根据三月(灰色)和MCAR(黑色)的3次插补计算得出的。</p></figure><p id="765c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">因此，匹配图1中插补的视觉印象，最好的方法是<em class="mv"> mice.cart </em>，其次是<em class="mv">样本</em>，最差的方法是<em class="mv">黄土</em>。</p><p id="d516" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">M <em class="mv">矿石包Iscores的使用细节可以在</em> <a class="ae lx" href="https://github.com/missValTeam/Iscores" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> <em class="mv">我们的github资源库</em> </strong> </a> <em class="mv">中找到。</em></p><h1 id="f184" class="ly lz it bd ma mb mc md me mf mg mh mi jz mj ka mk kc ml kd mm kf mn kg mo mp bi translated">结论是:明智地选择</h1><p id="385c" class="pw-post-body-paragraph kz la it lb b lc mq ju le lf mr jx lh li ms lk ll lm mt lo lp lq mu ls lt lu im bi translated">面对缺失值的数据集，有无数种插补方法可供选择。然而，关于如何在不同的插补方法中进行选择，几乎没有指导。I-Score应该为这一选择提供有意义的帮助。</p><p id="9d62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个意义上:感谢阅读和快乐得分！</p></div></div>    
</body>
</html>