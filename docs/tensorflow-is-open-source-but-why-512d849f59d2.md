# TensorFlow 是开源的，但是为什么呢？

> 原文：<https://towardsdatascience.com/tensorflow-is-open-source-but-why-512d849f59d2>

## 意见

## 窥探谷歌的开源战略

![](img/790a6fa89e6843691d9a8467ea09f58d.png)

安妮·斯普拉特在 [Unsplash](https://unsplash.com/photos/QckxruozjRg) 上的照片

Ttensor flow 开源背后的原因可能和你想的大不一样。至少，它与当今许多流行的开源项目有很大的不同。

我是谷歌 TensorFlow/Keras 团队的软件工程师。本文总结了我对 TensorFlow 开源背后原因的分析。

免责声明:本文代表作者的个人观点，绝不反映谷歌或其合作伙伴的观点和/或想法。本文中使用的所有信息都来自公共来源。

## 开源软件的流行商业模式

运行开源软件最流行的商业模式是“免费代码，付费服务”模式。他们使用开源代码来吸引更多的用户，但总会有基于代码的付费服务，从用户那里赚回钱。让我们看两个例子。

第一个例子是一个大的开源软件，Android。Android 是开源的，因此所有智能手机制造商都希望使用这一操作系统，而不是开发自己的操作系统。因此，无论你买什么品牌的智能手机，你都将使用 android 操作系统。大量用户连接到他们的生态系统。如果这些用户中的任何一个购买了应用程序，android 将会得到它的份额。

第二个例子是一家小创业公司的 reveal.js。它是一个用于制作幻灯片的 JavaScript 库。您需要编写 JavaScript 代码来使用它。它是开源的，可以免费使用。他们还在 slides.com 上托管一项高级服务，这是一个基于开源库的网络图形用户界面。还是那句话，开源库是为了进行技术冲击，吸引用户，溢价服务是为了从一部分被吸引的用户身上获利。

## 围绕 TensorFlow 的类似阴谋论

同样，我们可以预计 TensorFlow 正试图让更多的人登上这个平台，并在未来的某个时候从他们那里获得利润。流传最广的理论是，谷歌开源了 TensorFlow 来连接用户和他们的云服务。

这很有道理。TensorFlow 旨在产生技术影响和吸引用户，而谷歌云平台(GCP)将是使用 TensorFlow 的最佳优质服务。尤其是将 TensorFlow 的性能推向更高水平的 TPU，是 GCP 独有的。

## 如果这是真的…

如果这个理论是真的，从使用开源 TensorFlow 到高级 TensorFlow 服务的转变应该非常顺利。是因为他们想把免费用户到付费用户的转化率推得尽可能高。我们至少应该看到以下事情的发生。

**首先，应在 TensorFlow 文档中宣传 TPU。**推广 TPU 可以将用户引向 TPU 所在的 GCP。然而，TPU 指令隐藏在[网站](https://www.tensorflow.org/guide/tpu)的深处。如果你登陆[网站的索引页](https://www.tensorflow.org/)，除非你使用搜索栏，否则很难找到任何与 TPU 相关的内容。

**其次，GCP 上的 TensorFlow 服务应该超级好用。**然而，在 GCP 网站的 [AI & ML 页面](https://cloud.google.com/products/ai/)上，TensorFlow 的专用产品只有一个，那就是 [TensorFlow 企业](https://cloud.google.com/tensorflow-enterprise)。其余产品甚至没有一款提及 TensorFlow 作为推广。

**第三，Google Colab 用户应该能够为优质服务支付更多费用。** Google Colab 是 Google 托管的最受欢迎的 TensorFlow 服务。许多数据科学家和机器学习实践者都将其作为他们的“TensorFlow IDE”。Google Cloud 可以通过在 Google Colab 中提供高级 GPU 和 TPU 服务轻松盈利。然而，Google Colab 有极其严格的[计算资源限制](https://research.google.com/colaboratory/faq.html#resource-limits)并且没有办法支付更多来获得更多。你只允许使用[单个 GPU 或 TPU](https://stackoverflow.com/a/58032694/7910419) 。即使你在最顶层的 [Colab Pro+](https://colab.research.google.com/signup/pricing) 上，运行 24 小时后，你的环境仍然可能被抢占。

## 为什么谷歌没有走这条路

总有这样的关于巨头公司的阴谋论。有一个大哥，监督一切，做所有的决定。然而，在现实中，这在很大程度上是不正确的。谷歌是世界上最大的公司之一。我们不能认为它是一个小公司，所有团队都朝着上层管理人员指出的一个明确的目标努力。

谷歌的每个部门都有自己的 okr。作为一家大型科技公司，谷歌一直生活在被反垄断诉讼分割成碎片的恐惧中。在为世界末日做准备时，谷歌让每个部门都制定自己的 okr，这带来的一个副作用是，各部门更难进行深入的战略合作，因为他们必须优先考虑自己的 okr。

TensorFlow 和 GCP 属于谷歌的不同部门。TensorFlow 是谷歌最初为内部研究和机器学习应用开发的工具，它更像是一个内部基础设施软件。然而，云服务旨在推动外部收入。因此，他们有自己的首要目标要去关注。因此，彼此之间可能没有深入的合作。

## 为什么它最初是开源的？

我们首先需要了解大公司是如何做小决策的。大多数小决策都是自下而上而不是自上而下做出的。管理层在后台运作，伟大的想法来自做实际工作的工程师。我认为开源 TensorFlow 的决定还不够大，不足以让所有高层管理人员协调谷歌多个部门的团队，为其制定长期的盈利战略。

这可能是一个简单的决定，因为工程师和研究人员更喜欢开源。开发 TensorFlow 的工程师更喜欢开源，以便更好地了解他们的工作。在研究中使用 TensorFlow 的研究人员也更喜欢开源来分享他们的实验代码，以提高可信度。

谷歌的管理层将批准开源请求，因为这符合谷歌的利益。首先，这无助于他们的竞争对手击败谷歌。其次，这将加强谷歌在科技领域的世界领先地位。第三，开源推动了产品的卓越性，因为开发者为其贡献了想法和代码。第四，建立一个开源社区也能接触并锁定更多的用户。第五，他们未来可能会从这些用户身上获利，谁知道呢？

## 为什么要不断投入资源开源？

之前的回答可能比较枯燥。然而，这里真正有趣的问题是:为什么 Google 不断投入更多资源来为 TensorFlow 构建开源社区？

到现在为止，你应该看到 TensorFlow 并没有一个清晰的商业模式来盈利。然而，谷歌非常乐意花费大量资源，只是为了让 TensorFlow 成为一个更成功的开源项目。他们举办关于 TensorFlow 的线上和线下活动。不断翻新 TensorFlow 官方文档。在 TensorFlow 模块化上花费工程力量，比如将 Keras 和 XLA 从 TensorFlow repo 中分离出来，只是为了更容易的社区贡献。为什么谷歌要浪费这么多钱来支持一些不重要的东西呢？

答案很简单。实际上这很关键。要了解它的重要性，我们需要从另一个角度来看待这个问题。让我们试着回答另一个类似的问题:如果他们不关心开源社区，会发生什么？

## 如果谷歌不投入资源…

如果谷歌只是不断发布代码更新，而没有做任何事情来建立其开源社区，如维护文档，发布教程，呼吁代码贡献，这就是将要发生的事情。首先，TensorFlow 将失去大量用户。第二，TensorFlow 对谷歌之外的开发者来说会变得没那么有用。谷歌只会关心内部需求，而不是世界其他地方。第三，如果没有开源社区的支持，TensorFlow 将变得更加难以在内部使用。

如果沿着这条路走下去，谷歌之外就没有人会用 TensorFlow 了。科技界的人不断在公司之间跳来跳去。这种趋势最终会渗透到谷歌。就连谷歌的工程师也不想用 TensorFlow。然后，会向上层管理层提交另一个请求，用当时最成功的第三方深度学习框架替换 TensorFlow。反正 TensorFlow 不好用，管理层会批准的。

最后，谷歌失去了对一个重要基础设施软件的控制，该软件为谷歌与机器学习相关的一切提供动力，这将损害许多谷歌服务的质量。此外，谷歌需要花更多的钱将其服务迁移到新的框架中。比给 TensorFlow 建一个开源社区要贵几百倍。

## 结论

当 TensorFlow 首次开源时，谷歌没有商业计划。这是工程师们为了自身利益自下而上的决定，而不是自上而下的决定。谷歌不断向 TensorFlow 投入更多资源，为了开源而不是为了盈利而建立一个成功的开源社区。只是因为开源深度学习框架之战的失败成本太高了。

因此，在可预见的未来，如果您正在构建深度学习基础设施，TensorFlow 是一个值得信赖的平台。作为 TensorFlow 团队成员，这也是一个值得我花时间去贡献的生态系统。