# 为什么 ELT 不能解决您的数据问题

> 原文：<https://towardsdatascience.com/why-elt-wont-fix-your-data-problems-11cef8340850>

## 意见

## 改善您的数据基础设施和数据文化需要的不仅仅是华丽的管道

![](img/da2d502e672ddb9683f8bea4756a21b0.png)

图片由来自 [Pixabay](https://pixabay.com/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5752322) 的 [Hatice EROL](https://pixabay.com/users/haticeerol-14967706/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=5752322) 提供

历史喜欢重演。

换句话说:我们人类有一种天赋，伪装成新事物，一次又一次地给自己制造同样的问题。

数据栈和数据管道也不例外。

今天的数据基础设施格局由“现代数据栈”(即[，一个围绕云数据仓库](https://www.estuary.dev/understanding-the-modern-data-stack-and-why-open-source-matters/)的数据栈)和 ELT 管道主导。

这种模式无疑是旧模式的一个进步，但它并没有把我们从旧问题中拯救出来。如果我们不小心，现代数据堆栈和 ELT 可能会导致困扰我们多年的问题再次出现。即:

*   数据生命周期中的工程瓶颈。
*   工程师和数据消费者之间的脱节。
*   对数据的普遍不信任。

这些问题都是可以避免的，尤其是有了今天的技术。因此，让我们深入了解它们真正的来源，以及如何才能真正预防它们。

# ETL 和 ELT:复习

到目前为止，您可能已经厌倦了阅读 ETL 和 ELT 数据管道的比较。但以防万一，这里还有一个！

在数据能够被*操作化*，或者投入工作以满足业务目标之前，必须收集和准备数据。数据必须从外部来源*提取*，*转换*为正确的形状，*加载*到存储系统。

数据转换可能发生在数据到达存储之前或之后。简单地说，这就是 ETL 和 ELT 管道的区别。虽然在现实中，[并不是这么简单的划分](https://www.estuary.dev/etl-vs-elt-breaking-down-the-split-paradigm/)。

今天，我们倾向于将 ELT 管道作为与 ETL 相比的尖端解决方案来讨论。经常引用的理由是，通过将转换留到以后:

*   数据可以更快地进入存储。
*   对于不同的用例，我们可以更灵活地决定如何处理未转换的数据。

这两件事都不一定是真的。我们一会儿会谈到原因。

首先，我想谈一谈为什么 ETL 开始被负面看待。

# ETL 的问题是

加载之前进行转换本身并没有什么不好。

术语“ETL”的含义已经不止于此。它让我们想起了遗留的基础设施，在许多情况下，这些基础设施至今仍在引发问题。它意味着一个定制的，手工编码的工程解决方案。

在数据工程的早期，数据用例通常不太多样化，对组织的日常运作也不太重要。在技术层面上，内部数据存储限制了公司可以合理保留的数据量。

鉴于这两个因素，为每个用例手工编写 ETL 管道是有意义的。在加载之前，数据经过了大量的转换和删减。这达到了节省存储和为预期用途准备数据的双重目的。

ETL 管道并不难编码，但事实证明大规模维护它们是有问题的。因为它们经常被嵌入到组织的数据基础中，所以很难被移除。如今，发现企业的数据架构仍然依赖于成千上万个独立的、[菊花链状 ETL 作业](https://blog.nextpathway.com/etl-is-the-root-of-all-data-problems)并不罕见。

数据工程师的[工作变成了编写看似永无止境的 ETL 代码，并在出现问题时灭火。对于基于 ETL 的架构，很难有足够大的工程团队来处理这种工作负载，并且随着数据量不可避免地扩大，很容易落后。](https://medium.com/@olivia_iannone/how-new-pipeline-tools-are-changing-data-engineering-in-the-2020s-947a870a220b)

*ETL 的问题在于它在规模上效率低下，这导致了工程资源的瓶颈。*

这个问题以多种方式出现:

*   需要持续的专门工程来处理各种不断变化的用例
*   工程倦怠和难以雇用足够的工程师来处理工作量
*   断开工程师(理解技术问题)和数据消费者(理解业务需求和结果)之间的联系
*   由于结果不一致，对数据不信任

随着近年来数据量的爆炸式增长，这些问题已经从不便变成了阻碍。

进入现代数据堆栈。

# 英语教学问题和现代数据堆栈

正如我们之前提到的，现代数据栈的关键是云数据仓库。云数据仓库的兴起从两个主要方面促进了 ELT 管道的发展:

*   几乎无限制、相对廉价的云中扩展消除了存储限制
*   数据转换平台(一个流行的例子是 dbt)被设计用来转换仓库中的数据

考虑到对定制 ETL 日益增长的不满，近年来钟摆戏剧性地转向支持 ELT 是有道理的。

乍看之下，不受约束的 ELT 似乎是个好主意。我们可以将所有数据放入仓库，并在需要时出于任何目的对其进行转换！会出什么问题呢？

# ELT 与新的工程瓶颈

下面是可能出错的地方:即使有了现代的数据堆栈和先进的 ELT 技术，许多组织仍然发现自己遇到了工程瓶颈。只是处于数据生命周期的不同点。

当可以不加选择地将数据传输到仓库时，不可避免地，人们会这么做。尤其是如果他们不是同一批人，以后还得清理数据。这不是恶意的；这仅仅是因为数据生产者、消费者和工程师都有不同的优先级，并且以不同的方式思考数据。

今天，参与其中的工程师不仅仅是*的数据*工程师。我们还有*的分析工程师*。分析工程的概念是 dbt 在他们的分析平台的流行创造了一个新的专业领域后创造的[。除了平台，这一新的专业人士浪潮更少关注基础设施本身，而是更多地关注转换和准备消费者可以操作的数据(换句话说，准备*数据产品*)。因为职称可能会变得令人费解，所以从现在开始我就只说“工程师”了。](https://www.getdbt.com/what-is-analytics-engineering/)

看待这个问题的一种方式是:许多工程师致力于促进英语教学中的“T”。然而，源源不断的原始数据会把数据仓库变成一片数据沼泽，工程师们几乎无法幸免。

数据消费者需要转换后的数据来满足他们的业务目标。但是如果没有工程师的帮助，他们无法访问它，因为它在仓库里处于不可用的状态。根据输送到数据仓库的内容，整理数据在各方面都很困难。

这种模式可能会导致以下问题:

*   需要持续的专门工程来处理各种不断变化的用例
*   工程倦怠和难以雇用足够的工程师来处理工作量
*   断开工程师(理解技术问题)和数据消费者(理解业务需求和结果)之间的联系
*   由于结果不一致，对数据不信任

听起来熟悉吗？

# 数据治理的重要性

最终，现代数据堆栈不是一颗神奇的子弹。[要确定它是否有价值，你必须从业务成果的角度来看。](https://blog.dataiku.com/challenges-to-the-modern-data-stack)

任何数据基础设施都是如此。

数据进入仓库的速度有多快，或者有多少都不重要。重要的是你能从*可操作化的数据中获得多少商业价值:*也就是说，在数据仓库的另一边已经投入使用的转换数据。

确保运营数据离开仓库的最佳方式是确保进入仓库的数据*经过精心策划。这并不意味着应用成熟的、特定于用例的转换，而是在摄取期间执行基本的清理和建模。*

这为工程团队的成功奠定了基础。

没有办法避开数据治理和建模。幸运的是，有许多方法可以完成这项任务。

这里有几件事可以帮助你。

**遵循新概念指导方针，比如数据网格。**

[数据网格没有为架构和治理提供脚本](https://medium.com/towards-data-science/this-article-wont-tell-you-how-to-build-a-data-mesh-f2f35428be3d)。然而，它*确实*提供了有用的框架，可以在现代数据堆栈的背景下微调您组织的指导方针。Data mesh 非常强调数据如何在组织中移动的人的方面，而不仅仅是基础设施的技术方面。

例如，让领域驱动的团队拥有数据的整个生命周期可以帮助涉众看到更大的图景。数据生产者不太可能不加选择地将数据转储到数据仓库中，工程师将更加了解如何使用数据，消费者可以对他们的数据产品产生更多的信任。

**在你的管道中建立质量控制**

您的入站数据管道处于把关数据质量的最佳位置—利用这一优势！

对于给定的数据源，您的管道应该监视您的数据的形状；例如，通过遵循一个模式。理想情况下，在将数据放入仓库之前，应该对不符合模式的数据进行基本转换。

如果管道被要求引入它不能自动清理的杂乱数据，它应该停止，或者至少提醒您这个问题。

是的，这可能意味着“真正的 ELT”永远不存在，因为转换发生在数据仓库之前和之后。

在不牺牲速度的情况下，相对容易地实现这一点是可能的。因为预加载转换是基本的，它们不应该限制您能够对数据做什么。相反，从仓库中干净的数据开始提供了更多的灵活性。

所有这一切都要归功于当今市场上数据平台的大量涌现。您可以使用类似 Airflow 的工具来协调和监控您的管道。或者，您可以建立一个观察平台，使您现有的 ELT 管道更加透明。

在河口，我们提供我们的平台 [Flow](https://www.estuary.dev/product/) ，作为替代解决方案。

Flow 是一个实时数据操作平台，旨在创建连接堆栈所有组件的可扩展数据管道。它结合了 ELT 平台的功能和数据编排特性。

通过流传输的数据必须遵循一个模式，或者被动态转换。可以进行实时报告和监控，并且该平台的架构可以从故障中恢复。

# 超越英语教学和现代数据堆栈

管理公司内的数据和利益相关者总是需要战略思维和治理。

新的范式不会改变这一事实，尽管人们很容易这么想。现实是困扰 ELT 和现代数据栈的问题与那些使 ETL 不可持续的问题非常相似。

幸运的是，现在有很多工具可以大规模实现有效的治理和数据建模。有效地使用它们，虽然具有挑战性，但却是非常可能的。

*本文原载于* [*河口博客*](https://www.estuary.dev/blogs/) *。在*[*LinkedIn*](https://www.linkedin.com/company/estuary-tech/)*或*[*Github*](https://github.com/estuary/flow)*上找到我们的团队。*