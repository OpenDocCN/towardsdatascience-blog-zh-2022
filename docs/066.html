<html>
<head>
<title>Micro, Macro &amp; Weighted Averages of F1 Score, Clearly Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">F1分数的微观、宏观和加权平均值，解释清楚</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/micro-macro-weighted-averages-of-f1-score-clearly-explained-b603420b292f#2022-01-04">https://towardsdatascience.com/micro-macro-weighted-averages-of-f1-score-clearly-explained-b603420b292f#2022-01-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="c67f" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">F1分数的微观、宏观和加权平均值，解释清楚</h1></div><div class=""><h2 id="80ae" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">用简单的插图理解F1分数在多类分类中的微观平均、宏观平均和加权平均背后的概念</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/2678e5ea43a1470ddb66d9a8695f7964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZm5pjRCsCO_pO6WTJmQdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片作者和<a class="ae ky" href="https://www.freepik.com/vectors/people" rel="noopener ugc nofollow" target="_blank"> Freepik </a></p></figure><p id="af62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">F1分数(也称为F-measure)是一种用于评估分类模型性能的流行指标。</p><p id="84d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在多类分类的情况下，我们采用<strong class="lb iu">平均</strong>的方法计算F1得分，从而在分类报告中产生一组<strong class="lb iu">不同的平均得分</strong>(宏观、加权、微观)。</p><p id="05e8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文着眼于这些平均值的含义，<strong class="lb iu">如何</strong>计算它们，以及<strong class="lb iu">选择哪个</strong>进行报告。</p><h2 id="a584" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">内容</h2><blockquote class="mo mp mq"><p id="ba2c" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated"><strong class="lb iu"> <em class="it"> (1) </em> </strong> <a class="ae ky" href="#e273" rel="noopener ugc nofollow"> <em class="it">基础知识回顾(</em>可选<em class="it">)</em></a><em class="it"><br/></em><strong class="lb iu"><em class="it">(2)</em></strong><a class="ae ky" href="#7c80" rel="noopener ugc nofollow"><em class="it">设定激励范例</em></a><em class="it"><br/></em><strong class="lb iu"><em class="it"/></strong><a class="ae ky" href="#989c" rel="noopener ugc nofollow"><em class="it">宏观平均</em> </a>T72】</p></blockquote></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="e273" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(1)概述基础知识(可选)</h1><p id="150a" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated"><em class="mr">注意:如果您已经熟悉精确度、召回率和F1分数的概念，请跳过这一部分。</em></p><h2 id="1a5e" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">精确</h2><p id="fd67" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated"><strong class="lb iu">外行定义</strong>:在我做出的所有正面预测中，有多少是真正正面的？</p><p id="20b3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">计算</strong>:真阳性数(TP)除以真阳性总数(TP) <strong class="lb iu">和</strong>假阳性总数(FP)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ns"><img src="../Images/57dadb768f83294b8703afd528a77b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zhZ0utDnJzEJ5DXYH3YOkw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者的精确公式|图像</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="6069" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">回忆</h2><p id="bfbe" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">外行定义:在所有实际的正面例子中，有多少是我正确预测为正面的？</p><p id="ec99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">计算:</strong>真阳性数(TP)除以真阳性总数(TP) <strong class="lb iu">和</strong>假阴性总数(FN)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nt"><img src="../Images/1bdf0171b22ab79725fda88fdfbfeb42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HDua9QThT908KYbRSmmU0w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者回忆|图片的方程式</p></figure><p id="ae4f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你比较精确和召回的公式，你会发现两者看起来很相似。唯一的区别是分母的第二项，它对<strong class="lb iu">精度</strong>是假阳性，但对<strong class="lb iu">召回</strong>是假阴性。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h2 id="c47f" class="lv lw it bd lx ly lz dn ma mb mc dp md li me mf mg lm mh mi mj lq mk ml mm mn bi translated">F1分数</h2><p id="570d" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为了全面评估模型的性能，我们既要考察的精度，也要考察<strong class="lb iu">的召回率。F1分数是考虑这两者的有用指标。</strong></p><p id="5686" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">定义</strong>:精确和召回的调和平均值，用于模型性能的更平衡的概括。</p><p id="d2a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">计算:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/6afbbf3dd221a682514f379e49cd270b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X1M_8zraIpgbTGO4a8WUWg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">F1得分公式|作者图片</p></figure><p id="30d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我们用真阳性(TP)、假阳性(FP)和假阴性(FN)来表示，我们得到这个等式:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/cd7ce49611852f1fab1f9e9152673a82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8XLp6dUrfVsdMI1d91Uig.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">F1分数的替代等式|作者图片</p></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="7c80" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(2)树立激励的榜样</h1><p id="31c5" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">为了说明平均F1分数的概念，我们将在本教程的上下文中使用以下示例。</p><p id="012d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设我们已经在包含三个类的<strong class="lb iu">图像的<strong class="lb iu">多类</strong>数据集上训练了一个<strong class="lb iu">图像分类模型</strong>:<strong class="lb iu">A</strong>IR plane、<strong class="lb iu"> B </strong> oat和<strong class="lb iu"> C </strong> ar。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nw"><img src="../Images/ec3c24f82ee74740a4ac5190964e7272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Uws1MJZtoc_X3AKbQSTXw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片由<a class="ae ky" href="https://www.freepik.com/vectors/car" rel="noopener ugc nofollow" target="_blank">宏向量</a>——【freepik.com】宏向量</p></figure><p id="e940" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们使用这个模型来预测十个测试集图像的类别。以下是原始预测:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/8d13400aa15242dc8bd8fc2e47764205.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zx4uoPAQw5KjdKxngCEVBQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">我们的演示分类器的样本预测|作者图片</p></figure><p id="2fee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">运行<code class="fe ny nz oa ob b">sklearn.metrics.classification_report</code>后，我们得到以下分类报告:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oc"><img src="../Images/2f335ee564841425c376e4e583623a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4dlBaTCECU55ezUZoyXq5A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.classification_report.html" rel="noopener ugc nofollow" target="_blank">分类报告</a>来自sci kit-学习包|作者图片</p></figure><p id="0626" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">带有每个班级的<strong class="lb iu">分数(即每个班级的分数)和<strong class="lb iu">平均分数</strong>的列(橙色)是我们讨论的焦点。</strong></p><p id="b4d8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">从上面我们可以看到，数据集是<strong class="lb iu">不平衡</strong>(十个测试集实例中只有一个是‘Boat’)。因此<strong class="lb iu">正确匹配比例</strong>(又名准确度)在评估模型性能时是无效的。</p><p id="5069" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">相反，让我们来看看<strong class="lb iu">混淆矩阵</strong>，以全面了解模型预测。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/4dc778f33c616fe0f9c20df72c537096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FbxvE-0qJb6L-GEQ2RCyNg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">困惑矩阵|作者图片</p></figure><p id="9155" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上面的混淆矩阵允许我们计算真阳性(<strong class="lb iu"> TP </strong>)、假阳性(<strong class="lb iu"> FP </strong>)和假阴性(<strong class="lb iu"> FN </strong>)的临界值，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/12cab0e40472ad80b0bbe62ee5571ad9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*er8MJ85T4lY0zZoRGqMwxQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">根据混淆矩阵计算出的TP、FP和FN值|图片由作者提供</p></figure><p id="b47b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">上表很好地设置了我们来计算三个类中每个类的<strong class="lb iu">精度</strong>、<strong class="lb iu">召回</strong>和F1分数的<strong class="lb iu">每类</strong>值。</p><p id="cc2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">重要的是要记住，在<strong class="lb iu">多类别分类中，我们以一对多(OvR) </strong>方法计算每个类别的F1分数，而不是单一的总体F1分数，如二进制分类所示。</p><p id="4251" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个<strong class="lb iu"> OvR </strong>方法中，我们分别确定每个类的度量，就好像每个类有一个不同的分类器。以下是每个班级的指标(显示F1分数计算):</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/d21dfc1838587d3a73dc11945828c6e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1TGTF8chlODIBMIvU6xUUg.png"/></div></div></figure><p id="6298" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然而，与其有多个每级F1分数，不如<strong class="lb iu">平均</strong>它们，以获得一个<strong class="lb iu">单一数字</strong>来描述整体表现。</p><p id="e310" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，让我们讨论导致分类报告的三个不同F1平均分数的<strong class="lb iu">平均</strong>方法。</p></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="989c" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(3)宏观平均</h1><p id="7959" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated"><strong class="lb iu">宏平均</strong>可能是众多平均方法中最简单的一种。</p><p id="ebe0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">宏观平均F1分数(或宏观F1分数)是使用所有每级F1分数的算术平均值(又名<strong class="lb iu">未加权</strong>平均值)计算的。</p><p id="7a19" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个方法平等地对待所有的类，不管它们的<strong class="lb iu">支持</strong>值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi og"><img src="../Images/5b1be6ff20aa468135a761ade1f31fde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vLFtzVb2MaFcs2cECuTO5Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">宏F1分数的计算|作者图片</p></figure><p id="8711" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们上面计算的值<strong class="lb iu"> 0.58 </strong>与我们分类报告中的宏观平均F1分数相匹配。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oh"><img src="../Images/be35fa73f6fc986284a98e8b5579202b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_OB039HhiGEuGpTfQtfH8Q.png"/></div></div></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="33e1" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(4)加权平均</h1><p id="ea82" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated"><strong class="lb iu">加权平均的</strong> F1分数是通过取所有班级F1分数<strong class="lb iu">的平均值，同时考虑每个班级的支持</strong>来计算的。</p><blockquote class="mo mp mq"><p id="6ad0" class="kz la mr lb b lc ld ju le lf lg jx lh ms lj lk ll mt ln lo lp mu lr ls lt lu im bi translated">s<strong class="lb iu">support</strong>指的是该类在数据集中实际出现的次数。例如，<strong class="lb iu">船</strong>中的支持值1意味着只有一个实际标签为船的观察值。</p></blockquote><p id="cc2a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">“权重”实质上是指每一类的支持度相对于所有支持度值的总和的比例。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/ae468bbec957684c947e00eea88fe496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0SN1NHpAz154YOjgBLCCYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">按作者计算加权F1分数|图片</p></figure><p id="3fa5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用加权平均法，输出平均值会考虑到每个类别的贡献，并根据给定类别的实例数量进行加权。</p><p id="5903" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">计算出的值<strong class="lb iu"> 0.64 </strong>与我们分类报告中的加权平均F1分数相符。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/a2881594c80f15b71cb9997e460cd14e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*94OMheCVrz93jvmClz1NQg.png"/></div></div></figure></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="2f35" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(5)微观平均</h1><p id="7c27" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">微平均通过计算真阳性(<strong class="lb iu"> TP </strong>)、假阴性(<strong class="lb iu"> FN </strong>)和假阳性(<strong class="lb iu"> FP </strong>)的<strong class="lb iu">和</strong>来计算<strong class="lb iu">全局平均</strong> F1分数。</p><p id="023e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们首先对所有类别的TP、FP和FN值求和，然后将它们代入F1方程，得到我们的微观F1分数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/e6fc225d3d1034a781719733918b643f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J6HcY0tM8zL9N0tpTg4NlA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">微F1分数计算|作者图片</p></figure><p id="4916" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在分类报告中，你可能想知道为什么我们的微F1分数<strong class="lb iu"> 0.60 </strong>显示为“准确性”，为什么<strong class="lb iu">没有一行说明</strong> ' <strong class="lb iu">微平均值'</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/e518355a295f5dd1656dcc699951a8ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_eBz3kmapxbV9_h7y7mQsQ.png"/></div></div></figure><p id="25d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是因为微平均本质上是计算所有观察值中正确分类的<strong class="lb iu">观察值的<strong class="lb iu">比例</strong>。如果我们思考这个问题，这个定义就是我们用来计算总体<strong class="lb iu">精度</strong>的。</strong></p><p id="fd8f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，如果我们对精确度和召回率进行微平均，我们将得到相同的值<strong class="lb iu"> 0.60 </strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/4227330a364157a649ce6e82e90e863b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ordMpMsZ5WR6q1Wsd8B24Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">计算所有微平均指标|作者图片</p></figure><p id="6b58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些结果意味着，在每个观测值具有一个<strong class="lb iu">单标签</strong>的多类分类情况下，<strong class="lb iu">微F1 </strong>、<strong class="lb iu">微精度</strong>、<strong class="lb iu">微召回、</strong>和<strong class="lb iu">精度</strong>共享<strong class="lb iu">相同的</strong>值(即，在本例中为<strong class="lb iu"> 0.60 </strong>)。</p><p id="be42" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这解释了为什么分类报告<strong class="lb iu">只需要显示单个准确度值</strong>，因为微F1、微精度和微召回也具有相同的值。</p><blockquote class="on"><p id="1462" class="oo op it bd oq or os ot ou ov ow lu dk translated"><strong class="ak">微F1 </strong> =准确度=微精度=微召回</p></blockquote><div class="ox oy oz pa pb pc"><a href="https://kennethleungty.medium.com/membership" rel="noopener follow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">通过我的推荐链接加入媒体-梁建华</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">以一杯咖啡的价格访问我所有的内容(和所有的媒体文章)!</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">kennethleungty.medium.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq ks pc"/></div></div></a></div></div><div class="ab cl mv mw hx mx" role="separator"><span class="my bw bk mz na nb"/><span class="my bw bk mz na nb"/><span class="my bw bk mz na"/></div><div class="im in io ip iq"><h1 id="60ad" class="nc lw it bd lx nd ne nf ma ng nh ni md jz nj ka mg kc nk kd mj kf nl kg mm nm bi translated">(6)我应该选择哪个平均数？</h1><p id="e27a" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">一般来说，如果您正在处理一个所有类都同等重要的不平衡数据集，使用<strong class="lb iu">宏</strong> average将是一个不错的选择，因为它平等地对待所有类。</p><p id="f819" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着，对于我们涉及飞机、船只和汽车分类的例子，我们将使用宏F1分数。</p><p id="6f03" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有一个不平衡的数据集，但希望将更多的样本分配给数据集中有更多样本的类，那么最好使用<strong class="lb iu">加权</strong>平均值。</p><p id="d1b9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是因为，在加权平均法中，每个类别对F1平均值的贡献按其大小进行加权。</p><p id="ccce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设您有一个平衡的数据集，并且想要一个易于理解的总体性能指标，而不考虑类。在这种情况下，您可以选择准确性，这实质上是我们的<strong class="lb iu">微</strong> F1分数。</p><h1 id="cebc" class="nc lw it bd lx nd pr nf ma ng ps ni md jz pt ka mg kc pu kd mj kf pv kg mm nm bi translated">在你走之前</h1><p id="95ad" class="pw-post-body-paragraph kz la it lb b lc nn ju le lf no jx lh li np lk ll lm nq lo lp lq nr ls lt lu im bi translated">欢迎您来到<strong class="lb iu">和我一起踏上数据科学学习之旅！</strong>关注我的<a class="ae ky" href="https://kennethleungty.medium.com/" rel="noopener"> Medium </a>页面，查看我的<a class="ae ky" href="https://github.com/kennethleungty" rel="noopener ugc nofollow" target="_blank"> GitHub </a>，了解更多精彩的数据科学内容。同时，享受解释F1分数的乐趣！</p><div class="pw px gp gr py pc"><a rel="noopener follow" target="_blank" href="/assumptions-of-logistic-regression-clearly-explained-44d85a22b290"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">逻辑回归的假设，解释清楚</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">理解并实现最基本的建模技术之一的假设检查</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pz l pn po pp pl pq ks pc"/></div></div></a></div><div class="pw px gp gr py pc"><a rel="noopener follow" target="_blank" href="/why-bootstrapping-actually-works-1e75640cf172"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">为什么自举真的有效</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">一个简单的外行解释为什么这种流行的技术有意义</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="qa l pn po pp pl pq ks pc"/></div></div></a></div><div class="pw px gp gr py pc"><a rel="noopener follow" target="_blank" href="/the-dying-relu-problem-clearly-explained-42d0c54e0d24"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">垂死的雷鲁问题，解释得很清楚</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">通过理解ReLU的缺点来保持你的神经网络的活力</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="qb l pn po pp pl pq ks pc"/></div></div></a></div><div class="pw px gp gr py pc"><a href="https://kennethleungty.medium.com/membership" rel="noopener follow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">通过我的推荐链接加入媒体-梁建华</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">kennethleungty.medium.com</p></div></div><div class="pl l"><div class="qc l pn po pp pl pq ks pc"/></div></div></a></div></div></div>    
</body>
</html>