<html>
<head>
<title>Visualizing Netflix Data With Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python可视化网飞数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/visualizing-netflix-data-with-python-bca60a2632d9#2022-01-14">https://towardsdatascience.com/visualizing-netflix-data-with-python-bca60a2632d9#2022-01-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="c077" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">用Python可视化网飞数据</h1></div><div class=""><h2 id="7b84" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用熊猫、Plotly Express、Dash和Heroku</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/1f305d762c4ca71cf7a729877f7801f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZE9uZlPouG6IjJhl"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/@reddgio?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Reddgio </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="fe3f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi lv translated">为了更好地理解数据，几乎每个行业都在使用数据可视化。另一方面，由于解释CSV文件中的数据可能具有挑战性，因此当数据以图表或地图的形式呈现时，理解数据会变得容易得多。然后基于这些见解，我们可以做出关键的决定。这就是为什么作为数据分析师、数据科学家或开发人员，了解如何使用数据可视化工具至关重要。你可以使用编程语言如<a class="ae ky" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> Python </a>或者使用分析服务如<a class="ae ky" href="https://powerbi.microsoft.com/" rel="noopener ugc nofollow" target="_blank">微软Power BI </a>来构建图表。</p><p id="91ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我们将通过使用<a class="ae ky" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫</a>、<a class="ae ky" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank">情节表达</a>和<a class="ae ky" href="https://dash.plotly.com/" rel="noopener ugc nofollow" target="_blank">破折号</a>来使用前一种技术。Pandas是一个数据分析和处理工具。<a class="ae ky" href="https://plotly.com/graphing-libraries/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>是一款开源数据可视化工具，用于创建交互式图表和地图。对于这篇文章，我们将使用Plotly Express，这是一个Python可视化库。它是Plotly的<a class="ae ky" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Python </a>库的包装器。最后，我们将使用Dash通过Heroku在Web上部署我们的数据可视化应用程序。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="33ae" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">设置</h1><p id="f91c" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">首先，确保你的机器上安装了Python <a class="ae ky" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank">和</a>。另外，您需要安装三个Python包。您可以通过在您的终端(我使用的是macOS)中运行下面的<a class="ae ky" href="https://pip.pypa.io/en/latest/" rel="noopener ugc nofollow" target="_blank">pip</a>(Python的包安装程序)命令来做到这一点。</p><pre class="kj kk kl km gt ni nj nk bn nl nm bi"><span id="c941" class="nn mm it nj b be no np l nq nr">pip install pandas<br/>pip install plotly<br/>pip install dash</span></pre><h2 id="c000" class="ns mm it bd mn nt nu dn mr nv nw dp mv li nx ny mx lm nz oa mz lq ob oc nb od bi translated">资料组</h2><p id="c948" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">让我们从<a class="ae ky" href="https://github.com/lifeparticle/dash-panda-python" rel="noopener ugc nofollow" target="_blank"> GitHub </a>下载Python项目，它也包含一个数据集。对于任何数据可视化，我们都需要数据集。在这里，我使用的数据集包括网飞上市的电视节目和电影。<strong class="lb iu">你可以从</strong><a class="ae ky" href="https://www.kaggle.com/shivamb/netflix-shows" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu">ka ggle</strong></a><strong class="lb iu">下载数据集(CC0:公共领域授权)。</strong>数据的结构如下。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">网飞_titles.csv</p></figure><h2 id="e46a" class="ns mm it bd mn nt nu dn mr nv nw dp mv li nx ny mx lm nz oa mz lq ob oc nb od bi translated">熊猫</h2><p id="a366" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">如果您不熟悉pandas，那么可以查看Jupyter笔记本文件，其中包含pandas代码示例。可以从我的<a class="ae ky" href="https://github.com/lifeparticle/Python-Cheatsheet/tree/master/pandas" rel="noopener ugc nofollow" target="_blank"> GitHub </a>下载。要运行该文件，您可以安装<a class="ae ky" href="https://www.anaconda.com/products/individual" rel="noopener ugc nofollow" target="_blank"> Anaconda </a>。</p><h2 id="c179" class="ns mm it bd mn nt nu dn mr nv nw dp mv li nx ny mx lm nz oa mz lq ob oc nb od bi translated">Plotly Express</h2><p id="9c6e" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">Plotly Express提供了一系列数据可视化选项。对于这篇文章，我们将使用下面的。</p><ul class=""><li id="2cd1" class="og oh it lb b lc ld lf lg li oi lm oj lq ok lu ol om on oo bi translated"><a class="ae ky" href="https://plotly.com/python-api-reference/generated/plotly.express.pie.html#plotly.express.pie" rel="noopener ugc nofollow" target="_blank">饼状图</a></li><li id="ff70" class="og oh it lb b lc op lf oq li or lm os lq ot lu ol om on oo bi translated"><a class="ae ky" href="https://plotly.com/python-api-reference/generated/plotly.express.bar.html#plotly.express.bar" rel="noopener ugc nofollow" target="_blank">条形图</a></li></ul><p id="a99b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在<a class="ae ky" href="https://plotly.com/python-api-reference/plotly.express.html" rel="noopener ugc nofollow" target="_blank"> Plotly的网站</a>上找到其余的文档。</p><h1 id="55fe" class="ml mm it bd mn mo ou mq mr ms ov mu mv jz ow ka mx kc ox kd mz kf oy kg nb nc bi translated">履行</h1><p id="a9c4" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">让我们来分解一下<code class="fe oz pa pb nj b">main.py</code>文件的各个组成部分。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oe of l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">main.py</p></figure><p id="656d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，我已经导入了所有需要的库。然后我使用方法<code class="fe oz pa pb nj b">read_csv</code>读取CSV文件，通过修改实际数据删除重复记录。之后，我创建了一个饼图和一个条形图。对于饼图，设置很简单。我需要设置一些参数来构建饼图。对于<code class="fe oz pa pb nj b">data_frame</code>参数，我正在传递数据集。对于<code class="fe oz pa pb nj b">names</code>参数，我将传递<code class="fe oz pa pb nj b">type</code>列。</p><p id="1f31" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，我们还需要为条形图设置一些参数。这里，对于<code class="fe oz pa pb nj b">data_fram</code>参数，我通过使用<code class="fe oz pa pb nj b">type</code>列(<code class="fe oz pa pb nj b">as_index=False</code>表示<code class="fe oz pa pb nj b">type</code>列不会用作索引)进行分组后传递数据集，并且使用<code class="fe oz pa pb nj b">agg</code>函数选择<code class="fe oz pa pb nj b">type</code>列并执行<code class="fe oz pa pb nj b">count</code>操作。最后，将输出重命名为<code class="fe oz pa pb nj b">count</code>列。</p><p id="fbee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，通过在本地机器上运行以下命令，您可以使用Dash在Web上发布我们的图表。</p><pre class="kj kk kl km gt ni nj nk bn nl nm bi"><span id="5112" class="nn mm it nj b be no np l nq nr">python main.py</span></pre><h1 id="dc7d" class="ml mm it bd mn mo ou mq mr ms ov mu mv jz ow ka mx kc ox kd mz kf oy kg nb nc bi translated">部署</h1><p id="86e2" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">我要把这个项目部署在Heroku上。为此，我们需要另外两个文件。首先，一个<strong class="lb iu"> requirements.txt </strong>文件，这样Heroku就可以安装所有必要的库。第二，一个<a class="ae ky" href="https://devcenter.heroku.com/articles/getting-started-with-python#define-a-procfile" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> Procfile </strong> </a>，这样Heroku就可以启动我们的app了。现在，按照以下步骤操作:</p><ol class=""><li id="35ef" class="og oh it lb b lc ld lf lg li oi lm oj lq ok lu pc om on oo bi translated">首先，进入<a class="ae ky" href="https://dashboard.heroku.com/apps" rel="noopener ugc nofollow" target="_blank">仪表盘</a>。然后，从右上角点击<strong class="lb iu">新建</strong>按钮。</li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/703ca28fc446a265f793319b1f9bf5ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*9G_cLztGIUK3CTK2M5kOFw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe">创建新应用</strong></p></figure><p id="a236" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.现在，给它起一个名字并点击<strong class="lb iu">创建应用</strong>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/74825a7ba8d6015752a775d58795ed8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6geBeGMCHdr02cuvMctFHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe">创建应用</strong></p></figure><p id="eba2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.它现在会将您重定向到应用程序的<strong class="lb iu">部署</strong>选项卡。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/6717be819cbdf8e98854d6ad2dff2b3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*FnsfJGVnRwe6eLYxEkUqEw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe">部署</strong></p></figure><p id="7db0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">4.选择<strong class="lb iu"> GitHub </strong>作为部署方法并搜索您的存储库。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ph"><img src="../Images/b372e18552a5261d58e75c5b0edddcef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jPlsom11Il475-MpBjxBUg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe"> GitHub </strong></p></figure><p id="346e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在点击<strong class="lb iu">连接</strong>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pi"><img src="../Images/d5a161d39a716ec4d6e4b7ebceb1e8bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SLHZ6twGtc0VeCVAflMUHA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe">连接</strong></p></figure><p id="48ee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">5.最后，点击手动部署部分下的<strong class="lb iu">部署分支</strong>按钮。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pj"><img src="../Images/bf6bf59e84ec72d615a446f948cbaf38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LDvFRdKCQDgjlDuU2C_uVQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd pe">部署分支</strong></p></figure><p id="4b9c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，URL将会是<strong class="lb iu"> appname </strong>，后跟<strong class="lb iu"> .herokuapp.com </strong>。因此，在我的例子中，URL是:</p><pre class="kj kk kl km gt ni nj nk bn nl nm bi"><span id="8af2" class="nn mm it nj b be no np l nq nr">https://dash-panda-python.herokuapp.com/</span></pre><p id="8186" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它应该看起来像这样:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pk"><img src="../Images/de7a466bc82892078fda13c5438da400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7N02fd7UVykQJA4pIDH5Sg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://dash-panda-python.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">https://dash-panda-python.herokuapp.com/</a></p></figure><p id="ae79" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你也可以查看官方<a class="ae ky" href="https://dash.plotly.com/deployment" rel="noopener ugc nofollow" target="_blank">文档</a>来部署你的应用。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="6e62" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">恭喜你！您已经成功地在Heroku上部署了数据可视化应用程序。您可以使用这种方法通过展示您的数据项目来构建投资组合。现在添加代表不同数据集的不同类型的图表。编码快乐！</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="e37d" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated"><strong class="ak">参考文献</strong></h1><p id="bea4" class="pw-post-body-paragraph kz la it lb b lc nd ju le lf ne jx lh li nf lk ll lm ng lo lp lq nh ls lt lu im bi translated">kaggle.com(未标明)。<em class="pl">网飞电影和电视剧</em>。[在线]可从<a class="ae ky" href="https://www.kaggle.com/shivamb/netflix-shows." rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/shivamb/netflix-shows.</a>获得</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0172" class="ml mm it bd mn mo mp mq mr ms mt mu mv jz mw ka mx kc my kd mz kf na kg nb nc bi translated">相关帖子</h1><div class="pm pn gp gr po pp"><a rel="noopener follow" target="_blank" href="/how-to-use-plotly-js-for-data-visualization-46933e1bbd29"><div class="pq ab fo"><div class="pr ab ps cl cj pt"><h2 class="bd iu gy z fp pu fr fs pv fu fw is bi translated">如何使用Plotly.js进行数据可视化</h2><div class="pw l"><h3 class="bd b gy z fp pu fr fs pv fu fw dk translated">从40多种图表类型中选择</h3></div><div class="px l"><p class="bd b dl z fp pu fr fs pv fu fw dk translated">towardsdatascience.com</p></div></div><div class="py l"><div class="pz l qa qb qc py qd ks pp"/></div></div></a></div></div></div>    
</body>
</html>