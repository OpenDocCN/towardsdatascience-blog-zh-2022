# 如何处理真实数据集

> 原文：<https://towardsdatascience.com/how-to-handle-a-real-dataset-2dc2de5b1dec>

## 使用您的数据更进一步的指南

![](img/b4c446c47b41a541f74308db4fd5a6e7.png)

弗兰基·查马基在 [Unsplash](https://unsplash.com/) 上拍摄的照片

最近，有很多关于数据质量及其对模型性能的影响的讨论。主要是因为这个[演示](https://www.youtube.com/watch?v=06-AZXmwHjo)强调了这个主题——以模型为中心与以数据为中心，这个主题在这个[以前的文章](/from-model-centric-to-data-centric-4beb8ef50475)中已经讨论过了。

然而，简单地说，您在项目初始阶段的努力，更具体地说，当您需要深入研究可用数据并决定使用什么和如何使用时，会直接转化为以后的模型性能，比实际的模型调优更是如此。这一阶段被称为数据预处理，是评估数据质量的地方。

然而**数据质量**到底是什么？

## 数据科学的数据质量

普遍的共识将其定义为你的数据有多准确、可靠和最新。然而，我敢说，这些数据中有多少与你的问题相关，有多少实际上被转化了。

此时，您可能想知道:*我们如何保证我们的数据有质量？*

和数据科学中的其他事情一样:**这要看情况！**

尽管如此，了解[数据科学生命周期](/stoend-to-end-data-science-life-cycle-6387523b5afc)是如何展开的，并理解如何构建您的数据以满足其阶段需求以及项目成熟度的细微差别是一个很好的开始。

尽管如此，由于这不仅高度依赖于您的用例，而且意味着要有很好的业务理解，所以达到数据质量的最快、最常见的方法是清除垃圾。这通常意味着删除重复项、填充缺失值、处理异常值、删除不正确的属性值等等。

然而，这是数据争论的面包和黄油。我们需要做的是开始将它带到另一个层次，让我们以需要的方式处理真实数据，为此，我们将讨论几个主题，帮助您达到这个新的层次。

![](img/aaea3f4a66b10914eda66da80730305d.png)

克劳迪奥·施瓦茨在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

**知识**

首先也是最重要的，理解问题。说真的，误解一个问题/任务会像滚雪球一样越滚越大。

如果可能的话，研究你正在处理的业务的来龙去脉，或者至少找一个了解它的人来彻底验证它。如果两者都没有，那么，做好准备吧，你正在经历一场疯狂的旅行，任何事情都有可能发生。

最起码把你想解决的问题框好。这不仅能帮你解决问题，还能让你更好地解释你拥有的数据相对于需求的优势和劣势。

通过这样做，您将能够当场预先验证您的决策，或者了解数据中甚至数据接收中是否存在需要尽早修复的错误。

一个很好的例子是，没有适当的商业知识评估的数据如何变得毫无价值甚至更糟:可能造成伤害，在这篇关于为什么为对抗新冠肺炎而开发的人工智能工具失败的[文章](https://www.technologyreview.com/2021/07/30/1030329/machine-learning-ai-failed-covid-hospital-diagnosis-pandemic/)中进行了解释。

**来源**

一旦正确设置并理解了框架，就该了解数据是如何到达您手中的了。这时候你可能会感谢有一个数据工程师在你身边。

验证数据接收需要很长时间。

有一次，在一个项目中，我发现我们的二元目标特征可能有第三种含义。仅仅是因为我们偶然发现了两个具有相同时间戳(相同毫秒)但目标值不同的事件。

经过彻底的调查和与一些开发人员的交谈，我们发现他们在数据库中使用了相同的状态，也就是几年前我们用来定义目标值的状态，来发起一个特性请求。

这意味着重新设计一条管道，当时已经进行了两个月的工作，最终我们设法在一周内解决了这个难题，但是如果我们一开始就坐下来问一些有意义的问题，所有这些令人头疼的问题和时间损失都是可以避免的，例如:

> 我们如何收集这些特征？
> 
> 我们能保证它们没有其他含义吗？如果是这样，我们如何过滤它们？
> 
> 我们什么时候收集？它与我们需要跟踪/登记的事件一致吗？

前两个主题直接影响您的 [ETL](/how-to-use-the-magic-of-pipelines-6e98d7e5c9b7) 和探索阶段，因为它们将定义您的现实中有多少被正确地转化为您的数据，这会影响您的发现，以及您的 ETL 需要如何形成。

**偏置**

> *偏见不是来自 AI 算法，而是来自人。*
> 
> [*卡西科兹尔科夫*](/what-is-ai-bias-6606a3bcb814)

您选择的任何算法都会传播您数据中的任何偏差，因此在建模阶段的数据预处理过程中处理这些偏差是至关重要的。

首先问问你自己你的模型会产生什么错误，它的影响是什么，你能做什么来避免它们/处理它们。

没有没有错误的模型，总是会有假阳性，或者简单的坏预测。然而，在早期批评并努力解决偏见大有裨益。

想想世界上一些最大的人工智能玩家在人脸识别算法方面众所周知的问题。如果从一开始，开发人员/决策者就问自己，他们的数据集是否恰当地代表了所有的种族，这种情况就不会发生，许多严重影响生活的问题也会避免。

简单地根据所有种族采样数据，或者收集更多的数据，直到所有种族都得到平等的代表，就可以解决问题(事情就是这样结束的)。

> *如果你想争取公平，努力消除你对自己决定的后果的无知。*
> 
> [T5【卡西科兹尔科夫】T6](https://medium.com/hackernoon/ai-bias-and-what-you-can-do-about-it-4a6ae48b338e)

我对这个特定话题的建议是，首先[了解存在哪些类型的偏见，以及它们是如何起作用的](https://kozyrkov.medium.com/are-you-a-bad-decision-maker-34690deae223)。然而，这是一个自我发现的旅程，所以不要期望这个话题有一个防弹的解决方案。然而，事实上你已经开始关注它了，这让你走上了正确的道路。

**采样**

这是我为你准备的几个兔子洞。

显然，采样意味着[平衡类](/the-new-step-forward-in-synthetic-data-dc854319166d)，或者甚至像上面的例子一样平衡特征表示。

然而，这个话题有些曲折:

您是否考虑过，您是根据固定的时间窗口对真实事件进行采样(收集),而捕捉您想要在模型中引入的差异的现实是基于其他单位的，例如货币。

换句话说，你应该重新考虑如何采样频率，以及它们是否适合你的用例。诸如[固定层位法](https://arxiv.org/abs/1909.03906)或[三重屏障法](/the-triple-barrier-method-251268419dcd)等技术可用于解决这一问题。

不仅如此，你有没有想过你的样本可以有其他样本的信息？

这可以被称为“溢出”样本问题，这种情况经常发生在金融市场这样的场景中，其中样本基本上是交叉相关的。

尽管如此，即使在这种混乱的情况下，你也可以通过独特性来衡量观察结果，以帮助你。

马科斯·洛佩斯·德·普拉多的演讲涵盖并解释了这些及其他注意事项。

不管您的问题是什么，花时间评估更适合您的用例的采样策略，而不是相反。

虽然您可能认为这是不相关的，但在模型开发之前和之后进行适当的采样对监控其在生产中的表现大有帮助。否则，你怎么能确定一个不可预测的世界事件(如新冠肺炎疫情)是你的模型漂移的原因呢？

# 结论

最后，实现卓越的数据质量是一门艺术，这里所涵盖的只是冰山一角，还有其他主题，如[多变量时间序列、](https://medium.com/geekculture/vector-auto-regression-for-multivariate-time-series-forecasting-9334d29591f3)将需要它自己的整篇文章，只是为了了解如何处理它们。

然而，如果你不仅开始质疑自己的数据(数据来自哪里，如何处理，以及如何收集)，而且开始质疑自己(是否有我引入的无意识偏见)，你将会在无意中开始提高数据的质量。除此之外，对于数据科学的不同阶段，你总是可以指望有用的开放存储库来保证数据质量，比如 [ydata-quality](https://github.com/ydataai/ydata-quality) 或[显然是](https://github.com/evidentlyai/evidently)。

[*法比亚娜*](https://www.linkedin.com/in/fabiana-clemente/) *是 CDO*[*y data*](https://ydata.ai/?utm_source=medium&utm_medium=signature&utm_campaign=blog)*。*

**用改进的数据加速 AI。**

[*YData 为数据科学团队提供第一个数据开发平台。*](https://ydata.ai/?utm_source=medium&utm_medium=signature&utm_campaign=blog)