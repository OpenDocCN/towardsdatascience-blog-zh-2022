# 做出有效商业决策的因果推理初学者指南

> 原文：<https://towardsdatascience.com/the-beginners-guide-to-causal-inference-for-making-effective-business-decisions-a9c7ca64d9dd>

## 因果推理

## 什么是因果推理？了解如何知道什么是有效的，并有效地使用它来优化业务流程。因果推理的用户友好指南！

![](img/4fb05144c258cdced22a6fc099476f25.png)

毛里西奥·马斯卡罗的照片:[https://www . pexels . com/photo/person-holding-放大镜-712786/](https://www.pexels.com/photo/person-holding-magnifying-glass-712786/)

几乎你们每个人在学校都学过统计相关性的口头禅，“T2 相关性并不意味着因果关系”。仅仅因为两个现象之间有很高的相关性，并不意味着也有因果归因。比如日出和公鸡的啼叫有很高的相关性；然而，它并没有帮助我们知道是公鸡的叫声导致了太阳的升起，还是太阳的升起导致了公鸡的叫声。各种企业和行业都是在资源有限的情况下运作的，所以对于管理者来说，是什么导致了期望的变化是绝对重要的。例如，哪个营销活动推动了销售？哪种药物治疗头痛更有效？哪个 app 版本导致用户留存率更高？所有这些问题都由研究人员/经济学家/数据科学家所谓的因果推理来回答。在这篇文章中，我将告诉你什么是因果推理，为什么你应该关心，你如何在你的工作中使用因果推理，方法，以及最后在应用因果推理时需要注意的重要事项。这里有很多东西要打开，所以拿起一杯咖啡(或茶),马上开始品尝知识吧！

# 什么是因果推理

用非常简单的话来说，因果推理就是对因果关系的研究。那些练习因果推理的人会问这样的问题，比如 X 会引起 Y 吗，改变 X 对 Y 有什么影响？比如改变网站的格式对用户留存有什么影响？当我们在网站上使用面对面交谈而不是自动聊天时，我们看到客户满意度提高了吗？要回答这类问题，我们需要平行地看待两个不同的词——一个是给予人“干预”的世界，另一个是没有给予人干预的世界。让我们举一个非常简单的 A/B 测试的例子。理想情况下，我们希望同时测量一个人 X 在使用我们的网站版本 A 时的行为，以及同一个人 X 在使用我们的网站版本 B 时的行为。现在，因为我们不是生活在一个克隆人可以同时访问相同内容的世界，我们无法理想地衡量网站版本 A 与网站版本 b 的影响。这是一个问题。我们现在要干嘛？输入**反事实**！

# 什么是反事实？

反事实这个词可以分为两个词反和事实。因此，反事实的意思是在特定的情况下与事实相反的东西。例如，如果一所大学的一组学生被给予额外的工作培训，那么这个组被称为真实组。反事实是没有接受训练的**相同的**组。反事实的问题涉及到如果这个群体没有接受培训会发生什么。然而，我们不能同时给同一个学生培训和不给培训，我们需要一个反事实的**估计**，也就是说，一个尽可能接近被培训群体的群体。这一组也被称为控制组，也就是说，一组被控制，没有训练。听起来很复杂？让我试着用一个例子来解释。假设我们为一家银行工作，该银行拥有在该银行拥有账户的个人的人口统计和收入数据的详细信息。我们希望向年收入超过 100 万卢比的客户推出一项新的个人服务，帮助他们了解银行的各种产品，并了解这种个人服务是否会导致其他金融产品的出现。因此，干预是个人服务，结果是通过购买金融产品的数量来衡量的吸收。估计的反事实组将是与原始组尽可能相似的组。你将如何定义这个群体？让我们继续前进！

# 我为什么要在乎因果推断？

最重要的原因是，我们的世界是在因果关系中运行的。太阳的升起使公鸡发出叫声。击球时选择特定的角度会使球落入洞中。第二个重要原因是，我们的用户与我们的产品的交互不是随机的，而是经过深思熟虑的。除非我们知道他们为什么这样做，否则我们无法提供他们所需要的东西。因此，它要求我们对用户有同理心，然后从方法上测试什么有效，在什么条件下有效。第三，随着机器学习的兴起，我们有可能用一种更微妙的方法来进行因果推理，以做出商业决策。机器擅长做可重复的快速任务，但它们仍然不擅长做需要理解因果关系的任务。由于世界资源有限，我们需要测试并推出最有效的政策；计量经济学领域允许我们这样做。

# 我如何使用因果推理

计量经济学领域关注的是因果推理的结构化研究。然而，所有的知识都可以归结为以下几个核心步骤。

1.  **定义干预/治疗/政策/服务** —第一步是定义您将要推出的内容。这可能是一项新的福利计划，一种新的营销方式，或者一种新的销售技巧。
2.  **定义兴趣结果** —下一步是定义兴趣结果。你有兴趣了解对什么的影响？例如，新的销售技巧会导致更高的平均篮子价值吗？营销活动是否能提高受众参与度？儿童福利计划能降低儿童死亡率吗？这些是你可能感兴趣的结果。
3.  **定义接受治疗/干预/政策/服务的群体** —该群体可以随机决定，这产生了一种最有影响力的实验方法，称为随机对照试验。然而，由于货币/社会/政治/地理问题，随机对照试验总是不可能进行。另一种确定这个群体的方法是使用一个分界点或边界来确定可包含的人群。例如，一项政策只在位于一个省的农场推出，而不在邻近的农场推出，或者只对购物超过规定金额的顾客给予优惠待遇，等等。
4.  **估计反事实**——正如我上面所描述的，我们永远不可能有完美的反事实，但是我们可以用计量经济学的方法得到近乎完美的反事实。一旦这个反事实成立，我们就可以进行下一步。
5.  **进行比较** —一旦我们对反事实组和事实组有了清晰的了解，我们需要比较两个组感兴趣的结果，这可以帮助我们对政策/计划是否实现了组织的战略目标做出统计决策。在这个阶段，陈述假设和分析中可能出现的错误也很重要。这些在本文的最后一节有更详细的介绍。

# 因果推理方法

因果推理领域最有影响力的人物之一约书亚·安格里斯特(Joshua Angrist)创造了“愤怒五人组”一词来描述五种最常用的因果推理方法。为了简单起见，我在这里只提到这五个(以及简短的描述)；然而，研究人员/数据科学家可以在工作中使用更多复杂的方法。我会建议有动力的学习者打开任何有影响力的计量经济学杂志，找出更多的方法。好吧，盖世五侠是什么？

1.  **随机分配** —该方法包括将采样帧分成两个随机部分。其中一个接受了干预，另一个没有。这并不总是可能的，因为对某些人隐瞒干预涉及伦理问题。
2.  **回归**——这是我们的老朋友 OLS 回归，它测量一个变量的变化对另一个变量的影响。例如，如果有人想知道每多受一年教育会给个人生活带来的工资差异。这不是我最喜欢的方法，所以我会要求用户自己深入研究这个问题。
3.  **工具变量**——简单来说，IV 是引入的第三个变量，它与干预/政策/活动/服务变量相关，但与利益变量的结果不相关。当存在遗漏变量偏差的风险，并且有观测数据存在问题时，通常使用这种方法。
4.  **回归不连续设计** —这种方法使用一种人为的分界点将人们分成两组。例如，在一所学校，只有那些得分超过 90%的人才会接受培训，其他人不会接受培训。这里的假设是，除了 90%的临界值，那些分数在 88-90%之间的人和那些分数在 90-92%之间的人彼此相似。
5.  **差异中的差异法** —该方法捕捉两组之间结果的差异。例如，一组人接受干预，随着时间的推移测量结果，而另一组人没有接受干预，随着时间的推移测量结果。最后的比较是看这两组之间的差异有多大，因此被称为差异中的差异。

如前所述，这些并不是因果推断的唯一方法。有一些非常先进的方法，如综合控制方法，贝叶斯优化，中断时间序列设计。

# 要记住的事情

有了这些承诺，你一定很兴奋能马上在你的数据上尝试因果推断。但是，在使用这些方法时，您需要记住一些重要的注意事项。首先也是最重要的是，两个变量之间的相关性并不意味着因果关系。除此之外，还有四个需要特别提及。

1.  **省略变量**:有时候，有一个潜伏的第三个变量在影响两个变量。你可能已经读过这个著名的数据，它断言吃更多的冰淇淋会导致更高的鲨鱼袭击死亡率。这里需要注意的是，更高的温度是被忽略的变量，这导致更多的人去海里游泳，也导致更多的人去买冰淇淋。同样，由于贫困，更多的可乐导致更高的暴力。
2.  **反向因果关系**:为了清楚地阐明手头的问题不是反向因果关系的问题，人们需要小心谨慎并具备相关专业知识。例如，这篇文章提到，更多的性行为会带来更多的收入。然而，有些人说情况正好相反，因为收入高的人更有可能约会并发生性关系。
3.  **抽样偏差**:抽样偏差的经典统计问题也在因果推断中发挥作用，尤其是当用户/客户/人们自己选择特定的干预措施时。你有没有遇到过这样的事情，98%参加在线调查的人发现在线调查很有帮助？这是自我选择的悖论。
4.  **测量误差**:很多时候，我们想要测量的东西不可能有精确的测量值。在这种情况下，推理统计和因果推理在用于分析时都会有问题。另一件事是，有时人们在讲述他们的现实情况时会更有所保留。例如，在对同性恋关系持非正统态度的国家，人们不太可能准确报道。这些是你需要记住的一些问题。

# 后续步骤

如果你在阅读这篇文章时已经达到了这一步，这意味着你非常有兴趣学习更多关于因果推理和用于因果分析的方法。我最喜欢的三本书是:

1.  斯科特·坎宁安的因果推理
2.  [因果推理:如果詹姆斯·罗宾斯和米格尔·埃尔南](https://www.amazon.in/Inference-Monographs-Statistics-Applied-Probability/dp/1420076167/ref=sr_1_1?crid=29EC4UXHR1ZAT&keywords=causal+inference+what+if&qid=1660894186&sprefix=causal+inference+wha%2Caps%2C261&sr=8-1)
3.  约书亚·安格里斯特的《基本无害的计量经济学》
4.  特别提及:[勇敢而真实的因果推断](https://matheusfacure.github.io/python-causality-handbook/landing-page.html)

如果你有兴趣了解更多，或者如果你是一个想建立关系网的从业者，[这是我的 LinkedIn 个人资料](https://www.linkedin.com/in/aayushmalik/)。我很乐意连接。