# 使用 Python 字典计数器解决的 5 种算法

> 原文：<https://towardsdatascience.com/5-algorithms-solved-using-python-dictionary-counters-5f68f5740211>

## 通过 Python 字典学习计数对象的三种方法。

![](img/1b3dc95a1be49c1a21b6048edbf320ea.png)

照片由[像素](https://www.pexels.com/@eyupbelen/)上的[埃尤普·贝伦](https://www.pexels.com/@eyupbelen/)拍摄

# 建议的点播课程:

*你是否在努力推进自己作为* ***数据职业*** *的职业生涯？* *我强烈推荐您查看以下课程:*

*   [**数据工程纳米学位(uda city)**](https://imp.i115008.net/zaX10r)**→***优质课程如果你致力于从事数据工程方面的职业，*
*   [***Python 高级编码问题(StrataScratch)***](https://platform.stratascratch.com/coding?via=antonello)***→****我找到的准备 Python 的最佳平台& SQL 编码面试到此为止！比 LeetCode 更好更便宜。*
*   [**用 Python 练习编码面试题(60+题)**](https://datacamp.pxf.io/DV3mMd) **→** *列表、数组、集合、字典、map()、filter()、reduce()、iterable 对象。*

希望你也会发现它们有用！现在欣赏:D 的文章

# 介绍

尽管在过去的几年里，我每天都在用 Python 编程，无论是在工作场所还是在个人项目中，但是上个月，我决定从头开始重新学习。

我是一名**白手起家的数据工程师**，意思是我的学习过程大部分是通过起初的点播课程，然后在工作中从事真实的项目而发生的。

有时我不得不在不了解基础知识的情况下学习高级 Python 概念。这意味着我的代码要么不是最有效的，要么需要我做大量的研究来交付一个可靠的解决方案。

例如，字典是 Python 中最有用的数据结构之一。我发现自己一直在使用它们进行映射。它们也是许多 ***MAANG 面试问题*** 的核心，以至于前段时间，我已经写了一篇关于如何使用循环迭代 Python 字典的教程。

</3-ways-to-iterate-over-python-dictionaries-using-for-loops-14e789992ce5>  

相反，在本文中，我想从这个知识库开始，演示如何使用字典来构建计数器。

计数器通常是一个简单的算法，用于**确定某个对象在源数据集中出现的频率** ( *是列表、字典、元组、字符串等……*)。计数器可以用许多不同的方式创建(*涉及或多或少的类型，并导致或多或少的高效函数*)。

在我的学习过程中，我对建造它们充满了热情，所以我想与你分享我的发现。为了做到这一点，在接下来的部分中，我给出了 5 个编码问题的解决方案(从真实的技术面试问题中提取的*)，这些问题可以使用 Python 字典计数器来解决。*

# **用字典计数对象**

在其最简单的形式中，计数器是一个整数变量，初始赋值为零。每当特定对象出现在输入数据集中时，计数器就会增加 1。

当您需要一次计数几个重复的对象时，Python 字典就派上了用场，因为它的**键**将存储需要计数的对象，而**值**将保存实际对象的频率。

过去，我想知道为什么包含计数器的问题在 Python 技术访谈中如此常见，在我看来，原因是计数器经常被用作实现更复杂功能的起点。

> “过去，我想知道为什么包括计数器在内的问题在 Python 技术访谈中如此常见，在我看来，原因是计数器通常被用作实现更复杂功能的起点……”

这意味着，有时需要构建一个计数器，因为接下来，算法将需要计算出的频率作为输入。为了理解我所说的，让我们一起来解决下面的编码问题。

# **问题# 1:统计词频**

*给定一个从热门电影片名中提取的几个单词的列表，定义一个函数****count _ words****返回一个字典，其中包括每个单词以及它们在列表中出现的频率。*

```
# Example List
movie_titles = [‘the’, ‘name’,’of’, ‘the’, ‘rose’, ‘the’,’english’, ‘patient’, ‘the’,‘greatest’, ‘showman’, ‘in’, ‘the’, ‘name’, ‘of’, ‘the’, ‘father’]
```

## **解决方案# 1:使用字典键值分配**

在第一个问题中，输入数据集是一个名为`movie_titles`的列表，包括几个需要计数的单词。

这里的策略是创建字典`word_count`，为列表中的每个唯一单词保存一个计数器。这通常是通过使用一个`for`循环来迭代 iterable 对象中的项目，加上一个特定的策略来构建计数器来实现的。

在本例中，我使用了我定义的*普通*或*开放*键-值对赋值，其中在每次迭代中，条件语句检查单词是否已经是字典中的一个键。如果不是，该算法用该单词创建一个新的键，并赋予初始值等于 1。否则，如果该单词已经是字典中的一个键，计数就增加 1。

尽管这可能是技术面试中提供的最简单和最冗长的解决方案，但我认为它应该被认为是完全可以接受的，因为它完成了工作，并表明您能够使用这种数据结构。

## 解决方案 2:使用默认值为 0 的 dict.get()

用字典计数条目更简洁的方法是使用`dict.get()`方法，用零作为*默认* *值*。

`get()`方法将一个键和一个*默认值*作为参数。如果字典中没有这个键，`get()`创建这个键并将其与默认值配对。如果没有可用的默认值，则该键将被赋予一个`None`值。

在你的下一次技术面试中，如果你被要求创建一个计数器，我会强烈推荐你使用这个解决方案，一个关于数据结构的全面知识。

## 解决方案 3:使用计数器

Python 甚至通过从内置的`collections`包中导入`Counter`类，提供了一种更快的方法来计算字典中的对象，这是专门设计来将 iterable 作为参数，以一次性计算和存储几个可哈希对象的频率。

通常， [LeetCode](https://leetcode.com/) 接受使用`Counter`解决的算法，然而我宁愿在技术面试中避免这种方法，因为通常你不会被允许首先导入任何包。这是有道理的，因为面试官对你的*现成的*解决方案感兴趣。

# 问题# 2.1:计算项目总数

****basket _ items****字典包括了若干项以及它们在购物篮中出现的频率。定义一个函数****count _ fruit****只统计篮子里水果的总数，不包括其他项目。将总数作为字符串的一部分返回，格式如下→“篮子里有{result}个水果”。**

```
*# Example Dictionary
basket_items = {‘apricots’: 12, ‘peaches’: 12, ‘glasses’: 3, ‘hotdogs’: 8}
fruits = [‘apricots’, ‘bananas’, ‘peaches’, ‘pears’, ‘plums’]*
```

## *解决办法*

*与第一个问题不同，这里已经为您提供了一个包含频率的字典(`basket_items`)。唯一需要执行的任务是基于`fruits`列表中可用项目的条件求和。*

*在这种情况下，总计数已经存储在`result`变量中，所以这是一个编码问题，其中字典是生成计数器的输入，而不是它的输出。*

# *问题# 2.2*

**如果您还想计算购物篮中非水果类商品的总数，该怎么办？定义一个新函数****count _ fruit _ non _ fruit****，返回一个格式为****→****的字符串，水果的数量为{fruit_count}。有{non_fruit_count}件非水果商品。**

## *解决办法*

*这是上述问题的一个微小变化，这里你需要计算两个和(`fruit_count`和`not_fruit_count`)而不是一个。这是通过在原始条件语句中添加一个`else`子句来实现的。*

# *问题# 3:返回单个数字*

**给定一个* ***非空*** *整数数组* `*nums*` *，每个元素除了一个以外都出现两次。找到那个单身的。**

```
*# Example List
nums = [2,1,1,1,5,5,5,5,5,5,5,5]*
```

## *解决办法*

*这个编码挑战是多步算法的一个例子:*

*   *首先，使用一个计数器来确定`nums`数字列表中物体出现的频率(方法与问题#1 的解决方案#1 相同)；*
*   *然后，计算出的频率用于识别`nums`中唯一的非唯一数字。*

*这在本质上看起来是一个小问题，但是在技术面试中，你经常需要使用普通的 Python 语法来复制像`numpy.unique()`这样的流行函数的行为。*

# *问题# 4:字符串中的第一个唯一字符*

**给定一个字符串* `*s*` *，找出其中第一个不重复的字符，并返回其索引。如果不存在，返回* `*-1*` *。**

```
*# Example String
s = ‘albatros’*
```

## *解决办法*

*到目前为止，函数的输入都是列表或字典。*

*相反，在这个编码挑战中，您必须计算字符串中的字符数`s`(这是通过从`collections`导入`Counter`来实现的)，然后返回第一个不重复的字符(`count[ch]==1`)，这是通过使用`enumerate()`来标识对应于每个字符的索引来实现的。*

# *问题# 5:多数元素*

**给定一个大小为* `*n*` *的数组* `*nums*` *，返回多数元素。多数元素是出现超过* `*⌊n / 2⌋*` *次的元素。您可以假设多数元素总是存在于数组中。**

```
*# Example List
nums = [3,3,3,1,1,5,5,5,5,5,5,5,5]*
```

## *解决办法*

*这最后一个编码挑战与问题#3 非常相似，就像那种情况，你会看到一个`nums`列表中的整数序列，你需要先对它们进行计数，然后验证是否满足条件。*

*唯一不同的是，这里不需要返回唯一的唯一数字，而是多数元素，或者出现超过`*⌊n / 2⌋*` 次的元素。*

*注意如何使用`range()`迭代器生成一个整数序列`i`,这两个整数在第一个条件语句中使用，然后检索与`count`字典中的一个键相关联的特定值。*

**哦，对了……你可能已经发现了，多数元素是 5，因为它在列表中出现了 8 次***共包括 13 个整数* *(其中****13//2 = 6****→请记住****/*****

# **结论**

**在本文中，我展示了使用 Python 字典和计数器组合解决的五种算法。你已经了解到有三种不同的方法来构建你可以在技术面试中展示的计数器。**

**请注意，上面的一些编码挑战是作者对最初出现在 LeetCode 和 Udacity 上的问题的重新解释(*参见下面的参考资料*)。**

**一般来说，解决同一个算法有多种方法，所以如果你能找到更有效的解决方案，请在评论中告诉我。**

**祝你学习顺利！**

# **资源**

*   **[Python 的计数器:计算对象的 Python 方式](https://realpython.com/python-counter/)**
*   **[Python 编程入门(Udacity)](https://www.udacity.com/course/introduction-to-python--ud1110)**
*   **[LeetCode 问题 136](https://leetcode.com/problems/single-number/)**
*   **[LeetCode 问题 169](https://leetcode.com/problems/majority-element/)**
*   **[LeetCode 问题 387](https://leetcode.com/problems/first-unique-character-in-a-string/)**