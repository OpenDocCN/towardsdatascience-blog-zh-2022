<html>
<head>
<title>From training to deployment: Stop biting your nails with machine learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从训练到部署:用机器学习停止咬指甲</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/from-training-to-deployment-stop-biting-your-nails-with-machine-learning-ffed31a59040#2022-01-10">https://towardsdatascience.com/from-training-to-deployment-stop-biting-your-nails-with-machine-learning-ffed31a59040#2022-01-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="5e1d" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">从训练到部署:用机器学习停止咬指甲</h1></div><div class=""><h2 id="b054" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解如何通过几次点击来训练机器学习模型，在简单的web应用程序中将其付诸实践，并将其部署到云上与他人共享。</h2></div><p id="43d2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了完成所有这些，我们将使用Teachable Machine、ReactJS、GitHub Actions和开发者沙箱。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi lb"><img src="../Images/df7192cf1f8e1c9cfb50506d076b0108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1G2OCEsF8Pjs_p5G"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">照片由<a class="ae lr" href="https://unsplash.com/@patrickian4?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">帕特里克·福尔</a>在<a class="ae lr" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="4d23" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">介绍</h1><p id="767c" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated"><a class="ae lr" href="https://teachablemachine.withgoogle.com/" rel="noopener ugc nofollow" target="_blank"> Teachable Machine </a>是一个令人兴奋的工具，它提供了一种简单的方法来训练和测试机器学习模型，而无需该领域的专业知识。数据集可以直接从网络摄像头或麦克风创建，并用于训练图像、声音或姿势分类器。</p><p id="9a41" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">训练本身是由工具自动完成的，并且在训练完成后可以立即测试生成的模型。如果您对刚刚构建的模型满意，可以将其导出为Tensorflow格式，并在应用程序中使用。</p><p id="e483" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里有一个值得一看的展示可教机器的视频。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="b690" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你已经对可教机器有了更好的了解，我相信你已经绞尽脑汁在想用这样一个神奇的工具可以做的许多应用了。查看<a class="ae lr" href="https://github.com/SashiDo/awesome-teachable-machine" rel="noopener ugc nofollow" target="_blank">这个资源库</a>，它提供了一个用可教机器建造的项目的精选列表。</p><p id="15b0" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，我想展示如何使用由可教机器训练的模型来构建一个简单的web应用程序。这个应用程序也将被部署到云中，使它成为一个更真实的应用程序，并使您能够与其他人共享它。</p><p id="3867" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">别担心，我们只会使用免费的东西。此外，一切都将是客户端的唯一，这意味着没有个人数据将流向服务器。</p><p id="6c71" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们开始吧！</p><h1 id="650b" class="lz ma iq bd mb mc my me mf mg mz mi mj jw na jx ml jz nb ka mn kc nc kd mp mq bi translated">游戏攻略</h1><h2 id="ba46" class="nd ma iq bd mb ne nf dn mf ng nh dp mj ko ni nj ml ks nk nl mn kw nm nn mp no bi translated">第一步:考虑一个应用程序</h2><p id="ac1c" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我们的应用将是一个<em class="np">咬指甲探测器</em>！</p><p id="4040" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">该检测器的目的是在用户工作/学习/玩耍等时通过他们的网络摄像头监控用户，并在手指靠近嘴时发出恼人的警报。希望这将把一个不愉快的触发器映射到用户的大脑中，这将使他们在再次向嘴移动手指时三思而行。</p><p id="8ba2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于我们将构建一个web应用程序，并将其部署到云中，因此几乎任何带有摄像头和浏览器的设备都可以用来进行这种令人不安的现代监控。然而，重点将放在坐在电脑前的人身上，即面对他们的网络摄像头，这使得我们的模型更容易构建。</p><p id="7563" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我理解有些人努力摆脱这种强迫性习惯，所以让我们试着建立一些可能帮助他人的东西，对吗？！</p><h2 id="217f" class="nd ma iq bd mb ne nf dn mf ng nh dp mj ko ni nj ml ks nk nl mn kw nm nn mp no bi translated">第二步:训练机器学习模型</h2><p id="122f" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">训练我们的<em class="np">咬指甲探测器</em>用可教的机器很容易。</p><p id="f2ef" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用网络摄像头，我们需要收集两类图像:(1) <em class="np">咬指甲</em>类，由手指靠近嘴的图像表示；(2) <em class="np">正常</em>类，由手指离开嘴的图像表示。</p><p id="259b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">因此，一旦您<a class="ae lr" href="https://teachablemachine.withgoogle.com/train" rel="noopener ugc nofollow" target="_blank">开始</a>使用可示教机器(转到<em class="np">开始</em> → <em class="np">图像项目</em> → <em class="np">标准图像模型</em>)，继续按下录制按钮，直到您每节课获得大约500张图像，这对该分类器来说应该绰绰有余。</p><p id="297e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在收集图像时改变位置(主要是手和脸)以在数据集中创建多样性是很重要的。此外，在n<em class="np">normal</em>类中包括一些没有人在镜头前的图像，只是为了确保模特明白没有人在镜头前意味着一切都很好。你甚至可以创建一个<em class="np"> nobody </em>类！</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi nq"><img src="../Images/1b7d435def09cfe0a9c51ed43efb7e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WYdR-KSEHwwmd-xU1wjdrA.png"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">使用从网络摄像头拍摄的图像构建训练数据集</p></figure><p id="f3d5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦收集了数据集，就只需要训练和测试模型了。如果结果看起来不错，那么将训练好的模型导出为Tensorflow.js格式。输出将是一个zip文件，包含两个JSON文件(<code class="fe nr ns nt nu b">model.json</code>和<code class="fe nr ns nt nu b">metadata.json</code>)和权重(<code class="fe nr ns nt nu b">weights.bin</code>)。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/50fcf27be346c86dc86a4ccc4e76eac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/1*TArHgWdCVwHig6RqJby2eA.gif"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">测试得到的训练模型</p></figure><blockquote class="nw nx ny"><p id="3156" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>请记住，最终的训练模型非常简单，可能最适合在创建数据集时记录的同一个人，并且条件相似。然而，你可以通过更精细的训练来改进它，比如收集更多的数据和调整训练超参数。</p></blockquote><h2 id="3b54" class="nd ma iq bd mb ne nf dn mf ng nh dp mj ko ni nj ml ks nk nl mn kw nm nn mp no bi translated">步骤3:创建web应用程序</h2><p id="5797" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">我不打算从头开始实现ReactJS应用程序，因为这不是本文的目标。相反，我已经为我们的web应用程序准备了样板代码。这是一个简单的ReactJS应用程序，我称之为<em class="np">可教机器游乐场</em>，在这里你可以很容易地添加你的新页面来练习你的新模型。</p><p id="7d9a" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代码是开源的，可以在GitHub库上获得，供你克隆或派生。您将发现一个简单的ReactJS应用程序，其中包含一些随时可以使用的组件。脚本和GitHub工作流也可以让生活变得更简单。</p><p id="7575" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在继续之前，克隆<a class="ae lr" href="https://github.com/caponetto/teachable-machine-playground" rel="noopener ugc nofollow" target="_blank">库</a>并构建应用程序。确保已经安装了<a class="ae lr" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> Node.js </a>和<a class="ae lr" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank"> Yarn </a>。您可以简单地在应用程序的根文件夹中运行<code class="fe nr ns nt nu b">yarn install &amp;&amp; yarn build:dev</code>来构建代码。此命令将安装所有尚未安装的依赖项，并在开发模式下构建代码。</p><p id="c929" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在让我们看看如何向代码中添加一个新的模型。</p><p id="79b5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3a)添加训练好的模型文件</strong></p><p id="ba4b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">解压缩从可示教机器中导出的文件，并将其放在<code class="fe nr ns nt nu b">/static/models</code>文件夹下的新文件夹中。</p><p id="22f6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的例子中，我创建了一个名为<code class="fe nr ns nt nu b">nail-biting-detector </code>的文件夹，并将模型文件放在那里。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/a91980d9ccdc45a87c4977d846033ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*Ee53ejz0srOjfH-cXGSSSg.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">添加训练好的模型文件</p></figure><p id="30f3" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3b)配置路线</strong></p><p id="ff20" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">寻找<code class="fe nr ns nt nu b">Routes.tsx</code>文件(<code class="fe nr ns nt nu b">/src/app/Routes.tsx</code>)。您必须分别向与您的新页面路径和模型文件相对应的<code class="fe nr ns nt nu b">nav</code>和<code class="fe nr ns nt nu b">models</code>对象添加条目。这些条目将允许您为您的模型创建一个新的路由页面，并使其易于访问模型文件。</p><p id="a0ee" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的例子中，我用<code class="fe nr ns nt nu b">nbd</code>键添加条目，这是<code class="fe nr ns nt nu b">nail-biting detector</code>的缩写。当所有步骤完成后，我可以通过<code class="fe nr ns nt nu b">/nail-biting-detector</code>路径访问我的新页面。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">为页面和模型文件创建路线</p></figure><p id="6c59" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3c)设置型号信息</strong></p><p id="67c6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在将模型文件添加为应用程序的一部分并相应地配置了路线之后，让我们创建一个对象，该对象将包含一些关于模型的有用信息，并使前面的步骤中加载模型变得容易。</p><p id="cbfc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">查找<code class="fe nr ns nt nu b">Model.tsx</code>文件(<code class="fe nr ns nt nu b">/src/app/Model.tsx</code>)并导出一个<code class="fe nr ns nt nu b">ModelDescriptor</code>常量。在我的例子中，我用与<em class="np">咬指甲检测器</em>模型相关的信息添加了<code class="fe nr ns nt nu b">NAIL_BITING_DETECTOR_MODEL</code>常量。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">设置模型信息(仅显示代码的相关部分)</p></figure><p id="d142" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3d)添加模型页面</strong></p><p id="eb1b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">既然路线已经准备好了，您只需要在<code class="fe nr ns nt nu b">/src/pages</code>文件夹下实现页面的逻辑。我已经准备了一些组件和挂钩，以便于开发使用网络摄像头和火灾通知的页面。</p><p id="18c2" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我的例子中，当检测到类<code class="fe nr ns nt nu b">nail-biting</code>时，页面<code class="fe nr ns nt nu b">NailBitingDetectorPage</code>简单地呈现网络摄像头并发出烦人的通知(浏览器和声音)。很简单，是吧？！</p><blockquote class="nw nx ny"><p id="a289" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>实施的通知行为可能因操作系统/浏览器而异。我已经在Ubuntu/Chrome、Android/Chrome、Windows/Chrome和macOS/Safari上验证过了。</p></blockquote><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">创建NailBitingDetectorPage(仅显示代码的相关部分)</p></figure><p id="1493" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，你需要去<code class="fe nr ns nt nu b">App.tsx</code> ( <code class="fe nr ns nt nu b">/src/app/App.tsx</code>)和地图的路线与网页，以便它可以访问。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">用NailBitingDetectorPage映射路线(只显示代码的相关部分)</p></figure><p id="1960" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir"> 3e)构建并运行</strong></p><p id="a91e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦前面的步骤都完成了，你就可以开始尝试了！</p><p id="9697" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在应用程序的根文件夹中执行<code class="fe nr ns nt nu b">yarn install &amp;&amp; yarn build:dev</code>来构建代码。此命令将安装所有尚未安装的依赖项，并在开发模式下构建代码。</p><p id="e9a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后执行<code class="fe nr ns nt nu b">yarn start</code>启动开发服务器，在浏览器中打开<a class="ae lr" href="https://localhost:9001" rel="noopener ugc nofollow" target="_blank"> https://localhost:9001 </a>。您甚至可以在连接到同一网络的其他设备上加载应用程序，但您需要使用您的IP地址，而不是<code class="fe nr ns nt nu b">localhost</code>。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/87843ab971e51fb37538a66c5c8e28f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*KF1AKIw8zNv1-cAl5lMEeQ.png"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">可教机器游乐场主页</p></figure><blockquote class="nw nx ny"><p id="003a" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注:</strong>每次添加新路线，都会在主页上显示为要导航到的链接。</p></blockquote><h2 id="da97" class="nd ma iq bd mb ne nf dn mf ng nh dp mj ko ni nj ml ks nk nl mn kw nm nn mp no bi translated">步骤4:构建并推送容器映像</h2><p id="80c5" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">对于这一步，您必须用<code class="fe nr ns nt nu b">yarn build:prod</code>构建生产代码，用<code class="fe nr ns nt nu b">yarn build:image</code>构建容器映像，并将其推送到quay.io或docker hub等注册中心。</p><p id="6f01" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我使用<code class="fe nr ns nt nu b">podman</code>来构建图像，但是如果你喜欢的话，也可以随意使用<code class="fe nr ns nt nu b">docker</code>。如果你不使用<code class="fe nr ns nt nu b">podman</code>，你将不得不对<code class="fe nr ns nt nu b">yarn build:image</code>脚本(<code class="fe nr ns nt nu b">/package.json</code>)做一些小的改动。</p><p id="710b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要自定义映像注册表、名称或标记，您可以在构建映像之前导出以下预定义的环境变量:</p><p id="315e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nr ns nt nu b">IMAGE_REGISTRY (default value: quay.io/caponetto)</code></p><p id="f53b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nr ns nt nu b">IMAGE_NAME (default value: teachable-machine-playground)</code></p><p id="9011" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nr ns nt nu b">IMAGE_TAG (default value: latest)</code></p><p id="d62d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如您所见，使用默认值将准备一个名为<code class="fe nr ns nt nu b">teachable-machine-playground</code>的容器图像，该图像将被推送到我的<code class="fe nr ns nt nu b">quay.io</code>帐户，标签为<code class="fe nr ns nt nu b">latest</code>，这里的<a class="ae lr" href="https://quay.io/repository/caponetto/teachable-machine-playground" rel="noopener ugc nofollow" target="_blank">是可用的</a>。</p><p id="bb12" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您计划将代码推送到您的GitHub帐户，我还准备了一个GitHub工作流(<code class="fe nr ns nt nu b">/.github/workflows/publish.yml</code>)，它构建并将容器映像推送到<code class="fe nr ns nt nu b">quay.io</code>。您只需定制环境变量，并添加quay.io密码作为存储库密码(<code class="fe nr ns nt nu b">REGISTRY_PASSWORD</code>)。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">将容器图像推送到quay.io的环境变量(仅显示代码的相关部分)</p></figure><h2 id="8277" class="nd ma iq bd mb ne nf dn mf ng nh dp mj ko ni nj ml ks nk nl mn kw nm nn mp no bi translated">步骤5:将您的web应用程序部署到开发人员沙箱中</h2><p id="44a4" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">现在，让我们使用已经发布到quay.io的容器映像，在Red Hat OpenShift的开发人员沙箱(或简称为开发人员沙箱)上创建一个应用程序。</p><p id="cf45" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你不熟悉开发者沙盒，这里有一段来自<a class="ae lr" href="https://developers.redhat.com/developer-sandbox" rel="noopener ugc nofollow" target="_blank">官方网站</a>的引言，它几乎概括了它的所有功能:</p><blockquote class="nw nx ny"><p id="96ed" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated">沙盒在一个共享的多租户OpenShift集群中为您提供了一个私有的OpenShift环境，该集群预先配置了一组开发人员工具。您可以轻松地从源代码或docker文件创建容器，使用提供的示例和堆栈构建新的应用程序，从我们的模板目录添加数据库等服务，部署Helm charts，等等。</p></blockquote><p id="43b6" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，如果您想了解更多，请查看我的一次演讲，我在演讲中展示了如何将开发者沙箱与托管的卡夫卡和DMN连接起来。</p><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="mw mx l"/></div></figure><p id="4836" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦您登录到您的开发人员沙箱实例，转到<code class="fe nr ns nt nu b">Developer</code>透视图并单击<code class="fe nr ns nt nu b">Add</code>。您将看到创建应用程序的各种方法。然后点击<code class="fe nr ns nt nu b">Container images</code>卡，在表格中填入适当的信息。</p><p id="2dd9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您必须提供图像URL并确保您的路线在HTTPS可用(移动通知仅适用于HTTPS)。下面的GIF详细展示了怎么做。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi of"><img src="../Images/f3483d5b72178dfcec5c7585d800a265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*TTCF_aUuAJ4zKzvY5H6RWw.gif"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">将容器映像部署到开发人员沙箱</p></figure><p id="2169" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">或者，您可以使用我之前提到的GitHub工作流(<code class="fe nr ns nt nu b">/.github/workflows/publish.yml</code>)来部署您的映像。在这种情况下，您必须设置与您的OpenShift实例(<code class="fe nr ns nt nu b">OPENSHIFT_SERVER</code>和<code class="fe nr ns nt nu b">OPENSHIFT_TOKEN</code>)和名称空间(<code class="fe nr ns nt nu b">OPENSHIFT_NAMESPACE</code>)相关联的秘密。</p><blockquote class="nw nx ny"><p id="f6fc" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>来自开发者沙箱的令牌每天到期。</p></blockquote><figure class="lc ld le lf gt lg"><div class="bz fp l di"><div class="od mx l"/></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">部署到OpenShift的环境变量(仅显示相关的代码部分)</p></figure><p id="7c34" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦这些信息准备就绪，您就可以在触发发布工作流时选择“部署”复选框。除了构建web应用程序并将容器映像推送到quay.io，工作流还将在OpenShift实例上部署应用程序。自动化❤</p><p id="4b5d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好了，我们快到了！既然已经从容器映像创建了应用程序，那么只需等待几秒钟，应用程序就会启动。一旦准备就绪，您就可以访问和测试您的应用程序了。</p><figure class="lc ld le lf gt lg gh gi paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="gh gi og"><img src="../Images/7fd0405d8bed2ead1eeaa414f1df6f91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zpc3kXC_lFwtopfX377GjA.gif"/></div></div><p class="ln lo gj gh gi lp lq bd b be z dk translated">测试部署的应用程序</p></figure><p id="c8e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你所看到的，当我把手放在嘴边时，浏览器会触发一个桌面通知(部分显示在GIF的顶部)。你听不到，但是浏览器也会发出烦人的声音警报。</p><p id="2626" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您构建了这个应用程序，并且想要监控您自己，请让这个浏览器窗口保持打开，正常地做您的事情。如果你走神，把手放在嘴附近，你会收到通知。:D</p><blockquote class="nw nx ny"><p id="91dc" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">重要提示</strong>:同样，如果您打算将该应用程序用作您的个人咬指甲探测器，请确保在专用浏览器窗口中加载该应用程序。只要不最小化应用程序窗口，您就可以正常使用电脑(在应用程序窗口上方打开其他窗口)。如果您最小化浏览器窗口或在同一个浏览器窗口中切换选项卡，网络摄像头将停止拍摄帧。</p><p id="a4d7" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注意</strong>:开发者沙箱可以让你的应用程序运行8个小时。过了这段时间，你必须再次扩大规模。</p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="1407" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">结束语</h1><p id="9f23" class="pw-post-body-paragraph kf kg iq kh b ki mr jr kk kl ms ju kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在这篇文章中，我展示了创建包含从机器学习模型派生的功能的web应用程序是多么容易。我打算激励人们去思考机器学习模型的适用性，而不是把时间花在编码本身上。这就是为什么我选择了Teachable Machine并提供了样板代码(但尽可能保持简单)。</p><p id="6073" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">希望您可以运用一些想法，并使用这些工具轻松创建概念证明。如果它们变得适用，那么您可以将更多的时间集中在编码部分(训练一个更高级的模型和构建一个好看的应用程序)。</p><p id="2c36" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我会试着想出更多的应用程序，并将它们添加到<a class="ae lr" href="https://github.com/caponetto/teachable-machine-playground" rel="noopener ugc nofollow" target="_blank">库</a>。此外，拥有桌面版和移动版的playground也不错，这样我们就可以拥有操作系统的全部功能。</p><p id="76a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">也许我们可以在打响指、拍手甚至做一些手势时触发设备上的某些东西？你放在抽屉底部的那部旧手机可以变成一个监控管家，对你做的一些手势或声音做出反应！自动化工作并节省时间是很棒的，不是吗？</p><p id="488c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以一定要尝试你的想法并分享结果！</p><blockquote class="nw nx ny"><p id="1bf3" class="kf kg np kh b ki kj jr kk kl km ju kn nz kp kq kr oa kt ku kv ob kx ky kz la ij bi translated"><strong class="kh ir">注意:</strong>如果您发现了任何问题或想要对代码做出贡献，请不要犹豫，提出问题、讨论或请求。你将非常受欢迎！另外，这是我的<a class="ae lr" href="https://caponetto.dev" rel="noopener ugc nofollow" target="_blank">个人网站</a>，你可以在那里找到我的社交媒体链接来联系我。</p></blockquote></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="7734" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今天到此为止。感谢阅读！😃</p></div></div>    
</body>
</html>