<html>
<head>
<title>8 More Useful Pandas Functionalities For Your Analyses</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于分析的8个更有用的熊猫功能</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/8-more-useful-pandas-functionalities-for-your-analyses-ef87dcfe5d74#2022-01-14">https://towardsdatascience.com/8-more-useful-pandas-functionalities-for-your-analyses-ef87dcfe5d74#2022-01-14</a></blockquote><div><div class="fc ij ik il im in"/><div class="io ip iq ir is"><figure class="iu iv gp gr iw ix gh gi paragraph-image"><div role="button" tabindex="0" class="iy iz di ja bf jb"><div class="gh gi it"><img src="../Images/fa7a1b7d56f2966da972b6cf6528d405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vOF5Jj0CSMWexMGRHy1qCg.jpeg"/></div></div><p class="je jf gj gh gi jg jh bd b be z dk translated">帕斯卡·米勒在<a class="ae ji" href="https://unsplash.com/s/photos/pandas?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""><h1 id="5fcb" class="pw-post-title jj jk jl bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">用于分析的8个更有用的熊猫功能</h1></div><div class=""><h2 id="4f75" class="pw-subtitle-paragraph ki jk jl bd b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dk translated">它们可以让你的日常工作更轻松、更快捷</h2></div><p id="b2c7" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">在这篇后续文章中(你可以在这里找到第一篇<a class="ae ji" rel="noopener" target="_blank" href="/9-useful-pandas-methods-you-probably-have-not-heard-about-28ff6c0bceee"/>)，我想展示几个更有用的<code class="fe lw lx ly lz b">pandas</code>方法/函数，它们是我最近在日常工作中一直在使用的。为了管理期望，这不是一篇展示<code class="fe lw lx ly lz b">pandas</code>基本功能的文章，也没有特别的方法主题。事不宜迟，我们开始吧！</p><h1 id="8cfc" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">1.n最小/n最大</h1><p id="9a3e" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">这些方法非常简单明了。它们根据某一列(或多列)返回具有最大/最小值的前<em class="mx"> n </em>行。还值得注意以下几点(来自<code class="fe lw lx ly lz b">nlargest</code>的文档):</p><blockquote class="my mz na"><p id="8e94" class="la lb mx lc b ld le km lf lg lh kp li nb lk ll lm nc lo lp lq nd ls lt lu lv io bi translated">这个方法相当于<code class="fe lw lx ly lz b">df.sort_values(columns, ascending=False).head(n)</code>，但是性能更高。</p></blockquote><p id="9f70" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">首先，让我们创建一个示例数据帧:</p><figure class="ne nf ng nh gt ix"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/9c61f7c4b30ff93f3bbe28df9964b8ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:208/format:webp/1*lmb6EZAVmT-oER_CCwOVJw.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="1041" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">然后，我们选择在<code class="fe lw lx ly lz b">a</code>列中包含最大值的3行。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="4dc4" class="np mb jl lz b gy nq nr l ns nt">df.nlargest(3, "a")</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/a4650b3c6a2e2b3cf1e2e24e3259bbcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:408/format:webp/1*HgOim6iSQrMEAgWx6n4G0A.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="6908" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可能已经注意到，当我们创建DataFrame时，两列中都有重复的值。默认情况下，方法选择具有最大值的第一行。但是，我们可以更改此行为以包括所有事件。为此，我们指定了<code class="fe lw lx ly lz b">keep</code>参数。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="7ad3" class="np mb jl lz b gy nq nr l ns nt">df.nlargest(3, "a", <em class="mx">keep</em>="all")</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/19965a9d26892f7b2b0ad79839ebbcb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*vQyOdrdygQMNAw8C74PPvg.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="a8ac" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们还可以使用<code class="fe lw lx ly lz b">“first”</code> / <code class="fe lw lx ly lz b">“last”</code>作为<code class="fe lw lx ly lz b">keep</code>参数的值，这将分别对第一次/最后一次出现进行优先级排序。</p><p id="b072" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">此外，我们还可以通过多列选择最大/最小值。为此，我们只需要提供一个列名列表，而不是单个名称。</p><h1 id="4acd" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">2.隐藏索引/隐藏列</h1><p id="3875" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">另一个有趣的功能是隐藏索引或列的选项。这在向风险承担者展示结果时尤其有用。这种情况在过去发生过很多次，当呈现一个过滤后的数据帧的片段时，有人会问左边奇怪的、看似随机的数字(指数)。利用<code class="fe lw lx ly lz b">hide_index</code>，我们可以轻松避免回答这类问题的麻烦。</p><p id="1dd0" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">让我们使用与上一个示例相同的数据帧，并过滤掉<code class="fe lw lx ly lz b">a</code>列中大于5的值。一气呵成，让我们隐藏索引。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="07b8" class="np mb jl lz b gy nq nr l ns nt">df[df["a"] &gt; 5].style.hide_index()</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/cf7c66ad01177e7195af7d6dc180ea81.png" data-original-src="https://miro.medium.com/v2/resize:fit:146/format:webp/1*R08gp_4xwLQdaHEvkikMnA.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="919e" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><strong class="lc jm">注意:</strong>我们需要使用<code class="fe lw lx ly lz b">.style.hide_index()</code>来访问该方法。</p><p id="5376" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们可以更进一步，也隐藏一列。我们使用以下语法来实现:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="34c1" class="np mb jl lz b gy nq nr l ns nt">df[df["a"] &gt; 5].style.hide_index().hide_columns("b")</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/44a8c051db0f5c1938e410dffa33d35c.png" data-original-src="https://miro.medium.com/v2/resize:fit:106/format:webp/1*_LKADwukJGb4JTAZVU1odg.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="24bd" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">因为我们已经使用了<code class="fe lw lx ly lz b">style</code>，我们不需要再次调用它。当然，我们可以一次隐藏多个列，我们只需要提供一个列名列表。</p><h1 id="9f73" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">3.询问</h1><p id="ee7c" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">我经常使用这个，我想你会很快明白为什么。在上面的例子中，我们过滤了值大于5的观察值。我们可以使用<code class="fe lw lx ly lz b">query</code>方法应用相同的过滤。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="22f0" class="np mb jl lz b gy nq nr l ns nt">df.query("a &gt; 5")</span></pre><p id="284f" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">代码返回完全相同的结果。就个人而言，我发现语法更容易写/读，尤其是当有多个条件时。例如，我认为</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="a0b0" class="np mb jl lz b gy nq nr l ns nt">df.query("a &gt; 5 and b &lt; 3")</span></pre><p id="060f" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">对眼睛来说比</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="f0d5" class="np mb jl lz b gy nq nr l ns nt">df[(df["a"] &gt; 5) &amp; (df["b"] &lt; 3)]</span></pre><p id="b93b" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">但这是个人偏好，最好了解过滤数据帧的最常见方法的替代方法。</p><h1 id="f50e" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">4.第一个有效索引/最后一个有效索引</h1><p id="f287" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">当我们想要找到第一个/最后一个非NA值的索引值时，这些方法非常方便。在没有有效索引的情况下，这些方法返回<code class="fe lw lx ly lz b">None</code>。</p><figure class="ne nf ng nh gt ix"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/f0c8d3bd5ad9e11e0268e6e114c4bde3.png" data-original-src="https://miro.medium.com/v2/resize:fit:288/format:webp/1*6Jo4ztnKhTIWDl9yyEiRDw.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="0224" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">查看上面的数据帧，第一个有效索引(包含非NA值)应该是<code class="fe lw lx ly lz b">1</code>。我们可以通过运行以下代码来验证我们的直觉:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="72ee" class="np mb jl lz b gy nq nr l ns nt">df.first_valid_index()</span></pre><p id="179f" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">实际上，运行该命令会返回<code class="fe lw lx ly lz b">1</code>。我们还可以将该方法与<code class="fe lw lx ly lz b">apply</code>结合起来，为每一列找到第一个有效的索引。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="727a" class="np mb jl lz b gy nq nr l ns nt">df.apply(lambda x: x.first_valid_index())</span></pre><p id="09c8" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">它返回以下内容:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="c6c4" class="np mb jl lz b gy nq nr l ns nt">a    1 <br/>b    3</span></pre><h1 id="0746" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">5.单调性/单调性递减</h1><p id="98fe" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">这个函数可能对我们的数据进行一些健全性检查很有用。它检查数据帧/序列中的值是否按升序/降序排序。你可以在这里阅读更多关于单调性<a class="ae ji" href="https://en.wikipedia.org/wiki/Monotonic_function" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><p id="6d24" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">首先，让我们创建一个简单的数据框架:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="08e2" class="np mb jl lz b gy nq nr l ns nt">df = pd.DataFrame(data={"a": [1, 2, 3, 4, 5, 6]})</span><span id="0c53" class="np mb jl lz b gy nz nr l ns nt">df</span></pre><p id="0e0a" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">然后我们可以如下使用<code class="fe lw lx ly lz b">is_monotonic</code>方法:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="c7b5" class="np mb jl lz b gy nq nr l ns nt">df[“a”].is_monotonic</span></pre><p id="ef4c" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">答案是:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="f94c" class="np mb jl lz b gy nq nr l ns nt">True</span></pre><p id="dbc4" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们还可以检查相反的情况，即值是否按降序排列:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="97e4" class="np mb jl lz b gy nq nr l ns nt">df["a"].is_monotonic_decreasing</span></pre><p id="cac0" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">答案自然是:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="3922" class="np mb jl lz b gy nq nr l ns nt">False</span></pre><p id="6b1b" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">值得一提的是，这些函数不检查严格的单调性。这意味着它们允许重复值，例如，如果我们有这样一个值序列</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="f47f" class="np mb jl lz b gy nq nr l ns nt">[1, 2, 2, 3]</span></pre><p id="4862" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">这些方法仍然表明序列是单调的。</p><p id="c5c5" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">最后，该方法不限于数字。我们也可以用它来约会:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="0b44" class="np mb jl lz b gy nq nr l ns nt">pd.date_range("2000-01-01", "2000-01-31").is_monotonic</span></pre><p id="ec88" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">它返回一个<code class="fe lw lx ly lz b">True</code>，假定范围已经排序。</p><h1 id="9487" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">6.替换</h1><p id="0b91" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">这是另一个不言自明的例子。它只是替换数据帧中的值。但是，有几种方法可以使用它。让我们用一个例子来展示更多的细节。</p><figure class="ne nf ng nh gt ix"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/0d60e91d492ff4e7bb3ffc7bcb46d5ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:204/format:webp/1*kXIj61Iu1p-BelzadAEmAQ.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="991e" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们可以做的第一件事是用另一个值替换整个数据帧中的所有值。使用下面的语法，我们用999替换所有的2。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="7152" class="np mb jl lz b gy nq nr l ns nt">df.replace(2, 999)</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/14203fadf574c149b7d587b6da51cd5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:264/format:webp/1*qjhLabvTtMpnfPVM7oLKuA.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="9a86" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">或者，我们也可以进行更复杂的替换。下面，我们仅将<code class="fe lw lx ly lz b">a</code>列中的值替换为用单词表示的数字。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="2681" class="np mb jl lz b gy nq nr l ns nt">df.replace({"a" : {1: "one", 2: "two", 3: "three", 4: "four", 5: "five"}})</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/dcb405a64964d6975cd59dcfde7597f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:248/format:webp/1*o_BHlvzVLZd3GTEA9k0Kzg.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><h1 id="b323" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">7.面具/哪里</h1><p id="b330" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">在上面的例子中，我们已经替换了具体的值。但是，也有基于条件替换值的有用方法。它们是if-else语句，您可以在下面找到它们的简短描述:</p><ul class=""><li id="3ccd" class="od oe jl lc b ld le lg lh lj of ln og lr oh lv oi oj ok ol bi translated"><code class="fe lw lx ly lz b">mask</code> —替换条件评估为<code class="fe lw lx ly lz b">True</code>的值，</li><li id="8339" class="od oe jl lc b ld om lg on lj oo ln op lr oq lv oi oj ok ol bi translated"><code class="fe lw lx ly lz b">where</code> —替换条件评估为<code class="fe lw lx ly lz b">False</code>的值。</li></ul><p id="7df4" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">对于以下示例，我们使用与<code class="fe lw lx ly lz b">replace</code>示例中相同的数据帧。<code class="fe lw lx ly lz b">mask</code>方法的语法如下:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="2fcd" class="np mb jl lz b gy nq nr l ns nt">df["a"].mask(df["a"] &lt; 4, "Less than 3")</span></pre><p id="fcdd" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">它返回以下序列:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="05c6" class="np mb jl lz b gy nq nr l ns nt">0    Less than 3 <br/>1    Less than 3 <br/>2    Less than 3 <br/>3              4 <br/>4              5 <br/>Name: a, dtype: object</span></pre><p id="3b4d" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated"><code class="fe lw lx ly lz b">where</code>非常类似，它只是替换了条件为<code class="fe lw lx ly lz b">False</code>的值。</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="8644" class="np mb jl lz b gy nq nr l ns nt">df["a"].where(df["a"] &lt; 4, "More than 3")</span></pre><p id="7dd6" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">它返回以下内容:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="da88" class="np mb jl lz b gy nq nr l ns nt">0              1 <br/>1              2 <br/>2              3 <br/>3    More than 3 <br/>4    More than 3 <br/>Name: a, dtype: object</span></pre><h1 id="8ac2" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">8.夹子</h1><p id="7e6a" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated"><code class="fe lw lx ly lz b">clip</code>用边界值替换指定边界外的值。例如，它可以用作一种非常简单的异常值去除方法。</p><p id="a91b" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">首先，让我们用一些数值创建一个数据帧。</p><figure class="ne nf ng nh gt ix"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi or"><img src="../Images/bd738160405b4ff62e39c8c9fd65846b.png" data-original-src="https://miro.medium.com/v2/resize:fit:196/format:webp/1*RjnwJtmEZS2SjD3XCgkFNg.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="2f77" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">现在，让我们将所有值裁剪到[4，7]的范围内:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="61b6" class="np mb jl lz b gy nq nr l ns nt">df.clip(4, 7)</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi os"><img src="../Images/7a819865f461ab4c3505bb2891826717.png" data-original-src="https://miro.medium.com/v2/resize:fit:192/format:webp/1*1qnwb30sBpR3jHGC8BboZA.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><p id="daae" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">我们也可以使用<code class="fe lw lx ly lz b">clip</code>方法只在一端裁剪值。使用下面的语法，我们只限制上限值:</p><pre class="ne nf ng nh gt nl lz nm nn aw no bi"><span id="d569" class="np mb jl lz b gy nq nr l ns nt">df.clip(upper=7)</span></pre><figure class="ne nf ng nh gt ix gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/c1b0ee22d2fba04656cf329087628a07.png" data-original-src="https://miro.medium.com/v2/resize:fit:188/format:webp/1*q8QnciAzMf20ztmWpTYJ3A.png"/></div><p class="je jf gj gh gi jg jh bd b be z dk translated">作者图片</p></figure><h1 id="fba2" class="ma mb jl bd mc md me mf mg mh mi mj mk kr ml ks mm ku mn kv mo kx mp ky mq mr bi translated">在你走之前</h1><p id="b015" class="pw-post-body-paragraph la lb jl lc b ld ms km lf lg mt kp li lj mu ll lm ln mv lp lq lr mw lt lu lv io bi translated">今天到此为止。毫无疑问,<code class="fe lw lx ly lz b">pandas</code>库还有许多更有趣、更有用的功能。我可能很快会写另一篇关于他们的文章。</p><p id="af21" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可以在我的<a class="ae ji" href="https://github.com/erykml/medium_articles/blob/master/Data%20Wrangling/useful_pandas_2.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到本文使用的代码。此外，欢迎任何建设性的反馈。我很乐意听到一些让您的工作更轻松的功能！你可以在推特上或者评论里联系我。</p><p id="6ed5" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">喜欢这篇文章吗？成为一个媒介成员，通过无限制的阅读继续学习。如果你使用<a class="ae ji" href="https://eryk-lewinson.medium.com/membership" rel="noopener">这个链接</a>成为会员，你将支持我，不需要你额外付费。提前感谢，再见！</p><p id="a623" class="pw-post-body-paragraph la lb jl lc b ld le km lf lg lh kp li lj lk ll lm ln lo lp lq lr ls lt lu lv io bi translated">您可能还会对以下内容感兴趣:</p><div class="iu iv gp gr iw ou"><a rel="noopener follow" target="_blank" href="/9-useful-pandas-methods-you-probably-have-not-heard-about-28ff6c0bceee"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jm gy z fp oz fr fs pa fu fw jk bi translated">你可能没听说过的9种有用的熊猫方法</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">它们可以让你的日常工作更容易、更快捷。</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi jc ou"/></div></div></a></div><div class="iu iv gp gr iw ou"><a rel="noopener follow" target="_blank" href="/one-thing-you-might-not-have-known-about-linear-regression-634446de7559"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jm gy z fp oz fr fs pa fu fw jk bi translated">关于线性回归，有一点你可能不知道</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">如何训练具有多个输出的单个模型</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pj l pf pg ph pd pi jc ou"/></div></div></a></div><div class="iu iv gp gr iw ou"><a rel="noopener follow" target="_blank" href="/phik-k-get-familiar-with-the-latest-correlation-coefficient-9ba0032b37e7"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd jm gy z fp oz fr fs pa fu fw jk bi translated">菲克(𝜙k)——熟悉最新的相关系数</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">这在分类变量、序数变量和区间变量之间也是一致的！</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">towardsdatascience.com</p></div></div><div class="pd l"><div class="pk l pf pg ph pd pi jc ou"/></div></div></a></div></div></div>    
</body>
</html>