<html>
<head>
<title>Automating Snippets in Visual Studio Code with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python自动化Visual Studio代码中的代码片段</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/automating-snippets-in-visual-studio-code-with-python-55b8824d05dd#2022-01-11">https://towardsdatascience.com/automating-snippets-in-visual-studio-code-with-python-55b8824d05dd#2022-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/86add70a6a436931914796d73f159447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YO4XpuMp41JUx0I9"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">克里斯里德在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""><h1 id="c9c5" class="pw-post-title jh ji jj bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf bi translated">用Python自动化Visual Studio代码中的代码片段</h1></div><div class=""><h2 id="3d1b" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">使用Python和VSCode加速片段工作流</h2></div><p id="3819" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">每一个好的开发工作流都涉及某种代码片段的管理，在这里，您不断地存储和检索代码片段，以解决编程例程中的各种任务。</p><p id="0785" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> <em class="lu">在本文中，我将向您展示如何使用Python自动创建VScode代码片段，只需一个终端命令就可以直接从剪贴板保存它们。</em> </strong></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a00d" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">从代码到格式化的片段</h1><p id="9739" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在VScode中，代码片段文件的格式如下:</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="54b1" class="ni md jj ne b gy nj nk l nl nm">{<br/>"Title": {</span><span id="2df6" class="ni md jj ne b gy nn nk l nl nm">"prefix": "the prefix of the snippet",<br/>"body": ["the body of the snippet", "as a list of strings".<br/>         "where each list element corresponds to a line of code",<br/>"description": "a description of the snippet"</span><span id="9fd6" class="ni md jj ne b gy nn nk l nl nm">}<br/>}</span></pre><p id="da41" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">VScode文本编辑器应该利用这种结构，以便当您调用所需代码片段的前缀时，您会得到一段符合您当前特定需求的格式完美的代码。</p><p id="0009" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的问题是，创建这样一个片段的过程可能有点麻烦，所以我们最终谷歌了几乎所有的东西，这有时会有点烦人。</p><p id="a0a2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">那么，为什么不用Python来自动化这个过程呢？这样，当你写一些代码，你想保存它以后，你所要做的就是把它保存到剪贴板，然后在终端上运行一个命令。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="de0a" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">从剪贴板保存片段的步骤</h1><p id="4fad" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">做到这一点的步骤将是:</p><ol class=""><li id="bf8d" class="no np jj la b lb lc le lf lh nq ll nr lp ns lt nt nu nv nw bi translated">使用代码片断文件夹的路径指定一个变量。</li><li id="9699" class="no np jj la b lb nx le ny lh nz ll oa lp ob lt nt nu nv nw bi translated">编写代码以获取剪贴板的内容。</li><li id="1caa" class="no np jj la b lb nx le ny lh nz ll oa lp ob lt nt nu nv nw bi translated">编写代码，以正确的格式将内容保存在预先指定的snippets文件(在调用脚本时确定)中。</li><li id="7ff1" class="no np jj la b lb nx le ny lh nz ll oa lp ob lt nt nu nv nw bi translated">将最终的Python脚本保存在文件夹中。</li><li id="bac7" class="no np jj la b lb nx le ny lh nz ll oa lp ob lt nt nu nv nw bi translated">编写一个别名，以便在终端的任何地方调用该脚本。</li></ol><p id="c4ca" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，让我们一个接一个地完成每个步骤。</p><ol class=""><li id="550e" class="no np jj la b lb lc le lf lh nq ll nr lp ns lt nt nu nv nw bi translated"><strong class="la jk">用snippets文件夹的路径指定一个变量</strong></li></ol><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="4be0" class="ni md jj ne b gy nj nk l nl nm">global_snippets_folder = “/home/username/.config/Code/User/snippets/”</span></pre><p id="20e3" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">VScode通常有这样一个路径的snippets文件夹，根据您的具体情况进行更改。</p><p id="e4fe" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 2。编写代码以获取剪贴板的内容</strong></p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="eb89" class="ni md jj ne b gy nj nk l nl nm">import clipboard</span><span id="0fce" class="ni md jj ne b gy nn nk l nl nm">clipboard.paste()</span><span id="a3f6" class="ni md jj ne b gy nn nk l nl nm">clipboard_content = clipboard.paste()</span></pre><p id="8569" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里，我们使用<code class="fe oc od oe ne b">clipboard</code>包来获取剪贴板的内容。</p><p id="48e2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 3。编写代码，以正确的格式将内容保存在预先指定的片段文件(在调用脚本时确定)中</strong></p><figure class="mz na nb nc gt iv"><div class="bz fp l di"><div class="of og l"/></div></figure><p id="a0c0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这段代码将剪贴板的内容保存到指定的文件夹中，文件夹的名称由用户在调用脚本时指定，并且具有稍后在VScode中调用代码段所需的格式。</p><p id="b335" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 4。将最终的Python脚本保存在一个文件夹中</strong></p><p id="cff0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这里你可以把它保存在你电脑里任何你想要的文件夹里。</p><p id="4dac" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk"> 5。编写一个别名，从终端的任何地方调用该脚本</strong></p><p id="2534" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">要做到这一点，你所要做的就是打开你的<code class="fe oc od oe ne b">.bashrc</code>文件并写下:</p><pre class="mz na nb nc gt nd ne nf ng aw nh bi"><span id="a139" class="ni md jj ne b gy nj nk l nl nm">alias save_snippet_from_clipboard="python /path/to/python_script.py"</span></pre><p id="54d7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然后，保存修改后的文件并运行<code class="fe oc od oe ne b">source .bashrc</code>来更新您的终端。</p><p id="0e57" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">现在，您可以直接从剪贴板中保存代码片段了！</p><figure class="mz na nb nc gt iv"><div class="bz fp l di"><div class="oh og l"/></div><p class="jc jd gj gh gi je jf bd b be z dk translated">图片来自https://giphy.com/<a class="ae jg" href="https://giphy.com/" rel="noopener ugc nofollow" target="_blank"/></p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="9e07" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">做同样事情的许多方法</h1><p id="8da4" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">值得注意的是，这只是一种方法，有很多方法可以保存和检索代码片段，最后，你应该尽可能多地尝试各种工具，看看哪些对你有用。</p><p id="2018" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于从剪贴板保存代码的问题，我在这里描述的方法在保证保存的代码片段的格式不变方面有一些缺点，但最终，我觉得每次我需要保存或检索某个代码片段时节省的几秒钟是值得的。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="5461" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你愿意，你可以在这里观看我的Youtube视频:</p><figure class="mz na nb nc gt iv"><div class="bz fp l di"><div class="oi og l"/></div></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="17df" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你喜欢这个帖子，<a class="ae jg" href="https://lucas-soares.medium.com/membership" rel="noopener">加入媒体</a>，<a class="ae jg" href="https://lucas-soares.medium.com/" rel="noopener">关注</a>，<a class="ae jg" href="https://lucas-soares.medium.com/subscribe" rel="noopener">订阅我的简讯</a>。还有，订阅我的<a class="ae jg" href="https://www.youtube.com/channel/UCu8WF59Scx9f3H1N_FgZUwQ" rel="noopener ugc nofollow" target="_blank"> youtube频道</a>在<a class="ae jg" href="https://www.tiktok.com/@enkrateialucca?lang=en" rel="noopener ugc nofollow" target="_blank"> Tiktok </a>、<a class="ae jg" href="https://twitter.com/LucasEnkrateia" rel="noopener ugc nofollow" target="_blank">推特</a>、<a class="ae jg" href="https://www.linkedin.com/in/lucas-soares-969044167/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae jg" href="https://www.instagram.com/theaugmentedself/" rel="noopener ugc nofollow" target="_blank"> Instagram </a>上和我联系！谢谢，下次再见！:)</p></div></div>    
</body>
</html>