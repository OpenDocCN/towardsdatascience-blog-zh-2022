<html>
<head>
<title>Data Mesh Architecture Patterns</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据网格架构模式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-mesh-architecture-patterns-98cc1014f251#2022-01-18">https://towardsdatascience.com/data-mesh-architecture-patterns-98cc1014f251#2022-01-18</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""><h1 id="9711" class="pw-post-title is it iu bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">数据网格架构模式</h1></div><div class=""><h2 id="7176" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">企业数据网格正在彻底改变企业管理数据的方式。什么是基本的数据网格模式？</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/1a81d935ab36ac1c7cfd0d4d894282ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OV04WPDV_Ovvh3IbcOXjBg.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><a class="ae kz" href="https://unsplash.com/@kobuagency?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> KOBU机构</a>在<a class="ae kz" href="https://unsplash.com/s/photos/drawing?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><h1 id="bc58" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式</h1><p id="aedf" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">企业数据网格正在成为管理企业内部数据的一种独特而引人注目的方式。它将“产品思维”引入企业数据管理，同时在企业中实现更高水平的敏捷性和数据治理。它创造了一种“自助”能力，数据近乎实时同步，从而为实时数字企业奠定了基础。</p><p id="be8f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">但是，唉，没有一种产品能给你带来数据网格。更确切地说，企业的数据网格是由许多普遍可用的组件组成的(参见下一节的数据网格架构概述)。</p><p id="9a8e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">然而，成功的关键是理解这些组件是如何相互作用的。在本文中，我将使用架构模式来描述这些交互。</p><h1 id="da1f" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格架构概述</h1><p id="9b99" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">一个企业数据网由许多组件组成(这里有更多细节<a class="ae kz" rel="noopener" target="_blank" href="/an-architecture-for-the-data-mesh-32ff4a15f16f"/>、这里有<a class="ae kz" rel="noopener" target="_blank" href="/data-mesh-architecture-and-the-role-of-apis-json-schemas-3dc616650960"/>，这里有<a class="ae kz" href="https://martinfowler.com/articles/data-mesh-principles.html" rel="noopener ugc nofollow" target="_blank"/>)。数据产品是数据网格中的主要构建块，包含使用企业数据网格在整个组织中同步的操作、分析和/或参与数据。API用于访问数据产品中的数据。为了支持联合治理，每个数据产品都包含一个审计日志，记录数据变更和它管理的数据目录。</p><p id="d520" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">企业的数据网格有许多数据产品。数据产品订阅彼此的数据，以便当一个数据产品更改其数据时，使用<a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener">更改数据捕获</a>和<a class="ae kz" href="https://www.confluent.io/" rel="noopener ugc nofollow" target="_blank">事件流骨干</a>将此更改传达给其他数据产品。</p><p id="2a1f" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">最后，企业数据目录——所有数据产品目录和数据变更的同步聚合——用于使任何用户或开发人员都可以轻松地查找、使用和管理整个企业中的任何数据，同时还为了解整个企业中的数据谱系提供了基础。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/d1376295c9575f6509f449a13e240764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Px-3vQ2Gy6nq3ijPECT_tw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图1，企业数据网格架构</em></p></figure><p id="f706" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我们将在本文中描述以下架构模式:</p><ul class=""><li id="9ab2" class="mu mv iu lu b lv mo ly mp mb mw mf mx mj my mn mz na nb nc bi translated"><a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener"> <strong class="lu iv">改变数据捕捉</strong> </a></li><li id="be90" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><a class="ae kz" rel="noopener" target="_blank" href="/data-mesh-pattern-deep-dive-event-streaming-backbone-99a5bb2a7cbf"> <strong class="lu iv">事件分流骨干</strong> </a></li><li id="d7c7" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">数据产品目录</strong></li><li id="5236" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">企业数据产品目录</strong></li><li id="144e" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">不可变的变更/审计日志</strong></li></ul><h1 id="1b25" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式:更改数据捕获</h1><p id="311b" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">如今，很难在服务和应用程序边界之间安全、可靠且一致地交付数据。有两种方法可以应对这一挑战。首先，可以使用诸如“两阶段提交”(2PC)之类的协议跨多个数据库同步更新数据，但是这种方法通常很复杂且成本很高，并且通常只在保持多个数据源同步至关重要的情况下使用。</p><p id="9c8d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">第二种方法是立即更新主数据库，同时在将来更新辅助数据库(但不在事务范围内)。当主数据库和辅助数据库更新的时间间隔比预期的长时，就会出现问题。</p><p id="9205" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener"> <strong class="lu iv">变更数据捕获</strong> </a> (CDC)是企业数据网格用来应对这一挑战的基础组件。CDC通过在数据库的事务日志中捕获和发布条目来工作，但最重要的是，它是在原始事务之外不引人注目地完成这些工作的。这意味着CDC透明地捕获运营(或分析)数据的变化，而不会影响原始应用程序或事务流。</p><p id="011a" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">(注意:这里有更多详细信息<a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener">供那些想了解CDC在企业中如何工作的人使用)</a></p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/9cc39837d1df5533d60a51cead063efc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uYKTxPrFlP27M6WIFAA9UA.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图2，数据网格模式:更改数据捕获</em></p></figure><p id="5567" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">但是CDC对捕获的“事件”做什么。在企业数据网格中，它将事件发布到事件流主干(下一个模式),以便在整个企业中分发。</p><h1 id="016b" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式:事件流主干</h1><p id="78da" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">一个<strong class="lu iv"> </strong> <a class="ae kz" rel="noopener" target="_blank" href="/data-mesh-pattern-deep-dive-event-streaming-backbone-99a5bb2a7cbf"> <strong class="lu iv">事件流骨干</strong> </a>在企业数据网格中分发事件。事件通常源于应用程序、API，在我们的例子中，也源于<a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener"> CDC </a>。然而，特别重要的是，任何发布的事件都可以被任何其他订阅实体安全、可靠并且近实时地消费。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/2892c54f15a27883cf3b73d54aeea39b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I3MqqFN8ZNvmlzC4AIBQWg.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图3，数据网格模式:事件流主干</em></p></figure><p id="487c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">事件流主干中有几个核心受管实体:</p><ul class=""><li id="50dc" class="mu mv iu lu b lv mo ly mp mb mw mf mx mj my mn mz na nb nc bi translated">由JSON模式定义的<strong class="lu iv">事件</strong>分布在企业数据网格中。</li><li id="8725" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">主题</strong>用于在整个企业中排队和分发事件；企业数据网格使用众所周知的主题，这些主题通过允许许多实体发布和消费事件来充当队列。</li><li id="bd3c" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">制作人</strong>发布事件到话题；企业数据网中的生产者可能是API、应用程序或<a class="ae kz" href="https://medium.com/@ericbroda/data-mesh-pattern-deep-dive-change-data-capture-eb3090178c34" rel="noopener"> CDC </a>。</li><li id="e379" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">消费者</strong>从话题中消费事件。企业数据网格中的消费者可以是订阅主题并在事件可供处理时得到通知的任何实体或应用程序。</li><li id="f9a0" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">事件流处理器</strong>以事件为单位或以时间窗口为基础聚合处理事件，从而在企业数据网格中实现非常复杂和强大的分析技术。</li><li id="d26c" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">代理</strong>管理上述组件，以确保整个企业数据网中安全可靠的事件通信。</li></ul><h1 id="29be" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式:数据产品目录</h1><p id="fbaf" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">他们说，数据是新的金矿，挖掘它将带来巨大的洞察力和财富。但是在今天的大多数企业中，数据分散在组织的许多小组中。销售拥有客户数据，分销拥有供应链，财务拥有交易和账户。</p><p id="76e2" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">不幸的是，这使得查找数据变得非常困难，并且一旦找到数据，将它汇集起来以做出整体的业务决策就更加困难。其结果是:决策过程缓慢、成本高昂且缺乏信息。</p><p id="acda" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">数据产品目录</strong> (DPC)包含关于数据产品的数据(“元数据”)的信息。DPC提供的信息使得任何授权人员或应用程序都可以轻松地在企业数据网格中查找、查看和使用数据产品。DPC有几个好处:</p><ul class=""><li id="d13c" class="mu mv iu lu b lv mo ly mp mb mw mf mx mj my mn mz na nb nc bi translated"><strong class="lu iv">易于管理</strong>，支持本地所有权和问责制。</li><li id="9142" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">易于改变和发展</strong>，允许决策本地化和更快。</li><li id="0593" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">轻松查找、查看和消费数据</strong>，让任何(授权)实体都能轻松查找、查看和消费数据(即“自助服务”)。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/873c05bb63c6963fa960cbca104f0ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*30LknC0f4JipYpNQ-NMN1A.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图4，数据网格模式:数据产品目录</em></p></figure><h1 id="a196" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式:企业数据产品目录</h1><p id="49b9" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated"><strong class="lu iv">企业数据产品目录</strong> (EDPC)是一个存储库，汇集了来自所有本地数据产品目录(DPC)的元数据。企业数据目录用于存储企业数据网格中维护的所有数据的信息和统计数据(元数据),以便于查找、查看、使用和管理数据:</p><ul class=""><li id="6008" class="mu mv iu lu b lv mo ly mp mb mw mf mx mj my mn mz na nb nc bi translated"><strong class="lu iv">数据科学家</strong>使用EDPC找到数据在企业中的位置，他们可以用这些数据来训练他们的模型。</li><li id="5b6c" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">商业用户</strong>使用EDPC查找商业决策所需的信息。</li><li id="8475" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">开发人员</strong>使用EDPC来理解他们的应用程序所需的数据结构。</li><li id="9d68" class="mu mv iu lu b lv nd ly ne mb nf mf ng mj nh mn mz na nb nc bi translated"><strong class="lu iv">治理专家</strong>使用EDPC来理解和监控整个企业的数据，在企业数据网格中实现联合计算治理。</li></ul><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/065f4e9be9012d780134046609a443e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ga4kYPXvxzh_Z0EoZJ72gQ.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图5，数据网状模式:企业数据产品目录</em></p></figure><h1 id="3c9d" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">数据网格模式:不可变的变更/审计日志</h1><p id="aed8" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">理解数据的谱系(定义为数据经历的变化的汇总列表)对于治理和监管目的至关重要。为什么这很重要？考虑今天的一个常见情况:AI/机器学习的出现现在是一种强制性的企业能力。数据科学家使用复杂的模型来实现和做出关键的业务决策。</p><p id="8904" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">然而，在许多企业中，尤其是那些医疗保健和金融领域的企业，这些模型的实际可行性取决于满足监管机构对可再现性和可追溯性要求的能力(更多信息请参见<a class="ae kz" rel="noopener" target="_blank" href="/rethinking-ai-machine-learning-model-management-8afeaa31d8f8">这里</a>和<a class="ae kz" rel="noopener" target="_blank" href="/ai-and-machine-learning-governance-692b245bb6d7">这里</a>)。不幸的是，大多数企业没有能力按照审计员或监管者要求的方式跟踪数据沿袭。</p><p id="6f7c" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">企业数据网格的<strong class="lu iv">不可变变更/审计日志</strong>通过保留企业数据网格内的历史数据变更来满足这一需求，以用于未来的审计和治理目的。本地数据产品变更/审计日志会根据数据中的任何数据变更自动更新。然后，这些日志被传播到企业数据产品目录(EDPC ),以便整合企业中的数据更改历史。</p><p id="2fce" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">换句话说，EDPC包含企业数据网格中所有元素的数据沿袭。EDPC使用这些数据来提供可搜索的元数据索引，该索引明确包括对每个数据产品的不可变更改/审核日志的引用，从而可以轻松找到并确认数据沿袭。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/00b2abc666811427a85e36ece8d06051.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smRauzl58Bkvr_wz-gIyNw.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated"><em class="mt">图6，数据网格模式:不可变变更/审计日志</em></p></figure><h1 id="1a92" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">总结想法</h1><p id="7f7f" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">企业数据网格正在成为实时数字企业的基础促成因素。架构模式提供了一种描述数据网格交互的既定方法。虽然没有现成的工具可用，但构建您自己的组织数据网格的第一步是理解支持数据网格的基本模式。</p><p id="b94b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">希望这篇文章给你必要的洞察力来启动你自己的企业数据网格！</p><p id="ebce" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi">***</p><p id="5713" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><em class="ni">除非另有说明，本文中的所有图片均由Eric Broda(本文作者)创作。图像中使用的所有图标都是普通的PowerPoint图标，不受版权保护。</em></p></div></div>    
</body>
</html>