# 分析医疗保健数据中的员工流失并预测结果

> 原文：<https://towardsdatascience.com/analyzing-employee-attrition-in-healthcare-data-and-predicting-outcomes-9afe822dcee>

## 使用可视化和基于树的模型来分析和预测结果

![](img/8201658883756a477a94f6704c4d02e5.png)

由[像素](https://www.pexels.com/photo/bed-empty-equipments-floor-236380/)上的[像素](https://www.pexels.com/@pixabay/)生成的图像

保健工作者流失的许多原因与保健工作行业的压力性质有关。许多员工工作时间很长，经常感到高度疲劳。医疗保健行业的员工流失是一个问题，因为它加剧了该领域员工供应有限的问题。由于医疗保健领域人员严重不足，许多医疗保健员工超负荷工作，护理质量和护理速度经常受到负面影响。

一般来说，减少医疗保健人员流失的努力包括改善工作环境的质量。例如，一些改善员工工作空间的共同努力包括提高员工参与度和为员工构建具体的职业发展道路。

除了这些常用方法，医疗保健雇主还可以使用他们的专有数据，其中大部分包含关于流失和耗尽原因的深刻信号。这就是数据分析和预测建模有用的地方。例如，数据分析可以帮助雇主识别高流失风险的员工和部门。此外，这可以帮助雇主确定造成高流失率的因素。

[医疗保健行业的员工流失](https://www.kaggle.com/datasets/jpmiller/employee-attrition-for-healthcare)数据是 IBM 发布的一个合成数据集。这些数据在[知识共享许可](https://creativecommons.org/publicdomain/zero/1.0/) (CC0:公共领域)下公开免费使用、修改和共享。虽然数据是合成的，但它可以帮助数据分析师和数据科学家制定用例，特别是在解决医疗保健行业的员工流失问题方面。例如，箱线图、直方图和饼图等数据可视化有助于深入了解医疗保健行业中哪些角色的流失率最高。这可以为比较医疗保健领域的不同群体提供定量方法。关于预测建模，最先进的基于树的模型，如 CatBoost，可用于预测员工流失结果，以及分析最有助于流失风险的因素。

在这里，我将执行探索性的数据分析，并建立预测流失结果的分类模型。对于我的分析和建模，我将在 [DeepNote](https://deepnote.com/home) 中编写代码，这是一个协作数据科学笔记本，它使管理开发环境变得简单明了。

## 读入数据

首先，让我们导航到 DeepNote 并创建一个新项目:

![](img/ceea340b0cd98d445c573e8c60d27970.png)

作者截图

接下来，让我们通过单击左侧文件选项卡旁边的“+”符号来添加员工流失数据:

![](img/afb4f9f904976336430c14515f8a19e0.png)

作者截图

现在让我们导入 Pandas 库并将我们的数据导入 Pandas 数据框:

作者创建的嵌入

然后，我们可以使用。head()'方法:

作者创建的嵌入

我们还可以显示数据中列的完整列表:

作者创建的嵌入

## 数据可视化

我们可以看到员工 ID、年龄、流失、商务旅行、每日汇率等列。让我们制作一个饼图，看看积极和消极流失结果的分布。为此，让我们从 collections 模块导入 Counter 方法，并计算正实例和负实例的数量:

作者创建的嵌入

我们看到有 1477 个负面实例和 199 个正面实例。由此可见，数据是不平衡的。让我们根据这些数据生成一个饼图:

作者创建的嵌入

我们看到，负面实例占数据的 88%，而正面实例占数据的 12%。

我们甚至可以定义一个函数，该函数采用一个分类列和一个分类值，并在该分类值内生成此饼图:

作者创建的嵌入

让我们来看看这个男性和女性的饼状图:

作者创建的嵌入

在我们的综合数据中，我们看到女性的流失率(13%)高于男性(12%)。另一个有用的可视化是箱线图。我们还可以使用盒状图来显示基于最小值、最大值、中值、第一个四分位数和第三个四分位数的数值分布。这可以帮助我们回答那些离开的人和那些留下来的人在某些数值方面是否有差异。让我们编写一个函数，它可以为负损耗和正损耗的数值字段生成一个箱线图:

作者创建的嵌入

现在，让我们使用数据框和月度收入列调用我们的函数:

作者创建的嵌入

我们看到，负面的自然减员与更高的薪酬有更强的关联，这在直觉上是有道理的。让我们用我们的数据框和 YearsSinceLastPromotion 来调用我们的函数:

作者创建的嵌入

另一种有洞察力的可视化是直方图。这有助于我们深入了解某些数值场的分布。这些也可以用来比较类别。让我们为负面和正面情况生成月度收入分布:

作者创建的嵌入

我们看到，阴性病例的分布中心比阳性病例的分布中心大。此外，负面案例的尾部更长，这表明有许多高薪员工留在医疗保健领域。

## 构建员工流失分类器

现在我们已经完成了一些基本的数据分析，让我们构建一个简单的分类器来预测员工流失的结果。为了简单起见，让我们使用月收入、性别、年晋升和工作角色来预测员工流失结果:

作者创建的嵌入

接下来，让我们将数据进行分割，以便进行训练和测试。我们将从 scikit-learn 中的 model_selection 模块导入 train_test_split 方法，并将我们的输入(X)和输出(y)作为方法中的参数传递:

作者创建的嵌入

我们将使用 CatBoost 分类模型。CatBoost 非常有用，因为它可以直接处理分类变量，而无需转换为数值。

让我们安装 CatBoost 包:

作者创建的嵌入

接下来，让我们导入 CatBoost，训练我们的模型并在我们的测试集上生成预测:

作者创建的嵌入

接下来我们来计算性能。由于我们的数据是不平衡的，平均精度是衡量性能的一个有用指标:

作者创建的嵌入

我们看到我们的模型的平均精度为 0.148。一个好的精度值应该高于 0.7 或尽可能接近 1.0。我们的模型的性能可以通过多种方式进一步改进。最简单的方法是对负样本进行下采样，使它们等于正结果的数量。让我们尝试一下，看看我们的性能是否有所提高:

作者创建的嵌入

现在，我们可以训练我们的模型并生成一组新的预测:

作者创建的嵌入

现在让我们来评估性能:

作者创建的嵌入

我们看到平均精度从 0.148 提高到 0.627。我们甚至可以通过增加迭代次数和在模型中包含更多特性来进一步改进这一点。

接下来我们可以做的是生成一个特征重要性图。这使我们能够了解哪些因素对损耗风险的影响最大:

作者创建的嵌入

我们从功能重要性图中看到，在我们用于建模的输入中，月收入是对积极流失结果贡献最大的因素。我鼓励您进行额外的功能探索和分析，看看是否有任何其他功能比每月收入贡献更大。此外，试验特征选择可以进一步提高平均精度。

这篇文章中使用的代码可以在 [GitHub](https://github.com/spierre91/deepnote/blob/main/predictive_modeling_attrition.ipynb) 上找到。

## 结论

在医疗保健领域，员工流失是一个日益严重的问题。劳动力的长时间、低工资和低供应问题导致了医疗保健工作者的高倦怠率。虽然一些员工努力促进更好的工作生活平衡和工作环境，但使用数据分析可以帮助识别高离职风险的员工，甚至采取预防措施。了解哪些因素会导致员工流失，有助于雇主采取这些预防措施。