<html>
<head>
<title>How to Transcribe and Analyze Audio Files with Python and AssemblyAI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Python和AssemblyAI转录和分析音频文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-transcribe-and-analyze-audio-files-with-python-and-assemblyai-22660dbf8e66#2022-01-31">https://towardsdatascience.com/how-to-transcribe-and-analyze-audio-files-with-python-and-assemblyai-22660dbf8e66#2022-01-31</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="b03b" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">如何用Python和AssemblyAI转录和分析音频文件</h1></div><div class=""><h2 id="68fa" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">演示:将Youtube视频转换成摘要文本</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/8ffab45d21ba0f342604db00702d80e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BqjBJrc4ojrrZcsk"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">詹姆斯·柯文在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="db73" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在从事机器学习项目时，我从未真正有机会试验音频文件。我唯一一次这样做是在一些mp3歌曲上尝试了DeepSpeech模式。</p><p id="de39" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">坦率地说，我对结果感到失望，并继续前进。</p><p id="89ad" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">几周前，我开始了一个小型的个人项目，涉及语音到文本的部分。我需要尽快整合它，鉴于我在语音处理领域的经验有限，我没有时间训练一个模型。为此，我决定转向使用API。</p><p id="8f96" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在对不同的解决方案进行基准测试时，我最终选择了AssemblyAI。</p><blockquote class="lv lw lx"><p id="3f28" class="kz la ly lb b lc ld ju le lf lg jx lh lz lj lk ll ma ln lo lp mb lr ls lt lu im bi translated"><strong class="lb iu"> <em class="it">在这篇文章中，我将向你介绍AssemblyAI，它做什么，它包含哪些核心功能，以及为什么我认为它是语音到文本的强大解决方案。<br/>然后，我将向您展示一个简单的用例，其中我们将AssemblyAI集成到一个Streamit应用程序中，以转录Youtube视频。</em> </strong></p></blockquote><p id="5de8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">事不宜迟，我们来看看。🔍</p><h1 id="0e82" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">1-什么是AssemblyAI，它解决什么问题？</h1><p id="18c8" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">训练一个强大的语音到文本模型不仅仅是强大的资源和几天的训练。这是一项技术任务，除了深度学习之外，还结合了语言学和信号处理的精细知识。</p><p id="c2f1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你曾经在机器学习项目中处理过音频文件，你可能知道语音数据非常复杂:声音可能被破坏，可能有背景音乐或噪音，音量可能很低，多种声音可能会干扰，人们可能经常使用听不见的话语，如“嗯，嗯，嗯，嗯，嗯”或多次停止说话。有点烦人，不是吗？</p><p id="5045" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">将这些数据转录成有意义的文本并非易事。</p><p id="cfdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> AssemblyAI </strong> </a>是一家致力于解决语音转文本问题的深度学习公司。它提供了最先进的语音转文本API，具有接近人类的性能。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mz"><img src="../Images/55bcfb5aa73abbfb783aa099252bf4bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3MoS-2WaFlNje3dPzfkAWQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="82d5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该API既可以通过处理队列中的作业来异步调用，也可以通过在接收文件时直接转录文件来实时使用。</p><p id="e90f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为了应对上述与语音相关的挑战，AssemblyAI在核心转录引擎中包含了许多功能。你可以通过这个<a class="ae ky" href="https://docs.assemblyai.com/core-transcription" rel="noopener ugc nofollow" target="_blank">链接</a>查看。</p><p id="5d94" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是我个人觉得非常有用的一些功能。</p><ul class=""><li id="d4d8" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">说话者二分化:</strong>这是一种分离多个说话者的声音并给每个人赋予不同标签的能力。举个例子，你转录两个人之间的访谈，会有一个说话人A和一个说话人B，每个人都会有对应的转录。</li><li id="29b1" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">双通道转录:</strong>这是一个允许单独转录每个通道的功能。这在记录电话对话或缩放通话时非常有用。</li><li id="b108" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">自定义词汇:</strong>语音转文本模型虽然功能强大，但有时可能无法正确转录某些单词(首字母缩写词、名称或特定领域/技术术语)。为了解决这个问题，AssembyAI包含了对自定义词汇表的支持。你只需要传递一个单词列表，模型就会在预测时将它们考虑在内。</li></ul><p id="9b2e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">除了很好地转录音频文件，AssemblyAI还提供了一套基于人工智能的工具来更好地理解你的数据。通过在HTTP查询中切换布尔标志，您可以选择添加以下一个或多个功能:</p><ul class=""><li id="75e2" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">话题检测:</strong>利用这一功能，AssemblyAI能够提取音频中所谈到的关键话题。有698个不同的主题遵循IAB标准分类法。<br/>分类如下:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="no np l"/></div></figure><ul class=""><li id="c030" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><strong class="lb iu">情感分析:</strong>这是在句子层面上执行的分类任务。它以一定的置信度预测正面、负面或中性。</li><li id="4794" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">自动章节:</strong>该功能提取时间编码的关键时刻，并为每个关键时刻生成摘要。这个功能非常有趣，可以突出演讲或视频中的重要部分。</li><li id="76e8" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><strong class="lb iu">实体检测:</strong>这是一个命名实体识别任务。AssemblyAI不仅仅预测非常普通的<em class="ly">人</em>、<em class="ly">位置和组织</em>实体。它更进了一步，为其他实体提供支持，如信用卡号、药品或医疗条件。<br/>这是所有检测到的实体的完整列表。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nq"><img src="../Images/92d9db2496ec27b937fcef4886ec5a41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wBr-JOkl5aVs7VyA-Fv45Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">检测到的实体列表—作者截屏</p></figure><p id="37bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果您有兴趣了解更多关于这些<em class="ly">音频智能功能</em>的信息，请查看此<a class="ae ky" href="https://docs.assemblyai.com/audio-intelligence" rel="noopener ugc nofollow" target="_blank">链接</a>。</p><h1 id="5a32" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">2 —如何使用AssemblyAI转录音频文件？</h1><p id="99d3" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这一节中，我们将看到如何轻松地使用AssemblyAI API异步转录音频文件。我们将在另一个时间研究实时转录。</p><p id="f65e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> →设置环境</strong></p><p id="3a7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你是一名Python开发人员，我想你很可能是，开始使用AssemblyAI所需要做的就是简单地安装<code class="fe nr ns nt nu b">requests</code>和<code class="fe nr ns nt nu b">python-dotenv</code>库。</p><ul class=""><li id="d270" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">以pythonic的方式处理HTTP请求</li><li id="ca22" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><code class="fe nr ns nt nu b">python_dotenv</code>允许你从。环境文件。将凭证从代码中分离出来通常是个好主意，这也是我们为什么要使用这个包的原因。</li></ul><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="e64e" class="nz md it nu b gy oa ob l oc od"><strong class="nu iu">pip install requests<br/>pip install python-dotenv</strong></span></pre><p id="adb1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> →创建一个AssemblyAI账户</strong></p><p id="06b0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">若要开始使用AssemblyAI，您必须创建一个帐户。你可以免费注册<a class="ae ky" href="https://app.assemblyai.com/signup" rel="noopener ugc nofollow" target="_blank">，甚至不需要输入你的信用卡信息。免费计划提供每月3小时的使用限制和5小时的并发限制。查看此</a><a class="ae ky" href="https://www.assemblyai.com/pricing" rel="noopener ugc nofollow" target="_blank">链接</a>以了解有关AssemblyAI定价的更多信息。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/b20f330c0b06259f174ce144f3f9b70b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B_fi4ejxv3Zi4NPIFNudbw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="f0b5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦你的帐户被创建，你将得到一个API令牌。<strong class="lb iu">此令牌完全是个人的，不应与任何人共享。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/85b60ee4a83af072583da75812e51094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gFInSxjzVGE45wW8Yz9BHg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><p id="2ba8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我将在下面的代码中展示如何使用环境变量隐藏这个个人令牌。</p><p id="58db" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> →开始使用API转录音频文件<br/></strong>assembly ai API可以转录可通过URL访问的音频或视频文件。</p><p id="eb60" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有一些音频文件，你想转录，有两种选择:</p><p id="e6ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">1-你上传你的数据到云上的某个地方(AWS S3，GCP云存储，Azure Blob存储，等等),并提供URL给AssemblyAI。</p><p id="a99e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦有了音频文件的URL，转录请求就相当于一个HTTP Post请求，具有以下参数:</p><ul class=""><li id="9ca7" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">转录API <strong class="lb iu">端点</strong></li><li id="b229" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">一个<strong class="lb iu"> JSON有效负载</strong>来提供音频URL</li><li id="4226" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">一个<strong class="lb iu">报头有效载荷</strong>包括API密钥和<code class="fe nr ns nt nu b">content-type</code></li></ul><p id="c02e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本例中，我们将转录以下音频文件:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="og np l"/></div></figure><p id="6b53" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用代码总结我们刚刚说过的内容:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="5f83" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是运行代码后获得的JSON响应。</p><p id="2b99" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在其他有用的参数中，它指示对应于该特定运行的转录<code class="fe nr ns nt nu b">id</code>和指示处理队列状态的<code class="fe nr ns nt nu b">status</code>键。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="d1a9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">状态从<code class="fe nr ns nt nu b">queued</code>开始，然后移动<code class="fe nr ns nt nu b">processing</code>，最后移动<code class="fe nr ns nt nu b">completed</code>。</p><p id="5337" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可以随时从<a class="ae ky" href="https://app.assemblyai.com/processing-queue" rel="noopener ugc nofollow" target="_blank">界面</a>查看加工队列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/19ee604d969510f00f288d0ca8f681a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SMgiZVvI8U6pq4eXs5bYbA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">用户截图</p></figure><p id="3b64" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">处理完成后，获取转录id并运行以下查询:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="92b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您应该得到以下输出:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="e117" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">输出模式非常明确。以下是您应该关注的内容:</p><ul class=""><li id="885d" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated"><code class="fe nr ns nt nu b">text</code>键代表转录的文本</li><li id="b27a" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><code class="fe nr ns nt nu b">words</code>键代表转录单词列表。这个列表的每个元素都是一个JSON对象，它包含转录单词的文本、相应的开始和结束时间(以毫秒为单位)以及预测的概率(也称为<em class="ly">置信度</em>得分)</li><li id="c884" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><code class="fe nr ns nt nu b">confidence</code>(在0和1之间)键表示算法在转录完整音频文件时的全局置信度</li></ul><p id="79cf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">还有一些我们暂时忽略的参数。</p><p id="1cee" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu"> 2 —你直接上传你的数据到AssemblyAI服务器并运行转录</strong></p><p id="636e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在第二个选择:你的文件不在云上。</p><p id="66df" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">AssemblyAI为您提供了在处理音频或视频文件之前将它们直接上传到服务器的可能性。这在用户在提交之前从麦克风录制音频文件的情况下非常方便。</p><p id="fa0c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要上传一个文件，推荐的方法是首先将它分成每个5MB的块，并将这些块放入一个生成器中，该生成器将作为数据有效负载传递给查询。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="0ce4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">文件上传后，您将获得上传文件的URL。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="90d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">使用这个URL，您可以按照上一节中的详细说明进行转录。</p><h1 id="0736" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">3-用例:将Youtube视频转换成经过分析的转录</h1><p id="a4ff" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">在这一节中，我将向您展示如何将AssemblyAI嵌入到Streamlit应用程序中。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/f0f2cfd9560ffd9a011794f45894925a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VB-GEDqyAQayldsQbmg9aQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><ul class=""><li id="413b" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">首先，你必须建立你的环境。我将使用pipenv安装以下包:<strong class="lb iu">请求</strong>、<strong class="lb iu"> streamlit </strong>、<strong class="lb iu"> pytube、python-dotenv、</strong>和<strong class="lb iu">验证器。</strong></li></ul><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="0491" class="nz md it nu b gy oa ob l oc od"><strong class="nu iu">cd assemblyai/<br/>pipenv install requests streamlit pytube python-dotenv validators</strong></span></pre><ul class=""><li id="04a0" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">使用<code class="fe nr ns nt nu b">API_KEY</code>键在项目文件夹中创建一个. env文件:</li></ul><pre class="kj kk kl km gt nv nu nw nx aw ny bi"><span id="816c" class="nz md it nu b gy oa ob l oc od"><strong class="nu iu">API_KEY=&lt;YOU API KEY GOES HERE&gt;</strong></span></pre><ul class=""><li id="34a8" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">我们从导入正确的包开始:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><ul class=""><li id="d854" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">我们定义了一个从Youtube URL下载音频的函数:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><ul class=""><li id="fcdf" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">我们定义了四个函数:一个读取音频文件，一个上传到AssemblyAI，一个提交转录作业，一个获取转录输出。</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><ul class=""><li id="eca0" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">最后，Streamlit应用程序逻辑:</li></ul><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="oh np l"/></div></figure><p id="0c97" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不要被这段代码吓到，它所做的如下:</p><ul class=""><li id="9d0e" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">它接收来自用户的URL输入，并在用validators库验证其模式时，pytube模块下载音频文件并返回其路径</li><li id="6cd9" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">我们定义了三个按钮:第一个按钮触发对AssemblyAI的上传，将upload_url打印到屏幕上，并将其置于会话状态</li><li id="dd8d" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">第二个按钮提交转录作业，获取转录id，并将其保存在会话状态中</li><li id="4036" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">第三个按钮根据转录id检索结果，并将其打印到屏幕上。</li></ul><p id="21aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你有兴趣在本地运行这个应用，代码可以在我的<a class="ae ky" href="https://github.com/ahmedbesbes/assemblyai" rel="noopener ugc nofollow" target="_blank"> repo </a>上找到。我会不断更新应用程序，所以不要犹豫，在未来检查它。</p><h1 id="ecbf" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">资源</h1><p id="a7b9" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">文档和博客是了解AssemblyAI的最佳资源。看看他们！</p><ul class=""><li id="2c53" class="na nb it lb b lc ld lf lg li nc lm nd lq ne lu nf ng nh ni bi translated">https://www.assemblyai.com/<a class="ae ky" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"/></li><li id="2b6b" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated">【https://docs.assemblyai.com/#introduction T4】</li><li id="384f" class="na nb it lb b lc nj lf nk li nl lm nm lq nn lu nf ng nh ni bi translated"><a class="ae ky" href="https://www.assemblyai.com/blog" rel="noopener ugc nofollow" target="_blank">https://www.assemblyai.com/blog</a></li></ul><h1 id="b89b" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">感谢阅读🙏</h1><p id="2c51" class="pw-post-body-paragraph kz la it lb b lc mu ju le lf mv jx lh li mw lk ll lm mx lo lp lq my ls lt lu im bi translated">如果你已经做到这一步，我想感谢你的时间，并希望你已经了解了一些关于AssemblyAI的事情。</p><p id="b447" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在接下来的帖子中，我们将更多地使用音频智能功能，并解决一些实际的用例。</p><p id="f61d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">今天就这些了。下次见！👋</p></div><div class="ab cl ok ol hx om" role="separator"><span class="on bw bk oo op oq"/><span class="on bw bk oo op oq"/><span class="on bw bk oo op"/></div><div class="im in io ip iq"><h1 id="fc74" class="mc md it bd me mf or mh mi mj os ml mm jz ot ka mo kc ou kd mq kf ov kg ms mt bi translated">新到中？您可以每月订阅5美元，并解锁各种主题的无限文章(技术、设计、创业……)您可以通过点击我的推荐<a class="ae ky" href="https://ahmedbesbes.medium.com/membership" rel="noopener">链接</a>支持我</h1><div class="ow ox gp gr oy oz"><a href="https://ahmedbesbes.medium.com/membership" rel="noopener follow" target="_blank"><div class="pa ab fo"><div class="pb ab pc cl cj pd"><h2 class="bd iu gy z fp pe fr fs pf fu fw is bi translated">加入我的介绍链接媒体-艾哈迈德贝斯</h2><div class="pg l"><h3 class="bd b gy z fp pe fr fs pf fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ph l"><p class="bd b dl z fp pe fr fs pf fu fw dk translated">ahmedbesbes.medium.com</p></div></div><div class="pi l"><div class="pj l pk pl pm pi pn ks oz"/></div></div></a></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/a9ff73d00f97485a4e68ad868f23ba23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*W2hyEu5UpRZMXLQG"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@karsten116?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡斯滕·怀恩吉尔特</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure></div></div>    
</body>
</html>