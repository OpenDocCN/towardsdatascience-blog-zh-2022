# 营销组合模型 102——好的、坏的和丑陋的

> 原文：<https://towardsdatascience.com/marketing-mix-models-102-the-good-the-bad-and-the-ugly-f5895c86b7c3>

## 营销组合模型(MMM)(和其他流行的营销测量方法)介绍第 2 部分

![](img/6feaea448fa0bac90c04c47902a2b5ff.png)

图片来自 [Pixabay](https://pixabay.com/photos/board-chalk-business-job-work-3695073/)

公司每年在广告上花费数十亿美元，这使得营销活动的衡量和优化成为营销人员的一项重要任务。营销组合建模(MMM)通过提供营销活动如何驱动业务 KPI 的自上而下的视图来帮助回答这个问题。
在我的另一个故事[营销组合建模 101](/marketing-mix-modeling-101-d0e24306277d) 中，我介绍了什么是 MMM、MMM 数据、MMM 心智模型以及合适的模型形式。在这篇文章中，我将重点介绍

*   MMM 与其他一些衡量营销效率的方法相比如何？
*   构建 MMM 时有哪些挑战，有哪些潜在的解决方案？

## **MMM 与其他营销测量方式的对比**

营销的最终目的是影响或改变消费者的行为。衡量营销活动的效率就是要了解营销活动对 KPI 的增量效应是什么。在一个完美的世界中，我们希望有一对反事实:一个被广告感动的用户会发生什么，而如果同一用户没有被同样的广告感动，同时保持其他一切不变，会发生什么。然而，我们并不是生活在平行宇宙中(或许我们生活在平行宇宙中，但我并不知道。).

> 没有人会两次踏入同一条河。因为这不是同一条河，他也不是同一个人。—赫拉克利特

虽然只有随机实验被认为能够回答因果关系，我们仍然可以依靠其他建模技术来接近营销的增量。一些方法有助于衡量营销增量/效率:实验、营销组合建模(MMM)、多点接触归因建模(MTA)和混合方法——三者的全部或两者的组合。

**实验**

实验是理解因果关系的圣杯。有了随机化，它应该是我们能得到的最接近真实反事实的东西。实验和准实验广泛应用于市场测量中，以测试活动和渠道的增量。类型包括用户级测试、地理级市场测试、综合控制测试等。

在用户级测试中，用户被随机分配到控制组和治疗组。治疗组会暴露在广告下，而对照组不会。测试结束后，分析师可以比较两组之间的关键指标(例如转化率)，并进行统计测试，以查看治疗组和对照组之间观察到的差异是否显著。例如(举一个简单的例子)，如果一家公司想测试某种促销活动是否有效，以及多少折扣是理想的，他们可以有多个组——一个完全没有促销活动的控制组，促销活动减少 10 美元的处理组 1，以及促销活动减少 30 美元的处理组 2。

在某些情况下，用户级测试是不可行的，类似市场级测试或综合控制测试的准实验方法可能会奏效。例如，如果存在严重的网络效应，治疗将影响治疗组和对照组。就像优步一样，如果一个促销活动只针对某些司机，它可能会影响平台上的供应情况，并影响控制组中的司机。或者，如果我们想测试广告牌的效率，我们不能遮住某些人的眼睛，不让他们看到。但是，我们可以在一个城市进行治疗，而不在另一个城市进行治疗，并使用对照城市构建一个模型化/预测的反事实，与治疗城市的观察结果进行比较。

如果操作正确，使用实验/准实验的优势包括:

*   这是真正理解一个活动或一个渠道的增量的最科学的方法。
*   它可以灵活地理解活动级别、渠道级别、地理位置级别或营销有效性和边际性的整体级别(取决于创造性的实验设计)
*   它可以为其他归因模型提供有价值的验证和校准
*   它可以绕过一些模型难以解决的问题，例如付费搜索频道的自我选择偏差(在本文的后面部分会有更多相关信息)。
*   对于历史很短但数量足够多的渠道和活动来说，实验比模型更有效。

也有缺点:

*   对于许多渠道来说，实验可能是不可行的。原因可能是通道没有足够的容量或足够的功率来获得统计上显著的结果，或者通道不便于实验。准实验也受许多外部因素的影响，这些因素可能会影响治疗组和其预测因素之间的关系，从而使测试不准确。
*   实验可能只能代表测试期间的市场情况和营销策略，而不能预测未来。它也可能受季节性和趋势的影响。仅仅使用实验结果来优化未来的预算分配，很难建立一个全面的、包罗万象的衡量框架。
*   一个人不可能在给定的时间框架内运行无限数量的测试，尤其是对于较小的企业，或者当需要测试许多不同的处理方法时。
*   这是主观的用户数据隐私倡议，如苹果没有 IDFA。没有用户级的跟踪数据，很难确定地将转化归因于活动，因此没有可靠的提升结果。

**多点触摸归因模型(MTA)**

![](img/401cdd403f226131b8a92b263fa97651.png)

转化前被多个广告接触的用户—作者图片

MTA 模型旨在将转化归因于转化前接触用户的不同渠道。在用户转化之前，他/她可以被多个频道的广告所触动。例如，用户可能会看到 Instagram 广告，并在转换前收到电子邮件广告。你如何将转化归因于不同的广告？如何确定哪个广告在推动用户转化方面是增量的，或者都不是？MTA 模型可能会有所帮助。

有许多方法可以建立 MTA 模型。有许多流行的方法:
1)简单但不精确的基于规则的方法，例如相等的权重(给所有通道相等的信用)、时间衰减(以固定/动态速率给远离转换的接触点较少的信用)、位置(给最后和/或第一接触通道更多的权重，假设它们对用户的决策具有更大的权重，并将剩余的信用分配给中间的其他通道)

2)合作博弈论与 Shapley 值。在博弈论中，Shapley value 是一种将积分公平分配给联盟中多个玩家(营销渠道)的解决方案(推动转化)。

3)机器学习模型，例如逻辑回归、树模型或神经网络。

4)上述的混合

优势:

*   MTA 模型是用户级和自底向上的。通过将用户级别聚合到所需的粒度级别并执行群组级别的分析，他们可以提供更精细和灵活的见解。
*   MTA 模型通常处于日线水平，能够对每日市场做出更快速的反应。
*   允许广告客户深入了解用户旅程，更好地理解特定受众群体和粒度策略的细微差别和协同作用。

缺点:

*   MTA 模型只能覆盖数字媒体。你不能将广告牌广告接触归因于特定的用户。对于一家在线下媒体上投入大量资金的公司来说，这不会有什么好处。
*   用于 MTA 模型的数据可能很难获得。MTA 数据旨在模拟整个用户广告旅程。然而，在现实中，由于跟踪困难，真实世界的数据可能是部分的，并且仅包括部分触摸点。
*   大多数 MTA 方法利用点击数据，而不是印象，这往往会给更多点击渠道更多的信任，如搜索。这也会使分析出现偏差。
*   像实验一样，MTA 也对用户数据隐私倡议持主观态度，比如苹果没有 IDFA，脸书没有 AMM。在可预见的未来，谷歌也将加入这一行列。没有用户级的跟踪数据，就无法建立 MTA 模型。
*   它可能没有回答因果关系的问题，因为相关性不同于因果关系。

**嗯**

正如本文开头和我的 [MMM 101 故事](/marketing-mix-modeling-101-d0e24306277d)中提到的，MMM 也衡量不同营销渠道对 KPI 的影响。

与其他两种方法/模型相比，MMM 是一种聚合的自顶向下模型，具有以下优点和缺点:

优势:

*   MMM 提供了一个整体框架来评估营销渠道，控制许多其他因素，包括季节性、趋势、经济等。
*   MMM 可以生成有助于预算优化和分配的成本曲线。
*   MMM 不仅覆盖数字频道，还覆盖线下媒体，比 MTA 覆盖面更广，比市场水平测试更可靠。
*   MMM 对用户数据隐私倡议并不主观，因为它不需要用户级别的数据，这使得它是面向未来的。

缺点:

*   相关性不等于因果性。MMM 本质上是一个回归模型。它没有反事实。虽然我们可以模拟假设情景，但它仍然不等同于随机控制实验。没有实验结果的校准，单独的 MMM 可能很难说它是否是因果关系。
*   MMM 需要相对较大的预算和较长的数据历史来进行可靠的读取。稀疏的数据和短暂的数据历史会使结果有偏差且不稳定。
*   MMM 倾向于低估上漏斗通道，高估下漏斗通道。
*   MMM 是一个聚合级别，这使得它不太灵活，不太可能获得更细粒度的洞察，并且不会显示用户旅程的细微差别。

**统一** **测量框架**

以上都有一些利弊，没有人是完美的。我们可以将一种方法与另一种方法结合或校准，以利用所有方法的优势，并尽可能避免问题。例如，使用实验结果作为 MMM 的先验，并使用 MTA 结果来验证和校准 MMM。理论上，统一的方法应该比只使用一种方法更有效，但它需要更多的努力、规划、人才和预算，这对于许多公司来说在成本和收益方面可能没有意义。

## 挑战和陷阱

在高度了解 MMM 在营销测量领域的地位后，在本节中，我将深入探讨构建 MMM 模型时面临的挑战，以及一些挑战的解决方案。一些挑战可能不是 MMM 模型特有的，而是与一般回归相关的。

1.  数据挑战

MMM 最具挑战性的数据限制包括三个方面:可用性、稀疏性/杂乱性以及有限的范围和数量。低质量的数据是无法治愈的，但是我们可以做一些事情来降低对模型的影响。(也就是说，垃圾进垃圾出，下面提出的解决方案只适用于通过最低要求的数据。)

*   可用性:想要高质量的数据可能很难获得。例如，许多 MMM 模型使用媒体支出作为特征，然而，支出并不完美，因为它没有考虑媒体成本。在同样的支出水平下，我们以较低的媒体成本所能达到的范围要比以较高的价格所能达到的范围大得多。印象、点击和 grp(电视)可能是比支出更好的功能，但数据可能不可用或不可靠。
    可以从第三方数据中获取基于行动的数据，或者尝试建立更好的内部数据跟踪系统。没有基于行动的数据，花费数据仍然足够，但是，数据科学家应该注意媒体成本，并在模型形式和使用模型洞察力时解决它。
*   稀疏和混乱:媒体数据也可能是稀疏和混乱的(不管是否使用支出作为特征)，尤其是在更细粒度的层面上。这是营销预算工作的本质。例如，由于新品上市，支出可能会大幅增加，但之后的支出不会保持一致。对于某些渠道，由于市场动态或业务战略变化，预算可能会关闭一段时间，然后重新打开。
    在某些情况下，我们可以将被认为彼此行为相似的较小位置汇集在一起，并使用分层贝叶斯模型(相同的逻辑可以应用于类似的渠道)来估计它们，或者使用从实验或外部来源获得的可信先验来通知模型，以便数据不是决定系数的唯一因素。
    了解数据中的问题也有助于数据科学家利用模型做出更明智的决策 EDA 分析的重要性(我将有一篇关于它的单独文章)。
*   有限的范围和数量:MMM 模型通常需要至少 2 年的每周数据(越长越好)和大量的媒体支出。如果我们有 2 年的周数据，只有 104 个数据点(假设一个横截面)，我们可能有 10–20 个媒体渠道和外部因素，面临一个大 p(特征数)小 N(观察数)的问题。
    如果更长的历史或更细粒度的时间维度不在考虑范围内，一种可能的方法是在业务用例允许的情况下，通过合并较小的渠道并优先考虑较大的渠道来减少功能的数量。
    这是上面提到的 MMM 模型的弊端之一，没有足够的范围和历史数据量，不如不建立 MMM 模型，寻求其他营销测量的解决方案。

2.自我选择偏差和内生性

用技术术语来说，当模型中的一个回归变量与误差项高度相关时，内生性就发生了。这违反了基本的回归模型假设，并将导致有偏见的估计。

对于 MMM 来说，当一个频道中存在自我选择时，就会发生这种情况。最好的例子就是付费搜索，尤其是品牌付费搜索。有时，用户心中已经有了想要购买的品牌，并在网上搜索该品牌名称。然后她点击了付费搜索广告，进行了购买。这将招致广告支出，然而，购买将不是递增的，因为她无论如何都会购买。类似的案例在联盟营销中也经常发生。就拿我这个鬼鬼祟祟节俭的顾客来说吧。在我买东西之前，我会查看代销商应用程序中是否有返现优惠。我只是想看看我是否能节省一些钱，但返现并不影响我的购买决定。

自我选择偏差问题导致了另一个漏斗效应问题。漏斗上渠道获得的信贷比下游渠道少。例如，当用户首先在电视上看到广告，并想在线购买时。然后，他在谷歌上搜索该产品，并从付费搜索广告中购买。如果没有得到很好的处理，该模型可以将更多的信用归于搜索。

有几种方法可以解决内生问题并获得更准确的估计:
1)使用来自具有高选择偏差的渠道的可靠实验的信息先验来指导模型，并防止模型高估内生渠道。

2)使用仪器变量来更好地控制偏差。工具变量的基本思想是用其他与误差项不相关但与内生变量相关的预测因子来预测内生变量，并用预测替代内生变量。哇，那是一个令人费解的句子吗？LOL。一个简单的例子是两阶段最小二乘法。工具变量可能很难找到或构建。

3)使用 Google 开发的选择偏差修正方法(论文[此处](https://arxiv.org/pdf/1807.03292.pdf))。谷歌团队使用搜索广告环境的因果图，并根据因果推理文献中的后门标准(Pearl 2013)推导出一种统计学原理方法来纠正偏差。他们发现相关搜索量满足后门标准，并使用搜索查询作为控制。校正后，搜索系数比原始模型的搜索系数小得多，并与实验结果一致。

4)使用行业基准数据来减少从未修正模型直接估计的原始系数。这可能是最不可靠和最不推荐的方法，但可能是一个快速和肮脏的解决方案。

3.多重共线性

营销人员自然会以相关的方式在不同的渠道中分配他们的广告支出。例如，两个渠道可能一起发布，以相互加强或支持产品发布。

当构建模型时，高度相关的输入变量会导致模型具有高方差，并导致信道贡献的不稳定和不准确的分解，从而发生多重共线性。我能想到的检测多重共线性的方法有以下几种:1)检查解释变量之间季节性和趋势控制的相关性，2)检查方差膨胀因子(VIFs)，即将每个要素与所有其他要素进行回归，并计算 VIF 以确定是否存在严重的多重共线性，3)更改模型中的要素组合并检查系数中是否存在高方差。

如果多重共线性问题严重，我们可以

*   考虑减少特征的数量，并通过丢弃不相关的变量、合并相似的变量或使用 PCA(主成分分析)等更高级的方法来删除导致问题的变量。
*   对变量进行一些转换或标准化，看看是否有帮助。
*   在某些情况下，将规则应用于模型(如岭回归或套索回归)也可能有所帮助。

4.型号选择

在我的另一个故事[营销组合建模 101](/marketing-mix-modeling-101-d0e24306277d) 中，我讨论了 MMM 的良好心智模型需要考虑哪些方面。我就在这里总结一下

*   报酬减少
*   阿德斯托克
*   季节性、趋势、假期和外部因素，如经济和竞争
*   不同媒体之间的协同效应
*   结合经验和实验见解进行模型校准，并提高解释因果关系的能力

在我们开始用模型拟合任何数据或开始解决数据问题或内生性或多重共线性问题之前，所选的模型形式至少应满足上述要求。

# 谢谢你，并关注我更多！

感谢你到目前为止的阅读，祝贺你已经完成了关于营销组合模型和其他营销测量方法的第二个故事。(此处看第一个[。)我打算写一篇关于使用 Orbit 包的教程(你可以在这里](/marketing-mix-modeling-101-d0e24306277d)找到 Orbit [的入门和基础教程)和模拟数据构建一个 MMM 模型，作为我 MMM 系列的第三个故事。如有兴趣，请关注更多！](/time-series-modeling-with-orbit-101-f6a262c1eaf6)

*敬请关注，关注我，并订阅电子邮件以获取更多关于数据科学和其他有趣主题的故事！*

## 参考

[1] [使用类别数据改进媒体组合模型的分层贝叶斯方法](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/45999.pdf)由谷歌团队完成，2017
【2】[媒体组合建模中的挑战和机遇](https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/45998.pdf)由谷歌团队完成
【3】媒体组合建模中付费搜索的偏差修正，2017
【4】市场反应模型—计量经济学和时间序列分析**，** Dominique M. Hanssens，Leonard J. Parsons，Randall L. Schultz，