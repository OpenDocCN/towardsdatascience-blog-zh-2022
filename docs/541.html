<html>
<head>
<title>This Is How I Used My Coding Skills To Build Free Pdf Extractor</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">这就是我如何使用我的编码技能来构建免费的Pdf提取器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/this-is-how-i-used-my-coding-skills-to-build-free-pdf-extractor-51f87ce68cc3#2022-01-18">https://towardsdatascience.com/this-is-how-i-used-my-coding-skills-to-build-free-pdf-extractor-51f87ce68cc3#2022-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="a00b" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">这就是我如何使用我的编码技能来构建免费的Pdf提取器</h1></div><div class=""><h2 id="a466" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9db5017be53f7ec2699b434199f8b2ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ainm9B5Z6TT7TmK_CNzCZg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由<a class="ae la" href="http://canva.com" rel="noopener ugc nofollow" target="_blank"> Canva </a>中的<a class="ky kz ep" href="https://medium.com/u/d0dfffad1523?source=post_page-----51f87ce68cc3--------------------------------" rel="noopener" target="_blank"> T.AI </a>创建</p></figure><h1 id="81d8" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">简介-故事:</h1><p id="cd9a" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">我总是想用我的编码技能为我自己或我的朋友做点什么。让我告诉你一些关于我父亲的事情，他是一个自学成才的技术员，在没有得到教育或机构的太多帮助的情况下，他成功地在我们的小镇上经营了一家修理店，为任何电气和电子设备提供服务。他总是非常有兴趣自己做点什么，猜猜看，在我的童年，我们有两台电视，一台收音机和一台录音机，它们都是由我父亲用各种二手零件组装而成的，并且都运转得非常好，超过了10年。</p><p id="2d68" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">每当他做出这样的东西时，我总是为他的技术感到高兴和感动。如果你真的观察到到处都在发生这种事，木匠喜欢为自己做东西，画家喜欢为自己画东西。但不幸的是，这不是我们在软件或数据科学领域经常看到的趋势。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/6df3b670a0a6b2cb62d0356657889f9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Wk3gXEvdix8KD6bO"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">一张由<a class="ae la" href="https://unsplash.com/@brucaraujo?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">布鲁纳·阿劳霍</a>在<a class="ae la" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的旧电视照片</p></figure><p id="9c55" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">查看您在笔记本电脑或手机上使用的应用程序或服务中有多少可以由您或您的朋友完成？至少要有一个。虽然它涉及到一些财务储蓄，但你不能低估它给你的信心和满足感。</p><p id="33f0" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">因此，尝试使用python制作pdf提取器是让自己开心的想法之一。</p><h2 id="fff6" class="mv lc it bd ld mw mx dn lh my mz dp ll mc na nb ln mg nc nd lp mk ne nf lr ng bi translated">我为什么做PDF提取器的技术方面-</h2><p id="767d" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">如果你在网上搜索pdf提取器，你会得到一堆免费的资源，而且它们还不错。他们在将PDF转换为CSV方面做得非常好。</p><p id="311f" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">在我的特殊情况下，我需要JSON格式的PDF中的表格，这样我就可以将数据插入或更新到数据库中。为此，我需要正确可行格式的数据，因为这往往是一个重复的过程。我想要一个将PDF格式的表格转换成JSON格式的API，当然也不想掏空我的口袋去使用这项服务。</p><p id="f60a" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">因此，在本文结束时，您可以了解到</p><ol class=""><li id="7c60" class="nh ni it lv b lw mp lz mq mc nj mg nk mk nl mo nm nn no np bi translated">如何使用Python将PDF转换成JSON和</li><li id="49e0" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo nm nn no np bi translated">如何为其编写API</li></ol></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="6a79" class="lb lc it bd ld le oc lg lh li od lk ll jz oe ka ln kc of kd lp kf og kg lr ls bi translated">选择</h1><p id="5acf" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">Python的好处是它有很多库，几乎可以满足您想要运行的每个作业。对于Pdf的提取，有很多如下的库</p><ul class=""><li id="3317" class="nh ni it lv b lw mp lz mq mc nj mg nk mk nl mo oh nn no np bi translated">PyPDF2</li><li id="efea" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated">Textract</li><li id="b9f6" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated">阿帕奇蒂卡</li><li id="18c4" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated">pdf木材</li><li id="502c" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated">pdfMiner</li><li id="be54" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated"><strong class="lv iu">白板</strong></li><li id="e28b" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo oh nn no np bi translated"><strong class="lv iu">卡梅洛特</strong></li></ul><p id="cfc7" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">我不打算在这里涵盖所有库之间的差异，但有一个很好的<a class="ae la" rel="noopener" target="_blank" href="/how-to-extract-text-from-pdf-245482a96de7">如何从PDF中提取文本</a>，你可以检查。</p><p id="a930" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">底线是不是所有的库都是好的，对我有用的不一定对你有用。这完全取决于您的场景和pdf格式。</p><h2 id="bf90" class="mv lc it bd ld mw mx dn lh my mz dp ll mc na nb ln mg nc nd lp mk ne nf lr ng bi translated">哪个图书馆最好？</h2><blockquote class="oi oj ok"><p id="c971" class="lt lu ol lv b lw mp ju ly lz mq jx mb om mr me mf on ms mi mj oo mt mm mn mo im bi translated">建议-如果执行时间对你来说不成问题，那么卡梅洛特就是完美的选择。</p></blockquote><p id="b0dc" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">我想根据三件事来选择库</p><ol class=""><li id="12ea" class="nh ni it lv b lw mp lz mq mc nj mg nk mk nl mo nm nn no np bi translated">输出的准确性</li><li id="febc" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo nm nn no np bi translated">执行时间</li><li id="3b25" class="nh ni it lv b lw nq lz nr mc ns mg nt mk nu mo nm nn no np bi translated">易于在云中部署</li></ol><p id="8090" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">带着这三点，我总结了我对卡梅洛特和塔布拉的选择。</p><p id="9d64" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">卡梅洛特的参数非常丰富，提供了很多选项。</p><p id="4b8a" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">但是我最终没有在这个项目中使用卡米洛特。</p><p id="4c32" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">你可能会想为什么🤔？</p><p id="ce09" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">因为正如我所说的，我希望以后能够灵活地将代码部署为API。在本地这可能行得通，但是随着执行时间的增加，在部署期间或部署之后处理云配置确实是一件令人头疼的事情。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/223b04b7637ba8ed8a234fc5212a0efe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*unipNPf-FxhrF72t_TpmHw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">卡梅洛特耗时约36秒</p></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/e26f2feae47040d7a0e809bc5342749b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L3-M6skMCbJmo9JZCfh_gA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">白板花费的时间约为8秒</p></figure><p id="0bea" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">卡梅洛特用了36秒，塔布拉尔用了8秒。</p><p id="7d07" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">所以要回答<strong class="lv iu">他们中最好的一个是什么？</strong>由于执行时间，我说Tabula为我。</p><p id="000b" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">卡梅洛特确实提供了很多选择，但执行起来需要很多时间。</p><p id="84fb" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">最后，我和塔巴鲁一起去了</p><h2 id="0226" class="mv lc it bd ld mw mx dn lh my mz dp ll mc na nb ln mg nc nd lp mk ne nf lr ng bi translated">怎么做？</h2><p id="8eab" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">我已经使用pycharm和Jupyter笔记本来编写和测试我的代码。您可以使用自己选择的任何IDE。</p><p id="d193" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">如果你想看完整的代码请参考— <a class="ae la" href="https://gist.github.com/tejeshb/96203007c6cff7f141f67f89208dcb7e" rel="noopener ugc nofollow" target="_blank"> <em class="ol"> Github链接</em> </a></p><p id="9521" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">密码</p><p id="af01" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">我们来看看主函数<code class="fe or os ot ou b">pdf_to_df()</code></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">主要功能</p></figure><p id="175b" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">正如您可能已经预料到的，我们在函数中所做的是获取URL，然后使用PyPDF2读取它</p><pre class="kj kk kl km gt ox ou oy oz aw pa bi"><span id="9665" class="mv lc it ou b gy pb pc l pd pe">PyPDF2.PdfFileReader(remote_file_bytes)</span></pre><p id="2659" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">神奇的是，从pdf文件中提取数据只用了一行代码，如下图所示<code class="fe or os ot ou b">read_pdf()</code>是从<code class="fe or os ot ou b">tabula library</code>导入的</p><pre class="kj kk kl km gt ox ou oy oz aw pa bi"><span id="f470" class="mv lc it ou b gy pb pc l pd pe">read_pdf(url_path, pages=[1,2], lattice=True, pandas_options={'header': None})</span></pre><p id="0025" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">这里的重要参数是<code class="fe or os ot ou b">lattice</code>和<code class="fe or os ot ou b">pandas_options</code></p><p id="a55d" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">让我们来看看在使用和不使用<code class="fe or os ot ou b">lattice</code>的情况下，我所使用的示例pdf的输出有何不同</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/bc4b305ba5784b9576cfde4ea6754808.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVyIUNLpcSZkdVJGMw_u-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">示例PDF(由<a class="ky kz ep" href="https://medium.com/u/d0dfffad1523?source=post_page-----51f87ce68cc3--------------------------------" rel="noopener" target="_blank"> T.AI </a>创建)</p></figure><div class="kj kk kl km gt ab cb"><figure class="pg kn ph pi pj pk pl paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/ad40fb6a2078b9af7fbac81415922b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*uy3bwOzdaZ_I5ihv15fNyw.png"/></div></figure><figure class="pg kn pm pi pj pk pl paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/4417780a1041b1f844d964c5935c3996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*hL2f1vz-ywfPTMhK_rYbPA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk pn di po pp translated">晶格-对还是错</p></figure></div><p id="1bbe" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">您可以看到，当lattice等于True时，代码如预期的那样生成了12列，而当它被设置为False时，它只生成了3列。这是因为lattice使用pdf表格中的线条来分隔列。您可以在此<a class="ae la" href="https://tabula-py.readthedocs.io/en/latest/tabula.html" rel="noopener ugc nofollow" target="_blank">文档链接</a>中找到更多信息。</p><p id="20b8" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">当我从函数<code class="fe or os ot ou b">pdf_to_df()</code>中获取数据帧时，很容易使用<code class="fe or os ot ou b">jsonify()</code>将其转换为JSON</p><h2 id="3f6a" class="mv lc it bd ld mw mx dn lh my mz dp ll mc na nb ln mg nc nd lp mk ne nf lr ng bi translated">Falsk应用程序- API</h2><p id="8ac3" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">我想生成API，这样我就可以提供pdf的Url并获得JSON输出。为此，我使用了一个简单的flask应用程序结构和“post”方法。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ov ow l"/></div></figure><p id="8a3d" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">您可以使用<code class="fe or os ot ou b">python run &lt;flask app.py&gt;</code>在本地运行flask应用程序</p><p id="9f73" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">我已经用postman在本地测试了这个应用，你可以在下面看到结果</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/04dff59631b29a759ad416acefe5fa8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L5GxjEp8lcmVqME5LHfe3w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Flask API成功输出</p></figure><h1 id="6009" class="lb lc it bd ld le lf lg lh li lj lk ll jz lm ka ln kc lo kd lp kf lq kg lr ls bi translated">结束了吗？</h1><p id="9db1" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">虽然写的代码为我做了工作。你能告诉我有什么问题吗？</p><p id="bb80" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">我知道你们中的一些人肯定猜对了。这是我们在部署代码时面临的问题。在我写了这段代码之后，我意识到没有多少服务提供PDF给JSON API，那么商业化怎么样呢？</p><p id="e0db" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">为此，我需要部署API，当我尝试使用<code class="fe or os ot ou b">tabula-py</code>时遇到了困难，因为这个库是tabula-java的包装器。如果你有兴趣了解更多，并想知道我最终是如何部署它的，请留下评论，让我知道。</p></div><div class="ab cl nv nw hx nx" role="separator"><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa ob"/><span class="ny bw bk nz oa"/></div><div class="im in io ip iq"><h1 id="1c9e" class="lb lc it bd ld le oc lg lh li od lk ll jz oe ka ln kc of kd lp kf og kg lr ls bi translated">资源</h1><p id="9a98" class="pw-post-body-paragraph lt lu it lv b lw lx ju ly lz ma jx mb mc md me mf mg mh mi mj mk ml mm mn mo im bi translated">要点链接-</p><ol class=""><li id="704c" class="nh ni it lv b lw mp lz mq mc nj mg nk mk nl mo nm nn no np bi translated"><a class="ae la" href="https://gist.github.com/tejeshb/96203007c6cff7f141f67f89208dcb7e" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/tejeshb/96203007 c 6 CFF 7 f 141 f 67 f 89208 dcb 7 e</a></li></ol><p id="40cf" class="pw-post-body-paragraph lt lu it lv b lw mp ju ly lz mq jx mb mc mr me mf mg ms mi mj mk mt mm mn mo im bi translated">2.<a class="ae la" href="https://gist.github.com/tejeshb/cf2f10207959b57b6b267155e070f185" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/tejeshb/cf2f 10207959 b 57b 6 b 267155 e 070 f 185</a></p></div></div>    
</body>
</html>