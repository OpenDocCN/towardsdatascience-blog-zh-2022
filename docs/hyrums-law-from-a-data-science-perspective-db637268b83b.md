# 从数据科学的角度看 Hyrum 定律

> 原文：<https://towardsdatascience.com/hyrums-law-from-a-data-science-perspective-db637268b83b>

![](img/e1fa0a6b95b957f3eed03d05e06c7e9d.png)

照片由[星球卷](https://unsplash.com/@planetvolumes?utm_source=medium&utm_medium=referral)上的 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

## 了解 SWE 的最佳实践

## **法律**

*“有了足够数量的 API 用户，
你在合同中承诺什么并不重要:
你系统的所有可观察到的行为
都将依赖于某个人。”*

这种说法起源于一个注释被添加到某个 *C++* 代码中，它实际上破坏了另一个实现者——贡献者的测试。这显然是意料之外的，显示了(*先验*中性)变化对某人使用您的代码的影响。

对于 DS 工作，经常与工程师一起工作(或者自己工作)并创建一个 API 来与模型的消费者一起创建某种程度的抽象。抽象对于驱使人们使用你的模型的输出是必不可少的。因此，人们通常希望隐藏幕后的复杂性。

Hyrum 向我们解释说，从理论上来说，一个接口应该为我们提供一个消费者和实现者之间的清晰界限。作为一名 DS，您不一定希望您的客户理解您是如何将您的输入数据分成多个批次以进行优化训练的。

然而，有趣的是，随着 API 使用的增加，实现者和消费者的体验会趋向于相同的价值。事实上，用户将开始真正探索所有的情况，包括甚至实现者可能都没有意识到的边缘情况。

最终，我认为这就是“隐式接口法则”所指的。Hyrum 指出，只要使用足够多，就不存在私有实现这种东西。我认为这一点非常正确。

Hyrum 还概述了理解消费者和实现者之间联系的一个有趣元素。性能是我们许多 DS 型号的关键。我们的一些 DS 模型离线运行。例如，洞察可以在一夜之间或一个月一次完成，以创建报告。然而，它们中有相当一部分在 API 这样的接口后面有在线行为。

在后一种情况下，用户对性能有一定的期望，也就是他们需要多少时间才能从您的模型中获得输出。因此，随着使用量的增长，实现者需要考虑到发生变化时的性能预期。事实上，你不可能在用户期望的 10 秒后返回一个输出。

按照这个逻辑，随着使用的增长，实现和接口将合二为一。因此，对实现的任何改变都将违背消费者的期望。

例如，如果您的 DS 模型变得非常受欢迎，您的客户将开始对它的来龙去脉有这样的理解，对它的任何改变都需要满足他们的期望。此外，请注意，他们会对您的模型有这样的理解，这将限制未来的变化。他们会根据自己的需要使用你的模型。这给它的实现和下一步的变化增加了很大的限制。这通常被称为依赖性。

希望，平均期望在某种程度上被很好地理解，对模型的改变将满足它们。但是人们因此需要预测和意识到用户对实现的影响。

> 如果使用足够多，就不会有私有实现这种东西。也就是说，如果一个接口有足够多的消费者，他们将共同依赖于实现的每个方面，不管是有意还是无意。这种效果用于约束对实现的更改，实现现在必须符合显式记录的接口，以及通过使用捕获的隐式接口。我们经常将这种现象称为“bug 对 bug 的兼容性” [Hyrum](https://www.hyrumslaw.com/) 。

理解用户对你的模型的期望的一个简单的例子是你的模型返回一个排序的输出，比如说 **A-B-C-D** 。它随机地这样做，而不在后端进行实际的排序。但是，看到一两次，用户会认为它总是排序的，即当添加“E”时应该返回以下输出: **A-B-C-D-E** 。

现在，如果你的模型返回 **E-A-B-C-D** ，这肯定会打破你的模型输出的任何逻辑。这个*在最后*向我们展示了用户可能有定义你的模型的另一个版本的契约。自然，随着模型复杂性的增加，这很难预测。

此外，要意识到如果你做出改变，肯定会伤害到周围的人。我总是问自己，损失会不会很小。

可扩展性是机器学习中的一个常见问题，有一个完整的领域致力于此。但是，我发现 Hyrum 定律的有趣之处在于它是如何体现消费规模的概念的。它非常直观，但我们很多人都没有注意到。

如果你做到了，请考虑跟随我。

## 你的想法

我错过了什么吗？我想更多地了解这对我们这些数据科学家有什么影响。

## 资源

*   [与 Hyrum 的对话](https://www.youtube.com/watch?v=5Wdgjw6IGDM&ab_channel=ErikWilde)。
*   [海勒姆定律——简明扼要。](https://www.hyrumslaw.com/)