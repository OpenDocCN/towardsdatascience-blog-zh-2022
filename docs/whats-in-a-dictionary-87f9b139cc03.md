# 字典里有什么？

> 原文：<https://towardsdatascience.com/whats-in-a-dictionary-87f9b139cc03>

## 基本 Python 数据结构的概述以及为什么应该使用它

![](img/496f7c0608cb7dc94a2ba941279f505e.png)

Emmanuel Ikwuegbu 在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的照片

这是我的系列文章中的第三篇，讨论 Python 中有用的特性以及使用它们的好处。一定要看看这里的前两部分:[Lambda 中有什么？](/whats-in-a-lambda-c8cdc67ff107)和[什么是列表理解？](/whats-in-a-list-comprehension-c5d36b62f5)

当我还是计算机科学入门的助教时，我经常被问到的话题之一就是 Python 字典。学生们还不清楚 1)语法是如何工作的，以及 2)词典应该用于什么目的。我将在本文中解决这两个问题。

## 字典到底是什么？

字典是 Python 版本的散列图。如果你不知道那是什么，不要担心。我喜欢 Python 的实现的原因之一是它为用户抽象了许多复杂的东西。这对于数据科学家或其他研究人员来说是非常理想的，他们可能没有接受过密集的编程培训，但仍然坚持使用 Python。

一种看待字典的方式是将字典视为由成对的*键*和*值*组成的查找表。它非常适合存储无序的对象集合，其中的键和值以某种方式相互关联。使用键是为了访问它们各自的值。

理解词典最简单的方法是看一个具体的例子。假设我有一个人员列表，我想记录每个人最喜欢的泰勒·斯威夫特的歌曲:

```
>>> swifties = {'Arjun' : 'Dorothea', 'Ali' : 'Champagne Problems'}
```

关于上述内容的一些要点:

*   与列表不同，字典由花括号表示:`{}`。
*   字典中的单个**条目**由一个**键-值对**组成，其中键和值由冒号分隔。所以，上面的字典`swifties`有两个条目。在第一个条目中，键是字符串`'Arjun'`，而值是字符串`'Dorothea'`。
*   字典中的条目用逗号分隔。

让我们继续上面的代码，看一些如何使用字典的例子。我将编写一个执行一些操作的代码片段，稍后我将解释它们:

```
>>> swifties['Ali']
'Champagne Problems'>>> swifties['Georgia'] = 'All Too Well'>>> swifties
{'Arjun': 'Dorothea', 'Ali': 'Champagne Problems', 'Georgia': 'All Too Well'}>>> swifties['Champagne Problems']
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
KeyError: 'Champagne Problems'
```

我们来分解一下上面的代码:

*   在第一行中，我们看到如何使用方括号来访问字典中的值。我们键入字典的名称，然后将我们想要访问其值的键放在后面的括号中。
*   在第二行中，我们看到如何将一个条目添加到一个已经存在的字典中。它的语法类似于访问一个值，但是这次我们使用`=`将值赋给那个键。第三行打印出字典以及我们成功添加的条目。
*   最后一行是为了说明我们不能使用值直接访问字典中的键；这是一条单行道。然而，一次访问所有的值是可能的(与键没有任何关联)——我稍后将向您展示如何操作。

最后，让我们看看几个实用函数，它们在使用字典时经常被证明是有帮助的:

```
>>> swifties.keys()
dict_keys(['Arjun', 'Ali', 'Georgia'])>>> swifties.values()
dict_values(['Dorothea', 'Champagne Problems', 'All Too Well'])>>> swifties.items()
dict_items([('Arjun', 'Dorothea'), ('Ali', 'Champagne Problems'), ('Georgia', 'All Too Well')])>>> swifties['Ella']
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
KeyError: 'Ella'>>> swifties.get('Ella', '22')
'22'
```

同样，让我们来分解一下:

*   在前三个例子中，我们看到了三个有用的函数，它们允许我们直接访问所有的 1)键、2)值或 3)条目(键-值对)。从技术上讲，它们是作为特殊的 Python iterable 对象返回的，但是通过键入`list(swifties.keys())`很容易将它们转换成列表。
*   最后两个例子说明了访问字典中的值的第二种也可能是更好的方法:`dict.get()`函数。使用这个函数的好处是，如果您试图访问字典中不存在的键，您可以提供一个默认值。相比之下，使用方括号方法会给我们一个错误。

在这一节的最后，我将简要提及你应该记住的关于字典的三个要点。首先，*从不依赖字典中条目的顺序。字典被设计成一个无序的集合，它不应该用来完成由其他数据结构更好处理的顺序任务。*

*有些人不同意这一点，因为从 Python 3.7 开始，字典事实上有一致的顺序。然而，有两个原因你应该避免在你的代码中依赖这种顺序:1)这违反了抽象障碍，因为哈希映射(字典所基于的)从来就不是有序的，2)你可能偶尔会发现自己在一个旧的代码库中工作，在这种情况下 Python 字典将不会是有序的。*

*其次，字典的键在 Python 中不能是可变类型(比如 lists)。这个细节对于高级应用来说并不太重要，但是它与可变类型不能被可靠地散列(这是一个将它们随机放在查找表中的时髦词)的事实有关，因为它们可以随时改变。值可以是任何东西(甚至其他字典！).*

*最后，字典中的键必须**唯一**(值不必如此)。如果允许重复，那么当您查找一个键时，Python 将不知道您想要哪个关联值。*

*对于字典来说，一个有用的类比是把它想象成一个银行金库:*

*   *金库里的每个抽屉都对应一件物品。*
*   *如果你去保险库，你的钥匙会和其他人的不同，你会用它来打开你放在抽屉里的贵重物品。*
*   *很有可能其他人的抽屉里也有和你一样的东西(比如一条一模一样的项链)，但是他们当然还是有一把不同的钥匙。类似地，字典中的键必须是唯一的，而值可以重复。*

*现在，让我们谈谈为什么我们可能会使用字典。*

## *字典为什么有用？*

*好吧，所以字典很酷，但是拥有它们真的有意义吗？我们就不能把变量放在一个列表里然后就到此为止吗？*

*我想如果你真的很有创造力，你可以只通过列表来应付。然而，正如我在以前关于 lambdas 和 list comprehensions 的文章中提到的，Pythonic 编程风格反对不必要的复杂的做事方式。字典是编写简单逻辑代码的好方法。*

*这里有几个可能适合使用字典的场景:*

*   ***清洗和处理熊猫的数据。**熊猫中的多个函数以字典为可选参数。您可以使用它们方便地重命名行，或者使用[来更改整列的类型。](https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.astype.html)见鬼，你甚至可以使用字典直接创建完整的数据框架。如果你是熊猫用户，理解字典是必须的。*
*   ***在交互程序中存储用户输入**。许多程序包括从用户那里收集信息，并以某种方式进行转换。字典为存储这些数据提供了一种明智的方式——字典的结构很好地将用户与他们的特定信息联系起来。事实上，像 MongoDB 这样的专业数据库服务使用的内部结构与字典非常相似。*

*当然，这只是两个例子。在很多情况下，字典可能会被证明是有用的。总的来说，我建议寻找像上面第二点那样的情况，在这种情况下，你有一个明确的案例来存储一堆相关联的对。如果你这样做了，我相信最终的结果将是高质量的代码。*

*下次见，伙计们！*

***想擅长 Python？** [**获取独家、免费获取我简单易懂的指南点击**](https://witty-speaker-6901.ck.page/0977670a91) **。想在介质上无限阅读故事？用我下面的推荐链接注册！***

*[](https://murtaza5152-ali.medium.com/?source=entity_driven_subscription-607fa603b7ce---------------------------------------) [## 穆尔塔扎阿里培养基

### 阅读媒介上穆尔塔扎·阿里的作品。华盛顿大学的博士生。对人机感兴趣…

murtaza5152-ali.medium.com](https://murtaza5152-ali.medium.com/?source=entity_driven_subscription-607fa603b7ce---------------------------------------) 

*我叫穆尔塔扎·阿里，是华盛顿大学研究人机交互的博士生。我喜欢写关于教育、编程、生活以及偶尔的随想。**