<html>
<head>
<title>Develop Your Weather Application with Python in Less Than 10 Lines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python开发不到10行的天气应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/develop-your-weather-application-with-python-in-less-than-10-lines-6d092c6dcbc9#2022-01-06">https://towardsdatascience.com/develop-your-weather-application-with-python-in-less-than-10-lines-6d092c6dcbc9#2022-01-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="0d1e" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">用Python开发不到10行的天气应用程序</h1></div><div class=""><h2 id="9131" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Python构建我们的天气电视广播应用程序，以接收所需位置的更新</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e91a91f832beac04e711e17b41acedaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x_tgzCWDlGFPqNLh"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">美国国家海洋和大气管理局在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</p></figure><p id="4acc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">天气是我们生活中最重要的方面之一。它规定了我们想要在一天、一周或一个月中计划的不同种类的活动。解读天气模式的一种古老方法是观察天空，预测天气是晴朗、下雨还是潮湿。</p><p id="e883" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你不像我一样精通气候，并且总是以预测错误告终，这种方法可能不是最有效的。另一种方法包括等待和观看新闻频道的每日报道来分析天气。然而，这些方式对于我们今天生活的现代来说似乎有点过时了。</p><p id="e433" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有不同的设备和工具可以让你从卫星报告和众多的科学研究中解读当前的天气状况。在本文中，我们将利用Python中的API技术，用不到十行代码创建您自己的天气预报应用程序。所以，事不宜迟，让我们开始完成这个项目。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="92ef" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">发展我们的天气电视广播:</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mu"><img src="../Images/7616f14e9bc736c07c3e85e98f13c909.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xXgNC1Zn3MlDYl28"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@wizwow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">唐纳德·詹纳蒂</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="489d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于这个项目，我们将利用Python和一个天气报告服务，该服务为我们提供一个API密钥来解释任何特定地方的每日天气情况。这个项目需要的少数几个库需求之一是Python中可用的请求模块。如果您还没有它，可以用一个简单的pip install命令安装下面的模块，并导入如下所示的库。这个工具将允许我们直接访问所需天气API应用程序的HTTP链接。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="4736" class="na md it mw b gy nb nc l nd ne">import requests</span></pre><p id="6695" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们将需要一个网站的API键，该网站存储有关天气的信息，并预测它们的准确结果。<a class="ae ky" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"> Open Weather Map </a>网站提供了一种科学而简单的方法，在我们的Python代码中利用他们的技术来快速生成天气预报的预期结果。要生成您自己的API密钥，只需登录以下网站并创建一个完全免费的帐户。您可以使用他们建议的API密钥之一，也可以自己生成一个。将这个生成的API键粘贴到您选择的变量中，如下所示。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="bacb" class="na md it mw b gy nb nc l nd ne">API_Key = ""</span></pre><p id="aec2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们的下一步是允许用户输入他们想要分析或查看天气状况的位置。我们可以使用输入命令执行以下操作，允许用户在所需的位置键入内容。请注意，只允许您键入实际存在的位置。如果您键入了错误的位置名称或不存在的位置名称，将会显示一条错误消息。</p><p id="693f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们现在将创建一个变量来存储天气访问网站的默认URL位置。对于最终的URL，我们将把打开的天气地图网站的默认路径与我们之前生成并存储在API_Key变量中的API键结合起来。最后，在天气数据变量中，我们将使用请求库来获取天气数据并相应地存储信息。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="b88b" class="na md it mw b gy nb nc l nd ne">location = input("Enter Your Desired Location: ")</span><span id="5b1f" class="na md it mw b gy nf nc l nd ne">weather_url = f"http://api.openweathermap.org/data/2.5/weather?q={location}&amp;appid="<br/>final_url = weather_url + API_Key</span><span id="9047" class="na md it mw b gy nf nc l nd ne">weather_data = requests.get(final_url).json()</span></pre><p id="f3bf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们已经成功地在各自的变量中收集了天气信息，我们可以继续向用户显示所需的数据。下面的操作可以用print语句来完成，如下面的代码片段所示。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="8c27" class="na md it mw b gy nb nc l nd ne">print(weather_data)</span></pre><p id="6e46" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您可能会注意到，print语句中显示的信息并不像您预期的那样漂亮，因为收集和显示的数据是原始格式的。因此，我们可以利用Data pretty打印机模块，以一种对用户来说更可展示、更可读的方式打印有用的信息。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="e446" class="na md it mw b gy nb nc l nd ne">from pprint import pprint</span><span id="3d1b" class="na md it mw b gy nf nc l nd ne">pprint(weather_data)</span></pre><p id="0f3e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文的下一部分，我们将查看构建天气应用程序的完整代码，并分析我们可以对该项目进行的大量改进和提高。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="fb35" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">最终代码和进一步改进:</h1><p id="4cf8" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">通过对上一节中所有基本代码片段的讨论，我们可以将它们组合在一起，为这个项目构建最终的代码块。请随意使用下面提供的代码来试验不同的位置。下面是一个结果，显示了这个项目的有效运作。</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="c379" class="na md it mw b gy nb nc l nd ne">import requests<br/>from pprint import pprint</span><span id="0c10" class="na md it mw b gy nf nc l nd ne">API_Key = ""</span><span id="5f59" class="na md it mw b gy nf nc l nd ne">location = input("Enter Your Desired Location: ")</span><span id="559d" class="na md it mw b gy nf nc l nd ne">weather_url = f"<a class="ae ky" href="http://api.openweathermap.org/data/2.5/weather?q={location}&amp;appid=" rel="noopener ugc nofollow" target="_blank">http://api.openweathermap.org/data/2.5/weather?q={location}&amp;appid=</a>"<br/>final_url = weather_url + API_Key</span><span id="597a" class="na md it mw b gy nf nc l nd ne">weather_data = requests.get(final_url).json()</span><span id="aa61" class="na md it mw b gy nf nc l nd ne">pprint(weather_data)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/e17732dbcc0678a03c0df44cae75d5d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:996/format:webp/1*IH00dlIquEXg_BIAgi8_1w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者截图</p></figure><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="3827" class="na md it mw b gy nb nc l nd ne">Enter Your Desired Location: Bangalore<br/>{'base': 'stations',<br/> 'clouds': {'all': 15},<br/> 'cod': 200,<br/> 'coord': {'lat': 12.9762, 'lon': 77.6033},<br/> 'dt': 1641477819,<br/> 'id': 1277333,<br/> 'main': {'feels_like': 294.17,<br/>          'grnd_level': 912,<br/>          'humidity': 45,<br/>          'pressure': 1013,<br/>          'sea_level': 1013,<br/>          'temp': 294.78,<br/>          'temp_max': 296.05,<br/>          'temp_min': 294.78},<br/> 'name': 'Bengaluru',<br/> 'sys': {'country': 'IN',<br/>         'id': 2040609,<br/>         'sunrise': 1641431598,<br/>         'sunset': 1641472610,<br/>         'type': 2},<br/> 'timezone': 19800,<br/> 'visibility': 10000,<br/> 'weather': [{'description': 'few clouds',<br/>              'icon': '02n',<br/>              'id': 801,<br/>              'main': 'Clouds'}],<br/> 'wind': {'deg': 118, 'gust': 8.31, 'speed': 4.81}}</span></pre><p id="dda4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户可以试用这个项目的一个独特的变化是，每当你启动这个程序时，显示你所在位置的天气报告。并且每隔几个小时继续显示一次，以便快速检查气候变化，从而相应地计划您的日程。您可以按照代码中的要求设置您想要的位置，并以类似于我在以前的一篇文章中提到的提醒应用程序的方式构造项目。请随意从下面提供的链接中查看。</p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/python-project-to-improve-your-productivity-for-the-new-year-1956824eddb1"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">Python项目，提高您新一年的工作效率！</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">这是一个简单、有趣且有用的Python项目，旨在为即将到来的新年提高您的工作效率！</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od ks np"/></div></div></a></div><p id="0b1a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">用户可以做出的另一个额外改进是构建一个GUI应用程序来相应地显示天气状况。如果你不太熟悉Python的图形工具，你可以看看我以前的一篇文章，了解更多关于7个最好的GUI的入门代码。</p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/7-best-ui-graphics-tools-for-python-developers-with-starter-codes-2e46c248b47c"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">7款面向Python开发人员的最佳UI图形工具，带入门代码</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">Python中用于开发酷用户界面技术的七个最佳UI图形工具</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="oe l oa ob oc ny od ks np"/></div></div></a></div></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="65c3" class="mc md it bd me mf mg mh mi mj mk ml mm jz mn ka mo kc mp kd mq kf mr kg ms mt bi translated">结论:</h1><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi of"><img src="../Images/7e2f9006a975e3958e3479abdf3d5ad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gbQSoom-6GVmMvSu"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">NOAA 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><blockquote class="og oh oi"><p id="a018" class="kz la oj lb b lc ld ju le lf lg jx lh ok lj lk ll ol ln lo lp om lr ls lt lu im bi translated">"无论你去哪里，无论天气如何，都要带上自己的阳光."安东尼·j·德安杰洛</p></blockquote><p id="fb04" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如前所述，天气在我们的日常生活中起着至关重要的作用。因此，开发一个天气应用程序来帮助我们成功地跟踪自然的这一不可或缺的元素是非常有益的，这样我们就可以相应地计划我们的时间表，并选择我们日常生活中的最佳行动路线。</p><p id="9dcf" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我们学习了如何用大约十行Python代码构建一个天气预报应用程序。我们研究了简单的API密钥生成，并使用请求模块来访问显示特定位置的准确天气报告所需的信息。我们还分析了一些额外的改进，我们可以习惯于这个项目，使它更有吸引力和有用。</p><p id="7630" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想在我的文章发表后第一时间得到通知，请点击下面的<a class="ae ky" href="https://bharath-k1297.medium.com/membership" rel="noopener">链接</a>订阅邮件推荐。如果你希望支持其他作者和我，请订阅下面的链接。</p><div class="nm nn gp gr no np"><a href="https://bharath-k1297.medium.com/membership" rel="noopener follow" target="_blank"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">bharath-k1297.medium.com</p></div></div><div class="ny l"><div class="on l oa ob oc ny od ks np"/></div></div></a></div><p id="5cd4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你对这篇文章中提到的各点有任何疑问，请在下面的评论中告诉我。我会尽快给你回复。</p><p id="b4cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">看看我的一些与本文主题相关的文章，你可能也会喜欢阅读！</p><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/complete-python-starter-guide-for-data-science-for-2022-c1f880fa249d"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">2022年数据科学完整Python入门指南</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">涵盖了用代码启动数据科学所需的所有Python基础和基本概念…</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="oo l oa ob oc ny od ks np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/generating-qr-codes-with-python-in-less-than-10-lines-f6e398df6c8b"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">用Python生成二维码，不到10行</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">构建一个简单的Python项目，用QR码加密您的信息</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="op l oa ob oc ny od ks np"/></div></div></a></div><div class="nm nn gp gr no np"><a rel="noopener follow" target="_blank" href="/how-to-write-code-effectively-in-python-105dc5f2d293"><div class="nq ab fo"><div class="nr ab ns cl cj nt"><h2 class="bd iu gy z fp nu fr fs nv fu fw is bi translated">如何有效地用Python写代码</h2><div class="nw l"><h3 class="bd b gy z fp nu fr fs nv fu fw dk translated">分析使用Python编写代码时应该遵循的最佳实践</h3></div><div class="nx l"><p class="bd b dl z fp nu fr fs nv fu fw dk translated">towardsdatascience.com</p></div></div><div class="ny l"><div class="oq l oa ob oc ny od ks np"/></div></div></a></div><p id="cfd3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">谢谢你们坚持到最后。我希望你们都喜欢这篇文章。祝大家有美好的一天！</p></div></div>    
</body>
</html>