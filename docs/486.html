<html>
<head>
<title>5 Tricks to Master Pandas append()</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">掌握熊猫的5招追加()</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/5-tricks-to-master-pandas-append-ede4318cc700#2022-01-17">https://towardsdatascience.com/5-tricks-to-master-pandas-append-ede4318cc700#2022-01-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="21fb" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">掌握熊猫的5招追加()</h1></div><div class=""><h2 id="7163" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用Pandas append()在当前数据帧末尾有效添加行的实践教程</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/187f847138ea820cc8294b4553b04283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zGHaOHYGV4LRCqSlyAtMBg.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@uxindo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">UX</a>在<a class="ae ky" href="https://unsplash.com/s/photos/data-analysis?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><blockquote class="kz la lb"><p id="3a09" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">数据合并是将两个或多个数据集合并成一个数据集的过程。通常，当您将原始数据存储在多个文件、工作表或数据表中，并且希望一次性分析所有数据时，这个过程是必要的。</p><p id="6ddf" class="lc ld le lf b lg lh ju li lj lk jx ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">来源于DisplayR博客:什么是数据合并[1]</p></blockquote><p id="54c5" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">Pandas提供了各种内置方法来轻松组合数据帧。其中，<code class="fe mc md me mf b">append()</code>是<code class="fe mc md me mf b"><a class="ae ky" rel="noopener" target="_blank" href="/pandas-concat-tricks-you-should-know-to-speed-up-your-data-analysis-cd3d4fdfe6dd">concat()</a></code>在当前数据帧末尾增加行的一个特例(<code class="fe mc md me mf b">axis=0</code>和<code class="fe mc md me mf b">join='outer'</code>)。这种方法似乎很容易使用，但是仍然有一些技巧你应该知道，以加快你的数据分析。</p><p id="6533" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">在这篇文章中，你将学习熊猫<code class="fe mc md me mf b">append()</code>处理以下用例的技巧:</p><ol class=""><li id="bc9e" class="mg mh it lf b lg lh lj lk lz mi ma mj mb mk ly ml mm mn mo bi translated">追加单行</li><li id="bdc1" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">追加多行</li><li id="bdc6" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">当列名没有对齐时</li><li id="c9f2" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">带参数<code class="fe mc md me mf b">sort=True</code></li><li id="4041" class="mg mh it lf b lg mp lj mq lz mr ma ms mb mt ly ml mm mn mo bi translated">带参数<code class="fe mc md me mf b">verify_itegrity=True</code></li></ol><blockquote class="mu"><p id="2613" class="mv mw it bd mx my mz na nb nc nd ly dk translated">请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/055-pandas-append/pandas-append.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p></blockquote></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="145e" class="nl nm it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">1.追加单行</h1><p id="1f33" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">Pandas <code class="fe mc md me mf b">append()</code>可以接受一个类似Series/dict的对象或列表，并将其添加到当前数据帧的末尾。为了进行演示，让我们创建一个数据帧<code class="fe mc md me mf b">df1</code>并遍历不同的输入:<strong class="lf iu">一个系列</strong>，<strong class="lf iu">一个字典</strong>，以及<strong class="lf iu">一个列表</strong>。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="e831" class="om nm it mf b gy on oo l op oq">df1 = pd.DataFrame({<br/>    'name': ['A', 'B', 'C', 'D'],<br/>    'math': [60,89,82,70],<br/>    'physics': [66,95,83,66],<br/>    'chemistry': [61,91,77,70]<br/>})</span></pre><h2 id="0431" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">1.1 A系列</h2><p id="e1c3" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">在这种情况下，我们想追加一只熊猫<code class="fe mc md me mf b">Series</code>。我们需要确保我们的输入索引标签与DataFrame列匹配。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="7f81" class="om nm it mf b gy on oo l op oq">### Appending a Series<br/>my_series = <strong class="mf iu">pd.Series(<br/>    ['E', 60, 70, 80],  <br/>    index=['name', 'math', 'physics', 'chemistry']<br/>)</strong></span><span id="70d3" class="om nm it mf b gy pc oo l op oq">df1.append(<strong class="mf iu">my_series</strong>, ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/80797ef7f5dff77834c5574acbeff484.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZlAyy3MawvFzHghaF5839w.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫追加()追加系列(图片由作者提供)</p></figure><h2 id="a751" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">1.2判词</h2><p id="aad3" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">同样，我们可以附加一个字典。该键需要与DataFrame列名相匹配。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="92a6" class="om nm it mf b gy on oo l op oq">### Appending a dict<br/>my_dict = <strong class="mf iu">{'name': 'E', 'math': 60, 'physics': 80, 'chemistry': 90 }</strong></span><span id="acda" class="om nm it mf b gy pc oo l op oq">df1.append(my_dict, ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pe"><img src="../Images/ecdb10619fc418d245d2451e2bd70d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncn6qTWzjJRpxFzFWsQ1Xg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫附加()附加字典(图片由作者提供)</p></figure><h2 id="72e3" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">1.3列表</h2><p id="7704" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">有时，我们的数据可以是没有任何键或标签的列表，例如，JSON格式的HTTP响应。将列表直接传递给熊猫<code class="fe mc md me mf b">append()</code>会得到一个意想不到的结果:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="0c21" class="om nm it mf b gy on oo l op oq">### Appending a list - <strong class="mf iu">wrong</strong><br/>my_list = ['E', 60, 70, 80]</span><span id="911a" class="om nm it mf b gy pc oo l op oq">df1.append(my_list, ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pf"><img src="../Images/5c349219767b6852bc62052aa7c2e8ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0tISMEgaf8bdFqbIsohzvQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫追加()追加列表—错误(图片作者)</p></figure><p id="33c4" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">问题是1D数组<code class="fe mc md me mf b">['E', 60, 70, 80]</code>被视为一个4乘1的矩阵，列名是从0开始的索引。列名不匹配，因此它被作为一个新列<code class="fe mc md me mf b"><strong class="lf iu">0</strong></code>。</p><p id="e2ad" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要修复它，我们需要使用<code class="fe mc md me mf b">pd.Series()</code>和参数<code class="fe mc md me mf b">index=df1.columns</code>将列表转换成熊猫系列:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="7b5c" class="om nm it mf b gy on oo l op oq">### Appending a list - <strong class="mf iu">correct</strong></span><span id="481b" class="om nm it mf b gy pc oo l op oq">my_list = ['E', 60, 70, 80]</span><span id="2875" class="om nm it mf b gy pc oo l op oq"># Convert a lint to Pandas Series<br/><strong class="mf iu">a_series = pd.Series(my_list, index=df1.columns)</strong></span><span id="4b32" class="om nm it mf b gy pc oo l op oq">df1.append(<strong class="mf iu">a_series</strong>, ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pg"><img src="../Images/1c36a3a521f7bb17a7c6c17d1313ccf6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hSG6kGsXMngQxvpKjNB5hw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫追加()追加列表(图片由作者提供)</p></figure><h1 id="1f81" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">2.追加多行</h1><p id="e7d8" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">通常，我们需要同时添加多行。熊猫<code class="fe mc md me mf b">append()</code>可以接受类似DataFrame/dict的对象来添加多行。</p><h2 id="a9cd" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">2.1数据框架</h2><p id="5e3d" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">这里我们将把一个数据帧附加到<code class="fe mc md me mf b">df1</code>。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="8c9a" class="om nm it mf b gy on oo l op oq"># Create a DataFrame<br/>df2 = pd.DataFrame({<br/>    'name': ['E', 'F', 'G', 'H'],<br/>    'math': [66,95,83,66],<br/>    'physics': [60,89,82,70],<br/>    'chemistry': [90,81,78,90]<br/>})</span></pre><p id="a8ec" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">要将<code class="fe mc md me mf b">df2</code>追加到<code class="fe mc md me mf b">df1</code>，我们可以简单地调用<code class="fe mc md me mf b">df1.append(df2)</code>，它会将<code class="fe mc md me mf b">df2</code>放在<code class="fe mc md me mf b">df1</code>的底部。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="fdda" class="om nm it mf b gy on oo l op oq">df1.append(df2)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/758c5fbeed85598558fe29a11f1501aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BAUZ5fJE4_k5HZwctKUINg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()追加数据帧(图片由作者提供)</p></figure><p id="3ef8" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">您可能会注意到保留了<code class="fe mc md me mf b">df2</code>的原始索引。如果我们希望从0开始的索引继续，我们可以设置<code class="fe mc md me mf b">ignore_index=True</code>:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="17a6" class="om nm it mf b gy on oo l op oq"># With ingore_index=True<br/>df1.append(df2, <strong class="mf iu">ignore_index=True</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/99adcdd209d4da912618d4261bdfdad4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u39Cl6Mu9IymLlX6vZOx6A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()追加数据帧(图片由作者提供)</p></figure><h2 id="aa06" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">2.2字典列表</h2><p id="66d1" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">我们也可以通过<strong class="lf iu">一个字典列表</strong>来追加多行。该键需要与DataFrame列相匹配。</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="5479" class="om nm it mf b gy on oo l op oq">## A list of dict<br/>my_dict_list = [<br/>  {'name' : 'E', 'math' : 66, 'physics' : 60, 'chemistry': 90 },<br/>  {'name' : 'F', 'math' : 95, 'physics' : 89, 'chemistry': 81 },<br/>  {'name' : 'G', 'math' : 83, 'physics' : 82, 'chemistry': 78 },<br/>  {'name' : 'H', 'math' : 66, 'physics' : 70, 'chemistry': 90 }<br/>]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi po"><img src="../Images/44f013638ff859a1d98a8433d2600277.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bfdxdDYTcUAYcK799adQPQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫追加()追加字典列表(图片由作者提供)</p></figure><h2 id="0feb" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">2.3清单列表</h2><p id="7fcf" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">类似地，我们也可以向<strong class="lf iu">传递一个列表列表</strong>来追加多行。最重要的部分是，我们首先需要使用带有参数<code class="fe mc md me mf b">columns=df1.columns</code>的<code class="fe mc md me mf b">pd.DataFrame</code>将列表转换成数据帧:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="5edd" class="om nm it mf b gy on oo l op oq"># A list of lists<br/>my_list_of_list = [<br/>    ['E', 66, 60, 90],<br/>    ['F', 95, 89, 81],<br/>    ['G', 83, 82, 78],<br/>    ['H', 66, 70, 90]<br/>]</span><span id="4f2a" class="om nm it mf b gy pc oo l op oq"># Convert a list of lists to a DataFrame<br/>my_df = <strong class="mf iu">pd.DataFrame</strong>(my_list_of_list, <strong class="mf iu">columns=df1.columns</strong>)</span><span id="d142" class="om nm it mf b gy pc oo l op oq">df1.append(my_df, ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/eada30af16658de9b4713edb03abd5a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z6iCzswfh_TXSgo8v_wVlg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()追加列表列表(图片由作者提供)</p></figure><h1 id="1ad4" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">3.当列名没有对齐时</h1><p id="f6e1" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">我们已经添加了一个类似数据帧/序列的对象，其列与原始数据帧的列相同。Pandas <code class="fe mc md me mf b">append()</code>允许我们添加带有缺失/新列的数据集。</p><h2 id="089e" class="om nm it bd nn or os dn nr ot ou dp nv lz ov ow nx ma ox oy nz mb oz pa ob pb bi translated">3.1缺少的列</h2><p id="c15c" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">如果DataFrame、Series或dict中缺少列，则它们的值将作为输出中的<code class="fe mc md me mf b">NA</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pq"><img src="../Images/ca651efa13fad2200ba35feb119601d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rr3cRtnMrLO0TAHZsXPFtg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()追加一个缺少列的数据帧(图片由作者提供)</p></figure><p id="ff56" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated"><strong class="lf iu"> 3.2新增栏目</strong></p><p id="8556" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">如果我们在DataFrame、Series或dict中传递新的列名，那么新的列将在原始DataFrame上创建。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pr"><img src="../Images/166cf6ad92d52bbd72146f2eca995d93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dmZhcndZGL5ElZ3EK205zQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()用新列追加数据帧(图片由作者提供)</p></figure><h1 id="54e8" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">4排序列名，sort=True</h1><p id="813b" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">默认情况下，Pandas <code class="fe mc md me mf b">append()</code>方法将遵循原始DataFrame的列顺序。如果我们希望输出按字母顺序排序，我们可以将参数<code class="fe mc md me mf b">sort</code>设置为<code class="fe mc md me mf b">True</code>:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="c832" class="om nm it mf b gy on oo l op oq">df1.append(my_dict_list, ignore_index=True, <strong class="mf iu">sort=True</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ps"><img src="../Images/a228fdf4700dbb76c02031265cdc1818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Phm6J3mqN_ybApLlpCMQqQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()，sort=True(图片由作者提供)</p></figure><h1 id="df65" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">5避免verify_integrity=True的重复索引</h1><p id="6ff9" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">熊猫<code class="fe mc md me mf b">append()</code>中有一个参数<code class="fe mc md me mf b">verify_integrity</code>用来配置输出是否允许重复索引。<code class="fe mc md me mf b">verify_integrity</code>默认为<code class="fe mc md me mf b">False</code>，表示输出允许重复索引。我们可以将它设置为<code class="fe mc md me mf b">True</code>,以便在两行或更多行具有相同的索引时引发一个错误。例如，它抱怨重复的索引值<code class="fe mc md me mf b"><strong class="lf iu">[1]</strong></code>:</p><pre class="kj kk kl km gt oi mf oj ok aw ol bi"><span id="1629" class="om nm it mf b gy on oo l op oq"># Create a DataFrame<br/>df2 = pd.DataFrame({<br/>    'name': ['E', 'F', 'G', 'H'],<br/>    'math': [66,95,83,66],<br/>    'physics': [60,89,82,70],<br/>    'chemistry': [90,81,78,90]<br/>}, index=[<strong class="mf iu">1</strong>, 4, 5, 6])</span><span id="160b" class="om nm it mf b gy pc oo l op oq"># Error Message<br/>df1.append(df2, <strong class="mf iu">verify_integrity=True</strong>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pt"><img src="../Images/0dd34d6df6fcf9f5b53db5d79d549cb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7AW41SgqO2WRchumISBw-Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫append()，verify_integrity=True(图片由作者提供)</p></figure><h1 id="5b86" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">结论</h1><p id="ff35" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">在本文中，我们已经讨论了5个使用熊猫<code class="fe mc md me mf b">append()</code>在当前数据帧末尾添加行的用例。该方法本身使用起来非常简单，是数据预处理中组合数据的最受欢迎的方法之一。</p><p id="ab00" class="pw-post-body-paragraph lc ld it lf b lg lh ju li lj lk jx ll lz ln lo lp ma lr ls lt mb lv lw lx ly im bi translated">感谢阅读。请查看<a class="ae ky" href="https://github.com/BindiChen/machine-learning/blob/master/data-analysis/055-pandas-append/pandas-append.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>获取源代码，如果您对机器学习的实用方面感兴趣，请继续关注。更多教程可从<a class="ae ky" href="https://github.com/BindiChen/machine-learning" rel="noopener ugc nofollow" target="_blank"> Github Repo </a>获得。</p><h1 id="217b" class="nl nm it bd nn no ph nq nr ns pi nu nv jz pj ka nx kc pk kd nz kf pl kg ob oc bi translated">参考</h1><p id="4977" class="pw-post-body-paragraph lc ld it lf b lg od ju li lj oe jx ll lz of lo lp ma og ls lt mb oh lw lx ly im bi translated">[1] <a class="ae ky" href="https://www.displayr.com/what-is-data-merging/" rel="noopener ugc nofollow" target="_blank">什么是数据合并？</a></p></div></div>    
</body>
</html>