<html>
<head>
<title>Best Practices In ML Observability for Customer Lifetime Value (LTV) Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">客户终身价值(LTV)模型的ML可观察性的最佳实践</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/best-practices-in-ml-observability-for-customer-lifetime-value-ltv-models-c5a2fc063f4c#2022-01-05">https://towardsdatascience.com/best-practices-in-ml-observability-for-customer-lifetime-value-ltv-models-c5a2fc063f4c#2022-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div class="gh gi io"><img src="../Images/cd0882a38eeb76f7c627d32a7dbe0726.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*g0gBahxwGD57XilwdprXzA.png"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">图片作者(<a class="ae iz" href="https://arize.com/" rel="noopener ugc nofollow" target="_blank">艾瑞泽艾</a>)</p></figure><div class=""><h1 id="5b4e" class="pw-post-title ja jb jc bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy bi translated">客户终身价值(LTV)模型的ML可观察性的最佳实践</h1></div><div class=""><h2 id="19c4" class="pw-subtitle-paragraph jz jb jc bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">提高LTV模型生产性能的技巧</h2></div><p id="5b47" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">古老的谚语仍然适用:客户永远是正确的，但有些人比其他人更正确(这是谚语，对不对？).虽然在任何组织中有许多指标可以评估客户的价值，但在评估公司整体销售活动的健康程度时，<strong class="kt jd">客户终身价值(LTV) </strong>是一个需要考虑的重要指标。特别是在像包装消费品或零售这样的行业中，客户与企业的关系本质上是非契约性的，找到一种预测未来购买行为的方法对于提高组织的整体盈利能力至关重要。</p><p id="3253" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">客户终身价值就是客户在整个生命周期内与企业进行的交易或购买的总货币价值。这是对客户对公司价值的一种衡量，不仅仅是基于单次购买，而是在整个关系中。</p><p id="4d98" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">简史:LTV计算在20世纪80年代由沃顿商学院的Peter Fader博士首先创建，在21世纪初普及，并被翻译成机器学习模型，方便地打包到开源库<a class="ae iz" href="https://pypi.org/project/Lifetimes/" rel="noopener ugc nofollow" target="_blank"><em class="ln"/></a><em class="ln">。</em>由于LTV是基于预测来评估参与模式的，因此使用ML是一个自然的选择。</p><p id="b210" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">LTV模型被广泛应用于各种规模的行业来评估客户的预期价值。像任何估计一样，预测可能会出错。了解这些预测如何与现实世界结合以微调您的模型来获得最佳性能至关重要。</p><h1 id="d358" class="lo lp jc bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">事实真相:数学形式的LTV</h1><p id="78df" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">LTV =((平均销售✕购买频率)/流失率))✕利润率</p><ol class=""><li id="65e0" class="ml mm jc kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">平均销售额=(总销售额)/(订单总数)</li><li id="b0cb" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">购买频率=(订单总数)/(唯一客户总数)</li><li id="211b" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">流失= 1 -保留率</li><li id="a5d9" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">利润率=基于业务环境</li></ol><h1 id="226a" class="lo lp jc bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">LTV的意义</h1><p id="3fb3" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">从提高整体业务盈利能力到预测创业收入，LTV的主要应用围绕规划和预算。</p><p id="baa0" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">根据Criteo的一项调查，81%的营销人员说监控LTV可以促进销售。在<em class="ln">营销度量</em>一书中提到，卖给新的潜在客户的概率是5%–20%，而卖给现有客户的几率是60%–70%。因此，通过预测LTV，你可以让你的团队了解如何获得新客户并留住现有客户，同时保持可观的利润率。更具体地说，LTV可以帮助组织:</p><ul class=""><li id="0fe9" class="ml mm jc kt b ku kv kx ky la mn le mo li mp lm mz mr ms mt bi translated">定义营销目标</li><li id="a3b8" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">了解参与的正确渠道</li><li id="a11c" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">计划支出以降低采购成本，并保持较高的保留率</li><li id="72a7" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">寻找具有相似特质的顾客</li><li id="c1a3" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">获得客户反馈</li><li id="198b" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">提升客户忠诚度</li></ul><p id="d6fd" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果使用得当，LTV模型可以在商业中发挥重要作用。由于LTV模型的预测有助于构建和定义业务范围内的目标，因此对这些模型进行监控和故障排除以确保它们在生产中发挥最佳性能至关重要。</p><h1 id="f223" class="lo lp jc bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">监控LTV模型的挑战</h1><p id="130a" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">那么，什么会出错呢？LTV的主要关注点是寻找、培养和留住在一段不确定的时间内创造最大价值的客户:消费者的生命周期。因此，LTV模型必须迭代并快速估计长期价值，而实际数据却明显滞后或根本没有。</p><figure class="na nb nc nd gt is gh gi paragraph-image"><div class="ab gu cl ne"><img src="../Images/f2cfd9471624c198ac5c6c14268c09b6.png" data-original-src="https://miro.medium.com/v2/0*k3b2QTilTOyWkYfK"/></div><p class="iv iw gj gh gi ix iy bd b be z dk translated">图片来源:<a class="ae iz" href="https://arize.com/resource/ebook-machine-learning-observability-101/" rel="noopener ugc nofollow" target="_blank"> ML监测与可观测性</a>电子书，艾瑞泽AI</p></figure><p id="4866" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在生产中监控模型时，设置适当的基线对于测量漂移和检测生产中模型行为的偏差是必不可少的。通常，使用训练或验证数据来设置基线，以测量不同环境中特征值分布、模型预测和基本事实的变化。如果没有有效的监控和可观察性工具来评估延迟地面实况场景情况下的代理指标，解决LTV模型在生产中的性能下降问题可能会被证明是昂贵且耗时的。</p><h1 id="59d1" class="lo lp jc bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">如何对LTV模型使用监控和可观测性</h1><p id="aaef" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">根据前面提到的Criteo调查，采用LTV的最大障碍之一是它太复杂，难以监控。虽然这是历史上的情况，但实现ML可观测性可以显著地消除这一困难。</p><p id="6846" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">监控LTV模型的一个主要挑战是发现代理指标来代替延迟的实际值。LTV模型通常在相当长的时间内评估客户的价值，因此将基础数据映射到模型的预测可能是一个挑战(在下面的部分中有更多关于代理指标的信息)。</p><p id="7133" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">为了让从业者在生产中轻松部署和改进他们的LTV模型性能，他们的<a class="ae iz" href="https://arize.com/resource/arize-platform-demo/" rel="noopener ugc nofollow" target="_blank"> ML可观测性平台</a>应该:</p><ol class=""><li id="902c" class="ml mm jc kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated">设置基线监视器</li><li id="ef08" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">评估特征、模型和实际/地面真实漂移</li><li id="b6c7" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated">衡量模型性能</li></ol><h2 id="adad" class="nf lp jc bd lq ng nh dn lu ni nj dp ly la nk nl ma le nm nn mc li no np me nq bi translated">监控LTV模型</h2><p id="048d" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">积极改进LTV模型的第一步是在生产中监控您的模型。那么，监督意味着什么呢？一个<a class="ae iz" href="https://arize.com/resource/machine-learning-observability-checklist/" rel="noopener ugc nofollow" target="_blank">有效的ML监控平台</a>应该<em class="ln">自动</em>配置最适合您的数据的监控器，以主动检测漂移、数据质量和性能问题。手动设置阈值和创建监视器的日子已经一去不复返了。</p><h2 id="6258" class="nf lp jc bd lq ng nh dn lu ni nj dp ly la nk nl ma le nm nn mc li no np me nq bi translated">通过特征和模型漂移验证模型性能下降</h2><p id="70d9" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">为了了解您的LTV模型的性能下降，监控功能和<a class="ae iz" href="https://arize.com/model-drift/" rel="noopener ugc nofollow" target="_blank">模型漂移</a>是有益的。这意味着在各种环境和版本之间分析您的模型，以识别LTV模式和异常分布行为。通过利用覆盖了您选择的指标的随时间漂移小部件，<a class="ae iz" href="https://arize.com/blog/monitor-your-model-in-production/" rel="noopener ugc nofollow" target="_blank">模型性能管理</a>变得更加高效和可行。虽然LTV模型的主要问题之一是延迟或没有真实数据，但您可以使用漂移作为代理指标来分析您的模型的相对表现。</p><h2 id="eab8" class="nf lp jc bd lq ng nh dn lu ni nj dp ly la nk nl ma le nm nn mc li no np me nq bi translated">要测量的漂移类型:</h2><ol class=""><li id="677c" class="ml mm jc kt b ku mg kx mh la nr le ns li nt lm mq mr ms mt bi translated"><strong class="kt jd">特性漂移</strong>:输入数据固有的变化(这是游戏的名字)。监控您的要素，以快速了解您的输入是否明显偏离您的模型的训练内容，以及您是否需要重新训练或构建新模型。</li><li id="c3ae" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><strong class="kt jd">模型漂移</strong>:测量您的模型的输出是否如生产中预期的那样执行。根据以下因素发现您的模型是否有偏差:</li></ol><ul class=""><li id="7b14" class="ml mm jc kt b ku kv kx ky la mn le mo li mp lm mz mr ms mt bi translated">培训/验证环境</li><li id="9a58" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">历史生产时期</li><li id="3099" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mz mr ms mt bi translated">滚动生产窗口</li></ul><h2 id="e7c7" class="nf lp jc bd lq ng nh dn lu ni nj dp ly la nk nl ma le nm nn mc li no np me nq bi translated">揭示不准确预测的根本原因</h2><p id="02ae" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">假设你的LTV模型漂移了。您的监控解决方案触发了警报，现在由您来找出问题所在。下一步是什么？您将希望快速找到问题的根本原因来解决问题，通常是通过重新训练模型并将其与生产中的现有模型进行比较。</p><p id="6839" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">这可以通过ML observability来实现，ML observability可以使用性能热图进行更深入的分析，以便更好地了解和直观地了解从哪里开始对与您的LTV模型相关的问题进行故障排除。对于最简单的工作流程，<a class="ae iz" href="https://arize.com/ml-observability/" rel="noopener ugc nofollow" target="_blank"> ML observability </a>允许您使用特征/值组合深入研究低性能切片，以便了解如何改进您的模型。</p><h2 id="3f3a" class="nf lp jc bd lq ng nh dn lu ni nj dp ly la nk nl ma le nm nn mc li no np me nq bi translated">模型性能</h2><p id="dc37" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">即使您对生产中的模型有最大的信心，积极地改进您的模型并监控模型性能有助于整体业务成果。</p><p id="f652" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">在LTV案例中，我们基于几个关键指标评估模型性能:</p><ol class=""><li id="ebf9" class="ml mm jc kt b ku kv kx ky la mn le mo li mp lm mq mr ms mt bi translated"><a class="ae iz" href="https://arize.com/glossary/root-mean-square-error-rmse/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd">【均方根误差】(RMSE) </strong> </a> <strong class="kt jd"> : </strong>模型预测值与实际值之差的平方根，经过平方并在整个数据集中取平均值。这种方法对重大错误给予更高的权重，因此，在企业可能希望严重惩罚大错误或异常值的情况下，这种方法可能会有所帮助。</li><li id="aaea" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><a class="ae iz" href="https://arize.com/glossary/mean-absolute-percentage-error/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd">平均绝对百分比误差(MAPE) </strong> </a> <strong class="kt jd"> : </strong>衡量一个模型产生的误差的平均大小；MAPE是LTV模型预测准确性的一个更常见的度量标准。</li><li id="d0f4" class="ml mm jc kt b ku mu kx mv la mw le mx li my lm mq mr ms mt bi translated"><a class="ae iz" href="https://arize.com/glossary/mean-absolute-error/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd">平均绝对误差(MAE) </strong> </a> <strong class="kt jd"> : </strong>模型预测值与实际值之间的绝对值差，在整个数据集内取平均值。对模型性能的“第一印象”,因为它没有被一些预测的极端误差所扭曲。</li></ol><p id="e16a" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">当选择要测量的性能指标时，使用哪个指标没有统一的答案；它依赖于您的模型和它吸收的数据。一旦您决定了您的性能指标，每天或每周跟踪您的模型性能指标允许您确保性能不会从模型训练时或模型最初被提升到生产时急剧下降。ML可观察性帮助您跟踪这些重要的指标，如果出现问题就触发警报，并通过自省来发现潜在的问题。</p><p id="2b3d" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated"><strong class="kt jd">结论</strong></p><p id="fb93" class="pw-post-body-paragraph kr ks jc kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">通过发现漂移、了解模型性能并轻松识别潜在生产问题的根本原因，ML工程师可以满怀信心地运输他们的LTV模型，并改善整体业务成果。虽然监控和观察生产模型似乎并不简单(剧透警告:事实并非如此),并且可能成为运输模型的障碍(确实如此),<a class="ae iz" href="https://arize.com/blog/the-only-3-ml-tools-you-need/" rel="noopener ugc nofollow" target="_blank"> MLOps工具链</a>中的解决方案可以简化<a class="ae iz" href="https://arize.com/model-monitoring/" rel="noopener ugc nofollow" target="_blank">模型监控</a>和故障排除。实现最大似然可观测性有助于确保LTV模型的预测通过自动监视器保持最佳状态，监视特征和模型漂移，并随时间可视化模型性能。作为额外参考，以下是ML可观察性平台如何帮助客户处理<a class="ae iz" href="https://docs.arize.com/arize/resources/use-cases/customer-lifetime-value" rel="noopener ugc nofollow" target="_blank">客户终身价值模型监控</a>和可观察性。</p><h1 id="b70b" class="lo lp jc bd lq lr ls lt lu lv lw lx ly ki lz kj ma kl mb km mc ko md kp me mf bi translated">联系我们</h1><p id="de39" class="pw-post-body-paragraph kr ks jc kt b ku mg kd kw kx mh kg kz la mi lc ld le mj lg lh li mk lk ll lm ij bi translated">如果这篇博客引起了你的注意，并且你渴望了解更多关于<a class="ae iz" href="https://arize.com/ml-observability/" rel="noopener ugc nofollow" target="_blank">机器学习可观察性</a>和<a class="ae iz" href="https://arize.com/model-monitoring/" rel="noopener ugc nofollow" target="_blank">模型监控</a>，请查看我们的其他<a class="ae iz" href="https://arize.com/blog/" rel="noopener ugc nofollow" target="_blank">博客</a>和关于<a class="ae iz" href="https://arize.com/ml-observability/" rel="noopener ugc nofollow" target="_blank"> ML监控</a>的资源！如果您有兴趣加入一个有趣的rockstar工程团队，帮助模型成功生产，请随时<a class="ae iz" href="https://arize.com/contact/" rel="noopener ugc nofollow" target="_blank">联系</a>我们，并在此处<a class="ae iz" href="https://arize.com/careers/" rel="noopener ugc nofollow" target="_blank">找到我们的空缺职位</a>！</p></div></div>    
</body>
</html>