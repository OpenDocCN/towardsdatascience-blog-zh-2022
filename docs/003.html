<html>
<head>
<title>Top Python Libraries for Visualization: A Starting Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">可视化顶级Python库:入门指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/top-python-libraries-for-visualization-a-starting-guide-73402178811b#2022-01-01">https://towardsdatascience.com/top-python-libraries-for-visualization-a-starting-guide-73402178811b#2022-01-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="68d5" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">可视化顶级Python库:入门指南</h1></div><div class=""><h2 id="a470" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">Python中散点图、热图、脊线图和线图绘制指南</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a02dd52018ca891e3c6cf2e55b63779b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y7-6ni-MqllfGbiW9pHMqg@2x.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">丹尼尔·奥拉在Unsplash上的图片。</p></figure><p id="3b71" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi lr translated">鉴于Python中有大量的库和数据可视化的可能性，对于该领域的新手来说，浏览这些库很快就会变得困难，甚至有些力不从心。有大量的选项可供选择，但是知道哪一个适合你(以及为什么)是有效展示数据的重要一步。在本文中，我们将重点关注几个用于有效数据可视化的关键库，并提供了在任何数据集中实现的清晰工作示例。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="a8ae" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated"><strong class="ak">什么是数据可视化？</strong></h1><p id="9974" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">通俗地说，数据可视化是利用图形显示来显示原始数据的“艺术”。更具体地说，它对于探索数据结构、检测异常值、趋势和聚类以降低数据复杂性非常有用。因此，有效的数据可视化将有助于在人脑易于理解的视觉环境中向目标受众传达数据。</p><p id="3e70" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">数据可视化的前景将会持续下去，并随着技术的进步而继续发展，在科学出版物、媒体和网站展示中留下越来越显著的足迹。更精确的复制、更好的颜色(包括阿尔法混合)和更快的绘图是过去十年中迅速改进的一些变量。</p><blockquote class="ne nf ng"><p id="d5c8" class="kv kw nh kx b ky kz jr la lb lc ju ld ni lf lg lh nj lj lk ll nk ln lo lp lq ij bi translated"><a class="ae nl" href="https://hdsr.mitpress.mit.edu/pub/zok97i7p/release/3" rel="noopener ugc nofollow" target="_blank">此外，在开发图形理论方面也取得了进展，如威尔金森的<em class="iq"> Grammar of Graphics </em> (2005)和哈德利·威克姆在R包ggplot2中对其的实现(威克姆，2016)。在这样做的过程中，过去很少使用且难以绘制的图形，如平行坐标图(如Theus，2015)和镶嵌图(如Unwin，2015)，现在都得到了完善和发展。</a></p></blockquote><h1 id="44da" class="mh mi iq bd mj mk nm mm mn mo nn mq mr jw no jx mt jz np ka mv kc nq kd mx my bi translated"><strong class="ak">为什么要用Python进行数据可视化？</strong></h1><p id="4d9e" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">有许多用于数据可视化的非代码工具，比如Tableau、Power BI、ChartBlocks、Prism等等。然而，即使编程是必需的，Python也是数据科学家的首选语言之一，因为它具有可视化功能。这还伴随着用于数据操作和转换的数据收集和探索库(例如Pandas、NumPy、SciPy)。Python已经有了许多可用于可视化的库和特性，由于其庞大的用户群和开源特性，这些库和特性还将继续增长。随着技术领域的不断发展，Python在未来几年内将继续保持其作为数据科学家首选语言的地位。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="a79b" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">库安装和数据集准备</h1><p id="0008" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">用Python绘制统计图形的方法有很多，但是我更喜欢用下面列出的库来创建。在本文中，我们将使用以下工具重点绘制热图、散点图、折线图和脊线图:</p><ul class=""><li id="a23e" class="nr ns iq kx b ky kz lb lc le nt li nu lm nv lq nw nx ny nz bi translated">快乐</li><li id="5b15" class="nr ns iq kx b ky oa lb ob le oc li od lm oe lq nw nx ny nz bi translated">海生的</li><li id="c117" class="nr ns iq kx b ky oa lb ob le oc li od lm oe lq nw nx ny nz bi translated">plotly.express</li></ul><p id="494e" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><em class="nh">出于一般兴趣，我总结了关键的库信息，并提供了源文档的链接:</em></p><ul class=""><li id="997b" class="nr ns iq kx b ky kz lb lc le nt li nu lm nv lq nw nx ny nz bi translated"><a class="ae nl" href="https://plotly.github.io/plotly_express/" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Plotly Express </strong> </a>是一个高级Python可视化库，作为<a class="ae nl" href="https://plot.ly/python/" rel="noopener ugc nofollow" target="_blank"> Plotly.py </a>的包装器，为复杂的图表提供简单的语法。它可以用于在一个函数调用中制作丰富的交互式绘图，包括分面、地图、动画和趋势线。Plotly Express也完全兼容Plotly生态系统的其余部分。</li><li id="0196" class="nr ns iq kx b ky oa lb ob le oc li od lm oe lq nw nx ny nz bi translated"><a class="ae nl" href="https://github.com/mwaskom/seaborn" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Seaborn </strong> </a>构建在matplotlib之上，通过捕获整个数据帧或包含数据的数组来工作，并执行必要的内部函数进行语义映射和统计聚合，以生成信息丰富的图。</li><li id="95bc" class="nr ns iq kx b ky oa lb ob le oc li od lm oe lq nw nx ny nz bi translated"><a class="ae nl" href="https://github.com/leotac/joypy" rel="noopener ugc nofollow" target="_blank"> <strong class="kx ir"> Joypy </strong> </a>是一个基于matplotlib和pandas的单功能Python包，目的只有一个:绘制joyplots(即脊线图)。这个库对于以清晰的方式可视化数据分布非常有用。</li></ul><h2 id="0d06" class="of mi iq bd mj og oh dn mn oi oj dp mr le ok ol mt li om on mv lm oo op mx oq bi translated">库安装</h2><p id="39da" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated"><em class="nh">如果还没有，请运行以下命令行通过终端安装这些库:</em></p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="b21e" class="of mi iq os b gy ow ox l oy oz">pip install seaborn<br/>pip install joypy<br/>pip install plotly</span></pre><p id="d5ad" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完成后，我们将导入以下结节，然后继续:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="0112" class="of mi iq os b gy ow ox l oy oz">import numpy as np<br/>import pandas as pd<br/>import seaborn as sns<br/>from joypy import joyplot<br/>import plotly.express as px<br/>from scipy import stats<br/>import matplotlib.pyplot as plt</span></pre><h2 id="2665" class="of mi iq bd mj og oh dn mn oi oj dp mr le ok ol mt li om on mv lm oo op mx oq bi translated">加载数据集</h2><p id="ad9b" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">没有数据，我们无法想象任何东西。因此，在我们逐步完成一系列绘图示例之前，我们将使用<code class="fe pa pb pc os b">seaborn</code>库加载以下关于航班的内置(常用)python数据集:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="00c0" class="of mi iq os b gy ow ox l oy oz"># Load a dataframe<br/>flights_data = sns.load_dataset("flights")</span><span id="558d" class="of mi iq os b gy pd ox l oy oz"># Display dataset<br/>flights_data.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/b1965c47aa42d900b1f25a460634dd9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*z8s9fhSzr0KglkqdOyNrug.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">航班数据数据框示例。图片由作者提供。</p></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="1dfb" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">散点图</h1><p id="561f" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">可以使用<code class="fe pa pb pc os b">plotly.express</code>制作基本散点图，灵活地改变其宽度和高度，以获得更佳的图像输出。模板也可以从<code class="fe pa pb pc os b">simple_white</code>更改为包含网格和更深的颜色:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="ea18" class="of mi iq os b gy ow ox l oy oz">px.scatter(flights_data, x=”year”, y=”passengers”, width=700, height=600,template=”simple_white”)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/6aa39ab44b25ac2f9a735d1f436b9e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*WpR7D4A5vRQatLmY7vNkOw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者使用plotly.express. Image的基本散点图示例。</p></figure><p id="1fc1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">值得注意的是，<code class="fe pa pb pc os b">plotly.express</code>非常适合颜色排序，这就是为什么我更喜欢用它来可视化分组数据。您还可以选择将颜色从离散颜色序列(如下所示)更改为连续颜色方案，这对于连续数据测量非常有效。总的来说，不同的颜色可以赋予不同的数据组，以提高视觉清晰度。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="b166" class="of mi iq os b gy ow ox l oy oz">#group data <br/>flights_data.loc[flights_data.year &lt;= 1954 , 'group'] = '&lt;= 1954'<br/>flights_data.loc[flights_data.year &gt; 1954 , 'group'] = '&gt; 1954'<br/> <br/>#re-plot data with discrete color scheme<br/>px.scatter(flights_data, x="year", y="passengers", width=700, height=600, template="simple_white", color="group", color_discrete_sequence=['red','blue'])</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pg"><img src="../Images/2dd3c697b709a8df6f557d69f011553f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QuGOhFInLyrCV1mM08p6Bg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Plotly.express带组显示的散点图。红色和蓝色分别对应≤ 1954和&gt; 1954飞行年。图片由作者提供。</p></figure><p id="f20d" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您和我一样，不喜欢散点图的默认美学，这里有一些有用的示例，可以用来更改刻度长度、字体大小、轴标题、标记颜色等等:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="b5f6" class="of mi iq os b gy ow ox l oy oz">#size dimension change<br/>fig1 = px.scatter(flights_data, x="year", y="passengers", width=700, height=450,template="simple_white", color="group",color_discrete_sequence=['red','blue'])</span><span id="1a71" class="of mi iq os b gy pd ox l oy oz">#tick font and size change<br/>fig1.update_layout(<br/>yaxis = dict(<br/>tickfont = dict(size=20)),<br/>xaxis = dict(<br/>tickfont = dict(size=20)),<br/>font_family="Arial")</span><span id="1909" class="of mi iq os b gy pd ox l oy oz">#x-axis title and size + tick length changes<br/>fig1.update_xaxes(<br/>title_text = "Year of flight",<br/>title_font = {"size": 20},<br/>title_standoff = 15, ticklen=10)</span><span id="b1bd" class="of mi iq os b gy pd ox l oy oz">#y-axis title and size + tick length and value changes<br/>fig1.update_yaxes(<br/>title_text = "Passengers",<br/>title_font = {"size": 20},<br/>title_standoff = 15, ticklen=10, tickvals=list(range(0,700,100)))</span><span id="f194" class="of mi iq os b gy pd ox l oy oz">#marker size, outline and color change <br/>fig1.update_traces(marker=dict(size = 9,<br/>line=dict(width=0.8, color='white')),<br/>selector=dict(mode='markers'))</span><span id="99af" class="of mi iq os b gy pd ox l oy oz">#legend off <br/>fig1.update_layout(showlegend=False)<br/>    <br/>fig1.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ph"><img src="../Images/44a3872916e3eabe67e1f586ae71bd40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3rlns97U3azr84tIZguS5g.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者使用plotly.express. Image调整了标记和字体大小，以及刻度长度和字体样式。</p></figure><p id="824b" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">值得注意的是，您可以从<code class="fe pa pb pc os b">px.colors.qualitative</code>模块中选择以下任何内置的定性颜色序列，或者定义您自己的颜色序列:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pi"><img src="../Images/13ebe5375d4fb74e33c1e9bba3320ac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6J65i45JmYm3ZFy0Pco7fQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">ploty.express调色板示例。图片由<a class="ae nl" href="https://plotly.com/python/discrete-color/" rel="noopener ugc nofollow" target="_blank">绘声绘色</a>。</p></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="b5c6" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">线形图</h1><p id="a767" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">尽管<code class="fe pa pb pc os b">plotly.express</code>可以选择添加趋势线，这里我们展示了如何使用<code class="fe pa pb pc os b">seaborn</code>库对现有数据实现<strong class="kx ir">填充的</strong>趋势线。这对于可视化变量之间的关系特别有帮助。在年份和乘客变量的情况下，可以看到线性关系，因此趋势线将有助于加强这一点。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="63e9" class="of mi iq os b gy ow ox l oy oz">#use lmplot to plot scatter points<br/>sns.set(font_scale = 1.6)<br/>sns.set_style("white")<br/>fig2 = sns.lmplot(data = flights_data, x="year", y="passengers", height=5, aspect=1.64, legend=False, line_kws={'color': 'black'}, scatter_kws={"color": "black"})</span><span id="2ac8" class="of mi iq os b gy pd ox l oy oz">#change axis titles<br/>fig2.set(xlabel='Year of flight', ylabel='Passengers')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/052a6a48f9bf2248375966d0c23150fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*nwvg1wa_bVOfUEcGHb94BA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带有填充趋势线的seaborn散点图示例。图片由作者提供。</p></figure><p id="9679" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了保持先前数据组的配色方案，我们可以为特定的数据点指定颜色。填充了<strong class="kx ir">的</strong>趋势线也可以应用于整个数据集，如下所示:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="4dca" class="of mi iq os b gy ow ox l oy oz">#get coeffs of linear fit<br/>slope, intercept, r_value, p_value, std_err = stats.linregress(flights_data['year'],flights_data['passengers'])</span><span id="587f" class="of mi iq os b gy pd ox l oy oz">#use lmplot to plot scatter points<br/>sns.set(font_scale = 1.6)<br/>sns.set_style("white")<br/>sns.lmplot(data = flights_data, x="year", y="passengers", height=5, aspect=1.64, hue="group", fit_reg= False, legend=False, palette=["red","blue"])</span><span id="04ab" class="of mi iq os b gy pd ox l oy oz">#use regplot to plot the regression line and use line_kws to set line label for legend<br/>fig3 = sns.regplot(data = flights_data, x="year", y="passengers", scatter_kws={"zorder":-1}, line_kws={'label':"y={0:.1f}x+{1:.1f}".format(slope,intercept)}, color="black")</span><span id="220f" class="of mi iq os b gy pd ox l oy oz">#change axis titles<br/>fig3.set(xlabel='Year of flight', ylabel='Passengers')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/9441bd799d8623157dc3d98d285f40b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*l3Ws8RrcOj28eilqJlHJPw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">第1组和第2组的Seaborn散点图，带有填充的趋势线和不同的配色方案。图片由作者提供。</p></figure><p id="f709" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">或者，可以使用以下代码将单独的填充趋势线应用于每个组:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="5cab" class="of mi iq os b gy ow ox l oy oz">#use lmplot to plot scatter points<br/>sns.set(font_scale = 1.6)<br/>sns.set_style("white")<br/>fig4 = sns.lmplot(data = flights_data, x="year", y="passengers", height=5, aspect=1.64, hue="group", palette=["red","blue"], legend = False)</span><span id="f30f" class="of mi iq os b gy pd ox l oy oz">#change axis titles<br/>fig4.set(xlabel='Year of flight', ylabel='Passengers')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/211c558ec383061d5b659e2d68847d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*HVOkwwoIgfFBAWacdEu1Qg.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用色调填充趋势线的Seaborn散点图。图片由作者提供。</p></figure><p id="50a3" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在所有情况下，为了简化数据，每个相应x值的所有y值的平均值(或中值)可以显示如下:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="75e5" class="of mi iq os b gy ow ox l oy oz">#set fontsize<br/>sns.set(font_scale = 1.6)<br/>sns.set_style("white")</span><span id="ce4a" class="of mi iq os b gy pd ox l oy oz">fig5 = sns.regplot(data = flights_data, x="year", y="passengers", x_estimator=np.mean, color = "black")</span><span id="60be" class="of mi iq os b gy pd ox l oy oz">#set fig size<br/>fig5.figure.set_size_inches(8.2, 4.5)</span><span id="e2a7" class="of mi iq os b gy pd ox l oy oz">#change axis titles<br/>fig5.set(xlabel='Year of flight', ylabel='Passengers') </span><span id="c174" class="of mi iq os b gy pd ox l oy oz">#despine<br/>sns.despine()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pm"><img src="../Images/94d40b1f4d6bfbaddeab94926550256a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*g6y2XTcSYtCaLEkbVBNAXw.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Seaborn散点图，填充趋势线，x_estimator = np.mean。图片由作者提供。</p></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="58d6" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">脊线图</h1><p id="b34a" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">观察折线图和散点图很容易看出，各组内的数据分布有很大差异。<em class="nh">Python中的Joyplots或ridgeline plots </em>是可视化所述分布的绝佳方法，同时提供对分布类型(如正态、伽玛、贝塔)的洞察。作为复习，可以在<a class="ae nl" href="https://medium.com/@srowen/common-probability-distributions-347e6b945ce4" rel="noopener"> <strong class="kx ir">这里</strong> </a>找到这些的精彩总结。</p><p id="1aaf" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我特别喜欢用Python可视化joyplots或ridgeline plots的一个库是— <code class="fe pa pb pc os b">joypy.</code>它归结为一个函数调用，使其易于使用和修改。</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="0e2a" class="of mi iq os b gy ow ox l oy oz"># x variables to plot with corresponding text<br/>xvar = ['year', 'passengers']<br/>xlabel = ['Year of flight', 'Passengers']</span><span id="ad0b" class="of mi iq os b gy pd ox l oy oz">for x,xlabel in zip(xvar,xlabel):<br/>    joyplot(data = flights_data[[x, "group"]], <br/>            by="group", figsize=(10, 4), <br/>            labels = ["Group 1","Group 2"],<br/>            linecolor = 'black',<br/>            color = ['red','blue'], <br/>            alpha = 0.85, <br/>            linewidth=3, overlap = 0.9)<br/>    plt.rc("font", size=24)<br/>    plt.xlabel(xlabel, fontsize = 24)<br/>    plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pn"><img src="../Images/55b299f1b2ef5b7bde57b6828a3dc7c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*rwfg3Tex3VpElqkL0zfOKA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">组1和组2的脊线图示例。图片由作者提供。</p></figure><p id="8ec1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">当然，这是两个任意组的一个简化的脊线图，你能用这个库做的事情取决于用户。更多文档可在<a class="ae nl" rel="noopener" target="_blank" href="/ridgeline-plots-the-perfect-way-to-visualize-data-distributions-with-python-de99a5493052"> <strong class="kx ir">此处</strong> </a>找到，并提供更多示例以获取灵感。</p></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="6628" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">热图</h1><p id="98d1" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">热图可以通过彩色编码叠加提供数据集的简化摘要。为了实现这一点，<code class="fe pa pb pc os b">seaborn</code>库为热图绘制提供了多种选项。</p><p id="cab5" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">对于这个例子，我已经通过<code class="fe pa pb pc os b">“year”</code>对数据集进行了分组，并将均值和中值输出生成到一个连接的数据帧中。这使我能够在生成热图之前简化数据集:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="b2da" class="of mi iq os b gy ow ox l oy oz">#grouped flights_data and calculated mean<br/>grouped_df = flights_data.groupby("year")<br/>mean_df = grouped_df.mean()<br/>mean_df.rename({'passengers': 'Mean'}, axis=1, inplace=True)<br/>mean_df = mean_df.reset_index()</span><span id="df89" class="of mi iq os b gy pd ox l oy oz">#grouped flights_data and calculated median<br/>median_df = grouped_df.median()<br/>median_df.rename({'passengers': 'Median'}, axis=1, inplace=True)<br/>median_df = median_df.reset_index()</span><span id="c45e" class="of mi iq os b gy pd ox l oy oz">#concat dataframes<br/>data_concat = pd.concat([median_df['Median'], mean_df['Mean']], axis=1, ignore_index=False)</span><span id="1a97" class="of mi iq os b gy pd ox l oy oz">#display <br/>data_concat.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/3a9be5541372daee791c592b876d13ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:536/format:webp/1*gE_SytFTDF2gOcW4lueNpA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">data_concat数据帧。图片由作者提供。</p></figure><p id="a922" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完成后，您可以绘制每年的热图:</p><pre class="kg kh ki kj gt or os ot ou aw ov bi"><span id="82fd" class="of mi iq os b gy ow ox l oy oz">#finding y-axis titles<br/>y_axis_labels = flights_data.year.unique()</span><span id="e9c2" class="of mi iq os b gy pd ox l oy oz"># plot heatmap<br/>fig, ax = plt.subplots(figsize=(6,10)) <br/>fig7 = sns.heatmap(data_concat, cmap="vlag", linewidth=0.1, annot=data_concat, fmt=".2f", cbar_kws={'label': 'Passengers', "shrink": .4}, annot_kws={"size": 16}, yticklabels=y_axis_labels)</span><span id="559b" class="of mi iq os b gy pd ox l oy oz"># set yticks and axis label<br/>plt.yticks(rotation=0) <br/>fig7.set(ylabel='Year of flight')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/c62d484fe5a968d6aa747cd8650b37c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*mh3C27e6O5_hcunvaS-hhA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用seaborn库的热图示例。不同的列对应于每个分组飞行年的中间值和平均值。图片由作者提供。</p></figure></div><div class="ab cl ma mb hu mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="ij ik il im in"><h1 id="9491" class="mh mi iq bd mj mk ml mm mn mo mp mq mr jw ms jx mt jz mu ka mv kc mw kd mx my bi translated">结论</h1><p id="c3d0" class="pw-post-body-paragraph kv kw iq kx b ky mz jr la lb na ju ld le nb lg lh li nc lk ll lm nd lo lp lq ij bi translated">当然，数据科学领域有大量可用于数据可视化的工具，这些工具在不断改进和变化。然而，对于任何刚接触Python语言的人来说，保持更新和导航可能是一项有些难以完成的任务。</p><p id="d5d1" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated"><strong class="kx ir">总结一下</strong>——<code class="fe pa pb pc os b">seaborn</code><code class="fe pa pb pc os b">joypy</code>和<code class="fe pa pb pc os b">plotly.express</code>等关键库为初次接触Python数据可视化的人提供了一个有效的起点。在本文中，我们利用这些数据生成散点图、热图、折线图和带有简单数据集的喜悦图。</p><p id="ef22" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我希望你喜欢读这篇文章，就像我喜欢写它一样。</p><p id="5f66" class="pw-post-body-paragraph kv kw iq kx b ky kz jr la lb lc ju ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在接下来的文章中，我将深入研究机器学习和深度学习理论，以及进一步的数据可视化技术。</p></div></div>    
</body>
</html>