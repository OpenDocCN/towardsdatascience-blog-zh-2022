<html>
<head>
<title>How to Validate the Quality of Your Synthetic Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何验证合成数据的质量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-validate-the-quality-of-your-synthetic-data-34503eba6da#2022-01-20">https://towardsdatascience.com/how-to-validate-the-quality-of-your-synthetic-data-34503eba6da#2022-01-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="dabb" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">如何验证合成数据的质量</h1></div><div class=""><h2 id="1360" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">关于如何将ydata-synthetic与great expectations结合起来的教程</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/7e8482057fd5dd489bb2376b9c085850.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Sfu8dzZo7z93_zQw"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kv" href="https://unsplash.com/@pietrozj?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Pietro Jeng </a>拍摄</p></figure><p id="f33c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着机器学习算法和编码框架的快速<a class="ae kv" href="https://www.stateof.ai/" rel="noopener ugc nofollow" target="_blank">进化</a>，高质量数据的缺乏才是AI行业真正的瓶颈。</p><p id="b0b9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://venturebeat.com/2019/07/19/why-do-87-of-data-science-projects-never-make-it-into-production/" rel="noopener ugc nofollow" target="_blank">VentureBeat</a>的Transform 2019预测，87%的人工智能项目永远无法投入生产。根据2017年哈佛商业评论<a class="ae kv" href="https://hbr.org/2017/09/only-3-of-companies-data-meets-basic-quality-standards" rel="noopener ugc nofollow" target="_blank">的一项研究</a>，只有3%的公司数据符合基本质量标准。</p><p id="c8bd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你在人工智能行业工作，这不会让你感到惊讶——我们都有第一手的经验。幸运的是，我们已经看到了由吴恩达开创的范式转变，从以模型为中心的方法转变为以数据为中心的方法。</p><p id="eeb6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果使用得当，<a class="ae kv" href="https://medium.com/ydata-ai/synthetic-data-1cd0ba907609" rel="noopener">合成数据就是这样一种元素</a>，可以帮助实现以数据为中心的方法。合成数据是人工生成的数据，不是从现实世界的事件中收集的。它复制实际数据的统计成分，不包含任何可识别的信息，确保个人隐私。<a class="ae kv" href="https://github.com/ydataai/ydata-synthetic" rel="noopener ugc nofollow" target="_blank">我们针对合成数据ydata-synthetic的开源库</a>只专注于此。我们的用户普遍关心的一个问题是，我们如何确保合成数据符合原始数据的所有质量标准？与保留原始数据的统计属性一样，确保原始数据遵循严格的数据质量标准也是至关重要的。</p><p id="1218" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">幸运的是，我们在<a class="ae kv" href="https://greatexpectations.io/" rel="noopener ugc nofollow" target="_blank"> Great Expectations </a>的朋友已经建立并开源了一个他们称之为共享、开放的数据质量标准的框架。当您的数据团队调整框架时，您就知道新数据会带来什么。</p><p id="6500" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将带您了解一个端到端的用例，在这个用例中，您使用原始数据来训练一个合成数据的模型，使用Great Expectations库根据原始数据验证合成数据的质量标准。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="500d" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">将YData Synthetic和Great Expectations结合在一起</h1><p id="dc6f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">YData Synthetic是一个开源的合成数据引擎。使用不同种类的<a class="ae kv" href="https://medium.com/ydata-ai/generating-synthetic-tabular-data-with-gans-part-1-866705a77302" rel="noopener">生成对抗网络(GANS) </a>，引擎学习原始数据的模式和统计属性。它可以创建与原始数据相似的合成数据的<a class="ae kv" rel="noopener" target="_blank" href="/how-to-generate-synthetic-tabular-data-bcde7c28038a">无限样本。</a></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mw"><img src="../Images/881eefaaa45d88ca82623b923376ce9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zMA1TiYyCPZzM6Cp.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">用<a class="ae kv" href="https://github.com/ydataai/ydata-synthetic/" rel="noopener ugc nofollow" target="_blank"> ydata-synthetic </a>生成合成数据。(图片由作者提供)</p></figure><p id="c2b6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">远大前程是一个工具，用于<a class="ae kv" href="https://docs.greatexpectations.io/docs/reference/core_concepts#expectations" rel="noopener ugc nofollow" target="_blank">验证</a>、<a class="ae kv" href="https://docs.greatexpectations.io/docs/reference/core_concepts#data-docs" rel="noopener ugc nofollow" target="_blank">记录</a>、<a class="ae kv" href="https://docs.greatexpectations.io/docs/reference/core_concepts#profiling" rel="noopener ugc nofollow" target="_blank">分析</a>您的数据，以保持质量并改善团队之间的沟通。它允许用户基于良好的数据样本创建“期望”,并使用这些期望来验证新数据是否符合数据质量标准。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mx"><img src="../Images/edb6bd0ac068913b135787955fced4c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EjrfIZqJmor-QKev.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">带着<a class="ae kv" href="https://docs.greatexpectations.io/docs/guides/expectations/contributing/how_to_contribute_a_new_expectation_to_great_expectations/" rel="noopener ugc nofollow" target="_blank">巨大期望</a>的数据验证。(作者截图)</p></figure><p id="362c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，在本文的范围内，我们保持了简单的介绍，还有更多关于这些库的内容，正如我们所说的，它们正在发展。这个想法是:两个图书馆都在朝着同一个目标努力，在不同的战线上提供大规模的高质量数据。</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><h1 id="a92f" class="lz ma iq bd mb mc md me mf mg mh mi mj jw mk jx ml jz mm ka mn kc mo kd mp mq bi translated">10步指南:如何在你的下一个项目中同时使用这两种工具</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi my"><img src="../Images/c25ac301889d0b30eb02161ce62fae98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GbmnTLJAvckNxVkI.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">综合项目流程图。绿色是远大前程，红色是YData合成。(图片由作者提供)</p></figure><p id="51e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本指南中，我们选择了一个用例示例<a class="ae kv" href="https://colab.research.google.com/github/ydataai/ydata-synthetic/blob/master/examples/regular/gan_example.ipynb" rel="noopener ugc nofollow" target="_blank">“信用卡欺诈数据集——综合少数类。”</a>我们旨在合成具有高度不平衡性的信用卡欺诈数据集的少数类。</p><p id="3e65" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">不平衡的类数据是构建模型时的常见问题，为少数类生成合成数据有助于开发更准确的模型。但是，我们需要确保新生成的数据点保持与原始少数民族类数据点相同的质量标准。</p><p id="c84b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将通过使用YData Synthetic生成合成数据并通过Great Expectations进行验证来解决这个问题。</p><p id="5dc5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们开始之前，为了跟随教程，我们建议您创建一个虚拟环境，并通过在您的终端上运行以下命令来pip安装ydata-synthetic和great_expectations。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="50a4" class="ne ma iq na b gy nf ng l nh ni">pip install ydata-synthetic great-expectations</span></pre><p id="9c4b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在您已经准备好了环境，让我们开始吧。如果你想一步一步地跟随我们，你可以<a class="ae kv" href="https://github.com/ydataai/ydata-synthetic/blob/dev/examples/regular/integrate_great_expectations.ipynb" rel="noopener ugc nofollow" target="_blank">从ydata-synthetic GitHub下载资料</a>。</p><h2 id="7d9c" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤1:通过数据上下文设置项目结构</h2><p id="74da" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在很大程度上，您的数据环境管理项目配置。有多种方法可以创建数据上下文；然而，最简单的方法是使用安装great_expectations包时附带的CLI。</p><p id="5449" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">打开您的终端，导航到项目目录并键入以下内容:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="f7c6" class="ne ma iq na b gy nf ng l nh ni">great_expectations init</span></pre><p id="e254" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">按回车键完成数据上下文的创建，仅此而已。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/c29becb4b1d503b6fd6ed7770c29575e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*hU942RDoSF2y8UZ2.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">设置数据上下文。(作者截图)</p></figure><p id="d5c1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果你对修改后的项目结构感兴趣，这里有一段GE文档的摘录:</p><ul class=""><li id="d50c" class="nv nw iq ky b kz la lc ld lf nx lj ny ln nz lr oa ob oc od bi translated">great_expectations.yml包含您的部署的主要配置。</li><li id="393a" class="nv nw iq ky b kz oe lc of lf og lj oh ln oi lr oa ob oc od bi translated"><code class="fe oj ok ol na b">expectations/</code>目录将您所有的期望存储为JSON文件。如果您想将它们存储在其他地方，可以在以后进行更改。</li><li id="f1ac" class="nv nw iq ky b kz oe lc of lf og lj oh ln oi lr oa ob oc od bi translated"><code class="fe oj ok ol na b">plugins/</code>目录保存您作为部署的一部分开发的任何定制插件的代码。</li><li id="7740" class="nv nw iq ky b kz oe lc of lf og lj oh ln oi lr oa ob oc od bi translated"><code class="fe oj ok ol na b">uncommitted/</code>目录包含了不应该存在于版本控制中的文件。它配置了一个. gitignore来从版本控制中排除它的所有内容。</li></ul><h2 id="5793" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤2:下载/提取我们用来创建合成数据的实际数据集</h2><p id="675c" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">我们可以从Kaggle下载我们在这个例子中使用的数据。如果您检查这些类，您会注意到“欺诈”类比“非欺诈”类少得多，这是现实生活中的情况。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="c872" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因此，我们可以仅提取欺诈类数据点，并将其视为实际数据集。我们的目标是创建类似欺诈事件的合成数据点。</p><h2 id="8877" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤3:配置数据源以连接我们的数据</h2><p id="6e1f" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在很大程度上，数据源通过管理配置和提供一致的、跨平台的API来引用数据，从而简化了连接。</p><p id="e4f0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们配置第一个数据源:一个到repo中提供的数据目录的连接。相反，这甚至可以是一个数据库连接等等。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="ea6b" class="ne ma iq na b gy nf ng l nh ni">great_expectations datasource new</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/2c1ad32be8921be30e1772787ca9250c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*t8_fN_Clp9h5jqvq.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">创建新的数据源。(作者截图)</p></figure><p id="45dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如上图所示，你会看到不同的选项。选择文件系统上的文件(用Pandas或Spark处理)和Pandas。最后，输入目录为<code class="fe oj ok ol na b">data</code>(这里有我们的实际数据)。</p><p id="6a8b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你输入了详细信息，一个jupyter笔记本就会打开。这正是Great Expectations赋予模板化代码的方式，这有助于我们通过一些代码更改来创建期望。</p><p id="2c9f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们将数据源名称改为更具体的名称。</p><p id="3f8f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编辑第二个代码单元格如下:<code class="fe oj ok ol na b">datasource_name = "data__dir"</code></p><p id="644a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后执行笔记本中的所有单元格来保存新的数据源。如果成功，最后一个单元格将打印所有数据源的列表，包括您刚刚创建的数据源。</p><h2 id="94c4" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤4:使用内置的Great Expectations profiler创建一个期望套件</h2><p id="95c8" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">预期只不过是一个关于数据的可证伪的、可证实的陈述。期望提供了一种谈论数据特征和数据质量的语言——人对人，人对机器，机器对机器。</p><p id="b4aa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里的想法是，我们假设实际数据具有我们想要合成的数据的理想质量，因此我们使用实际数据来创建一组期望，稍后我们可以使用这些期望来评估我们的合成数据。</p><p id="15fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">CLI将帮助创建我们的第一个期望套件。套房只是期望的集合。我们可以使用内置的分析器自动生成一个名为<code class="fe oj ok ol na b">creditcard.quality</code>的期望套件</p><p id="ea06" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在您的终端中键入以下内容:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="5cd2" class="ne ma iq na b gy nf ng l nh ni">great_expectations suite new</span></pre><p id="865e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">再次选择如上图所示的选项。我们使用自动分析器创建期望，并将其指向实际的数据集。</p><p id="2080" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">另一个jupyter笔记本将再次打开，其中包含用于创建新的期望套件的样板代码。代码相当标准；但是，请注意，所有列都被添加到第二个单元格中被忽略列的列表中。我们希望验证示例中的每一列；因此，我们应该从ignored_columns列表中删除这些列。</p><p id="dd92" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">执行笔记本将创建一个针对实际信用卡欺诈数据集的预期套件。</p><h2 id="8bd8" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤5:转换真实数据用于建模</h2><p id="5e3e" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">现在我们已经创建了期望套件，我们将焦点转移回创建合成数据。</p><p id="96b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在训练GAN之前，我们遵循标准的数据转换流程。我们正在应用PowerTransformation —使数据分布更像高斯分布。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="a2d5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请随意尝试更多预处理步骤，因为这会产生更好的结果。</p><h2 id="4913" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤6:训练合成器并创建模型</h2><p id="6d3d" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">既然我们已经对数据进行了预处理，那么是时候让我们先进的ydata-synthetic GAN模型发挥作用了。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="om on l"/></div></figure><p id="59ca" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于这个例子，我们训练一种GAN，称为<a class="ae kv" href="https://arxiv.org/abs/1704.00028" rel="noopener ugc nofollow" target="_blank"> WGAN-GP </a>，它提供了急需的训练稳定性。</p><h2 id="3f68" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤7:从合成器采样合成数据</h2><p id="d113" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">既然我们已经建立了模型，现在是时候通过添加噪声来采样所需的数据了。这一步的美妙之处在于，您可以根据需要不断生成数据。当您想要生成可共享和可销售的不同数据副本时，这一步非常有用。</p><p id="459f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的例子中，我们生成与实际数据相同数量的样本。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="8395" class="ne ma iq na b gy nf ng l nh ni"># use the same shape as the real data<br/>synthetic_fraud = synthesizer.sample(492)</span></pre><h2 id="8cb0" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤8:逆变换数据以获得原始格式</h2><p id="4f74" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">这里我们注意到，生成的合成数据仍然是变换后的形式，需要逆变换为原始结构。</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="d347" class="ne ma iq na b gy nf ng l nh ni">synthetic_data = inverse_transform(synthetic_fraud , preprocessor)</span></pre><h2 id="1114" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤9:创建一个新的检查点，根据真实数据验证合成数据</h2><p id="f4aa" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">对于Great Expectations的常规用法，验证数据的最佳方式是使用检查点。检查点将成批数据与相应的期望套件捆绑在一起进行验证。</p><p id="6249" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从终端运行以下命令:</p><pre class="kg kh ki kj gt mz na nb nc aw nd bi"><span id="a5ef" class="ne ma iq na b gy nf ng l nh ni">great_expectations checkpoint new my_new_checkpoint</span></pre><p id="57c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将再次打开一个Jupyter笔记本，允许您完成我们的检查点的配置。编辑data_asset_name，将我们要验证的数据引用到我们在步骤8中编写的文件名中。确保expectation_suite_name与我们在步骤4中创建的相同。</p><p id="0768" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">完成后，继续执行笔记本中的所有单元格。</p><h2 id="3779" class="ne ma iq bd mb nj nk dn mf nl nm dp mj lf nn no ml lj np nq mn ln nr ns mp nt bi translated">步骤10:使用数据文档评估合成数据</h2><p id="6d1a" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">如果您一直这样做，您应该已经创建了一个新的检查点来验证合成数据。最后一步是取消checkpoint记事本的最后一个单元格的注释并执行它。</p><p id="a4f9" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这将打开一个名为数据文档的HTML页面。我们可以检查数据文档中最近的检查点，并看到预期已经失败。通过单击检查点运行，我们可以得到一个详细的报告，显示哪些列的哪些期望失败了。</p><p id="6687" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">基于此输入，我们可以执行以下任一操作:</p><ul class=""><li id="f3c7" class="nv nw iq ky b kz la lc ld lf nx lj ny ln nz lr oa ob oc od bi translated">回到我们的数据转换步骤，修改转换，改变合成器或优化参数，以获得更好的合成数据。</li><li id="32da" class="nv nw iq ky b kz oe lc of lf og lj oh ln oi lr oa ob oc od bi translated">回到期望套件，编辑一些不重要的期望(可能是针对特定的列)。是的——期望是可定制的，下面是你如何做到这一点的<a class="ae kv" href="https://docs.greatexpectations.io/docs/guides/expectations/creating_custom_expectations/how_to_create_custom_expectations" rel="noopener ugc nofollow" target="_blank">。</a></li></ul><h1 id="894d" class="lz ma iq bd mb mc op me mf mg oq mi mj jw or jx ml jz os ka mn kc ot kd mp mq bi translated">结论</h1><p id="6788" class="pw-post-body-paragraph kw kx iq ky b kz mr jr lb lc ms ju le lf mt lh li lj mu ll lm ln mv lp lq lr ij bi translated">在本教程中，我们已经成功地演示了ydata-synthetic和great expectations的用法。</p><p id="6555" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">介绍了一个10步指南，从配置数据上下文到使用数据文档评估合成数据。我们相信集成这两个库可以帮助数据科学家释放合成数据的力量和数据质量。</p><p id="6d3c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在我们的<a class="ae kv" href="https://github.com/ydataai/ydata-synthetic" rel="noopener ugc nofollow" target="_blank"> GitHub资源库</a>中找到本文使用的所有代码。你不会想错过他们YouTube频道上《远大前程》的信息丰富的<a class="ae kv" href="https://www.youtube.com/c/GreatExpectationsData" rel="noopener ugc nofollow" target="_blank">研讨会系列</a>。</p><p id="3a8e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">还有问题吗？<a class="ae kv" href="http://slack.ydata.ai/" rel="noopener ugc nofollow" target="_blank">合成数据社区</a>和我们在<a class="ae kv" href="https://greatexpectationstalk.slack.com/join/shared_invite/zt-sugx45gn-SFe_ucDBbfi0FZC0mRNm_A#/shared-invite/email" rel="noopener ugc nofollow" target="_blank">远大前程</a>的朋友们总是愿意提供帮助。加入slack社区，与其他用户合作，并直接向我们的开发人员提问！</p></div><div class="ab cl ls lt hu lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="ij ik il im in"><p id="c406" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://www.linkedin.com/in/fabiana-clemente/" rel="noopener ugc nofollow" target="_blank"> <em class="ou">法比亚娜</em> </a> <em class="ou">是CDO</em><a class="ae kv" href="https://ydata.ai/?utm_source=medium&amp;utm_medium=signature&amp;utm_campaign=blog" rel="noopener ugc nofollow" target="_blank"><em class="ou">y data</em></a><em class="ou">。</em></p><p id="17ec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">用改进的数据加速AI。</strong></p><p id="f069" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><a class="ae kv" href="https://ydata.ai/?utm_source=medium&amp;utm_medium=signature&amp;utm_campaign=blog" rel="noopener ugc nofollow" target="_blank"> <em class="ou"> YData为数据科学团队提供首个数据开发平台。</em> </a></p></div></div>    
</body>
</html>