# 如何在 Python 中标准化数据

> 原文：<https://towardsdatascience.com/how-to-standardize-data-in-python-d3e73f4ccf3c>

## 在本文中，我们将探索如何在 Python 中标准化数据。

![](img/4dfc96df6bd9e5060a9cadb06a582e71.png)

[Marcin Jozwiak](https://unsplash.com/@marcinjozwiak?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 在 [Unsplash](https://unsplash.com/s/photos/distribution?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) 上拍摄的照片

**目录**

*   介绍
*   什么是标准化
*   标准化示例
*   如何在 Python 中标准化数据
*   结论

# 介绍

许多机器学习模型的特征工程的第一步是确保数据被适当地缩放。

一些模型，如线性回归、KNN 和 SVM，会受到不同比例要素的严重影响。

其他算法，如决策树、bagging 和 boosting 算法通常不需要任何数据缩放。

特征比例对上述模型的影响程度较高，并且具有较大范围值的特征将在算法决策中发挥更大的作用，因为它们产生的影响对输出具有更大的影响。

在这种情况下，我们转向特征缩放，以帮助我们找到所有这些特征的共同水平，以便在训练模型时平等地评估。

两种最流行的特征缩放技术是:

1.  z 分数标准化
2.  [最小-最大归一化](https://pyshark.com/how-to-normalize-data-in-python/)

在本文中，我们将讨论如何使用 Python 执行数据的 z 分数标准化。

为了继续学习本教程，我们需要以下两个 Python 库:sklearn 和 pandas。

如果您没有安装它们，请打开“命令提示符”(在 Windows 上)并使用以下代码安装它们:

```
pip install sklearn
pip install pandas
```

# 什么是标准化

在统计学和机器学习中，数据标准化是根据数据的均值和标准差将数据转换为 z 分值的过程。

得到的标准化值显示原始值偏离平均值的标准偏差数。

基本上，数据集给定要素的每个值都将被转换为偏离要素平均值的标准偏差的代表值。

这将允许我们一起比较多个特征，并获得更多相关信息，因为现在所有数据将处于相同的比例。

标准化数据的平均值等于 0，值通常在-3 和+3 之间(因为 99.9%的数据在平均值的 3 个标准偏差范围内，假设您的数据遵循正态分布)。

让我们来看看 z 分数公式:

![](img/c14b6571fcecb2bb601bf3028983ff6d.png)

作者图片

对于每个特征，我们将计算其平均值和标准差。然后我们将从每个观察值中减去平均值，再除以标准差，得到标准化值。

# 标准化示例

在这一节中，我们将看一个简单的数据标准化的例子。

考虑以下具有不同苹果价格的数据集:

![](img/a79c8cb59493d7603570d4dae6ed4540.png)

作者图片

绘制数据集应该是这样的:

![](img/d37f442acd67728282fed1f2dbb81426.png)

作者图片

在这里，我们看到重量与价格相比有更大的变化，但看起来是这样，因为数据的不同尺度。

价格范围在 2 美元到 5 美元之间，而重量范围在 250 克到 800 克之间。

让我们把这些数据标准化吧！

从重量特征开始:

![](img/0158b273784a99cb8b78aa26bb07e90e.png)

并对价格功能进行同样的操作:

![](img/6b28f2146e110ed0dc125e2c4de3d2e3.png)

作者图片

并将这两个特征组合成一个数据集:

![](img/0a67ada4f57e460a81a34a1757edf7d0.png)

作者图片

我们现在可以看到，数据集中要素的比例非常相似，并且在可视化数据时，点之间的分布会更小:

![](img/1170252bb86317bf50e830f8796f4324.png)

该图看起来几乎相同，唯一的区别是每个轴的比例。

现在让我们看看如何使用 Python 重现这个例子！

# 如何在 Python 中标准化数据

让我们首先创建一个我们在上面的例子中使用的数据帧:

您应该得到:

```
 weight  price
0     300      3
1     250      2
2     800      5
```

一旦我们准备好数据，我们就可以使用 **StandardScaler()** 类及其方法(来自 sklearn 库)来标准化数据:

您应该得到:

```
[[-0.60404045 -0.26726124]
 [-0.80538727 -1.06904497]
 [ 1.40942772  1.33630621]]
```

如您所见，上面的代码返回了一个数组，所以最后一步是将其转换为 dataframe:

您应该得到:

```
 weight     price
0 -0.604040 -0.267261
1 -0.805387 -1.069045
2  1.409428  1.336306
```

这与我们手动计算的示例中的结果相同。

# 结论

在本教程中，我们讨论了如何在 [Python](https://www.python.org/) 中标准化数据。

数据标准化是许多机器学习算法中数据预处理的重要步骤。

这通常是一个必需的预处理步骤，用于调整输入数据中要素的范围，以确保范围较大的要素不会通过影响距离度量来消除模型的所有可解释性。

是否对数据进行标准化的决定主要取决于您正在构建的模型，因为有些模型很容易受到数据范围的影响(OLS、SVM 等)，而有些模型则不受影响(逻辑回归、基于树的模型等)。

如果你有任何问题或对一些编辑有建议，请随时在下面留下评论，并查看更多我的[机器学习](http://pyshark.com/category/machine-learning)文章。

*原载于 2022 年 5 月 3 日*[*https://pyshark.com*](https://pyshark.com/how-to-standardize-data-in-python/)*。*