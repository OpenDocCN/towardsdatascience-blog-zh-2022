<html>
<head>
<title>Back To ‘BIT-Sics’: Bits, Pointers And Memory</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">回到“位-系统”:位、指针和内存</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/back-to-bit-sics-bits-pointers-and-memory-8c0eb125a0b7#2022-01-10">https://towardsdatascience.com/back-to-bit-sics-bits-pointers-and-memory-8c0eb125a0b7#2022-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="7c84" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">回到“位-系统”:位、指针和内存</h1></div><div class=""><h2 id="4c3e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据科学家用C语言解释位、指针和内存</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/f3978ba56492d32b407b1aa647ee1230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zPdmNIgymsCea9cQ"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">穆罕默德·拉赫马尼在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="bac3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我是物理学出身，没有接受过任何正规的计算机科学教育。然而，作为一名数据科学家，我觉得有必要更好地掌握这个学科，同时也是出于好奇，想学习一些新的东西。</p><p id="3e98" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">所以，没有比世界上最好的CS大学，<strong class="lb iu">斯坦福更好的学习地方了。他们免费开放了很多课程，你可以在这里<a class="ae ky" href="https://online.stanford.edu/free-courses" rel="noopener ugc nofollow" target="_blank"><strong class="lb iu"/></a>查看。我最近一直在研究他们的<a class="ae ky" href="https://web.stanford.edu/class/archive/cs/cs107/cs107.1222/" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu"> CS107计算机组织&amp;系统</strong> </a> <strong class="lb iu">。</strong>这深入到编程语言<strong class="lb iu"> <em class="lv">如何真正</em> </strong>在幕后工作，以及它们如何与硬件交互。这门课是用C语言讲授的，这也是我正在努力学习的东西，因为它被认为是一种“低级”语言，所以它能让你更好地理解计算机是如何工作的。</strong></p><p id="d9ac" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这篇文章中，我解释了我觉得有趣的课程的第一部分，也巩固了我的理解。这些也是数据科学家应该了解的概念。</p><h1 id="c6c2" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">二进制数字</h1><p id="8a84" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">计算机基本上是一群晶体管，根据电流是否通过，它们有两种状态:开、T21和关。这种情况的数学表示称为<strong class="lb iu">二进制数字或位</strong>。</p><p id="d3e9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">位可以访问两个状态<strong class="lb iu"> 0 </strong>或<strong class="lb iu"> 1 </strong>并且可以组合成任意数。然而，使用二进制意味着我们是在一个基数为2的数字系统中工作，因为我们只有两个数字可以使用。在全球范围内，我们使用的是<strong class="lb iu">十进制数系统</strong>，称为<strong class="lb iu">十进制数</strong>。十进制包含以下:<strong class="lb iu"> 0，1，2，3，4，5，6，7，8，9 </strong>作为我们都知道并且喜爱的10个数字。以下是十进制到二进制转换的一些示例:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/a10c57e279c678b5ab5500c37f9f5c75.png" data-original-src="https://miro.medium.com/v2/resize:fit:388/format:webp/1*6XSt_sILvtMFNYxSz7yxfw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由作者用乳胶创作</p></figure><p id="5192" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意到模式了吗？第一位是2⁰，第二位是2，第三位是2等等。如果该位的值为1，则它为<strong class="lb iu">‘开’</strong>，因此它取值为1、2、4等。然后将等于1的所有位相加，得到十进制数。</p><h1 id="b562" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">十六进制的</h1><p id="b9a5" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">位是伟大的，但是我们经常处理长度为32或64位的大数。因此，我们用被称为<strong class="lb iu">十六进制</strong>的<strong class="lb iu">16进制数字系统</strong>来表示比特。十六进制有16个数字:<strong class="lb iu"> 0，1，2，3，4，5，6，7，8，9，a，b，c，d，e，f </strong>。因此，当2⁴ = 16时，一个十六进制数反映了一个<strong class="lb iu"> 4位二进制序列</strong>，这也被称为<strong class="lb iu">半字节</strong>。</p><p id="5810" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一些选定数字的十进制、二进制和十六进制转换表:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/bd6a96775a73c23db3b0665e91ad8fdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*a0kTWx3l5JAiJn5KdiwR8Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">由LaTeX b作者创建</p></figure><p id="1e18" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们通过一个例子来获得更好的直觉。我们将使用十进制数77的大小写。我们知道，4 = 0100，13 = 1101 = d，因此4d是这两个二进制值的组合，等于01001101。它们基本上是相互连接的。这个数字的最高有效位是2⁶ = 64。其他有效位为2 = 8、2 = 4和2⁰ = 1。如上所示，所有这些有效位的总和为77。在你反复练习几次之后，这种转换并不太难。</p><h1 id="aec0" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">计算机存储器</h1><p id="c9a3" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">尽管位是计算机中的基本值，但计算机的内存地址只是在<strong class="lb iu">字节可寻址范围内，</strong>字节等于8位。</p><p id="4e66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在21世纪初，大多数电脑都是32位的。这意味着他们有2个唯一的数字，这意味着只有<strong class="lb iu"> 2字节的可寻址内存位置</strong>！从这个角度来看:<strong class="lb iu"> 2字节= 4GB的RAM！这个很小，所以现在的电脑是64位的，内存是16兆字节。然而，当前的能力硬件不能充分利用这个可用的RAM。</strong></p><p id="89ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这意味着当你给一个变量赋值时，例如<strong class="lb iu"> <em class="lv"> x=2 </em> </strong>，在你的代码中，这个变量有它自己的<strong class="lb iu">唯一内存地址</strong>。如果您使用的是32位计算机，这个地址只是两个可用地址中的一个。不要说太多细节，主要是因为我自己也不完全理解，这些内存地址不是硬件中的实际物理地址，而是操作系统分配的虚拟地址。然而，可以使用页表将它们转换成物理地址。</p><p id="a1ce" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此外，32位计算机的4GB内存限制并不全面。有使用<a class="ae ky" href="https://en.wikipedia.org/wiki/Physical_Address_Extension" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">物理地址扩展</strong> </a>的变通办法，将32位计算机的RAM可用性提高到64 GB左右。</p><h1 id="a68c" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">两颗北极指极星</h1><p id="77b9" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在C语言中，我们可以使用<strong class="lb iu">指针来处理这些<strong class="lb iu">内存地址</strong>。</strong>这些是变量<strong class="lb iu">T5，其值是另一个变量的<strong class="lb iu">内存地址。</strong>我们可以通过使用<strong class="lb iu"> ' &amp; ' </strong>符号得到任意变量的内存地址。例如:</strong></p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="178c" class="na lx it mw b gy nb nc l nd ne">int main(){</span><span id="c2a1" class="na lx it mw b gy nf nc l nd ne"> int x = 2; /* variable declaration */</span><span id="fa91" class="na lx it mw b gy nf nc l nd ne"> printf("%p\n", &amp;x ); /* printing the address of x */</span><span id="fb6c" class="na lx it mw b gy nf nc l nd ne"> return 0;</span><span id="055a" class="na lx it mw b gy nf nc l nd ne">}</span></pre><p id="a924" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这段代码的输出是:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="b849" class="na lx it mw b gy nb nc l nd ne">0x7ff7b57ac948</span></pre><p id="88ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">‘0x’</strong>表示数字是十六进制的，如果是<strong class="lb iu">‘0b’</strong>那么就是二进制的。在那里变量x的地址是十进制的<strong class="lb iu"> 140，701，878，372，680 </strong>，所以大约是第140万亿个内存地址！我的电脑肯定是64位的！</p><p id="2b7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如前所述，指针<strong class="lb iu">指向变量的内存地址，而不是它的值。这意味着即使x的值改变，指针仍将为x产生相同的地址。使用如下的<strong class="lb iu"> * </strong>语法声明指针:</strong></p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="242f" class="na lx it mw b gy nb nc l nd ne">int main(){<br/> <br/> int x = 2; /* variable declaration */<br/> int *xptr; /* pointer variable declaration */</span><span id="9e09" class="na lx it mw b gy nf nc l nd ne"> xptr = &amp;x; /* store address of x in pointer variable*/</span><span id="de9c" class="na lx it mw b gy nf nc l nd ne"> printf("%p\n", &amp;x); /* printing the address of x */<br/> printf("%p\n", xptr); /* printing the pointer variable */</span><span id="80b4" class="na lx it mw b gy nf nc l nd ne"> return 0;</span><span id="3f49" class="na lx it mw b gy nf nc l nd ne">}</span></pre><p id="9e26" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我们将<strong class="lb iu"> xptr </strong>分配给<strong class="lb iu"> x </strong>的地址。下面的输出是:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="1ff2" class="na lx it mw b gy nb nc l nd ne">0x7ff7b57ac948</span><span id="fd28" class="na lx it mw b gy nf nc l nd ne">0x7ff7b57ac948</span></pre><p id="9bde" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">其中指针指向x的地址，因此它们都像预期的那样返回相同的内存地址。</p><p id="c809" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一个指针可以被<strong class="lb iu">解引用</strong>，方法是将它打印为一个带符号的整数%d，(带符号意味着它可以是正的也可以是负的)，但是在指针变量之前分配*语法。下面显示了一个示例:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="2b6d" class="na lx it mw b gy nb nc l nd ne">int main(){</span><span id="6cbc" class="na lx it mw b gy nf nc l nd ne"> int x = 2; /* variable declaration */<br/> int *xptr; /* pointer variable declaration */</span><span id="8ffe" class="na lx it mw b gy nf nc l nd ne"> xptr = &amp;x; /* store address of x in pointer variable*/</span><span id="54e2" class="na lx it mw b gy nf nc l nd ne"> printf("%p\n", &amp;x); /* print the address of x */<br/> printf("%d\n", *xptr); /* printing the value stored at pointer */</span><span id="bbb6" class="na lx it mw b gy nf nc l nd ne"> return 0;</span><span id="91e3" class="na lx it mw b gy nf nc l nd ne">}</span></pre><p id="efc5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">的输出是:</p><pre class="kj kk kl km gt mv mw mx my aw mz bi"><span id="1369" class="na lx it mw b gy nb nc l nd ne">0x7ff7b57ac948</span><span id="8e15" class="na lx it mw b gy nf nc l nd ne">2</span></pre><p id="5f4b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们得到了预期的值2，因为这是x的内存地址。</p><p id="9bda" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有许多更复杂的方法来操作和使用指针。它们是非常有用的变量，可以教你很多关于内存在程序中是如何工作的，这是无价的。</p><h1 id="96b4" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">摘要</h1><p id="cce1" class="pw-post-body-paragraph kz la it lb b lc mo ju le lf mp jx lh li mq lk ll lm mr lo lp lq ms ls lt lu im bi translated">在本文中，我们简要讨论了位、十六进制和使用指针操作内存地址。老实说，作为数据科学家，我们不会处理如此低级的代码，所以没有必要成为这些领域的专家。然而，这些都是很好的学习和理解的基本概念，因为它们提高了您对其他语言的了解，尤其是Python，因为其中一些是用c语言编写的。这增强了您作为数据科学家的整体能力。</p><h1 id="029f" class="lw lx it bd ly lz ma mb mc md me mf mg jz mh ka mi kc mj kd mk kf ml kg mm mn bi translated">和我联系！</h1><ul class=""><li id="ca40" class="ng nh it lb b lc mo lf mp li ni lm nj lq nk lu nl nm nn no bi translated">要在媒体上阅读无限的故事，请务必在这里注册！  <em class="lv"> </em>💜</li><li id="9786" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><a class="ae ky" href="/subscribe/@egorhowell" rel="noopener ugc nofollow" target="_blank">T35<em class="lv">T37】😀</em></a></li><li id="b8dc" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><a class="ae ky" href="https://www.linkedin.com/in/egor-howell-092a721b3/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">领英</em> </a> <em class="lv"> </em>👔</li><li id="a7a0" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><a class="ae ky" href="https://twitter.com/EgorHowell" rel="noopener ugc nofollow" target="_blank"> <em class="lv">碎碎念</em> </a> <em class="lv"> </em> 🖊</li><li id="fb18" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><a class="ae ky" href="https://github.com/egorhowell" rel="noopener ugc nofollow" target="_blank"><em class="lv">github</em></a><em class="lv"/>🖥</li><li id="87b0" class="ng nh it lb b lc np lf nq li nr lm ns lq nt lu nl nm nn no bi translated"><a class="ae ky" href="https://www.kaggle.com/egorphysics" rel="noopener ugc nofollow" target="_blank"><em class="lv"/></a><em class="lv"/>🏅</li></ul><blockquote class="nu nv nw"><p id="39f3" class="kz la lv lb b lc ld ju le lf lg jx lh nx lj lk ll ny ln lo lp nz lr ls lt lu im bi translated">(所有表情符号都是由<a class="ae ky" href="https://openmoji.org/" rel="noopener ugc nofollow" target="_blank"> OpenMoji </a>设计的——开源的表情符号和图标项目。执照:<a class="ae ky" href="https://creativecommons.org/licenses/by-sa/4.0/#" rel="noopener ugc nofollow" target="_blank"> CC BY-SA 4.0 </a></p></blockquote></div></div>    
</body>
</html>