<html>
<head>
<title>How to Upload And Download Files From AWS S3 Using Python (2022)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python (2022)从S3自动气象站上传和下载文件</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-to-upload-and-download-files-from-aws-s3-using-python-2022-4c9b787b15f2#2022-01-20">https://towardsdatascience.com/how-to-upload-and-download-files-from-aws-s3-using-python-2022-4c9b787b15f2#2022-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="1a38" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">如何使用Python (2022)从S3自动气象站上传和下载文件</h1></div><div class=""><h2 id="37d8" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">了解如何在Python脚本中使用云资源</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/4464d1f4eb67324ab4f8b8be29ce92d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oah21ur4Fx0F5jHv-Z5KdQ.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated"><strong class="bd ky">照片由</strong> <a class="ae kz" href="https://www.pexels.com/@rjstvn?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">拉杰史蒂文</strong> </a> <strong class="bd ky">发自</strong> <a class="ae kz" href="https://www.pexels.com/photo/silhouette-of-people-on-beach-during-sunset-5293740/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd ky">像素</strong> </a></p></figure><p id="3715" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我写这篇文章完全是出于沮丧。</p><p id="bc00" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">我读过的每个关于这个话题的帖子都假设我已经在AWS有了一个账户，一个S3桶，和一堆存储的数据。他们只是展示代码，但善意地掩盖了最重要的部分——让代码通过你的AWS账户工作。</p><p id="3d68" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">嗯，我应该很容易就能猜出密码，非常感谢。我不得不筛选许多SO线程和AWS文档，以消除一路上的每一个令人讨厌的认证错误。</p><p id="cd81" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">为了让您不会有同样的感觉并做艰苦的工作，我将分享以编程方式管理S3存储桶的所有技术细节，从创建帐户到向本地机器添加访问AWS资源的权限。</p><div class="lw lx gp gr ly lz"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">通过我的推荐链接加入Medium-BEXGBoost</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">获得独家访问我的所有⚡premium⚡内容和所有媒体没有限制。支持我的工作，给我买一个…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="mi l"><div class="mj l mk ml mm mi mn ks lz"/></div></div></a></div><p id="a1ab" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">获得由强大的AI-Alpha信号选择和总结的最佳和最新的ML和AI论文:</p><div class="lw lx gp gr ly lz"><a href="https://alphasignal.ai/?referrer=Bex" rel="noopener  ugc nofollow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">阿尔法信号|机器学习的极品。艾总结的。</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">留在循环中，不用花无数时间浏览下一个突破；我们的算法识别…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">alphasignal.ai</p></div></div><div class="mi l"><div class="mo l mk ml mm mi mn ks lz"/></div></div></a></div></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="fc00" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤1:设置帐户</h2><p id="c679" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">好的，如果你还没有AWS账户，让我们从创建账户开始。没什么特别的，只要按照这个<a class="ae kz" href="https://aws.amazon.com/free/?trk=ps_a131L0000085EJvQAM&amp;trkCampaign=acq_paid_search_brand&amp;sc_channel=ps&amp;sc_campaign=acquisition_US&amp;sc_publisher=google&amp;sc_category=core-main&amp;sc_country=US&amp;sc_geo=NAMER&amp;sc_outcome=acq&amp;sc_detail=aws&amp;sc_content=Brand_Core_aws_e&amp;sc_segment=432339156150&amp;sc_medium=ACQ-P%7CPS-GO%7CBrand%7CDesktop%7CSU%7CCore-Main%7CCore%7CUS%7CEN%7CText&amp;s_kwcid=AL!4422!3!432339156150!e!!g!!aws&amp;ef_id=EAIaIQobChMIxa2ogpvA9QIVxP7jBx2iAwgNEAAYASAAEgJGR_D_BwE:G:s&amp;s_kwcid=AL!4422!3!432339156150!e!!g!!aws&amp;all-free-tier.sort-by=item.additionalFields.SortRank&amp;all-free-tier.sort-order=asc&amp;awsf.Free%20Tier%20Types=*all&amp;awsf.Free%20Tier%20Categories=*all" rel="noopener ugc nofollow" target="_blank">链接</a>中的步骤操作就可以了:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/a6f8365c20e983495e5e52b601d062f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*BXmvi4HE67kvbnHa1gbVRA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="faa0" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然后，我们将前往<a class="ae kz" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS IAM(身份和访问管理)控制台</a>，在那里我们将完成大部分工作。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nu"><img src="../Images/3b67ec61b5c65ca2ec4143da3209795d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*vfd-PZF1kecv34zgER6bjA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="e784" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">您可以轻松地在不同的AWS服务器之间切换，创建用户，添加策略，并允许从控制台访问您的用户帐户。我们将一个接一个地做。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="641c" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤2:创建用户</h2><p id="d11c" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">对于一个AWS帐户，您可以创建多个用户，每个用户都可以对您的帐户资源拥有不同级别的访问权限。让我们为本教程创建一个示例用户:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/e53775e62e916debff27493736154106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YWGCpanj722-K7p2eUYgCQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="06ee" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在<a class="ae kz" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> IAM控制台</a>中:</p><ol class=""><li id="2536" class="nw nx it lc b ld le lg lh lj ny ln nz lr oa lv ob oc od oe bi translated">转到用户选项卡。</li><li id="1caa" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">点击添加用户。</li><li id="b126" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">在字段中输入用户名。</li><li id="2f3b" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">勾选“访问键—编程访问字段”(必要)。</li><li id="7c0b" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“下一步”和“直接附加现有策略”</li><li id="a8b0" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">勾选“管理员访问”策略。</li><li id="468f" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“下一步”,直到看到“创建用户”按钮</li><li id="95d5" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">最后，下载您的用户凭证的给定CSV文件。</li></ol><p id="c8eb" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">它应该是这样的:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ok"><img src="../Images/b69ef4095a110da9252eb9f6904c56ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eDxYPGuZ5PXgoEp4rzhWpg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者:me🥱</p></figure><p id="7a35" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">请将它保存在安全的地方，因为我们稍后会使用这些凭据。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="5fb2" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤3:创建一个存储桶</h2><p id="b2a2" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">现在，让我们创建一个S3存储桶来存储数据。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/3fbb8a80ed4aba98b58273ad3ca73373.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*EgoiiT6lYsmh00tfxDrUZQ.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="41a6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在<a class="ae kz" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> IAM控制台</a>中:</p><ol class=""><li id="6ef8" class="nw nx it lc b ld le lg lh lj ny ln nz lr oa lv ob oc od oe bi translated">单击左上角的服务。</li><li id="3764" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">向下滚动到“storage ”,并从右侧列表中选择“S3”。</li><li id="0b7c" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“创建存储桶”并给它命名。</li></ol><p id="bb6b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">你可以选择任何你想要的地区。保留其余设置，再次单击“创建存储桶”。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="5de2" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤4:创建一个策略并将其添加到您的用户</h2><p id="d50f" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">在AWS中，通过策略来管理访问。策略可以是一组设置或附加到AWS对象(用户、资源、组、角色)的JSON文件，它控制您可以使用对象的哪些方面。</p><p id="7256" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">下面，我们将创建一个策略，使我们能够以编程方式与我们的存储桶进行交互，即通过CLI或在脚本中进行交互。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/362c03d61920584a59f7910cabb3618b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*qhSlkuxp2iXyBv8fYfPIDA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="ef58" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在<a class="ae kz" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> IAM控制台</a>中:</p><ol class=""><li id="58f5" class="nw nx it lc b ld le lg lh lj ny ln nz lr oa lv ob oc od oe bi translated">转到“策略”选项卡，然后单击“创建策略”</li><li id="9543" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“JSON”选项卡并插入下面的代码:</li></ol><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="67b7" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">用你自己的桶名替换你的桶名。如果您注意的话，在JSON的Action字段中，我们将<code class="fe oo op oq or b">s3:*</code>放在我们的bucket中以允许任何交互。这非常宽泛，因此您可能只允许特定的操作。在这种情况下，查看AWS文档的<a class="ae kz" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_examples_s3_rw-bucket-console.html" rel="noopener ugc nofollow" target="_blank">这一页</a>来学习限制访问。</p><p id="adf5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">这个策略只附加到bucket，我们还应该将它连接到用户，这样您的API凭证才能正常工作。以下是说明:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/916d8db05fca5b5991a5761e799ca562.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*0vbVH5DE4DikhUluh5ovIA.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="9ca1" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">在<a class="ae kz" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> IAM控制台</a>中:</p><ol class=""><li id="c299" class="nw nx it lc b ld le lg lh lj ny ln nz lr oa lv ob oc od oe bi translated">转到Users选项卡，单击我们在上一节中创建的用户。</li><li id="bf31" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“添加权限”按钮。</li><li id="e675" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">单击“附加现有策略”选项卡。</li><li id="00b6" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">根据我们刚刚创建的策略对它们进行筛选。</li><li id="4ca9" class="nw nx it lc b ld of lg og lj oh ln oi lr oj lv ob oc od oe bi translated">勾选策略，检查并最后一次点击“添加”。</li></ol></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="665b" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤5:下载AWS CLI并配置您的用户</h2><p id="2bff" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">我们下载AWS命令行工具，因为它使认证变得非常容易。请转到<a class="ae kz" href="https://aws.amazon.com/cli/" rel="noopener ugc nofollow" target="_blank">此页面</a>并下载适用于您平台的可执行文件:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/0a48fc97bd81c1a85bfd2db0e898490f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*l7PGZX2TjpKp4i7EQ__h4Q.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="350d" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">运行可执行文件并重新打开任何活动的终端会话，以使更改生效。然后，键入<code class="fe oo op oq or b">aws configure</code>:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/c596f415654d57fb17ef26a54b6bd883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*D0UjHGr5FO2gHFflEQdlCw.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="0e9b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">插入您的AWS密钥ID和秘密访问密钥，以及您创建bucket的区域(使用CSV文件)。您可以在控制台的S3页面上找到您的存储桶的区域名称:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/84c64c27347b82e2853688c32f987c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T87dOPxnnIae3Tasf7Q2Tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">被我。</p></figure><p id="ba7b" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">当您到达配置中的默认输出格式字段时，只需单击“Enter”即可。不会有任何输出。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="e9b6" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">第六步:上传你的文件</h2><p id="e017" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">我们快到了。</p><p id="d18f" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">现在，我们将一个样本数据集上传到我们的bucket，以便以后可以在脚本中下载它:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nv"><img src="../Images/8c1f1678cd95fe8da3d6a68ae2f388f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ozcKlSkcpna8PTEA_8Tv5g.gif"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者GIF</p></figure><p id="aca6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">一旦你进入S3页面，打开你的水桶，这应该很容易。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="74c5" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">步骤7:检查身份验证是否有效</h2><p id="6fb9" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">最后，pip安装<a class="ae kz" href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Boto3包</a>并运行以下代码片段:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="2795" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果输出包含您的bucket名称，那么恭喜您——您现在可以通过<code class="fe oo op oq or b">boto3</code>完全访问许多AWS服务，而不仅仅是S3。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="0ed8" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">使用Python Boto3从S3桶下载文件</h2><p id="c834" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">有了Boto3包，您可以通过编程访问许多AWS服务，如SQS、EC2、SES和IAM控制台的许多方面。</p><p id="9e85" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">然而，作为一名普通的数据科学家，您通常需要从S3存储桶上传和下载数据，因此我们将只讨论这些操作。</p><p id="d2fd" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">让我们从下载开始。导入包后，使用<code class="fe oo op oq or b">client</code>函数创建一个S3类:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="8cb6" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">要从S3存储桶下载文件并立即保存，我们可以使用<code class="fe oo op oq or b">download_file</code>功能:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="dcf9" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">如果下载成功，将不会有任何输出。您应该把要下载的文件的确切路径传递给<code class="fe oo op oq or b">Key</code>参数。<code class="fe oo op oq or b">Filename</code>应该包含您想要保存文件的路径。</p><p id="f496" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">上传也非常简单:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="ol om l"/></div></figure><p id="c9be" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">该功能为<code class="fe oo op oq or b">upload_file</code>，您只需更改下载功能中参数的顺序。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="ab gu cl ot"><img src="../Images/bd2fffeee9e3fc893dfc65958e7c3a45.png" data-original-src="https://miro.medium.com/v2/format:webp/1*e661AKU5ITo55l4uYVvEbg.png"/></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="7282" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">结论</h2><p id="e8a2" class="pw-post-body-paragraph la lb it lc b ld np ju lf lg nq jx li lj nr ll lm ln ns lp lq lr nt lt lu lv im bi translated">我建议阅读<a class="ae kz" href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html" rel="noopener ugc nofollow" target="_blank"> Boto3文档</a>以获得更多管理AWS资源的高级示例。它涵盖了除S3之外的服务，并包含了每种服务最常见任务的代码配方。</p><p id="ebd5" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated">感谢阅读！</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="38c8" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">您可以使用下面的链接成为高级媒体会员，并访问我的所有故事和数以千计的其他故事:</strong></p><div class="lw lx gp gr ly lz"><a href="https://ibexorigin.medium.com/membership" rel="noopener follow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">通过我的推荐链接加入Medium。</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="mi l"><div class="ou l mk ml mm mi mn ks lz"/></div></div></a></div><p id="de84" class="pw-post-body-paragraph la lb it lc b ld le ju lf lg lh jx li lj lk ll lm ln lo lp lq lr ls lt lu lv im bi translated"><strong class="lc iu">或者直接订阅我的邮件列表:</strong></p><div class="lw lx gp gr ly lz"><a href="https://ibexorigin.medium.com/subscribe" rel="noopener follow" target="_blank"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">每当Bex T .发布时收到电子邮件。</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">每当Bex T .发布时收到电子邮件。注册后，如果您还没有中型帐户，您将创建一个…</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">ibexorigin.medium.com</p></div></div><div class="mi l"><div class="ov l mk ml mm mi mn ks lz"/></div></div></a></div></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h2 id="658b" class="mw mx it bd my mz na dn nb nc nd dp ne lj nf ng nh ln ni nj nk lr nl nm nn no bi translated">你可以通过LinkedIn或T2 Twitter与我进行友好的交流。或者你可以读我的另一个故事。这些怎么样:</h2><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/8-booming-data-science-libraries-you-must-watch-out-in-2022-cec2dbb42437"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">2022年你必须小心的8个蓬勃发展的数据科学图书馆</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="ow l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/how-to-get-started-on-kaggle-in-2022-even-if-you-are-terrified-8e073853ac46"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">如何在2022年开始使用Kaggle(即使你很害怕)</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="ox l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/7-cool-python-packages-kagglers-are-using-without-telling-you-e83298781cf4"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">Kagglers正在使用的7个很酷的Python包</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="oy l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/22-2-built-in-python-libraries-you-didnt-know-existed-p-guarantee-8-275685dbdb99"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">22–2个您不知道存在的内置Python库| P(保证)= .8</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="oz l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/good-bye-pandas-meet-terality-its-evil-twin-with-identical-syntax-455b42f33a6d"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">再见熊猫！遇见Terality——它邪恶的孪生兄弟有着相同的语法</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="pa l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/6-pandas-mistakes-that-silently-tell-you-are-a-rookie-b566a252e60d"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">6个熊猫的错误，无声地告诉你是一个菜鸟</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="pb l mk ml mm mi mn ks lz"/></div></div></a></div><div class="lw lx gp gr ly lz"><a rel="noopener follow" target="_blank" href="/8-booming-data-science-libraries-you-must-watch-out-in-2022-cec2dbb42437"><div class="ma ab fo"><div class="mb ab mc cl cj md"><h2 class="bd iu gy z fp me fr fs mf fu fw is bi translated">2022年你必须小心的8个蓬勃发展的数据科学图书馆</h2><div class="mg l"><h3 class="bd b gy z fp me fr fs mf fu fw dk translated">编辑描述</h3></div><div class="mh l"><p class="bd b dl z fp me fr fs mf fu fw dk translated">towardsdatascience.com</p></div></div><div class="mi l"><div class="ow l mk ml mm mi mn ks lz"/></div></div></a></div></div></div>    
</body>
</html>