<html>
<head>
<title>Store API Credentials Easily and Securely in Jupyter Notebooks</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Jupyter笔记本电脑中轻松安全地存储API凭证</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/store-api-credentials-easily-and-securely-in-jupyter-notebooks-50411e98e81c#2022-01-07">https://towardsdatascience.com/store-api-credentials-easily-and-securely-in-jupyter-notebooks-50411e98e81c#2022-01-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="51e9" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">在Jupyter笔记本电脑中轻松安全地存储API凭证</h1></div><div class=""><h2 id="94d4" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">将您的凭证安全地存储在您自己的机器上，并通过一个对话窗口将它们放入您的笔记本中。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/4223c76bfb5c42512493a391ea350159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tpqkKSAU0-QeEH3KX5X0Ow.jpeg"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">Georg Bommeli 在<a class="ae kv" href="https://unsplash.com/s/photos/lock-and-key?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="a1da" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最近，我一直在Jupyter笔记本中使用Python创建数据管道脚本，用于存储和分析股市数据。我已经把这些脚本贴在我的<a class="ae kv" href="https://github.com/bnsheehy/Stock-Market_Data_ETL" rel="noopener ugc nofollow" target="_blank"> Github库</a>里，通过一系列<a class="ae kv" href="https://bnsheehy.medium.com/" rel="noopener">以前在Medium </a>上的文章与公众分享。</p><p id="fecd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这些脚本依赖于从我的数据合作伙伴<a class="ae kv" href="https://www.intrinio.com/" rel="noopener ugc nofollow" target="_blank"> Intrinio </a>提供的API中提取原始数据，然后将数据推送到我在AWS上的数据仓库。这些资源需要登录凭证，出于显而易见的原因，我不想与公众分享这些凭证。那么，我如何将这些凭证存储在一个单独的文件中，隐藏在我的本地驱动器上，并自动将它们导入Python脚本，而不暴露我的凭证文件的名称或位置呢？</p><p id="d416" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这是我发现的最简单的解决方案。首先，创建一个文本或JSON格式的凭证文件。我更喜欢JSON，因为它在Python中易于阅读和解析。JSON格式实际上只是一个Python字典文件，在键和值的名称周围使用双引号，而不是单引号。这是它看起来的样子:</p><pre class="kg kh ki kj gt ls lt lu lv aw lw bi"><span id="0f46" class="lx ly iq lt b gy lz ma l mb mc">{<br/>“data_api_username”:”johnbsmith”,<br/>"data_api_key":"8675309JENNYjenny",<br/>"aws_access_key":"there'sAladyWHO'SsureALLthatGLITTERSisGOLD",<br/>"aws_secret_key":"ANDshe'sBUYINGaSTAIRWAYtoHEAVEN"<br/>}</span></pre><p id="694b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后给它一个你能记住的名字。大多数人用的都是“credentials.json”之类的东西。但是如果你想对潜在的黑客隐藏它，你可以称它为任何东西，甚至是“myfavoritesongs.json”。</p><p id="0927" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通常，您会使用<a class="ae kv" href="https://www.w3schools.com/python/ref_func_open.asp" rel="noopener ugc nofollow" target="_blank"> Python打开函数</a>来获取这个文件。但是，您必须在代码中公开文件路径。相反，您可以使用Python中包含的一个名为<a class="ae kv" href="https://wiki.python.org/moin/TkInter" rel="noopener ugc nofollow" target="_blank"> Tkinter </a>的GUI包。在Tkinter内，<a class="ae kv" href="https://docs.python.org/3/library/dialog.html" rel="noopener ugc nofollow" target="_blank">文件对话框模块</a>允许你打开一个窗口选择一个文件。</p><p id="61ce" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果您从本地机器运行Jupyter，您可以使用以下代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="1535" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">或者，如果你在Google Colab上运行你的Jupyter笔记本，这个过程略有不同，但同样简单。以下是您可以用于该平台的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="4705" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该模块将在Colab笔记本单元格内方便地生成一个“选择文件”按钮，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi mf"><img src="../Images/690b7cb728f081bbe58c1f7e19325757.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*I-C2dtJvScb086ez"/></div></div></figure><p id="61c7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用这两种技术，您可以完全隐藏您的凭证文件以及获取它的特定路径。这将允许您共享您的Jupyter笔记本，而不必担心泄露您的秘密密钥。</p><p id="064f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">编码快乐！</p><p id="8cd8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><em class="mg"> Bryant Sheehy在金融数据销售和业务开发领域拥有超过15年的经验，目前正在向数据工程和分析领域转型。你可以在</em> <a class="ae kv" href="https://bnsheehy.medium.com/" rel="noopener"> <em class="mg">中</em> </a> <em class="mg">上关注他或者在</em><a class="ae kv" href="https://www.linkedin.com/in/bryantsheehy/" rel="noopener ugc nofollow" target="_blank"><em class="mg">LinkedIn</em></a><em class="mg">上联系他。</em></p></div></div>    
</body>
</html>