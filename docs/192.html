<html>
<head>
<title>Select Data in Python Pandas Easily with loc &amp; iloc</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用loc &amp; iloc轻松选择Python Pandas中的数据</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/select-data-in-python-pandas-easily-with-loc-iloc-c6e8bc979e3e#2022-01-07">https://towardsdatascience.com/select-data-in-python-pandas-easily-with-loc-iloc-c6e8bc979e3e#2022-01-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2ff2" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">计算机编程语言</h2><div class=""><h1 id="7e64" class="pw-post-title jb jc it bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy bi translated">使用loc &amp; iloc轻松选择Python Pandas中的数据</h1></div><div class=""><h2 id="1025" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated"><em class="kr">5分钟内掌握Python中的loc和iloc</em></h2></div><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/a97fdcdb978e8e393ab0932a5a20cd55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*psHUDNT2MuaLi2Y3fT8r5Q.jpeg"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">塔妮娅·马雷·肖菲在<a class="ae li" href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="a4a7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">Python的Pandas库是一个非常强大的处理表格数据的库。在Python中，表格数据存储在Pandas DataFrame中。时不时地，我们需要选择数据的某一部分供我们使用。</p><blockquote class="mf mg mh"><p id="5055" class="lj lk mi ll b lm ln kd lo lp lq kg lr mj lt lu lv mk lx ly lz ml mb mc md me im bi translated">随时加入我的<strong class="ll jd"> </strong> <a class="ae li" href="https://medium.com/subscribe/@17.rsuraj" rel="noopener"> <strong class="ll jd">电子邮件列表</strong> </a>获取<strong class="ll jd">免费<em class="it"> </em> </strong>每当我写了一个新的故事时都会收到通知！！⚡</p></blockquote><p id="dacb" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><code class="fe mm mn mo mp b">loc</code>和<code class="fe mm mn mo mp b">iloc</code>是用于过滤、选择和操作数据的基本方法。它们快捷、快速、易读，有时还可以互换。</p><p id="a56f" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在本文中，我们将探索如何用<code class="fe mm mn mo mp b">loc</code>和<code class="fe mm mn mo mp b">iloc</code>执行数据选择。我们将讨论以下主题:</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="5c84" class="mu mv it mp b gy mw mx l my mz"><br/>· <a class="ae li" href="#7f03" rel="noopener ugc nofollow">Difference between loc() and iloc() in Pandas DataFrame</a><br/>· <a class="ae li" href="#2de7" rel="noopener ugc nofollow">Select Multiple Rows and Columns</a><br/>· <a class="ae li" href="#9597" rel="noopener ugc nofollow">Slicing Rows</a><br/>· <a class="ae li" href="#eecc" rel="noopener ugc nofollow">Extract Subset of Pandas DataFrame based on Conditions</a><br/>· <a class="ae li" href="#7f15" rel="noopener ugc nofollow">Create a New Column based on 1 condition</a><br/>· <a class="ae li" href="#2b27" rel="noopener ugc nofollow">Create a New Column based on Multiple Conditions</a><br/></span></pre><p id="412b" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">让我们使用<a class="ae li" href="https://data.world/makeovermonday/2021w37" rel="noopener ugc nofollow" target="_blank"> data.world </a>上可用的<a class="ae li" href="https://data.world/makeovermonday/2021w37" rel="noopener ugc nofollow" target="_blank">太阳能发电厂</a>数据，并从用<code class="fe mm mn mo mp b">read_excel()</code>读取熊猫数据框中的数据开始。为了方便起见，我还更改了一个列名。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="a0fa" class="mu mv it mp b gy mw mx l my mz">import pandas as pd<br/>url = '<a class="ae li" href="https://query.data.world/s/xgoscc46yofwpqz6qzquyf6kd7bo33'" rel="noopener ugc nofollow" target="_blank">https://query.data.world/s/xgoscc46yofwpqz6qzquyf6kd7bo33'</a><br/>df = pd.read_excel(url)</span><span id="ce8f" class="mu mv it mp b gy na mx l my mz">df.rename(columns=<br/>          {'MWp (Megawatts Peak Capacity)': 'MWp_Capacity'}<br/>          ,inplace=True)</span><span id="e460" class="mu mv it mp b gy na mx l my mz">df.head()</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi nb"><img src="../Images/2715476a531460db2e531b5d62cc3ba7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7lKmEXwNyQFqo4mUq2crIw.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">来自改头换面星期一的开源数据|作者图片</p></figure><p id="92bc" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这是一个20行x 7列的小型数据集。这是一个来自makeovermonday.co.uk的开源数据，可以免费共享和用于项目。数据来源是维基百科。<a class="ae li" href="https://www.makeovermonday.co.uk/data/" rel="noopener ugc nofollow" target="_blank">https://www.makeovermonday.co.uk/data/</a>安迪·克里贝尔将数据上传到data.world。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h1 id="7f03" class="nj mv it bd nk nl nm nn no np nq nr ns ki nt kj nu kl nv km nw ko nx kp ny nz bi translated">Pandas数据帧中loc()和iloc()的区别</h1><p id="b331" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">两者都用于数据切片，即从熊猫数据帧中提取数据子集。但是它们访问数据的方式有一个关键的区别，如下图所示！</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi of"><img src="../Images/c4688a75fcc5014ba68720bb2565b409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_27cwAZ4pqPbNg84hxxYYQ.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">作者图片</p></figure><p id="2364" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">让我们从数据帧的Name列中获取前5行。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi og"><img src="../Images/b8ad09c68bc49e25b59a8e8a521f6450.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OIG9kZYmgVsS_r3niQl_LA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">如何使用。loc()和。iloc()用于选择熊猫|作者图片中的数据</p></figure><blockquote class="mf mg mh"><p id="bca0" class="lj lk mi ll b lm ln kd lo lp lq kg lr mj lt lu lv mk lx ly lz ml mb mc md me im bi translated">错过了什么？？🚩</p></blockquote><p id="1654" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">另一个关键区别是，<code class="fe mm mn mo mp b"><strong class="ll jd">.iloc()</strong></code>方法不像<code class="fe mm mn mo mp b"><strong class="ll jd">.loc()</strong></code>那样包含传递给它的范围的最后一个元素</p><h1 id="2de7" class="nj mv it bd nk nl oh nn no np oi nr ns ki oj kj nu kl ok km nw ko ol kp ny nz bi translated">选择多行和多列</h1><p id="8cd3" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">要选择多个行和列，我们可以将它们的索引列表传递给<code class="fe mm mn mo mp b">.iloc()</code>，或者将它们的标签列表传递给<code class="fe mm mn mo mp b">.loc()</code></p><p id="2b11" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">例如，从数据集中选择第3、第7、第10行和列<code class="fe mm mn mo mp b"><em class="mi">Country</em></code>和<code class="fe mm mn mo mp b"><em class="mi">Year</em></code>。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="3bf7" class="mu mv it mp b gy mw mx l my mz">df.loc[[3,7,10], ["Country", "Year"]]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi om"><img src="../Images/2ea65c8aa15387d8a8a8153ab359b8e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*rz3CAmIK8VFhgK-5_vfOeg.png"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">按作者选择子集|图像</p></figure><p id="bedc" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">通过用索引1和6分别替换列名Country和Year，可以使用<code class="fe mm mn mo mp b"><strong class="ll jd">df.iloc()</strong></code>获得相同的输出。</p><p id="d126" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">另一个例子，从第10行到第15行，从第3列到第5列。这可以通过使用。<code class="fe mm mn mo mp b">iloc()</code>，因为我们对特定索引处的行和列直接感兴趣。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="ec51" class="mu mv it mp b gy mw mx l my mz">df.iloc[9:15, 2:5]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7062450bd6b0c9e712761d90f6ed7f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*dpEwCsa1GU8wn6IQPU8FMQ.png"/></div><p class="le lf gj gh gi lg lh bd b be z dk translated">df.iloc() |作者图片</p></figure><h1 id="9597" class="nj mv it bd nk nl oh nn no np oi nr ns ki oj kj nu kl ok km nw ko ol kp ny nz bi translated">切片行</h1><p id="ca55" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">最健壮和一致的行切片方式是使用<code class="fe mm mn mo mp b"><strong class="ll jd">.iloc()</strong></code> <strong class="ll jd"> </strong> ⚡</p><p id="8514" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">例如，可以通过简单地书写来选择前三行</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="03bd" class="mu mv it mp b gy mw mx l my mz">df.iloc[:3]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oo"><img src="../Images/ec4172cfe1d2f9ded9f566b336d42f72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tQwJ6YhEKqaLqGS4ftqLWg.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">切片熊猫数据帧按行|图片按作者</p></figure><p id="06b7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">因为我们没有为列传递任何索引，所以选择了数据帧中的所有列。</p><p id="7db9" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">当然，这可以通过只写<code class="fe mm mn mo mp b">df[:3]</code>来实现。</p><blockquote class="mf mg mh"><p id="508a" class="lj lk mi ll b lm ln kd lo lp lq kg lr mj lt lu lv mk lx ly lz ml mb mc md me im bi translated">但是选择第一、第七和第八排的❗❗怎么样</p></blockquote><p id="9a0b" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">在这种情况下,<code class="fe mm mn mo mp b">df[0,6,7]</code>将抛出一个<code class="fe mm mn mo mp b">KeyError</code>,但是<code class="fe mm mn mo mp b"><strong class="ll jd">df.iloc[[0,6,7]]</strong></code>将完成这项工作，如下所示。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi op"><img src="../Images/0e26a13923187db95108f03ffada7e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YBZLS7rOGTRlLxE5wt0VUQ.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">使用df.iloc() | Image by Author选择熊猫数据帧的子集</p></figure><p id="5be6" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">🚩请记住，在Python中，索引从0开始，即第一行或第一列的索引总是为0，除非特别更改。</p><p id="cffd" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">此外，还可以选择和提取第1、第3、第5等交替行。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="c7c9" class="mu mv it mp b gy mw mx l my mz">df.iloc[1::2]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi oq"><img src="../Images/47ba419b1e5f934520654a22d14be0e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aM_UCtgFkF5mhR3pZYahqQ.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">在Python中选择熊猫数据帧的交替行|作者图片</p></figure><p id="16fb" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">最终，您需要将行索引传递给<code class="fe mm mn mo mp b">.iloc()</code>方法。</p><h1 id="eecc" class="nj mv it bd nk nl oh nn no np oi nr ns ki oj kj nu kl ok km nw ko ol kp ny nz bi translated">基于条件提取熊猫数据帧子集</h1><p id="446d" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">通常，我们需要根据一个或多个条件提取数据帧的子集。使用<code class="fe mm mn mo mp b">.loc()</code>可以轻松完成这项任务。⚡</p><p id="8ee4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果是一个条件，我们可以将条件传递给如下所示的<code class="fe mm mn mo mp b">.loc()</code>方法。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="ea4e" class="mu mv it mp b gy mw mx l my mz">df.loc[<strong class="mp jd">df["Acres"]&gt;5000</strong>]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi or"><img src="../Images/04edd48116f5dd7a214dbb3067d77260.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TEa92d2EzAlooCO7s3ISow.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">作者基于条件|图像提取数据帧的子集</p></figure><p id="b998" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果单个列甚至多个列有多个条件，只需在用<code class="fe mm mn mo mp b"><strong class="ll jd">&amp;</strong></code>分隔的<code class="fe mm mn mo mp b">.loc()</code>中指定逻辑<code class="fe mm mn mo mp b"><strong class="ll jd">and</strong></code>和用<code class="fe mm mn mo mp b"><strong class="ll jd">|</strong></code>分隔的逻辑<code class="fe mm mn mo mp b"><strong class="ll jd">or</strong></code>即可。</p><p id="5b42" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">🚩不要忘记用括号<code class="fe mm mn mo mp b"><strong class="ll jd">( )</strong></code>将每个条件括起来</p><p id="c9c4" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">例如，选择数据的子集，其中<code class="fe mm mn mo mp b"><em class="mi">Acres</em></code>中的值大于5000或者<code class="fe mm mn mo mp b"><em class="mi">MWp_Capacity</em></code>列中的值大于2000。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="72db" class="mu mv it mp b gy mw mx l my mz">df.loc[<strong class="mp jd">(df["Acres"]&gt;5000) | (df["MWp_Capacity"]&gt;2000)</strong>]</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi os"><img src="../Images/5a8d47235dcfdc803606cec20f7f31ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTBM8J9M_vn7pe1S_T8BWA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">基于多种条件选择熊猫数据帧的子集|图片由作者提供</p></figure><p id="ecc7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">这是一个逻辑<code class="fe mm mn mo mp b"><strong class="ll jd">or</strong></code> <strong class="ll jd"> </strong>的例子。类似地，可以使用逻辑<code class="fe mm mn mo mp b"><strong class="ll jd">and</strong></code>提取子集。</p><h1 id="7f15" class="nj mv it bd nk nl oh nn no np oi nr ns ki oj kj nu kl ok km nw ko ol kp ny nz bi translated">基于1个条件创建新列</h1><p id="7fff" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">有时，您需要基于一列中的值创建一个新列。使用<code class="fe mm mn mo mp b">.loc()</code>方法可以非常快速有效地完成这项工作。</p><p id="85b3" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">语法非常简单明了。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="a41d" class="mu mv it mp b gy mw mx l my mz">Dataframe_name.loc[<strong class="mp jd">condition, new_column_name</strong>] = <strong class="mp jd">new_column_value</strong></span></pre><p id="4308" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果<code class="fe mm mn mo mp b">.loc()</code>中的<code class="fe mm mn mo mp b"><strong class="ll jd">condition</strong></code>为<strong class="ll jd">真</strong>，则<code class="fe mm mn mo mp b"><strong class="ll jd">new_column_value</strong></code>为新列中分配的值。</p><p id="068e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">例如，基于我们的熊猫数据框架中的<code class="fe mm mn mo mp b"><em class="mi">Acres</em></code>列创建一个列<code class="fe mm mn mo mp b"><em class="mi">Size</em></code>。</p><pre class="kt ku kv kw gt mq mp mr ms aw mt bi"><span id="4dec" class="mu mv it mp b gy mw mx l my mz">df.loc[df["Acres"]&gt;5000, "Size"] = "Large"<br/>df.head()</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ot"><img src="../Images/b2c4bdc1eb398ef3bae0d1a5d0e00a85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Woik9UpPJT_QOrVixXuZQ.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">使用df.loc() | Image by Author创建新列</p></figure><p id="a2fd" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">正如我们在上面的结果中看到的，对于条件，即<code class="fe mm mn mo mp b"><em class="mi">Acres</em></code>列中的值小于5000的行，在<code class="fe mm mn mo mp b"><em class="mi">Size</em></code>列中添加了<code class="fe mm mn mo mp b">NaN</code>。</p><h1 id="2b27" class="nj mv it bd nk nl oh nn no np oi nr ns ki oj kj nu kl ok km nw ko ol kp ny nz bi translated">基于多个条件创建新列</h1><p id="b454" class="pw-post-body-paragraph lj lk it ll b lm oa kd lo lp ob kg lr ls oc lu lv lw od ly lz ma oe mc md me im bi translated">故事并没有到此结束。</p><p id="cea2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">我们可以在<code class="fe mm mn mo mp b">.loc()</code>方法中添加多个条件，并基于多个条件创建一个新列。</p><p id="2710" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">例如，基于<code class="fe mm mn mo mp b"><em class="mi">Acres</em></code>和<code class="fe mm mn mo mp b"><em class="mi"> MWp_Capacity</em></code>中的值创建一个名为<code class="fe mm mn mo mp b"><em class="mi">Powerful</em></code>的列</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ou"><img src="../Images/f69e801d16c3ca752b2445561630caf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fN-fjFdoaUUMxguas7geUw.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">基于多个条件的熊猫数据框架中的新列|作者图片</p></figure><p id="e5f3" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">所有缺失值，即<code class="fe mm mn mo mp b">NaN</code>可使用<code class="fe mm mn mo mp b">fillna()</code>单独处理。</p><p id="4df9" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">仅供参考，缺失值可按如下方式填写。♻️</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ov"><img src="../Images/4f83e4ecae993b9f76bf351e7f8039ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VmaWmt0bMz-MGlj00ro0HA.png"/></div></div><p class="le lf gj gh gi lg lh bd b be z dk translated">使用fillna()在Pandas DataFrame | Image by Author中填充缺失值</p></figure><p id="6cb9" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">尺寸栏中的<code class="fe mm mn mo mp b">NaN</code>用“小”填充，强力栏中的<code class="fe mm mn mo mp b">NaN</code>用“否”填充。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><p id="03f7" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">总结一下，</p><p id="76d2" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">数据科学家最耗时的任务是清理和处理真实世界的数据。因此，在从数据帧访问数据时具有灵活性是很重要的。</p><p id="e2ff" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated"><strong class="ll jd"> loc() </strong>和<strong class="ll jd"> iloc() </strong>方法提供了我们在Python中提取熊猫数据帧的行和列所需的所有工具。</p><p id="30e0" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">通过这五个例子，我试图涵盖用Python掌握熊猫数据帧切片的所有可能的方法。如果我错过了什么，请告诉我。</p><p id="f63e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">如果你喜欢阅读这样的文章，今天就成为<a class="ae li" href="https://medium.com/@17.rsuraj/membership" rel="noopener"> <strong class="ll jd">中的一员</strong> </a>。只需每月5美元，你就可以无限制地访问Medium &amp;我将得到其中的一小部分。尽管如此，你可以随时免费订阅我的<strong class="ll jd"> </strong> <a class="ae li" href="https://medium.com/subscribe/@17.rsuraj" rel="noopener"> <strong class="ll jd">邮箱列表</strong></a><strong class="ll jd"><em class="mi"/></strong>。</p></div><div class="ab cl nc nd hx ne" role="separator"><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh ni"/><span class="nf bw bk ng nh"/></div><div class="im in io ip iq"><h2 id="3c74" class="mu mv it bd nk ow ox dn no oy oz dp ns ls pa pb nu lw pc pd nw ma pe pf ny iz bi translated">感谢您的阅读和投资时间！！！</h2></div></div>    
</body>
</html>