<html>
<head>
<title>Correlation Is Not Causation… Or Is It?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">相关性不是因果关系…或者是吗？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/correlation-is-not-causation-or-is-it-487d842dff23#2022-01-20">https://towardsdatascience.com/correlation-is-not-causation-or-is-it-487d842dff23#2022-01-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="26ee" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">相关性不是因果关系…或者是吗？</h1></div><div class=""><h2 id="750a" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">当谈到相关性时，你如何超越挥臂</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/a433c9bc557c58143066727dcde53db2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fs4Xh2HYW_grVkTr"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://unsplash.com/@siyanren?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">任思谚</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</p></figure><h1 id="89f7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">相关性:分析的瓶颈</h1><p id="67e2" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">“相关性不是因果关系”是你在分析学中经常听到的一句话(从现在起，我将把它简称为CINC，我选择听它为“扭结”)。在我的职业生涯中，我多次看到业务分析师或数据科学家展示数据散点图，显示两个变量A和B之间的相关性，并发出例行警告。不幸的是，在90%的情况下，他们会继续做下面两件事情中的一件:</p><ul class=""><li id="e81e" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated">他们继续说，就好像他们确实已经证明了变量A导致变量b。例如，“我们可以看到，收到的营销电子邮件的数量与客户的终身价值相关。当然，相关性不是因果关系。话虽如此，现在让我们来谈谈如何加大营销力度，提高客户的LTV。在这种情况下，CINC只不过是一个几乎不加掩饰的免责声明，保护分析师的屁股，以防你愚蠢地相信他们的结论。</li><li id="7908" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">或者，他们说除非你进行随机实验，否则你不能得出任何进一步的结论。这种方法在受过统计学训练的分析师中更常见，它的优势是在智力上更诚实。然而，在实践中，商业伙伴往往只是点头附和，一旦发言者离开房间，他们就根据变量A制定计划，导致变量b。</li></ul><p id="256d" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">然而，这种令人遗憾的状况并不一定是常态。每当我们观察数据中的相关性时，实际上变量A之外的有限数量的可能情况导致了变量B:</p><ol class=""><li id="108a" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj nd ms mt mu bi translated">观察到的相关性并不反映感兴趣人群中的真实相关性，</li><li id="9932" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">变量B导致变量A，</li><li id="d96c" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">变量A和变量B有共同的原因，</li><li id="09ee" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">有一个更复杂的因果结构在起作用。</li></ol><h1 id="4c5b" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">1.没有真正的相关性</h1><p id="cd73" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最简单的情况是，在感兴趣的总体中实际上没有任何相关性。这有两种可能发生的方式:噪音(又名。采样变化)和偏差。</p><p id="c1f2" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated"><strong class="lq ir">噪音。</strong>首先，如果你的样本“太小”，或者你连续抽取了太多样本(又名。钓鱼探险)，观察到的相关性可能只是一个随机的侥幸。这是一个真正的问题，尤其是如果你依赖p值作为重要性的衡量标准，而不是通过置信区间来确定经济重要性，但我不会纠缠于此:我觉得大多数人都对那个陷阱有很好的把握，在大多数商业情况下，样本不会那么小。如果您有一百万行，那么在您的潜在问题列表中，抽样变化应该非常低。如果你的样本较小，就使用更稳健的指标，比如中值而不是平均值。人们经常低估中位数的稳健性，即使样本非常小(数学在附录中)。</p><p id="0eb2" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated"><strong class="lq ir">偏见。</strong>当您的样本不能很好地代表您感兴趣的人群时，就会出现偏差。例如，“去年拥有活动帐户的所有客户”通常是“明年拥有活动帐户的所有客户”的合理替代。另一方面，“去年所有拥有活跃账户的客户<em class="ne">都提供了电子邮件地址</em>”则不是。偏倚是一个比噪声更隐蔽的问题，因为即使是大样本也可能成为它的受害者，正如最近一项关于COVID的研究所示[1]。</p><p id="43f5" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">避免偏见，或者至少认识到它，并不复杂。简单地尽可能精确地写下你的样本的定义和你感兴趣的人群的定义。如果你的样本真的是从你的人口中随机抽取的，你就可以开始了。在任何其他情况下，可能会有偏见，例如，如果你在你的人群中随机接触一些人，但你的样本只包括那些回答或提供完整答案的人。试着找出你感兴趣的人群中的子类别，这些子类别可能在你的样本中被遗漏或代表不足。推而广之，如果你的人群中有残疾、没有互联网连接的贫穷老年妇女，你能充分接触到她们吗？</p><p id="be33" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">如果你在想“但那只是我人口中的极小一部分！”，我请你再想一想。子类别可能会在你的人口中占很大份额，即使每个子类别都很小。仅从你个人的角度来看，它们也可能显得很小。我目前住在西非，最近很难更新一部iPhone:它需要1)下载数千兆字节的数据，2)通过WiFi(另一部手机hotspotting无法工作)，3)在充电时。但发展中国家智能手机的典型拥有者可能在家里没有WiFi(他们的智能手机是他们唯一的互联网接入)，商店里的WiFi带宽通常有限，假设他们甚至允许你使用电插头。如果你住在美国西海岸，这可能是一个“边缘案例”，但它可能包含数亿甚至数十亿智能手机用户！</p><h1 id="a789" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">2.反向因果关系(B导致A)</h1><p id="8369" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">下一种可能性是变量A和B之间的相关性可能源于变量B导致变量A，而不是相反。例如，收到的营销电子邮件数量和客户终身价值之间的相关性可能是由于营销通过电子邮件将目标锁定在高LTV客户。一旦你考虑到这种可能性，它在你的数据中是如何发生的就很明显了。</p><h1 id="2a43" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">3.混杂因素(A和B有共同的原因)</h1><p id="ba05" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">最后一种“简单”的情况是当A和B有共同的原因时。例如，营销预算可能在美国的州一级分配，或者在国际上在国家一级分配。然后加州的客户(分别是美国的)可能比田纳西州的客户拥有更高的LTV和收到更多的营销电子邮件。，在尼日利亚)。同样，一旦您考虑到这种可能性，它在您的数据中是如何发生的就很明显了。</p><h1 id="05ab" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">4.还有什么(更复杂的因果结构)</h1><p id="a5a8" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">前三种情况可能代表了你在实践中会遇到的90%的情况，但是从技术上讲，它们并没有涵盖所有的可能性。为了完整起见，我将简要地谈一谈还有什么。</p><p id="6b6e" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">一类更复杂的因果结构是当你显式或隐式地控制一个你不应该控制的变量。例如，一名军医发现，战场上止血带的使用与存活率呈负相关；问题是他的分析是基于到达野战医院的士兵。但是止血带的主要好处是，它可以让受重伤的士兵存活到他们到达医院，而不是流血过多。这意味着总体上有更多的士兵存活下来，但只有很少一部分被送到医院，因为我们增加了更多的严重病例。顺便提一下，这个例子也可以解释为数据收集中的偏差(即，观察到的负相关不代表感兴趣的人群)，这表明数据收集和数据分析并不像人们通常认为的那样分离。</p><p id="1148" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">最后，我们有一些情况似乎是大自然设计的，让科学家们困惑不解。例如，人们已经知道自闭症与简单的肠道微生物群(即肠道中细菌种群多样性较低)有关。这是否意味着微生物组导致自闭症？最近的一项研究表明“不，恰恰相反”:自闭症儿童经常限制饮食，因为感官体验会淹没他们，有限的食物种类导致有限的微生物种类。但是接下来，如何解释粪便移植改善了自闭症儿童的行为？一个新兴的假设是，“粪便移植通过缓解不平衡的微生物群直接带来的不适症状，改善了自闭症儿童的行为，但不影响该疾病的神经基础”[3]。相应的因果图是:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/daecc4f5506ea538438768207ad6b139.png" data-original-src="https://miro.medium.com/v2/resize:fit:880/format:webp/1*o8FrrGQL1mwIW7Z3ljoZkA.png"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者图片</p></figure><p id="01cd" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">最终，科学通过开发越来越精确和完整的模型来解释手头的所有事实而进步。这同样适用于商业:实现对客户(或员工)行为的深入理解需要建立准确的因果图，正如我在我的书<a class="ae kv" href="https://amzn.to/35qyneY" rel="noopener ugc nofollow" target="_blank"> <em class="ne">用R和Python</em></a><em class="ne"/>【4】进行行为数据分析中解释的那样。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/18b9e1b90df08005fe8efec1507e2a9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*VIqiAjylaI49XY2doo7qDg.jpeg"/></div></figure><h1 id="4118" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">总结和结论</h1><p id="8896" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">每当您在数据中观察变量A和B之间的相关性时，除了A导致B之外，正好有4种可能性:</p><ol class=""><li id="4a6a" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj nd ms mt mu bi translated">由于采样噪声或偏差，观察到的相关性不能反映感兴趣人群中的真实相关性；</li><li id="2041" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">变量B引起变量A；</li><li id="7357" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">变量A和变量B有一个共同的原因；</li><li id="b775" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj nd ms mt mu bi translated">有一个更复杂的因果结构在起作用。</li></ol><p id="73c8" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">这意味着，你不必把自己局限于“相关不是因果”。通过仔细思考其他可能性并排除不合理的可能性，你可以得出结论，“这种相关性可能反映了因果关系，一旦我们确定了我们想要采取的行动，就可以通过运行A/B测试来确认这一点”。如果事情变得太复杂，您可以构建因果图来确定发生了什么。</p><h1 id="aa93" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">参考</h1><p id="5268" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">[1]<a class="ae kv" href="https://news.harvard.edu/gazette/story/2021/12/vaccination-surveys-fell-victim-to-big-data-paradox-harvard-researchers-say/" rel="noopener ugc nofollow" target="_blank">https://news . Harvard . edu/gazette/story/2021/12/vaccine-surveys-fell-victim-to-big-data-paradox-Harvard-researchers-say/</a>。</p><p id="0ed7" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">[2]这个例子出自朱迪亚·珀尔(Judea Pearl)和达纳·麦肯齐(Dana MacKenzie)，<a class="ae kv" href="https://smile.amazon.com/Book-Why-Science-Cause-Effect-ebook/dp/B075CR9QBJ/" rel="noopener ugc nofollow" target="_blank"> <em class="ne">《为什么:因果的新科学</em> </a>》一书。</p><p id="6c46" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">[3]《经济学家》，<a class="ae kv" href="https://www.economist.com/science-and-technology/can-an-upset-gut-microbiome-cause-autism/21806337" rel="noopener ugc nofollow" target="_blank">“肠道菌群失调如何与自闭症联系在一起”</a>。</p><p id="128c" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">[4] Florent Buisson，<a class="ae kv" href="https://amzn.to/35qyneY" rel="noopener ugc nofollow" target="_blank"> <em class="ne">用R和Python进行行为数据分析:真实业务结果的客户驱动数据</em> </a> <em class="ne">。</em></p><p id="6f9c" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">你也可以看看我以前在Medium上的帖子:</p><ul class=""><li id="27b4" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated"><a class="ae kv" href="https://medium.com/behavior-design-hub/is-your-behavioral-data-truly-behavioral-efb258a24a6c" rel="noopener">你的行为数据真的是行为数据吗？</a></li><li id="c51f" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/ditch-p-values-use-bootstrap-confidence-intervals-instead-bba56322b522">沟p值。使用自举置信区间代替</a></li><li id="934e" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><a class="ae kv" rel="noopener" target="_blank" href="/is-zillow-cursed-a-behavioral-economics-perspective-5b5165bb085b">Zillow“被诅咒了吗？”行为经济学视角</a></li><li id="d733" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><a class="ae kv" href="https://medium.com/@florent.buisson/what-does-a-behavioral-science-manager-in-a-fortune-100-company-do-ca5ceb20631" rel="noopener">财富100强公司的行为科学经理是做什么的？</a></li></ul><h1 id="8edc" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">附录:中位数估计量的稳健性</h1><p id="1d3b" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">请记住，根据定义，人口的中位数是这样的，一半人口的值低于它，一半人口的值高于它。无论数据分布的形状、峰值数量等如何，这一点都成立。</p><p id="0f6b" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">这意味着，如果从总体中随机抽取两个值x和y，有4种可能性:</p><ul class=""><li id="77a5" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated">都低于人口中位数，概率0.5 * 0.5 = 0.25；</li><li id="32d8" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">他们都高于人口中位数，概率也是0.25；</li><li id="d066" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">一个低于人口中位数，一个高于，概率0.5。</li></ul><p id="7e76" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">更一般地说，如果你有N个值:</p><ul class=""><li id="f49a" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated">它们都低于0.5^N概率的中间值。</li><li id="a5b5" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">它们都高于0.5^N概率的中位数。</li><li id="160f" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">中位数位于概率为1–2*(0.5^n).的n个值的最小值和最大值之间</li></ul><p id="5076" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx na lz ma mb nb md me mf nc mh mi mj ij bi translated">这意味着，即使只有5个值的样本，也有94%的机会将总体中值归入您的样本。有10个值时，概率达到99.8%。现在，我不能保证你会对这个置信区间的大小感到满意，但至少你会非常清楚地意识到，在当前的情况下，抽样变异有多重要。</p></div></div>    
</body>
</html>