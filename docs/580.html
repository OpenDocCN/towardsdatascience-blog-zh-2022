<html>
<head>
<title>Introduction to Data Processing using Descriptive Statistics and Statistical Charts in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中使用描述性统计和统计图进行数据处理的介绍</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/introduction-to-data-processing-using-descriptive-statistics-and-statistical-charts-in-python-9857a60c481b#2022-01-20">https://towardsdatascience.com/introduction-to-data-processing-using-descriptive-statistics-and-statistical-charts-in-python-9857a60c481b#2022-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="95ba" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">Python中使用描述性统计和统计图进行数据处理的介绍</h1></div><div class=""><h2 id="4355" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">Python中测试数据假设(MCAR、MAR、MNAR、集中趋势、偏斜度和异常值)的完整实践指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/77c5cdd09827fa0c963682b6ae457bb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FVMzJe18XxIi9FbX"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">贾斯汀·摩根在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h1 id="4214" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">数据可视化和统计</h1><p id="cc73" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">我们围绕数据的大部分工作涉及70%的描述性分析，10%的探究性分析，剩下的20%是预测性和规范性分析。描述性分析可以回答市场上正在发生的事情。例如，如果我们为一家零售店工作，我们希望确定他们的月销售额、客户流量、增长、净利润、业务来源(比如新客户和现有客户)以及多个其他KPI。所有这些KPI都可以使用任何商业智能(BI)工具进行计算和可视化表示，如Power BI、Tableau、Qlik Sense，甚至可以使用Excel和PowerPoint的组合。那么我们为什么需要Python及其可视化能力呢？</p><p id="84c8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">考虑到可再现的包和情节的限制，在Python中创建美观的可视化是具有挑战性的。Matplotlib(使用Pyplot)、Seaborn和Plotly (plotly。express)可以用Python生成大部分统计图。这些软件包的主要限制在于它们格式化的灵活性，因此在描述性分析方面并不优于BI工具。虽然Seaborn不会自动生成数据标签，但Plotly并不支持Python中所有可能的可视化。Matplotlib形成了所有可视化的主干，并在三层架构系统上运行，“后端层”、“艺术家层”和“脚本层”允许用户控制布局和格式。尽管如此，它也带来了复杂编码的巨大代价，而这是许多用户所避免的。</p><h2 id="d3da" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">统计学和Python适合在哪里？</h2><p id="33e3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">Python提供了一些包，允许用户在构建任何预测模型之前研究数据属性并采取适当的措施。线性回归、逻辑回归、朴素贝叶斯分类器等统计模型，甚至基于聚类的任务都会对数据做出假设。在建立模型之前，我们可以使用图来验证这些假设。这些图使用描述性统计作为基础。我们将一点一点地讨论这个问题。你可以在拥有公共领域许可证的<a class="ae ky" href="https://www.kaggle.com/roysouravcu/forbes-billionaires-of-2021?select=Billionaire.csv" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>中找到用于此分析的数据集，这意味着每个人都可以访问它。在本文中，我们将涵盖以下概念:</p><ol class=""><li id="a095" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm nk nl nm nn bi translated">缺失值和缺失值的相关性-测量缺失值的随机性。</li><li id="b28f" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">使用数据分布的数据偏斜度</li><li id="c9f5" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">离群值和图基阶梯</li><li id="c04a" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">皮尔逊相关系数—了解多重共线性</li></ol><p id="2fc0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">这项分析中使用的数据由以下属性组成——亿万富翁的“姓名”、“净值”、“国家”、“来源”、“排名”、“年龄”和“行业”。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="7403" class="ms la it nu b gy ny nz l oa ob">#---------------------Importing packages for visualization----------------</span><span id="06a6" class="ms la it nu b gy oc nz l oa ob">import pandas as pd #---Pandas for dataframe<br/>import numpy as np #---Numpy for manipulation; Not used in this analysis</span><span id="a88c" class="ms la it nu b gy oc nz l oa ob">import seaborn as sns #---Seaborn for graphs<br/>import matplotlib.pyplot as plt #---Pyplot for canvas (e.g. figure size, title, x and y axis ranges etc.)</span><span id="bbf9" class="ms la it nu b gy oc nz l oa ob">sns.set(color_codes=True)</span><span id="e7a1" class="ms la it nu b gy oc nz l oa ob">%matplotlib inline</span><span id="80f2" class="ms la it nu b gy oc nz l oa ob">#With this backend, the output of plotting commands is displayed inline within frontends like the Jupyter notebook, <br/>#directly below the code cell that produced it. The resulting plots will then also be stored in the notebook document.</span><span id="f42b" class="ms la it nu b gy oc nz l oa ob">data_MM=pd.read_csv('Billionaire - 2021.csv')</span><span id="48eb" class="ms la it nu b gy oc nz l oa ob">data_MM.head()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi od"><img src="../Images/6a3e161a3103ee9c9e407de5bd00cb7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P0r5umDFz90ln46KDUJiow.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图一。展示了数据集中的前五条记录和相关属性(列名)。图片由作者使用Jupyter笔记本制作。</p></figure><h2 id="3a02" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">1.了解缺失值</h2><p id="c241" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">缺失值通常是指在数据收集过程中没有引入或丢失的属性。多种原因可导致缺失值，包括手动数据输入程序、设备错误和不正确的测量。Python将缺失值视为NA/Null/NaN，并自动忽略它们进行描述性分析。例如，当我们在原始数据上创建一个条形图来按行业分析亿万富翁的数量时，在创建计数图时，数据中任何缺失的名字都将被忽略。但是，假设使用相同的缺失值作为输入来构建聚类或回归模型。在这种情况下，Python将抛出一个错误，因为大多数内置的统计建模包不能处理缺失值。我们可以使用以下内容来检查缺失值:</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="c4cf" class="ms la it nu b gy ny nz l oa ob">data_MM.info()</span><span id="3636" class="ms la it nu b gy oc nz l oa ob">data_MM.isnull().sum()</span></pre><p id="b458" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">可以使用<a class="ae ky" href="https://github.com/ResidentMario/missingno" rel="noopener ugc nofollow" target="_blank"> missingno </a>包创建这些缺失值的可视化表示。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b337" class="ms la it nu b gy ny nz l oa ob">!pip install missingno</span><span id="8b9e" class="ms la it nu b gy oc nz l oa ob">import missingno as ms</span><span id="ef1a" class="ms la it nu b gy oc nz l oa ob">plt.title("Missing Values", fontsize=20);</span><span id="2950" class="ms la it nu b gy oc nz l oa ob">ms.bar(data_MM);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oe"><img src="../Images/3cb19e53475b63e3881a5c25be9c4a1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mz3EmCLDeGYb_w1S3xx2kg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图二。说明了数据中缺失值按属性的分布情况。主X轴提供非缺失值的百分比，而次X轴提供非缺失记录的计数。图片由作者使用Jupyter笔记本制作。</p></figure><p id="ef7e" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">正如您所看到的，我们只有一个属性“年龄”，它缺少一些条目。</p><ol class=""><li id="48c2" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm nk nl nm nn bi translated">第一种方法是丢弃属性中缺少值的记录。删除缺失值较高的属性属于此类别。然而，这种技术的选择取决于从分析中移除的数据的百分比。如果百分比较低，则用户可以要求删除缺失的属性，否则需要某种形式的插补</li><li id="962c" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">另一种方法是使用最大似然法，对完整数据部分的模型参数进行估计，然后用于抽样估算。这些包括期望最大化、多重插补、贝叶斯主成分分析等等</li><li id="4918" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated">最后，缺失值插补是一类旨在用估计值填充缺失值的程序。在大多数情况下，数据集的属性并不是相互独立的。因此，通过识别属性之间的关系，可以确定丢失的值。这还涉及领域知识和业务规则，它们可以用来纠正缺失的值</li></ol><p id="2c16" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">下面的可视化旨在检查变量/列中的随机样本或间隔值是否缺失。如果由于另一个变量缺少值而导致缺少值(例如，某个特定记录的年龄和姓名都缺少)，或者某个特定属性中的值独立于另一个属性而缺少(例如，在我们的数据集中，只有年龄缺少值，而所有其他属性都完整)。遗漏的类型包括:</p><ul class=""><li id="ca96" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm of nl nm nn bi translated"><strong class="lt iu">完全随机缺失(MCAR) </strong>:缺失与观察值或缺失值无关</li><li id="86e1" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm of nl nm nn bi translated"><strong class="lt iu">随机缺失(MAR): </strong>缺失与其他观测数据之间存在系统关系，但缺失数据不存在系统关系</li><li id="57ff" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm of nl nm nn bi translated"><strong class="lt iu">非随机缺失(MNAR): </strong>缺失和它的值有关系，缺失或非缺失</li></ul><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="adba" class="ms la it nu b gy ny nz l oa ob">#---------------------------------------Plotting data using msno----------------------------</span><span id="052c" class="ms la it nu b gy oc nz l oa ob">ms.heatmap(data_MM,figsize=(10,8), fontsize=12);<br/>plt.title("Missing Number Correlation Plot");</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi og"><img src="../Images/a1b68c14a0fe980608bdd23442f8c94e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*ObO5qHKazPovLt7ySlu3VA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3。说明数据中缺失值之间的相关性。我们只有缺失条目的“年龄”；因此，我们看不到上面的相关性，也就是说，我们可以断定“年龄”的值完全是随机缺失的。图片由作者使用Jupyter笔记本制作。</p></figure><p id="83ae" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">对于随机缺失或完全随机缺失的值，像平均值和中值这样的简单插补是最佳策略，这取决于偏斜度。对于偏斜的数据，最好使用中位数来抵消异常值的影响，而对于正态分布的数据，可以使用平均值。当数据随机缺失或者与另一个属性密切相关的属性中的值没有缺失时，也可以使用K最近邻等高级技术。对于MNAR，即非随机缺失的值，一种流行的技术是从非缺失分布中采样值，直到缺失值处理后的数据分布与原始分布的分布匹配。</p><h2 id="cd68" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">2.数据偏斜度</h2><p id="d0a3" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">数据偏斜度表示数据值围绕平均值不对称的程度。测量偏斜度的一种方法是研究分布的平均值和中值。</p><ul class=""><li id="4e67" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm of nl nm nn bi translated">均值&gt;中位数:正分布还是右偏分布</li><li id="5e4a" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm of nl nm nn bi translated">均值=中位数:零偏斜或对称分布</li><li id="2fd8" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm of nl nm nn bi translated">平均值&lt; Median: Negative or left-skewed distribution</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/a8091a48643b9904796ee7ab98f6d7e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1028/format:webp/1*h5hWyG0USsED8TOOc5D4fA.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4。说明了偏斜度的公式。Xi是数据点，X条是数据的平均值，西格玛是标准偏差，n是记录数。</p></figure><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="8203" class="ms la it nu b gy ny nz l oa ob">data_MM['Age'].skew()</span></pre><p id="9a52" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Output: 0.045</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="c13b" class="ms la it nu b gy ny nz l oa ob">data_MM[‘Age’].mean()</span></pre><p id="aef7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Output: 63.11</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="ebcd" class="ms la it nu b gy ny nz l oa ob">data_MM['Age'].median()</span></pre><p id="5d44" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Output: 63.0</p><p id="0de0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">As we can see that Mean &gt;中位数，数据是右偏的，偏度为0.04。由于偏斜度非常小，约为0，所以分布图显示了几乎正态分布。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="3271" class="ms la it nu b gy ny nz l oa ob">plt.figure(figsize=(8,7))<br/>sns.distplot(data_MM['Age']);<br/>plt.title("Distribution plot for Age:");</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/9dee3ebf51f9c9afe85883db337af527.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*YPeZSpiEf1RZKUps-We2Lg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5。说明了“年龄”的分布图。图片由作者使用Jupyter笔记本制作。</p></figure><p id="58d8" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">通常，整个数据的分布图可能无法描绘正确的画面。因为sns.displot()不允许我们按类别分解数据，所以我们可以使用catplot创建一个violin图。<strong class="lt iu">注意，我们不能使用pyplot和figsize来设置画布的高度和宽度，因此我们使用catplot中的height选项。</strong></p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="e488" class="ms la it nu b gy ny nz l oa ob">sns.catplot(x="Age", y="Industry",<br/>            kind="violin", data=data_MM, height=12);</span><span id="e735" class="ms la it nu b gy oc nz l oa ob">plt.title("Distribution plot for Age:");</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/5d801b0df01ba71b14e7a950444ef6ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qAZ4OfnQU2UTS1Xr6RAXnQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6。说明了“年龄”按“行业”的分布图。图片由作者使用Jupyter笔记本制作。</p></figure><p id="8cc1" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">注意-没有必要按类别分析分布，但对于倾斜数据，将数据恢复到正态分布是很重要的，因此，我们可以只转换特定类别的数据，而不是转换整个数据。</p><p id="d1b4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">线性模型(回归&amp;逻辑)使用“正态数据分布”作为核心假设之一。像人工神经网络这样的深度学习模型也使用参数方程，假设数据是正态分布的。</strong></p><h2 id="5420" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">3.极端值</h2><p id="d8ee" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">均值、中值和众数是在识别异常值时广泛用于理解数据分布的主要趋势。当我们测量同类事物时，相对大量的此类测量值会聚集在中间值周围。这样的值被称为集中趋势/统计平均值的度量。</p><p id="78df" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">平均值计算如下:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/c52283876ea4a81049ca7e9f04f24793.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*mv4BNlqB7hH9FXq9EjnoKQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7。测量平均值。作者使用Latex制作的图像。</p></figure><p id="0ca4" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><strong class="lt iu">中位数计算如下:</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ol"><img src="../Images/45a19bbad89d478fc71c4eeafe491da3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wgQZoNyPDIkdw1dMwIOcdA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图8。测量中间值。这个公式适用于奇数个观测值。对于偶数个观察值，中位数计算为第N/2次和第(N/2)次+1次观察值的平均值。例如，如果有10个观察值，我们将它们按升序排列，然后取第5个和第6个观察值的平均值作为中间值——作者使用Latex准备的图像。</p></figure><p id="6238" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">Q1和Q3的四分位数计算如下:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi om"><img src="../Images/f9e3ede6af9e4f904010041b24bedab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hdoiF83xvwrcKl5prfvrQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图9。测量四分位数。k是四分位值，即对于Q1，k=1，对于Q3，k=3。作者使用Latex制作的图像。</p></figure><p id="e6bb" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">例如，考虑下面的一组数字:11个学生解决一个难题所用的时间，以秒为单位，按7、12、13、17、18、20、22、24、25、30、45的顺序排列。由于𝑛在这个问题陈述中是11，𝑞将永远是0。因为(𝑛+1)是12，而MOD 4是0，所以对于𝑘=1，<em class="ne"> p=floor(1 </em> x <em class="ne"> (12/4))，也就是3。对于K=3，p =地板(3 </em> x <em class="ne"> (12/4))，也就是9。因此，从上面的列表中，Q1 = Xp或X3，13，Q3等于X9，25。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi on"><img src="../Images/e0d7d755b0bc6e5833e36500f8dabd57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8iYn5FPNqkvmPVAzygN4QA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图10。说明了计算Q1和Q3的方法。作者使用Latex制作的图像。</p></figure><p id="a4f5" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">四分位数间距(IQR) = Q3 — Q1</p><p id="e4de" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">箱线图使用IQR基础来计算数据中的异常值。IQR可以识别较低和较高的晶须，它们被用作逼近数据中异常值的阈值。任何超出这些阈值的数据点都被视为异常值。</p><ol class=""><li id="61c3" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm nk nl nm nn bi translated"><strong class="lt iu">下须= Q1–1.5倍IQR </strong></li><li id="defa" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm nk nl nm nn bi translated"><strong class="lt iu">上须= Q3 + 1.5 x IQR </strong></li></ol><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="5794" class="ms la it nu b gy ny nz l oa ob">data_MM['Age'].describe()</span><span id="8f78" class="ms la it nu b gy oc nz l oa ob">count    2676.000000<br/>mean       63.113602<br/>std        13.445153<br/>min        18.000000<br/>25%        54.000000<br/>50%        63.000000<br/>75%        73.000000<br/>max        99.000000</span></pre><p id="da4b" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">根据上面的例子，Q3 = 75%或第75百分位= 73，Q1 = 25%或第25百分位= 54。IQR = 73–54 = 19。下须= 54–1.5x 19 = 25.5，上须= 73 + 1.5 x 19 = 101.5</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="b31b" class="ms la it nu b gy ny nz l oa ob">plt.figure(figsize=(15,7))<br/>sns.boxplot(x = ‘Age’, data = data_MM, showmeans=True)<br/>plt.title(“Boxplot for Age”)<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/dd9a6276e481beae56a1f667b9f8f3cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fgj8EQXRea32qR1Q4XhXew.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图11。说明了年龄的箱线图。请注意，下面的晶须标记为25.5，超出的点被视为异常值。上须的理想值应该是101.5，但是由于没有超过该阈值的值，数据中的最高年龄99被认为是上须。图片由作者使用Jupyter笔记本制作。</p></figure><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="23c7" class="ms la it nu b gy ny nz l oa ob">plt.figure(figsize=(30,9))<br/>sns.boxplot(y = 'Age', x="Industry", data = data_MM, showmeans=True)<br/>plt.title("Boxplot for Age")<br/>plt.show()</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/9d84af9ce34211450f71832d7df08089.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X2Gr_rv6HbjHwpp55tpFog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图12。展示了按行业划分的年龄箱线图。图片由作者使用Jupyter笔记本制作。</p></figure><p id="9787" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">根据不同模型对数据分布的假设，离群值对于模型的良好运行同样重要。一般来说，有偏差的数据表明存在异常值。使用聚类分析时，离群值往往会形成自己的聚类，从而产生不正确的分段。存在异常值时，线性模型的最佳拟合线不正确。有多种方法可以处理异常值:</p><ul class=""><li id="2554" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm of nl nm nn bi translated">winsorization——将离群值限制在上下须上。这些须状物由IQR或者甚至标准差(例如±2/3标准差)来定义</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/90f53528c8940d2bdff764c9d9229935.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MHUbDezpQ4ZOmkUNe6ePQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图13。说明了方差和标准差的度量。图片由作者使用Jupyter笔记本和Latex制作。</p></figure><ul class=""><li id="5750" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm of nl nm nn bi translated">Tukey的权力阶梯—对于任何有偏差的数据，如果我们在两个变量X和Y之间创建一个图(比如年龄和净值，我们需要将净值转换为数字)，该图的形状可用于确定数据的转换类型。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/ac479441f9f38d372529dd49603e1d6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kq3DswxC2Tr-hlCpa9nhLw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图14。说明了Tukey决定数据转换的权力阶梯。图片由作者使用PowerPoint制作。</p></figure><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="c2e8" class="ms la it nu b gy ny nz l oa ob">data_MM['Value']=data_MM['NetWorth'].apply(lambda x: x.replace("$","").split()[0])</span><span id="1ebd" class="ms la it nu b gy oc nz l oa ob">data_MM['Value']=data_MM['Value'].astype('float')</span><span id="dea2" class="ms la it nu b gy oc nz l oa ob">data_MM.head()</span><span id="a79b" class="ms la it nu b gy oc nz l oa ob">plt.figure(figsize = (15,8));</span><span id="79ab" class="ms la it nu b gy oc nz l oa ob">sns.scatterplot(x="Age", y="Value", data=data_MM);</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/994648fd32db372457a7e3c76a974662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7_m2G7ZrOa0fE0vZgfyi7Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图15。展示了年龄和估价(价值)的散点图。随着年龄的增长，估值也在上升，因此我们可以对年龄和平方估值进行对数转换。图片由作者使用Jupyter笔记本制作。</p></figure><h2 id="8f41" class="ms la it bd lb mt mu dn lf mv mw dp lj ma mx my ll me mz na ln mi nb nc lp nd bi translated">皮尔逊相关系数—了解多重共线性</h2><p id="d8a1" class="pw-post-body-paragraph lr ls it lt b lu lv ju lw lx ly jx lz ma mb mc md me mf mg mh mi mj mk ml mm im bi translated">为了测量一个变量如何随着另一个变量的变化而变化，我们计算协方差。当我们用两个变量各自的标准差来归一化这两个变量的协方差时，我们得到了皮尔逊相关系数。协方差和皮尔逊相关系数计算如下:</p><div class="kj kk kl km gt ab cb"><figure class="ot kn ou ov ow ox oy paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/34767f410337e810c09c97e151be3923.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*FexxhQqOltTGo2-xDr3orA.png"/></div></figure><figure class="ot kn oz ov ow ox oy paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><img src="../Images/16ad12119b8172a3a00ff37f21cc76dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*wtSMSgYeDVZK1Ft1b_QnKw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk pa di pb pc translated">图15。说明了两个变量X和Y及其相关系数之间的协方差度量。适马指的是这些变量的标准差。作者使用Latex制作的图像。</p></figure></div><ul class=""><li id="5adf" class="nf ng it lt b lu mn lx mo ma nh me ni mi nj mm of nl nm nn bi translated">该指标仅告诉我们两个变量一起变化的程度，而不是得出一个变量的变化导致另一个变量的变化的唯一证据。</li><li id="804d" class="nf ng it lt b lu no lx np ma nq me nr mi ns mm of nl nm nn bi translated">正值表示两个变量朝同一方向移动，而负值表示两个变量朝相反方向移动。</li></ul><p id="ffd7" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">我们只能确定两个变量之间关系的方向，但是为了确定关系的强度，我们计算两个变量的相关系数。</p><pre class="kj kk kl km gt nt nu nv nw aw nx bi"><span id="e96e" class="ms la it nu b gy ny nz l oa ob">correlation = data_MM.corr().round(2) # creating a 2-D Matrix with correlation plots</span><span id="951e" class="ms la it nu b gy oc nz l oa ob">correlation</span><span id="1bc1" class="ms la it nu b gy oc nz l oa ob">plt.figure(figsize = (15,8)) #figsize=(width,height)</span><span id="82e8" class="ms la it nu b gy oc nz l oa ob">sns.heatmap(correlation, annot=True, cmap='vlag_r', vmin=-1, vmax=1); #color palette</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pd"><img src="../Images/15d471e9352f74478915bfb7bd5112c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8niI8L6g3IDCre_9scP_Tw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图16。展示了数据中所有数值变量的关联矩阵(热图)。图片由作者使用Jupyter笔记本制作。</p></figure><p id="ee28" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">与协方差不同，相关系数与比例无关，可以取-1到+1之间的值。接近-1的值表示变量之间的负相关。例如，等级和值之间的相关性等于-0.48。这表明随着值的增加，等级降低(由于等级1被认为是最高的，所以等级会更高)。</p><p id="f2d0" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated">多重共线性在创建驱动模型时尤其重要。如果两个或多个变量高度相关，那么线性模型的参数估计可能不是精确的表示。通常，VIF(方差膨胀因子)用于识别多重共线性，但是相关性可以在构建模型之前筛选此类变量。</p><h1 id="a4b0" class="kz la it bd lb lc ld le lf lg lh li lj jz lk ka ll kc lm kd ln kf lo kg lp lq bi translated">参考</h1><ol class=""><li id="bf1f" class="nf ng it lt b lu lv lx ly ma pe me pf mi pg mm nk nl nm nn bi translated">卡格尔。(未注明)。2021年福布斯亿万富翁。2022年1月20日检索，来自kaggle.com网站:<a class="ae ky" href="https://www.kaggle.com/roysouravcu/forbes-billionaires-of-2021?select=Billionaire.csv" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/roysouravcu/Forbes-billionaires-of-2021？select=Billionaire.csv </a></li></ol></div><div class="ab cl ph pi hx pj" role="separator"><span class="pk bw bk pl pm pn"/><span class="pk bw bk pl pm pn"/><span class="pk bw bk pl pm"/></div><div class="im in io ip iq"><p id="8795" class="pw-post-body-paragraph lr ls it lt b lu mn ju lw lx mo jx lz ma mp mc md me mq mg mh mi mr mk ml mm im bi translated"><em class="ne">关于作者:高级分析专家和管理顾问，帮助公司通过商业、技术和组织数据的数学组合找到各种问题的解决方案。一个数据科学爱好者，在这里分享、学习、贡献；你可以和我在</em> <a class="ae ky" href="https://www.linkedin.com/in/angel-das-9532bb12a/" rel="noopener ugc nofollow" target="_blank"> <em class="ne">上联系</em> </a> <em class="ne">和</em> <a class="ae ky" href="https://twitter.com/dasangel07_andy" rel="noopener ugc nofollow" target="_blank"> <em class="ne">上推特</em></a><em class="ne">；</em></p></div></div>    
</body>
</html>