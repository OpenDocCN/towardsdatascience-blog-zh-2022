<html>
<head>
<title>Python If-Else Statement in One Line — Ternary Operator Explained</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python If-Else语句在一行中-三元运算符解释</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/python-if-else-statement-in-one-line-ternary-operator-explained-eca2be64b7cc#2022-01-10">https://towardsdatascience.com/python-if-else-statement-in-one-line-ternary-operator-explained-eca2be64b7cc#2022-01-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="3b16" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">Python If-Else语句在一行中-三元运算符解释</h1></div><div class=""><h2 id="cce3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated"><strong class="ak">Python中的单行条件句？以下是何时使用和何时不使用它们。</strong></h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/54db379c69d99c9007d8d71db869431f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vLxKaRUDhNwOHWaA"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Emile Perron 在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="cd47" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python不是最快的编程语言，但是写起来可读性和效率都很好。大家都知道什么是<a class="ae ky" href="https://docs.python.org/3/tutorial/controlflow.html" rel="noopener ugc nofollow" target="_blank">条件语句</a>，但是你知道你可以用一行Python代码写<code class="fe lv lw lx ly b">if</code>语句吗？事实证明你可以，今天你将会了解到这一切。</p><p id="2c0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">读完之后，你会在一行中了解Python的If Else语句的一切。你会明白什么时候使用它们，什么时候最好避免它们，坚持传统的条件语句。</p><p id="bd38" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不想看书？请观看我的视频:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="lz ma l"/></div></figure></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="2ec8" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">正常的If语句有什么问题？</h1><p id="74ac" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">完全没有。将条件语句拆分成多行代码已经是多年来的惯例。大多数编程语言要求使用花括号，因此单行的<code class="fe lv lw lx ly b">if</code>语句不是一个选项。其他语言只允许在一行中编写简单的条件句。</p><p id="840d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">然后是Python。在深入一行If Else语句之前，让我们先简单回顾一下常规条件句。</p><p id="2126" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，您可以使用以下语法检查条件是否为真:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="13e3" class="nj mj it ly b gy nk nl l nm nn">age = 16</span><span id="db2a" class="nj mj it ly b gy no nl l nm nn">if age &lt; 18:<br/>    print('Go home.')</span></pre><p id="bbe1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，变量<code class="fe lv lw lx ly b">age</code>小于18，因此<code class="fe lv lw lx ly b">Go home.</code>被打印到控制台。您可以通过添加一个<code class="fe lv lw lx ly b">else</code>条件来增加趣味，如果第一个条件是<code class="fe lv lw lx ly b">False</code>，就会对该条件进行评估:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="8b51" class="nj mj it ly b gy nk nl l nm nn">age = 19</span><span id="a51f" class="nj mj it ly b gy no nl l nm nn">if age &lt; 18:<br/>    print('Go home.')<br/>else:<br/>    print('Welcome!')</span></pre><p id="f148" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这次<code class="fe lv lw lx ly b">age</code>大于18，所以<code class="fe lv lw lx ly b">Welcome!</code>被打印到控制台。最后，可以添加一个或多个<code class="fe lv lw lx ly b">elif</code>条件。这些用于捕获中间情况。例如，如果<code class="fe lv lw lx ly b">age</code>介于16(包括)和18(不包括)之间，您可以打印完全不同的内容:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="8fa8" class="nj mj it ly b gy nk nl l nm nn">age = 17</span><span id="d176" class="nj mj it ly b gy no nl l nm nn">if age &lt; 16:<br/>    print('Go home.')<br/>elif 16 &lt;= age &lt; 18:<br/>    print('Not sure...')<br/>else:<br/>    print('Welcome!')</span></pre><p id="75c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">变量<code class="fe lv lw lx ly b">age</code>为17，意味着<code class="fe lv lw lx ly b">elif</code>下的条件为<code class="fe lv lw lx ly b">True</code>，因此<code class="fe lv lw lx ly b">Not sure...</code>被打印到控制台。</p><p id="f917" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">非常基本的东西，所以我们自然不想花这么多行代码来编写它。事实证明，您可以在Python中使用<strong class="lb iu">三元运算符</strong>来计算单行中的条件。</p><h1 id="23d0" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">Python中的三元运算符</h1><p id="cab9" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">三元运算符存在于一些编程语言中，它允许您缩短简单的If-Else块。它接受3个或更多操作数:</p><ol class=""><li id="89e5" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu nz oa ob oc bi translated"><strong class="lb iu">真值</strong> —条件评估为<code class="fe lv lw lx ly b">True</code>时返回的值。</li><li id="f8db" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated"><strong class="lb iu">条件</strong> —如果为真，则返回<em class="oi">值所必须满足的布尔条件。</em></li><li id="57d2" class="nu nv it lb b lc od lf oe li of lm og lq oh lu nz oa ob oc bi translated"><strong class="lb iu">假值</strong> —条件评估为<code class="fe lv lw lx ly b">False</code>时返回的值。</li></ol><p id="5e25" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在代码中，它看起来像这样:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="295a" class="nj mj it ly b gy nk nl l nm nn">a if condition else b</span></pre><p id="42c9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">甚至可以用Python的三元运算符编写else-if逻辑。在这种情况下，语法略有变化:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="b2e7" class="nj mj it ly b gy nk nl l nm nn">a if condition1 else b if condition2 else c</span></pre><p id="3289" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不得不承认——这样写的时候看起来有点抽象。从下一节开始，您将看到大量的实际例子。</p><h1 id="e46d" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">单行If语句(不带Else)</h1><p id="ed60" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">单行的<code class="fe lv lw lx ly b">if</code>语句仅仅意味着你删除了新的一行和缩进。您仍然在编写相同的代码，唯一的变化是它只需要一行而不是两行。</p><p id="ec7c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">注意</strong>:单行<code class="fe lv lw lx ly b">if</code>语句只有在条件后面有一行代码的情况下才有可能。在任何其他情况下，将将要执行的代码包装在函数中。</p><p id="ddaa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是如何将我们的两行<code class="fe lv lw lx ly b">if</code>语句转换成单行条件语句:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="8253" class="nj mj it ly b gy nk nl l nm nn">age = 17</span><span id="c648" class="nj mj it ly b gy no nl l nm nn">if age &lt; 18: print('Go home.')</span></pre><p id="cde8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">和以前一样，<code class="fe lv lw lx ly b">age</code>小于18，所以<code class="fe lv lw lx ly b">Go home.</code>被打印出来。</p><p id="e9ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想打印三行而不是一行呢？如前所述，最佳实践是将代码包装在函数中:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="7a4f" class="nj mj it ly b gy nk nl l nm nn">def print_stuff():<br/>    print('Go home.')<br/>    print('.......')<br/>    print('Now!')<br/>    <br/>age = 17    <br/>    <br/>if age &lt; 18: print_stuff()</span></pre><p id="8670" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Python中的单行<code class="fe lv lw lx ly b">if</code>语句相当无聊。当您添加一个<code class="fe lv lw lx ly b">else</code>条件时，真正的时间和空间节省优势就出现了。</p><blockquote class="oj ok ol"><p id="49e1" class="kz la oi lb b lc ld ju le lf lg jx lh om lj lk ll on ln lo lp oo lr ls lt lu im bi translated">如果您添加一个或多个<code class="fe lv lw lx ly b">else</code>条件，您将从单行<code class="fe lv lw lx ly b">if</code>语句中获益最多。</p></blockquote><h1 id="af35" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">单行If-Else语句</h1><p id="b1b6" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">现在我们可以充分利用Python的三元运算符的威力。如果<code class="fe lv lw lx ly b">age</code>小于18，下面的代码片段将<code class="fe lv lw lx ly b">Go home.</code>存储到新变量<code class="fe lv lw lx ly b">outcome</code>中，否则将<code class="fe lv lw lx ly b">Welcome!</code>存储到新变量中:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="4bec" class="nj mj it ly b gy nk nl l nm nn">age = 19</span><span id="4f29" class="nj mj it ly b gy no nl l nm nn">outcome = 'Go home.' if age &lt; 18 else 'Welcome!'<br/>print(outcome)</span></pre><p id="3a36" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如您所猜测的，<code class="fe lv lw lx ly b">Welcome!</code>被打印到控制台，因为<code class="fe lv lw lx ly b">age</code>被设置为19。如果你想打印多行或者处理更复杂的逻辑，把你想执行的所有东西都打包到一个函数里——就像以前一样。</p><p id="d3ef" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，您对三元运算符如何在简单的单行if-else语句中工作有了清晰的了解。我们可以通过向操作符添加更多的条件来增加复杂性。</p><h1 id="e799" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">单行If-Elif-Else语句</h1><p id="ca0d" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">在单行代码中编写多个条件时，一定要小心。如果这一行有500个字符，逻辑仍然有效，但是几乎不可能阅读和维护它。</p><p id="0f7e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一行中包含两个条件应该没问题，因为代码仍然易于阅读。如果<code class="fe lv lw lx ly b">age</code>小于16，以下示例将打印<code class="fe lv lw lx ly b">Go home.</code>，如果<code class="fe lv lw lx ly b">age</code>介于16(含)和18(不含)之间，将打印<code class="fe lv lw lx ly b">Not Sure...</code>，否则将打印<code class="fe lv lw lx ly b">Welcome</code>:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="1a59" class="nj mj it ly b gy nk nl l nm nn">age = 17</span><span id="829c" class="nj mj it ly b gy no nl l nm nn">outcome = 'Go home.' if age &lt; 16 else 'Not sure...' if 16 &lt;= age &lt; 18 else 'Welcome'<br/>outcome</span></pre><h1 id="e317" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">示例:列表操作的单行条件</h1><p id="9d62" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">将一些逻辑应用于列表包括将逻辑应用于每个列表项，从而遍历整个列表。在考虑真实世界的例子之前，让我们看看如何在一行代码中为每个列表项编写条件语句。</p><h1 id="df65" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">如何在一行中写IF和FOR</h1><p id="9113" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">您需要对三元运算符进行两处修改:</p><ul class=""><li id="a7e2" class="nu nv it lb b lc ld lf lg li nw lm nx lq ny lu op oa ob oc bi translated">用括号将整行代码括起来<code class="fe lv lw lx ly b">[]</code></li><li id="0477" class="nu nv it lb b lc od lf oe li of lm og lq oh lu op oa ob oc bi translated">在最后一个<code class="fe lv lw lx ly b">else</code>后面追加列表迭代代码(<code class="fe lv lw lx ly b">for element in array</code></li></ul><p id="69e2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是通用语法的样子:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="c56e" class="nj mj it ly b gy nk nl l nm nn">[a if condition else b for element in array]</span></pre><p id="83c7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这并不难，但让我们用一个例子来说明这一点。下面的代码片段显示了如果范围的当前数字大于5，则输出<code class="fe lv lw lx ly b">+</code>，否则输出<code class="fe lv lw lx ly b">-</code>。数字范围从1到10(包括1和10):</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="4297" class="nj mj it ly b gy nk nl l nm nn">['+' if i &gt; 5 else '-' for i in range(1, 11)]</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/b180a42de69492b61c7b7940f40b1d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5mMrvavmD0qPUOtV7NslNw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片Python中单行的If和For(图片由作者提供)</p></figure><p id="b303" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在让我们再看一个真实世界的例子。</p><h1 id="6655" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">学生通过考试了吗？</h1><p id="8c9a" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">首先，我们将宣布一份学生名单。每个学生都是一个Python字典对象，有两个键:姓名和考试分数:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="1604" class="nj mj it ly b gy nk nl l nm nn">students = [<br/>    {'name': 'Bob', 'score': 42},<br/>    {'name': 'Kelly', 'score': 58},<br/>    {'name': 'Austin', 'score': 99},<br/>    {'name': 'Kyle', 'score': 31}<br/>]</span></pre><p id="10f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果分数为50分或以上，我们希望打印该学生已通过考试。如果分数低于50分，我们希望打印该学生未通过考试。</p><p id="aa7f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在传统的Python语法中，我们将手动迭代列表中的每个学生，并检查分数是否大于50:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="6e6a" class="nj mj it ly b gy nk nl l nm nn">outcomes = []</span><span id="3509" class="nj mj it ly b gy no nl l nm nn">for student in students:<br/>    if student['score'] &gt; 50:<br/>        outcomes.append(f"{student['name']} passed the exam!")<br/>    else:<br/>        outcomes.append(f"{student['name']} failed the exam!")<br/>        <br/>print(outcomes)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/d65b2fc9b1bf136c363abb023483aa46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jN4BUjn48G2c-ykAbQvu3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2-使用传统Python语法的列表迭代(图片由作者提供)</p></figure><p id="84a7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代码可以工作，但是我们需要5行代码来进行简单的检查并存储结果。您可以使用新获得的知识将代码量减少到一行:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="eda0" class="nj mj it ly b gy nk nl l nm nn">outcomes = [f"{student['name']} passed the exam!" if student['score'] &gt; 50 else f"{student['name']} failed the exam!" for student in students]<br/>print(outcomes)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/d65b2fc9b1bf136c363abb023483aa46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jN4BUjn48G2c-ykAbQvu3Q.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3-一行条件语句和一个Python循环(图片由作者提供)</p></figure><p id="e71b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">结果是相同的，但是我们有一个更短更整洁的代码。它只是处于不可读的边界上，这通常是与三元运算符和单行循环的权衡。你通常不能同时拥有可读的代码和简短的Python脚本。</p><blockquote class="oj ok ol"><p id="ce46" class="kz la oi lb b lc ld ju le lf lg jx lh om lj lk ll on ln lo lp oo lr ls lt lu im bi translated">仅仅因为你能在一行中写一个条件，并不意味着你应该。可读性是优先考虑的。</p></blockquote><p id="a77c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们看看在哪些情况下你更适合传统的<code class="fe lv lw lx ly b">if</code>陈述。</p><h1 id="2117" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">小心单行条件句</h1><p id="107d" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">代码占用更少的垂直空间并不意味着它更容易阅读。现在你会看到一个完美的例子。</p><p id="969c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面的代码片段检查每个可能等级(1–5)的条件，最后一个<code class="fe lv lw lx ly b">else</code>条件捕获无效输入。这些条件需要编写12行代码，但是整个代码片段可读性很强:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="812f" class="nj mj it ly b gy nk nl l nm nn">grade = 1</span><span id="10ab" class="nj mj it ly b gy no nl l nm nn">if grade == 1:<br/>    print('Grade = 1')<br/>elif grade == 2:<br/>    print('Grade = 2')<br/>elif grade == 3:<br/>    print('Grade = 3')<br/>elif grade == 4:<br/>    print('Grade = 4')<br/>elif grade == 5:<br/>    print('Grade = 5')<br/>else:<br/>    print('Impossible grade!')</span></pre><p id="0cfa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如所料，您将看到<code class="fe lv lw lx ly b">Grade = 1</code>被打印到控制台，但这不是我们感兴趣的。我们想把上面的代码片段翻译成一行带有三元运算符的if-else语句。</p><p id="d49c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是可能的——但是最终的结果是混乱和不可读的:</p><pre class="kj kk kl km gt nf ly ng nh aw ni bi"><span id="c35d" class="nj mj it ly b gy nk nl l nm nn">grade = 1</span><span id="6049" class="nj mj it ly b gy no nl l nm nn">outcome = 'Grade = 1' if grade == 1 else 'Grade = 2' if grade == 2 else 'Grade = 3' if grade == 3 else 'Grade = 4' if grade == 4 else 'Grade = 5' if grade == 5 else 'Impossible grade'<br/>print(outcome)</span></pre><p id="395d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个极端情况的例子，你有多个条件需要评估。最好坚持使用传统的<code class="fe lv lw lx ly b">if</code>语句，即使它们占用更多的垂直空间。</p><p id="b8dc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">带回家点</strong>:拥有两个以上条件的三元运算符简直是编写和调试的噩梦。</p><h1 id="7240" class="mi mj it bd mk ml np mn mo mp nq mr ms jz nr ka mu kc ns kd mw kf nt kg my mz bi translated">结论</h1><p id="ec3f" class="pw-post-body-paragraph kz la it lb b lc na ju le lf nb jx lh li nc lk ll lm nd lo lp lq ne ls lt lu im bi translated">这就是你需要知道的关于Python中单行if-else语句的一切。您已经学习了关于三元运算符的所有内容，以及如何编写从单个<code class="fe lv lw lx ly b">if</code>到中间五个条件的条件。</p><p id="66c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">记住保持你的代码简单。最终，更易于阅读和维护的代码是写得更好的代码。仅仅因为你可以把所有的东西都塞进一行，并不意味着你应该这样做。一旦你需要做出一些改变，你会后悔的。</p><p id="e9d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">编写长条件的一种更简洁的方法是使用<a class="ae ky" href="https://betterdatascience.com/python-structural-pattern-matching/" rel="noopener ugc nofollow" target="_blank">结构模式匹配</a>——这是Python 3.10中引入的新特性。它为Python带来了受人喜爱的<code class="fe lv lw lx ly b">switch</code>语句，以获得额外的可读性和开发速度。</p><p id="7c58" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oi">大家怎么看待Python中的单行if-else语句？你经常使用它们吗？还是你已经转向结构模式匹配了？请在下面的评论区告诉我。</em></p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="2f82" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oi">喜欢这篇文章吗？成为</em> <a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener"> <em class="oi">中等会员</em> </a> <em class="oi">继续无限制学习。如果你使用下面的链接，我会收到你的一部分会员费，不需要你额外付费。</em></p><p id="5fd9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://medium.com/@radecicdario/membership" rel="noopener">https://medium.com/@radecicdario/membership</a></p></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><h1 id="f1cc" class="mi mj it bd mk ml mm mn mo mp mq mr ms jz mt ka mu kc mv kd mw kf mx kg my mz bi translated">保持联系</h1><ul class=""><li id="a496" class="nu nv it lb b lc na lf nb li os lm ot lq ou lu op oa ob oc bi translated">注册我的<a class="ae ky" href="https://mailchi.mp/46a3d2989d9b/bdssubscribe" rel="noopener ugc nofollow" target="_blank">简讯</a></li><li id="1377" class="nu nv it lb b lc od lf oe li of lm og lq oh lu op oa ob oc bi translated">在YouTube<a class="ae ky" href="https://www.youtube.com/c/BetterDataScience" rel="noopener ugc nofollow" target="_blank">上订阅</a></li><li id="0b98" class="nu nv it lb b lc od lf oe li of lm og lq oh lu op oa ob oc bi translated">在<a class="ae ky" href="https://www.linkedin.com/in/darioradecic/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>上连接</li></ul></div><div class="ab cl mb mc hx md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="im in io ip iq"><p id="24c2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="oi">原载于2022年1月10日https://betterdatascience.com</em><em class="oi"><a class="ae ky" href="https://betterdatascience.com/python-if-else-one-line/" rel="noopener ugc nofollow" target="_blank"><em class="oi">。</em></a></em></p></div></div>    
</body>
</html>