<html>
<head>
<title>Monte Carlo Simulation — a practical guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">蒙特卡罗模拟——实用指南</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/monte-carlo-simulation-a-practical-guide-85da45597f0e#2022-01-31">https://towardsdatascience.com/monte-carlo-simulation-a-practical-guide-85da45597f0e#2022-01-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="2789" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">蒙特卡罗模拟——实用指南</h1></div><div class=""><h2 id="75d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">一种通用的参数估计方法。Python编程语言中的示例性实现。</h2></div></div><div class="ab cl kf kg hu kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ij ik il im in"><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/429e8c3136b2fb950599632f3ace0925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uC3XqddOg_QVFnpNbO4ndw.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">图片由<a class="ae lc" href="https://pixabay.com/users/15299-15299/" rel="noopener ugc nofollow" target="_blank"> 15299 </a>来自<a class="ae lc" href="https://pixabay.com/photos/darts-dartboard-game-sports-target-102919/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>作者修改</p></figure><p id="3d7b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir">蒙特卡洛模拟</strong>(或方法)是一种概率数值技术，用于估计给定的不确定(随机)过程的结果。这意味着这是一种模拟无法隐式建模的事件的方法。当我们的过程中有随机变量时，这通常是一种情况。</p><p id="c125" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在本文中，我将简要介绍这种技术的背景，展示实现这种技术需要遵循的步骤，最后，将给出两个使用Python编程语言中的蒙特卡罗解决问题的例子。</p><ol class=""><li id="b49b" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly me mf mg mh bi translated"><strong class="lf ir">一点历史</strong></li></ol><p id="6633" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">蒙特卡洛模拟和许多其他数值方法一样，是在现代计算机出现之前由两位数学家发明的——它是在第二次世界大战期间开发的:<a class="ae lc" href="https://en.wikipedia.org/wiki/Stanislaw_Ulam" rel="noopener ugc nofollow" target="_blank">斯塔尼斯瓦夫·乌拉姆</a>和<a class="ae lc" href="https://en.wikipedia.org/wiki/John_von_Neumann" rel="noopener ugc nofollow" target="_blank">约翰·冯·诺依曼</a>。当时，他们都参与了曼哈顿计划，他们想出了这种技术来模拟高浓缩铀中的连锁反应。简单地说，他们在模拟原子弹爆炸。</p><p id="d7df" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">解决“中子扩散”模型太复杂，难以描述和明确解决，特别是要记住他们只有IBM穿孔卡片机或后来的一台叫做<a class="ae lc" href="https://en.wikipedia.org/wiki/ENIAC" rel="noopener ugc nofollow" target="_blank"> ENIAC </a>的计算机。在住院期间，斯坦尼斯瓦夫·乌拉姆靠打牌来打发无聊的时光，然后他有了一个新的想法。回到工作岗位后，他与约翰·冯·诺依曼实验室的一位同事分享了他的新想法。一种新的求解方法的发展得到了一个代号“蒙特卡洛”。方法以随机抽样和统计学为基础。多亏了它，两位数学家都能够加快计算过程，做出令人难以置信的好预测，并为项目提供当时非常需要的有用结果。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/8f15a5f82f1f4f7ea1e711a9fac00a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UT61hh9FojW3A51uAP3LbQ.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">斯塔尼斯瓦夫·乌拉姆(左)和约翰·冯·诺依曼(右)在曼哈顿计划中一起工作；图片由<a class="ae lc" href="https://pixabay.com/users/alexantropov86-2691829/" rel="noopener ugc nofollow" target="_blank"> AlexAntropov86 </a>提供，来自<a class="ae lc" href="https://pixabay.com/photos/nuclear-atom-bomb-atomic-science-2136244/" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>和<a class="ae lc" href="https://en.wikipedia.org/wiki/Stanislaw_Ulam#/media/File:Stanislaw_Ulam.tif" rel="noopener ugc nofollow" target="_blank"> Wikimedia </a>(鸣谢:LANL)由作者修改</p></figure><p id="2ca2" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在洛斯阿拉莫斯国家实验室工作期间，斯坦尼斯瓦夫·乌拉姆于1949年发表了第一份描述蒙特卡洛模拟的非机密文件。</p><p id="0cd6" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 2。现在申请</strong></p><p id="abb7" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">目前，由于易于实现和可用的高计算能力，该技术被广泛用于各种行业。让我们看一些有文档记录的用例。</p><p id="f190" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">健康:</p><ul class=""><li id="6012" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.sciencedirect.com/science/article/pii/S0378437121002867" rel="noopener ugc nofollow" target="_blank">新冠肺炎样传染病传播的随机行走蒙特卡罗模拟研究</a>"</li><li id="079b" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated"><a class="ae lc" href="https://www.sciencedirect.com/science/article/pii/S0889157521002465" rel="noopener ugc nofollow" target="_blank">韩国白菜、泡菜中有毒元素的人体健康风险评估，采用蒙特卡罗模拟</a></li></ul><p id="d2fe" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">金融:</p><ul class=""><li id="e110" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.sciencedirect.com/science/article/abs/pii/S0377221721009590" rel="noopener ugc nofollow" target="_blank">使用随机准蒙特卡罗</a>对风险条件值的敏感性估计"</li><li id="4c91" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">“金融中的复杂系统:首次通过时间密度函数的蒙特卡罗评估”</li></ul><p id="fd7c" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">生产:</p><ul class=""><li id="61ec" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.researchgate.net/publication/353589730_Robustness_evaluation_of_production_plans_using_Monte_Carlo_simulation" rel="noopener ugc nofollow" target="_blank">使用蒙特卡洛模拟对生产计划进行稳健性评估</a>"</li><li id="caac" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.sciencedirect.com/science/article/pii/S0166361521000403?dgcid=rss_sd_all" rel="noopener ugc nofollow" target="_blank">智能工业生产中在线决策的蒙特卡罗树搜索</a>"</li></ul><p id="f3c1" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">运输:</p><ul class=""><li id="0e8d" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.sciencedirect.com/science/article/abs/pii/S1270963820306465" rel="noopener ugc nofollow" target="_blank">限制机场空域内UAS碰撞风险管理的三维(3D)蒙特卡罗模拟</a>"</li></ul><p id="54b7" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">工程/科学:</p><ul class=""><li id="09d3" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated">基于石墨烯量子点的发光太阳能聚光器的蒙特卡罗模拟设计与优化</li><li id="fbe1" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">"<a class="ae lc" href="https://www.sciencedirect.com/science/article/abs/pii/S0951832019304557" rel="noopener ugc nofollow" target="_blank">使用基于物理的系统性能模型和蒙特卡洛模拟对地下储气设施进行风险分析</a>"</li><li id="7959" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">“使用基于蒙特卡罗的自适应阈值方法进行发电厂燃气轮机的非线性鲁棒故障诊断”</li></ul><p id="80e8" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 3。蒙特卡洛方法的支柱</strong></p><p id="a19a" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">蒙特卡洛模拟背后的核心概念是从一组给定的概率分布中进行多次随机抽样。这些可以是任何类型，例如:正常的，连续的，三角形，贝塔，伽玛，你能想到的。</p><p id="7e59" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">要使用这种技术，您必须遵循四个主要步骤:</p><ol class=""><li id="23cf" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly me mf mg mh bi translated">确定流程的所有输入组件以及它们如何相互作用，例如，它们是相加还是相减？</li><li id="bfaf" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly me mf mg mh bi translated">定义分布的参数。</li><li id="29d2" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly me mf mg mh bi translated">从每个分布中取样，并根据第1点整合结果。</li><li id="9996" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly me mf mg mh bi translated">想重复多少次就重复多少次。</li></ol><p id="00db" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在此模拟的运行过程中，您的最终参数(例如成本或风险)将向正态分布收敛，即使源分布可能不同。这就是<a class="ae lc" href="https://en.wikipedia.org/wiki/Central_limit_theorem" rel="noopener ugc nofollow" target="_blank">中心极限定理</a>的效果，也是这种技术在各种行业大受欢迎的原因之一。</p><p id="3fd1" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 4。Python实现—基础知识</strong></p><p id="bf63" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">蒙特卡罗模拟可以使用任何编程语言轻松实现。在这种情况下，我们将使用Python。NumPy库在这里非常方便，因为它实现了多个最流行的概率分布。例如:</p><ul class=""><li id="7a25" class="lz ma iq lf b lg lh lj lk lm mb lq mc lu md ly mi mf mg mh bi translated"><a class="ae lc" href="https://numpy.org/doc/stable/reference/random/generated/numpy.random.normal.html" rel="noopener ugc nofollow" target="_blank"> numpy.random.normal </a> —正态分布</li><li id="3096" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">三角形分布</li><li id="fab5" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated">均匀分布</li><li id="e064" class="lz ma iq lf b lg mj lj mk lm ml lq mm lu mn ly mi mf mg mh bi translated"><a class="ae lc" href="http://numpy.random.weibull" rel="noopener ugc nofollow" target="_blank"> numpy.random.weibull </a> —一种威布尔分布</li></ul><p id="e5dc" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 5。示例1 </strong></p><p id="d99b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们假设我们有一个由3个阶段(X1，X2，X3)构成的过程。每一个都有一个平均持续时间(5、10和15分钟)，它按照正态分布变化，我们知道它们的方差(都是1分钟)。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/b5e241554b5946dda380ba25781e9c41.png" data-original-src="https://miro.medium.com/v2/resize:fit:214/1*h00Muhr_ZixWDz6h6UEb3Q.gif"/></div><p class="ky kz gj gh gi la lb bd b be z dk translated">带参数的正态分布的符号</p></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mp"><img src="../Images/b5eabd739009a6fef61ac30a5677c685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-rqI-I1Ur-vObNMjhMd-Pw.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">流程组件；作者图片</p></figure><p id="d1f9" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们想知道这个过程超过34分钟的概率是多少？</p><p id="e8a5" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">这个例子是如此的简单，以至于我们可以手动解决它，然后验证蒙特卡罗结果。</p><p id="047f" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们知道所有的单个组件，所以让我们定义它们之间的关系(它是累加的):</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/da00291b129eff6ed1090cdd9646fb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:296/1*-WuOhO7lAC1FZ8MYwPDD2A.gif"/></div></figure><p id="7e25" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在我们可以开始编码了。单分量可以用一个短函数来表示:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="7566" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">下面显示的蒙特卡罗模拟代码使用这个函数作为一个基本块。这个用例的迭代次数被设置为10 000，但是您可以更改它。代码的最后一部分检查退出34分钟限制的概率(再次使用抽样技术)。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="fbed" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">运行以下代码后，我们得到以下答案，但每次运行代码时答案都会有所不同:</p><pre class="kn ko kp kq gt mt mu mv mw aw mx bi"><span id="836e" class="my mz iq mu b gy na nb l nc nd">Probability of exceeding the time limit:  1.035 %</span></pre><p id="fda6" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在我们可以绘制估计参数(时间)的直方图。我们清楚地看到它遵循正态分布。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi ne"><img src="../Images/c462535a5b7211e9bf9338ba9e2a22b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bQAkbZEk0N1VrlyQg8kNWw.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">总时间直方图；作者图片</p></figure><p id="e1df" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">让我们用手工计算来验证我们的结果。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/aecd24486d8ac670023b5410e1db4c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:200/1*sGGiVJ3UZ996rCvfZhXHgw.gif"/></div></figure><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/849dd6a8e4a841c47aaf26417e70c1fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:338/1*IWIzGaavavX1ykT6woxoag.gif"/></div></figure><p id="e342" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">因此，总时间遵循带参数的正态方程:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/db81c17c3324c679a17462ca4336159b.png" data-original-src="https://miro.medium.com/v2/resize:fit:206/1*FJicWdwQxrCkMfCic1H8Bw.gif"/></div></figure><p id="e729" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">为了计算概率，我们必须先找到z值。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/a78c46d1c341712c51ae5c9ef71085b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/1*0GKYbdT10_JrJ1l6pSLB4w.gif"/></div></figure><p id="2bc8" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">我们现在从z分数表的<a class="ae lc" href="http://www.ttable.org/z-score-table.html" rel="noopener ugc nofollow" target="_blank">中读取p值。右尾概率我们计算为:</a></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/96b6d6b010ee037142f6400474d1cfa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/1*7pTqhzpGBpDmQiZ8Fh4XdQ.gif"/></div></figure><p id="b5d2" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">正如你所记得的，我们的蒙特卡罗模拟给出了1.05%的结果，这是非常接近的。</p><p id="6865" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 6。例2 </strong></p><p id="d77b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在这个例子中，假设我们想要在一个给定宽度的容器中组装三个积木。下图显示了标称尺寸。我们看到，通过设计，名义间隙为0.5毫米</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nk"><img src="../Images/5521bbbe2f21dcff01d8c67f447d4874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oGkysC59g8gp2WipNkGH-A.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">容器内的三个块；作者图片</p></figure><p id="b6b9" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">然而，由于技术原因，这三个块和容器的实际尺寸可以变化。为了便于演示，让我们假设这些变化都不符合正态分布。三个块将遵循下图所示的三角形分布，容器的尺寸分布将遵循+/-0.1毫米范围内的均匀分布</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nl"><img src="../Images/43cb4eac596240ff0254f26598eb1ffa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AcXcT0hFFk7cUXLPbqPXxg.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">三个区块X1、X2和X3的维度分布；作者图片</p></figure><p id="d442" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在，通过简单地计算极端值，我们可以看到，在最糟糕的情况下，砖块有17毫米，集装箱的宽度只有16.4毫米，这意味着，在这种情况下，我们无法将它们全部放在一起。</p><p id="f029" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">问题是:我们无法将所有的块装进一个容器的概率是多少？</p><p id="5ede" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在这种情况下，块之间的关系如下所示:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/6e06938b8c27715586dd5c8d4b75df88.png" data-original-src="https://miro.medium.com/v2/resize:fit:386/1*nBSdKW_nYNO-sL5AM0oF_Q.gif"/></div></figure><p id="37fb" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">通过修改前面的代码，我们获得了一个采样三角分布的函数。同样，我们可以获得均匀分布的采样函数。</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="0d43" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">MC模拟的修改核心代码；</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><p id="9e83" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">运行上述代码后，我们按以下顺序得到答案:</p><pre class="kn ko kp kq gt mt mu mv mw aw mx bi"><span id="286a" class="my mz iq mu b gy na nb l nc nd">Probability of not fitting the blocks:  5.601 %</span></pre><p id="1846" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在检查了平均值和标准偏差之后，我们可以说关于预期间隙尺寸的更多信息:</p><figure class="kn ko kp kq gt kr"><div class="bz fp l di"><div class="mr ms l"/></div></figure><pre class="kn ko kp kq gt mt mu mv mw aw mx bi"><span id="b383" class="my mz iq mu b gy na nb l nc nd">The mean gap width will be 0.33mm with a standard deviation of 0.2mm.</span></pre><p id="9cc3" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">现在，让我们绘制估计参数(间隙宽度)的直方图，以显示它遵循正态分布，即使没有任何输入分布属于这种类型。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi nn"><img src="../Images/ec3c70fd95547305d4b9160b2a5e1e76.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vGJzFLOSblJPBgu0cmOrhw.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">遵循正态分布的间隙宽度直方图；作者图片</p></figure><p id="32c7" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">您现在可能想知道随着样本数量的增加，结果会如何变化。根据样本大小(从100到7000个样本)，查看下图，该图显示了95%置信区间的间隙宽度估计值:</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi no"><img src="../Images/7f2fa24867c90e5f0212a1b7cd37873c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dUD9BytVgoFJEv4HQJbxqQ.png"/></div></div><p class="ky kz gj gh gi la lb bd b be z dk translated">具有95%置信区间的估计间隙宽度；作者图片</p></figure><p id="c57b" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">从该图中可以明显看出，估计值的平均值没有显著变化，但是分布随着样本数量的增加而减小。这意味着，随着新一轮的模拟，更大的样本给你更小的结果传播。然而，在某些时候添加更多的样本不再有帮助。</p><p id="6abb" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated"><strong class="lf ir"> 7。总结</strong></p><p id="601a" class="pw-post-body-paragraph ld le iq lf b lg lh jr li lj lk ju ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">正如你所看到的，蒙特卡洛基本上是一个非常简单而又非常强大的想法。读完这篇文章后，我希望你理解这个方法的核心概念，何时使用它，以及如何用Python编程语言实现它。</p></div></div>    
</body>
</html>