<html>
<head>
<title>Workforce Equity at the County of Santa Clara</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">圣克拉拉县的劳动力公平</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/workforce-equity-at-the-county-of-santa-clara-9da948d63ec5#2022-01-07">https://towardsdatascience.com/workforce-equity-at-the-county-of-santa-clara-9da948d63ec5#2022-01-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="b357" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated"><strong class="ak">圣克拉拉县的劳动力权益</strong></h1></div><div class=""><h2 id="36e5" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用逻辑回归预测圣克拉拉县的全职就业结果</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/d6d1c42d4dca4969208bce7b474e8d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bPwzFmD7_Fqg4bK3"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">普里西拉·杜·普里兹在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><p id="89b4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">随着许多雇主开始重新评估其劳动力的人口构成，我想通过挖掘我自己雇主公开提供的劳动力数据来确定在我工作的地方人口公平是什么样的。通过这个项目，我应用了探索性数据分析(EDA)和数据可视化方法，并拟合了一个逻辑回归模型，以预测各种人口特征的全职就业状况。出于本分析的目的，全职员工被定义为被归类为(永久或试用状态)或执行管理层的员工。所有其他人都被视为非全职员工。</p><h1 id="1cba" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated"><strong class="ak">内容</strong></h1><blockquote class="mk ml mm"><p id="8c5d" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">1.探索性数据分析和数据可视化</p><p id="e834" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">2.数据清理和回归建模</p><p id="90b8" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">3.解释结果</p><p id="b8bb" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">4.优势和局限</p></blockquote></div><div class="ab cl mr ms hu mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ij ik il im in"><h2 id="c4bc" class="my lt iq bd lu mz na dn ly nb nc dp mc lf nd ne me lj nf ng mg ln nh ni mi nj bi translated"><strong class="ak">探索性数据分析&amp;数据可视化</strong></h2><p id="057e" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">首先，我从圣克拉拉县<a class="ae kv" href="https://data.sccgov.org/" rel="noopener ugc nofollow" target="_blank">开放数据门户</a>下载了平等机会就业数据集(n=19707)并将其导入r。我从一些EDA和数据可视化开始，以扫描数据中的异常、异常值或任何其他有趣的趋势。</p><p id="c4e5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用Rstudio，我构建了条形图和点状图来可视化数据集中的关键变量。以下是我用来构建条形图的示例代码:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="d71d" class="my lt iq nq b gy nu nv l nw nx">ggplot(df, aes(Gender))+ <br/>geom_bar(stat="count", width=0.7, fill="#1A1A75")+<br/>geom_text(aes(label = ..count..), stat = "count", vjust = 2, colour = "white")+<br/>labs(title = "Count of Gender of SCC Workforce", x= "Gender", y= "Count")+<br/>theme_bw()+<br/>theme(plot.title= element_text(size= 20), axis.text.x = element_text(hjust = 1),<br/>      panel.grid.major = element_blank(),<br/>      panel.grid.minor = element_blank(),<br/>      panel.border = element_blank(),<br/>      panel.background = element_blank(),<br/>      axis.line = element_line(color = 'black'))</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/e445b44d7439559f7e03258a8d83849b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fwJJCRxsw-cr_6H2DUmrvQ.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">使用Rstudio创建的样本中的性别分布。<a class="ae kv" href="https://github.com/isRadata/WorkforceEquity_SCC" rel="noopener ugc nofollow" target="_blank">点击此处查看该分析的其他可视化效果</a>。图片作者。</p></figure><p id="9fec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了创建一个点状图，我开发了一个单独的视图，只使用“部门”变量创建一个新的数据框。这使得“Department”变量的计数很容易传递到ggplot (Rstudio数据可视化库)中。下面是我用来按“部门”构建点状图的代码:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="0495" class="my lt iq nq b gy nu nv l nw nx">dept_count &lt;- table(df$Department)<br/>dept_count &lt;- as.data.frame(dept_count)<br/>ggplot(dept_count, aes(x=Freq, y= Var1, label= Freq)) + <br/>  geom_point(aes(col=Var1), size=7, show.legend = F)+<br/>  geom_text(color="white", size=2.5, parse = T)+<br/>  xlab("Count")+ <br/>  ylab("Department")+<br/>  labs(title="Count of Employees by Department")+<br/>  theme_minimal()</span></pre><p id="0917" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是结果输出:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/a75cbfb08634f4bcb36bb14c26c03528.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vfb1pku8DeH0_7IYpKJONg.png"/></div></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">图片作者。</p></figure><p id="44ae" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还使用Google Data Studio创建了一个简单的仪表板来显示原始数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div><p class="kr ks gj gh gi kt ku bd b be z dk translated">作者使用Google Data Studio创建的仪表板。</p></figure><h2 id="7302" class="my lt iq bd lu mz na dn ly nb nc dp mc lf nd ne me lj nf ng mg ln nh ni mi nj bi translated"><strong class="ak">数据清洗和回归建模</strong></h2><p id="460d" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">从那里，我开始清理和格式化数据，以传递到逻辑回归模型中。这需要将数据编码成定量格式(对于参照组，从0开始对变量进行编号，变量中的每个类别增加1)。这个<a class="ae kv" href="https://github.com/isRadata/WorkforceEquity_SCC/blob/main/Data%20Dictionary.pdf" rel="noopener ugc nofollow" target="_blank">数据字典</a>提供了关于我在模型中使用的变量是如何编码的文档。以下是我的代码示例，用于对“种族”变量进行编码，并将该变量从字符变量转换为数字变量:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="d07d" class="my lt iq nq b gy nu nv l nw nx">df$Ethnicity[df$Ethnicity == "American Indian/Alaska Native"] &lt;- 1<br/>df$Ethnicity[df$Ethnicity == "Black/African American"] &lt;- 2<br/>df$Ethnicity[df$Ethnicity == "Native Hawaiian/Oth Pac Island"] &lt;- 3 <br/>df$Ethnicity[df$Ethnicity == "Asian"] &lt;- 4<br/>df$Ethnicity[df$Ethnicity == "Hispanic/Latino"] &lt;- 5 <br/>df$Ethnicity[df$Ethnicity == "Two or More Races"] &lt;- 6 <br/>df$Ethnicity[df$Ethnicity == "Not Applicable"] &lt;- 7<br/>df$Ethnicity[df$Ethnicity == "Not Identified"] &lt;- 8<br/>df$Ethnicity[df$Ethnicity == "White"] &lt;- 0 #comparison group<br/>df$Ethnicity &lt;- as.numeric(df$Ethnicity) #convert from chr to numeric</span></pre><p id="12a1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我将选定的人口统计变量拟合到回归模型中，并总结了模型的结果:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="c116" class="my lt iq nq b gy nu nv l nw nx">m &lt;- glm(as.factor(Employment.Status) ~ as.factor(Age) + as.factor(Gender) + as.factor(Ethnicity), family = "binomial", df)</span><span id="cce1" class="my lt iq nq b gy ob nv l nw nx">summary(m)</span></pre><h2 id="5150" class="my lt iq bd lu mz na dn ly nb nc dp mc lf nd ne me lj nf ng mg ln nh ni mi nj bi translated"><strong class="ak">解读结果</strong></h2><p id="1676" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">下面的输出显示了逻辑回归模型的结果。“*”表示显著性，您可以看到，在对模型中包含的其他变量进行调整后，并非模型中包含的所有变量都保持显著性。</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="06aa" class="my lt iq nq b gy nu nv l nw nx">Call:<br/>glm(formula = as.factor(Employment.Status) ~ as.factor(Age) + <br/>    as.factor(Gender) + as.factor(Ethnicity), family = "binomial", <br/>    data = df)</span><span id="6a73" class="my lt iq nq b gy ob nv l nw nx">Deviance Residuals: <br/>    Min       1Q   Median       3Q      Max  <br/>-2.6159  -0.6046  -0.5015  -0.3303   2.4451</span><span id="82ab" class="my lt iq nq b gy ob nv l nw nx">Coefficients:<br/>                        Estimate Std. Error z value Pr(&gt;|z|)    <br/>(Intercept)            -2.066504   0.062371 -33.133  &lt; 2e-16 ***<br/>as.factor(Age)1         4.871116   0.735350   6.624 3.49e-11 ***<br/>as.factor(Age)2         1.404890   0.065853  21.334  &lt; 2e-16 ***<br/>as.factor(Age)3         0.375222   0.059230   6.335 2.37e-10 ***<br/>as.factor(Age)4         0.001325   0.065042   0.020   0.9837    <br/>as.factor(Age)5         0.572097   0.073372   7.797 6.33e-15 ***<br/>as.factor(Age)6         1.811770   0.140881  12.860  &lt; 2e-16 ***<br/>as.factor(Gender)1      0.055374   0.042902   1.291   0.1968    <br/>as.factor(Ethnicity)1  -0.859101   0.431944  -1.989   0.0467 *  <br/>as.factor(Ethnicity)2  -0.181556   0.101585  -1.787   0.0739 .  <br/>as.factor(Ethnicity)3  -0.577770   0.297139  -1.944   0.0518 .  <br/>as.factor(Ethnicity)4   0.084497   0.054369   1.554   0.1202    <br/>as.factor(Ethnicity)5  -0.871253   0.069348 -12.563  &lt; 2e-16 ***<br/>as.factor(Ethnicity)6  -0.063882   0.113879  -0.561   0.5748    <br/>as.factor(Ethnicity)7   0.528137   0.065507   8.062 7.49e-16 ***<br/>as.factor(Ethnicity)8 -10.607403 122.517633  -0.087   0.9310    <br/>---<br/>Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span><span id="6af0" class="my lt iq nq b gy ob nv l nw nx">(Dispersion parameter for binomial family taken to be 1)</span><span id="24d6" class="my lt iq nq b gy ob nv l nw nx">Null deviance: 16956  on 19706  degrees of freedom<br/>Residual deviance: 15713  on 19691  degrees of freedom<br/>AIC: 15745</span><span id="3988" class="my lt iq nq b gy ob nv l nw nx">Number of Fisher Scoring iterations: 11</span></pre><p id="cd2c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了从模型中获得<strong class="ky ir">优势比和p值</strong>，需要对输出进行指数运算。这可以通过在模型上执行以下代码来完成:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="d746" class="my lt iq nq b gy nu nv l nw nx">exp(coefficients(m))<br/>exp(confint(m))</span></pre><p id="24f8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是上述代码的输出:</p><pre class="kg kh ki kj gt np nq nr ns aw nt bi"><span id="4868" class="my lt iq nq b gy nu nv l nw nx">#Odds Ratios:<br/>                      exp.coefficients.m..<br/>(Intercept)                  0.12662764672<br/>as.factor(Age)1            130.46646380157<br/>as.factor(Age)2              4.07508039371<br/>as.factor(Age)3              1.45531434372<br/>as.factor(Age)4              1.00132609820<br/>as.factor(Age)5              1.77197884694<br/>as.factor(Age)6              6.12127428713<br/>as.factor(Gender)1           1.05693574512<br/>as.factor(Ethnicity)1        0.42354252826<br/>as.factor(Ethnicity)2        0.83397119030<br/>as.factor(Ethnicity)3        0.56114822112<br/>as.factor(Ethnicity)4        1.08816930350<br/>as.factor(Ethnicity)5        0.41842702920<br/>as.factor(Ethnicity)6        0.93811576448<br/>as.factor(Ethnicity)7        1.69577024472<br/>as.factor(Ethnicity)8        0.00002473223</span><span id="2539" class="my lt iq nq b gy ob nv l nw nx">#Confidence Intervals: <br/>                          2.5 %      97.5 %<br/>(Intercept)            0.1119507   0.1429609<br/>as.factor(Age)1       38.9341090 811.6890375<br/>as.factor(Age)2        3.5822371   4.6374648<br/>as.factor(Age)3        1.2960778   1.6348703<br/>as.factor(Age)4        0.8813076   1.1373159<br/>as.factor(Age)5        1.5337998   2.0450854<br/>as.factor(Age)6        4.6385626   8.0627385<br/>as.factor(Gender)1     0.9718973   1.1499075<br/>as.factor(Ethnicity)1  0.1624569   0.9095877<br/>as.factor(Ethnicity)2  0.6811999   1.0146872<br/>as.factor(Ethnicity)3  0.2988317   0.9668308<br/>as.factor(Ethnicity)4  0.9783697   1.2108047<br/>as.factor(Ethnicity)5  0.3649682   0.4790100<br/>as.factor(Ethnicity)6  0.7478204   1.1689730<br/>as.factor(Ethnicity)7  1.4911884   1.9278357<br/>as.factor(Ethnicity)8         NA   1.4707108</span></pre><p id="a895" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我立刻注意到一个不寻常的1岁组的优势比，即“20岁或以下”。回顾EDA，我们看到这个类别只有35个观察值。由于该类别中有限的样本量，(和大的置信区间)，这一估计可能是不可靠的。</p><blockquote class="mk ml mm"><p id="b3d5" class="kw kx mn ky b kz la jr lb lc ld ju le mo lg lh li mp lk ll lm mq lo lp lq lr ij bi translated">提示:如果置信区间超过1(例如. 08–1.3)，研究组和对照组之间没有统计学差异。</p></blockquote><p id="9007" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">这项分析的结果包括，在圣塔克拉拉郡，西班牙裔成为全职员工的可能性比白人低58%(CI:0.36–0.47)。在圣克拉拉县，没有发现全职职位的“男性”和“女性”之间的统计差异。与40-49岁的人相比，30-39岁的人成为该县全职员工的可能性高出45%(CI:1.30-1.63)。</strong></p><h2 id="4d5e" class="my lt iq bd lu mz na dn ly nb nc dp mc lf nd ne me lj nf ng mg ln nh ni mi nj bi translated"><strong class="ak">优势&amp;局限</strong></h2><p id="75d1" class="pw-post-body-paragraph kw kx iq ky b kz nk jr lb lc nl ju le lf nm lh li lj nn ll lm ln no lp lq lr ij bi translated">与任何类型的建模一样，使用某些技术优于其他技术也有利弊。逻辑回归也不例外。尽管它是构建和解释起来较为简单的模型之一，但它严重依赖于具有足够样本量的格式良好的数据。</p><p id="0ac3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该数据集的一些局限性包括这些变量是如何测量的。例如，“性别”变量只收集了“男性”和“女性”信息，而没有SOGI(性取向性别认同)信息。此外,“种族”变量是聚合的，因此不可能通过不同的种族亚组来确定模式或趋势。</p><p id="e500" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这一分析中使用的数据已经过时，并且在一个变量的所有类别之间不平衡。为了解决这个问题，可以操纵数据来创建更大的类别(例如，更大的年龄范围)。然而，这将冲淡结果解释的粒度。更强大的数据收集将允许更准确的分析，从而更容易确定需要改进的领域，以实现更公平的员工队伍。</p><p id="ac21" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我的完整代码、数据字典、原始和分析数据集以及数据可视化可以在我的Github页面<a class="ae kv" href="https://github.com/isRadata/WorkforceEquity_SCC" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p></div></div>    
</body>
</html>