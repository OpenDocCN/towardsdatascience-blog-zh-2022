<html>
<head>
<title>The 3 t-tests for Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学家的3 t测试</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-3-t-tests-for-data-scientists-e24e4ef61#2022-01-11">https://towardsdatascience.com/the-3-t-tests-for-data-scientists-e24e4ef61#2022-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="4ca0" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">数据科学家的3 t测试</h1></div><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/4c6a45dda2ffc6ec04de0173f2872553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*f1JfDNHHCLJOgQac"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">约翰·额外的照片在<a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上</p></figure><p id="d83d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">t检验是一种统计技术，它告诉人们两组之间的差异有多显著。简而言之，它通过将信号的量(通过样本或总体平均值之间的差异测量)与这些样本中的噪声量(或变化)进行比较来实现这一点。有许多关于数据科学的<a class="ae kf" rel="noopener" target="_blank" href="/the-statistical-analysis-t-test-explained-for-beginners-and-experts-fd0e358bbb62"/><a class="ae kf" rel="noopener" target="_blank" href="/statistical-tests-t-test-andanova-674b242a5274">有用的</a> <a class="ae kf" rel="noopener" target="_blank" href="/how-to-perform-a-one-sample-t-test-by-hand-and-in-r-test-on-one-mean-70f867c4aa1">文章</a>深入描述了它们，告诉你什么是t-test以及它如何工作，但是没有多少材料讨论t-test的不同变体以及何时使用它们。本文将介绍t-test的3种变体，何时使用它们，以及如何在Python中运行它们。</p><h1 id="a03e" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">单一样本t检验</h1><h2 id="01ff" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">这是什么？</h2><p id="4c62" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">单样本t检验将样本数据的平均值与一个特定值进行比较。这方面的一个例子可能是，如果可口可乐公司希望确保装瓶厂在每罐饮料中倒入适量的苏打水。领导知道他们想要每罐355毫升，所以他们可以从罐中取样并测量倒入每个罐中的确切毫升数。由于机械过程不精确，一些罐可能超过355毫升，一些可能更少。然后，可以用罐的样本进行单样本t检验，以检验机器是否向每个罐中注入了统计上显著不同的量，而不是355 ml的液体。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/bb385ddef638e28f80919a4bcd453b1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wN_tXlUUShU1S7WguUVsVg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</p></figure><h2 id="7ab3" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">它是如何工作的？</h2><ol class=""><li id="96fe" class="my mz it ki b kj mo kn mp kr na kv nb kz nc ld nd ne nf ng bi translated">陈述无效假设和替代假设。零假设(H0)是样本均值与特定值(总体均值)没有差异，而另一个假设(H1)是有差异。按照上面的例子，它们应该是这样的:</li></ol><blockquote class="nh ni nj"><p id="0748" class="kg kh nk ki b kj kk kl km kn ko kp kq nl ks kt ku nm kw kx ky nn la lb lc ld im bi translated">H0:平均每罐可乐有355毫升。H1:平均每罐可乐中含有超过355毫升的二氧化碳。</p></blockquote><p id="e672" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nk">注意:由于我选择了一个方向(即“每罐超过355毫升”)，这就变成了一个单边t检验，而不是一个双边t检验，其中一个只是说数量不是355毫升。</em></p><p id="c6c4" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.确定你的显著性水平:显著性水平，通常被称为alpha (α)，是当它实际上是真的时候拒绝你的零假设的概率。通常使用0.05的alpha，这意味着您有5%的风险得出样本之间存在统计显著差异的结论，而实际上这只是由于噪声。</p><p id="034d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.收集以下数据:要检验的值(μ)、样本均值(x̄)、样本标准差(s)、样本观察值(n)并将它们放入以下公式中以计算t统计量:</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/c7b86f84fdf27dd1a3743bdad7a5e9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QQ_IASZtqwrTD3YOGkDszQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</p></figure><p id="4aa9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.将您的t统计和自由度插入到t表中，以获得相应的p值。将p值与您选择的alpha值进行比较，如果它较小，您可以拒绝零假设。</p><p id="faa3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">请注意，要使这种测试有效，有3个必要的假设:</p><blockquote class="nh ni nj"><p id="9bb4" class="kg kh nk ki b kj kk kl km kn ko kp kq nl ks kt ku nm kw kx ky nn la lb lc ld im bi translated">1)样本是独立的<br/> 2)数据近似正态分布<br/> 3)样本是随机收集的</p></blockquote><h2 id="c601" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">代码示例</h2><p id="b159" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Scipy的stats库有一个方便的<strong class="ki iu"> ttest_1samp </strong>方法，当给定一个数据样本和一个总体均值进行比较时，该方法将计算t-stat和p值。下面的代码演示了如何使用函数为上面的示例运行单样本t-test。</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="062f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，我创建了两个来自工厂A和工厂B的30罐假数据样本。对于工厂A，数据的平均值为355，并添加了噪声项，但对于工厂B，数据的平均值为353，并添加了噪声项。对两者进行单样本t检验，我们看到工厂A的p值为0.71，工厂B的p值为0.0004。工厂A的p值远高于标准alpha值0.05，但工厂B的p值低于该阈值，因此我们可以拒绝零假设。</p><h1 id="b15c" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">双样本t检验</h1><h2 id="698c" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">这是什么？</h2><p id="78c1" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">双样本t检验不是将数据样本的平均值与单个值(总体平均值)进行比较，而是比较两个独立数据样本的平均值。同样的例子，如果可口可乐公司的领导层想要比较工厂A和工厂b之间罐装液体的平均量，就可以使用这个方法。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/ba6b71ac0cb740d5d7d2c14c5e592cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZHZyoPSWpPIyDErVwKp3Tg.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</p></figure><h2 id="a2c6" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">它是如何工作的？</h2><ol class=""><li id="a3ea" class="my mz it ki b kj mo kn mp kr na kv nb kz nc ld nd ne nf ng bi translated">类似于单样本t检验，我们陈述零假设和备择假设。以两个工厂为例，它们是:</li></ol><blockquote class="nh ni nj"><p id="d656" class="kg kh nk ki b kj kk kl km kn ko kp kq nl ks kt ku nm kw kx ky nn la lb lc ld im bi translated">H0:两家工厂的平均灌装量没有显著差异<br/> H1:两家工厂的平均灌装量有显著差异</p></blockquote><p id="74e7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="nk">注意:重要的是要记住零假设和替代假设总是关于总体，而不是从中抽取的样本</em></p><p id="4141" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">2.选择一个显著性水平(我们还是用0.05)</p><p id="9046" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">3.计算两个样本的平均值(x̄)、标准偏差(s)和样本量(n ),并将其代入以下公式，以获得t统计量</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nr"><img src="../Images/6f041d6c9115becebef7f22f66516a00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i7mBNIh9LOmWqQcXZ4SBNQ.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</p></figure><p id="f695" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">4.将t统计量和自由度插入到t表中，以获得相应的p值。将p值与所选α水平进行比较，如果它更小，则可以拒绝零假设。</p><p id="ef52" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">像单样本t-检验一样，该检验也必须满足一些假设:</p><blockquote class="nh ni nj"><p id="2097" class="kg kh nk ki b kj kk kl km kn ko kp kq nl ks kt ku nm kw kx ky nn la lb lc ld im bi translated">1)两个样本独立<br/> 2)两个样本近似正态分布<br/> 3)两个样本具有近似相同的方差</p></blockquote><h2 id="bbda" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">代码示例</h2><p id="f358" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Scipy的<a class="ae kf" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> ttest_ind </strong> </a>方法接受两个数据样本，并且与<strong class="ki iu"> ttest_1samp类似，</strong>从测试中返回t统计量和相应的p值。下面的代码演示了如何使用函数来运行上面的用例示例。</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="f6dc" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">由于该检验的p值为0.0026，低于0.05的标准α值，因此无效假设被拒绝。</p><h1 id="3c5b" class="le lf it bd lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb bi translated">配对t检验</h1><h2 id="ee78" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">这是什么？</h2><p id="d3c0" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">配对t检验比较同一实体的两个测量值，通常是在一段时间内。这方面的一个例子是，如果可口可乐公司想要测试装瓶培训计划的有效性，对于每个员工，他们可以比较他们参加培训前后的平均装瓶率。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ns"><img src="../Images/c5e93b10881fdfd9b86a7104990874af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ETbTmcc1w6j42NI6EL9gxg.png"/></div></div></figure><h2 id="dca3" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">它是如何工作的？</h2><p id="d91a" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">与一个和两个样本t-检验相似，必须陈述无效假设和备选假设，选择显著性水平，计算t-统计量，并将其与t-表中的自由度一起使用，以获得p值。t统计的公式也不同，如下所示，其中d是每个配对值的差值，n是样本数。</p><figure class="mu mv mw mx gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/2a1d342fc573754cce00d20d6680a2cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wvewVmTesigKuCdDpdUyjw.png"/></div></div><p class="kb kc gj gh gi kd ke bd b be z dk translated">作者图片</p></figure><p id="d690" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另一种思考这种测试的方式是，配对t检验本质上只是对每个配对样本的差异进行单样本t检验！在这种情况下，零假设是配对样本差异等于零。</p><h2 id="a1ef" class="mc lf it bd lg md me dn lk mf mg dp lo kr mh mi ls kv mj mk lw kz ml mm ma mn bi translated">代码示例</h2><p id="0bf1" class="pw-post-body-paragraph kg kh it ki b kj mo kl km kn mp kp kq kr mq kt ku kv mr kx ky kz ms lb lc ld im bi translated">Scipy的<strong class="ki iu"> ttest_rel </strong>方法接受两个成对数据数组，并且与ttest_1samp &amp; ttest_ind函数类似，返回t统计量和相应的p值。在下面的代码中，我首先定义了一个雇员装瓶率数组，每分钟随机装瓶量在10到20之间。然后，我用“应用培训”功能模拟了一次培训，该功能可以将生产率降低1瓶/分钟，或者提高到4瓶/分钟。与前面的两个例子类似，我将训练前后的生产率数组输入到scipy的ttest_rel函数中，并打印输出。</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="d91f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">另外，我演示了配对t检验与配对差异的单样本t检验是如何相同的。在下面的代码片段中，我获取了post_training和pre_training数组之间的差异，并针对总体均值为0的差异运行了单样本t检验(因为零假设是样本之间没有差异)。正如所料，t统计量和p值与配对t检验完全相同！</p><figure class="mu mv mw mx gt ju"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="d432" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢阅读！要注册中等会员，看<a class="ae kf" href="https://eonofrey.medium.com/membership" rel="noopener">这里</a>！</p></div></div>    
</body>
</html>