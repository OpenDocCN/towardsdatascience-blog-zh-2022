# 这个快速简单的 7 步清单将帮助你为数据科学编写更好的 Python 代码

> 原文：<https://towardsdatascience.com/this-quick-and-easy-7-step-checklist-will-help-you-write-better-python-code-for-data-science-62f1a1f4b20c>

## 这个清单将帮助您编写干净且易于管理的 Python 代码

![](img/98842ddfbe7ef4411d867c95a64865ab.png)

奥斯汀·洛曼在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

直到我开始阅读其他数据科学家写的代码，我才真正理解为什么来自计算机科学背景的软件工程师或数据科学家会抱怨数据科学家写的代码。

然后，我发现了数据科学家的氪石。

[“数据科学不是一个自然源自计算机科学的领域”](/software-engineering-best-practices-for-data-scientists-4c199ede6e03)，这反映在数据科学家拥有的各种背景中。数据科学家通常来自不相关的领域，如医学、工程、艺术、商业等，他们很少拥有基于计算的背景来支持他们编写代码的知识。

通常情况下，数据科学家编写的第一个代码是通过在线课程，这将为他们进入该领域提供动力。不仅如此，大多数数据科学家都是从学习 Python 开始的，Python 是一种能让新的程序员轻松完成大量工作的语言。

因此，数据科学家在编写代码时往往处于劣势，而这些代码在提交给生产环境时会变得很明显。

当你去一家没有预算来雇佣数据科学家和软件工程师的公司工作时，写好代码的重要性就变得很明显。在这些场景中，数据科学家负责创建生产就绪代码。因此，您必须开发一个系统来帮助您编写干净、易于管理的代码。

无论您是一名刚刚起步的新数据科学家(尽早养成好习惯总是一个好主意！)或者是一个睡觉时也能做到这一点的老手(偶尔敲掉锈迹从来都不是一个坏主意)，这个清单将帮助您为数据科学编写更好的 Python 代码。

# 1.你的语法遵循 Python 惯例吗？

如果你有计算机科学或软件工程的背景，你可能会带着口音编码。

就像说一门新的语言或第二语言一样，你说话的口音会让听者清楚地知道这不是你的母语。

当你用一种刚学会的语言写代码时，同样的事情也会发生。

然而，如果你开始用一种你很熟悉的不同编程语言的口音和惯例来写代码，你的代码[可能不一定理解你要求它做什么，或者它会以一种非常低效的方式做你要求的事情](/how-to-become-fluent-in-multiple-programming-languages-9f473c146b90)。

简而言之，按照预期的方式使用 Python，并使用适当的约定和模式进行编码。

作为使用正确的 Python 语法和约定的扩展，您需要确保您使用的是预先存在的库。诸如 NumPy、Pandas、Matplotlib、TensorFlow、Seaborn、SciPy、Scikit-Learn 等库已经调试完毕，可以投入生产。此外，它们正在成为许多公司工作的标准，这意味着如果您开始使用他们的首选库，您的团队将会受益匪浅。

# 2.代码设计得好吗？

作为数据科学家的最初几年，你的主要目标可能是编写能够正常工作的代码。当你的主要目标是生产一些运行且不破坏公司系统的东西时，规划和设计可能不是你脑海中闪过的概念。

在某一点上，当您开始扩展代码的范围并开始为生产环境做准备时，设计将变得对您很重要。

在这一点上，您将希望关注它的规划和设计，它将如何与现有代码一起工作，以及它是否按照其组件的位置进行了组织。

当你听到较少的来自工程部门的咒骂时，或者当你知道这些咒骂不适合你时，你就会知道你已经编写了设计良好的代码。

在准备代码时，一些[设计参数](https://www.toptal.com/python/python-design-patterns)可以让你集中注意力于迭代器和生成器(它们被很好地内置到 Python 中)，责任链(*每段代码必须做一件事，而且只能做一件事*，以及命令模式。

# 3.你的代码可读吗？

你的代码组织得好吗？

是否清晰简洁？

变量和函数的名字是否有意义并且符合风格指南？

这些是你在发布代码之前需要问自己的问题。

Python 因允许用户灵活地编写混乱的代码而臭名昭著，这些代码很少或根本没有清晰性、简洁性或组织性。

尽管它很灵活，但必须遵循严格的风格约定，以确保您可以在周末休假后理解您的代码，并且新员工可以在五年后看到您的代码并成功地重构它。

风格指南是你最好的朋友。使用它，偶尔刷新一下它的内容。

  

# 4.你写过代码文档吗？

您的代码文档应该包含两部分:

1.  使用适当的 Python 注释约定在代码中添加注释。
2.  详细说明意见的支持文件。

每个新代码提交应该至少包括这三种类型的注释:

1.  新提交的代码顶部的注释，简要描述了代码的目标及其功能。
2.  每个函数顶部的注释描述了它的输入、输出和它执行的逻辑。
3.  在不容易理解的任何逻辑或实用的一行程序的顶部添加一个注释，以便从外部查看您的代码的人可以组织并更好地理解您作为作者的想法。

支持代码文档应该在您编写大量代码的任何时候编写，这些代码一旦添加到产品代码中就会产生重大影响。该[外来文件应包括](/software-engineering-best-practices-for-data-scientists-4c199ede6e03):

*   代码的目标和功能。
*   关于如何集成代码的说明(如有必要)。
*   对代码中棘手或难以理解的部分进行长时间的解释，你需要花时间逐行准确地描述代码做了什么，也许还需要简要地描述为什么你选择以这种方式编写代码。
*   屏幕截图有助于调试和故障排除。
*   外部支持文档的有用链接。
*   如果需要其他信息或帮助，请提供您的联系信息。

[](/how-to-write-good-code-documentation-for-data-scientists-c9940aebb4f0)  

# 5.您的代码是否针对生产环境进行了优化？

数据科学家越来越负责让他们的代码生产就绪。

这意味着在提交代码之前，您需要问自己这些问题:

1.  您的代码是否根据需要进行扩展？
2.  您的代码包含用于报告指标的分析器吗？
3.  你的代码已经被优化到最高效率了吗？

这些问题都可以通过[牢记一些 Python 原则来回答](https://betterprogramming.pub/10-ways-to-improve-your-python-applications-performance-78e697e8dc2a):

*   使用一个分析器，它提供关于代码失败和代码性能的持续的统计信息和信息流——这就消除了判断代码是否被优化的猜测。
*   通过仅分配和声明使代码工作所需的变量和函数来保持代码简洁——滥用变量和函数需要不必要的内存和 CPU 资源。
*   尽可能避免循环，以减轻服务器的负担。
*   [通过使用提供改进性能的替代函数来编写高效的代码](https://stackify.com/20-simple-python-performance-tuning-tips/)，例如`xrange()`和`join()`，避免全局变量，记住使用多重赋值，以及使用集合和联合。

# 6.你保持简单了吗，笨蛋？

如果你想给你的朋友留下深刻印象，或者如果你想在媒体上发表一篇病毒式的文章，写一行解决问题的方法是[的一个很棒的聚会技巧](/software-engineering-best-practices-for-data-scientists-4c199ede6e03)。

然而，当需要调试和重构代码时，你正在将自己暴露在一个充满伤害的世界中。

这里的关键是要记住您在第一次学习如何编码时可能使用的旧缩写:

**K**eep**I**t**S**imple**S**tupid。

这个缩写是一个很好的提醒，无论你的预测股市的一行解决方案多么令人印象深刻，它都不是最简单或最实用的解决方案。

不必要的复杂性不应该出现在你的代码中，尤其是当它涉及到一门已经很容易保持简单的语言时。不要被 Python 给你的灵活性所吸引。相反，保持你的代码简单，易读，最重要的是，易于调试。

# 7.你的提交信息写得好吗？

不可否认，随着项目的拖延，你的提交信息会越来越少。

每个人都曾在某个时候掉进过这个陷阱，这一天过得很长，代码流动缓慢，提交消息开始看起来越来越像一个蹒跚学步的孩子抓住了你的键盘。

然后第二天，你发现自己有一堆难以辨认的提交消息，当你最终发现一个需要修复的 bug 时，你必须对这些消息进行分类。

这里的技巧是在提交提交之前问自己这两个问题:

1.  在远离工作的一个长周末后的第二天，你能理解提交信息吗？
2.  您的提交消息是否遵循格式标准？

这就是写好提交消息的全部内容！

[**专业提示:**](https://deepsource.io/blog/python-code-review-checklist/) 使用一种提交消息格式，可以让你立刻明白提交涉及到什么。例如，使用前缀标签或表情符号(使用 [gitmoji](https://gitmoji.dev/) )来表示提交的类型，例如:

*   [功能]或✨This 提交正在向代码中添加新功能。
*   [BUG]或者🐛该提交通知/修复了一个错误。

# 关键要点

*   编写优秀的 Python 代码将增加您作为数据科学家的影响力，因为您将能够编写可以无缝集成到现有系统中的生产就绪代码，而不会受到工程部门的干扰。
*   好的 Python 代码保持简单易读，特别注意围绕组织原则规划其设计。组织良好的代码自然会针对生产环境进行优化。
*   您的代码应该始终伴随着您的思维过程的长形式版本，通过注释、文档和提交消息，以确保您的代码始终能够被您自己和外部用户理解。

订阅将我的故事直接发送到您的收件箱:[故事订阅](https://madison13.medium.com/subscribe)

请成为会员，使用我的推荐链接获得无限制的媒体访问权限(我会收到一小笔佣金，不收取额外费用):[媒体会员](https://madison13.medium.com/membership)

通过捐赠来支持我的写作，以资助更多像这样的故事的创作:[捐赠](https://ko-fi.com/madisonhunter13)