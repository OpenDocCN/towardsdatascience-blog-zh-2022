<html>
<head>
<title>Style Your Data App Like a Pro</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">像专业人士一样设计您的数据应用</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/style-your-data-app-like-a-pro-2393861ca3e0#2022-01-25">https://towardsdatascience.com/style-your-data-app-like-a-pro-2393861ca3e0#2022-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="719a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">大蟒</h2><div class=""><h1 id="4921" class="pw-post-title jb jc it bd jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy bi translated">像专业人士一样设计您的数据应用</h1></div><div class=""><h2 id="def5" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用PyQt为任何平台设计您的应用程序</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ed5eb872191a87e77db133c258667853.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s6zoQDf6AOkb-_ET"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae lh" href="https://unsplash.com/@manupappa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Manuel Pappacena </a>拍照</p></figure><p id="dcd4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你曾经希望你的数据应用仪表板看起来像奔驰著名的MBUX仪表板吗？</p><p id="fc5a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您知道开发人员使用Qt框架来创建其令人惊叹和清晰的设计吗？</p><p id="cbd7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以做得一样好，甚至更好。你会惊讶于它是多么的不费力。</p><h2 id="5468" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">Qt框架</h2><p id="c5bd" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">PyQt是一个非常流行的Python绑定，用于Qt跨平台C++框架，可以在Windows、Linux、Mac OS X和各种UNIX平台上工作，现在可以在Android和iOS上运行。</p><p id="b565" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Qt框架的用例超越了桌面应用，从移动设备、MCU、物联网到嵌入式设备。</p><p id="5616" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，它的声誉增加，并传播了数百万设备和应用背后的领先独立技术。</p><p id="fedc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">此外，Qt正被用于消费电子、自动化、医疗设备、汽车等许多行业。</p><p id="bbe3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">举个例子，<strong class="lk jd">奔驰的</strong>名为<strong class="lk jd"> MBUX </strong>的高级数字驾驶舱UI就是用Qt打造的。</p><h2 id="39a1" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">设计我的应用程序</h2><p id="9d44" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在我们现在生活的数据科学、机器学习(ML)和人工智能(AI)的世界中，数据表示及其风格经常被遗忘或被赋予较低的优先级。</p><p id="102e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">毫不奇怪，数据获取和预处理、不同类型的学习、分类和算法让开发人员非常忙碌。</p><p id="a187" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">开发人员可以从几个web框架中进行选择，以帮助他们进行数据表示。</p><p id="2f31" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">web框架很好，但是对于桌面或者移动范围之外的应用程序，他们不得不寻找替代的解决方案。</p><p id="0ccb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是PyQt派上用场的地方。</p><p id="f998" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有两种基本方法来设计PyQt应用程序的样式。首先是使用类似于基维语的<strong class="lk jd"> QML </strong>语；第二是用类似CSS的<strong class="lk jd"> QSS </strong>语言进行样式化。</p><p id="34a5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">由于种种原因，在数据应用的情况下，我更喜欢后者。</p><h2 id="e34a" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">PyQt和数据库</h2><p id="1553" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">您可能想知道PyQt如何处理数据库。</p><p id="cf7d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">很好。在所有积极维护的Python桌面GUI框架中，它最适合处理数据库</p><p id="f1d0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要了解PyQt在处理数据库方面有多方便，请查看我的PyQt &amp;关系数据库系列。</p><div class="nb nc gp gr nd"><div role="button" tabindex="0" class="ab bv gv cb fp ne nf bn ng lb ex"><div class="nh l"><div class="ab q"><div class="l di"><img alt="Stefan Melo" class="l de bw ni nj fe" src="../Images/b28b9ceb41c488532f34fbb9b4e5b485.png" width="20" height="20" loading="lazy" data-original-src="https://miro.medium.com/v2/resize:fill:40:40/1*ulugY22Ollx0QvWgTOPQSg.jpeg"/><div class="fb bw l ni nj fc n aw fd"/></div><div class="hh l fo"><p class="bd b dl z fp fq fr fs ft fu fv fw dk translated">斯特凡·梅洛<a class="ae af ag ah ai aj ak al am an ao ap aq ar as" href="https://melo-stefan.medium.com/?source=post_page-----2393861ca3e0--------------------------------" rel="noopener follow" target="_top"/></p></div></div><div class="nm nn gw l"><h2 class="bd jd uf ug fp uh fr fs pn fu fw jc bi translated">PyQt &amp;关系数据库系列</h2></div><div class="ab q"><div class="l fo"><a class="bd b be z bi ui au uj uk ul qw um an eh ei un uo up el em eo de bk ep" href="https://melo-stefan.medium.com/list/pyqt-relational-databases-series-9ded67b27631?source=post_page-----2393861ca3e0--------------------------------" rel="noopener follow" target="_top">View list</a></div><div class="uq l fo"><span class="bd b dl z dk">6 stories</span></div></div></div><div class="nz dh oa fp ab ob fo di"><div class="di nr bv ns nt"><div class="dh l"><img alt="" class="dh" src="../Images/edba3e23850732675eaf821bf15d8dfe.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*-lqsR31ZIk0x2h0I"/></div></div><div class="di nr bv nu nv nw"><div class="dh l"><img alt="" class="dh" src="../Images/dac62b021212cceabb22d8eb8de637ba.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*hGqwpPX6N-yLYsC4"/></div></div><div class="di bv nx ny nw"><div class="dh l"><img alt="" class="dh" src="../Images/f544d0802f13c5585dbcd029343af724.png" width="194" height="194" loading="lazy" role="presentation" data-original-src="https://miro.medium.com/v2/resize:fill:388:388/0*s6zoQDf6AOkb-_ET"/></div></div></div></div></div><p id="858d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">它还将帮助您使用本文中作为样式示例的应用程序代码。</p><h2 id="c22b" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">无样式应用程序</h2><p id="b7f7" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">作为一个例子，我们将使用前面提到的PyQt &amp;关系数据库系列文章中的关系表。</p><p id="99e9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如下图所示。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi og"><img src="../Images/60bf57ad02f43431687ee9cb3feb85ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gZ1legAXp1SS_358jg5Niw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="d732" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们可以在枯燥的表格中看到一些格式良好的数据。</p><p id="b917" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你是对的；我同意这一点也不令人兴奋。我们现在就要做点什么。</p><h2 id="ffe1" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">使用QSS样式表的样式</h2><p id="9c25" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">我们可以使用样式表定制Qt部件。然而，重要的是要认识到Qt样式表(<strong class="lk jd"> QSS </strong>)对于Qt小部件和层叠样式表(<strong class="lk jd"> CSS </strong>)对于HTML是一样的。</p><p id="fbf7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，我们将修改现有代码的初始化部分。</p><pre class="ks kt ku kv gt oh oi oj ok aw of bi"><span id="0e01" class="me mf it oi b gy ol om l on oo">if __name__ == "__main__":</span><span id="56fb" class="me mf it oi b gy op om l on oo">    app = QApplication(sys.argv)</span><span id="0177" class="me mf it oi b gy op om l on oo">    <strong class="oi jd"><em class="oq"># Open the style sheet file and read it</em><br/>    with open('style.qss', 'r') as f:<br/>        style = f.read()</strong></span><span id="385c" class="me mf it oi b gy op om l on oo">    <strong class="oi jd"><em class="oq"># Set the current style sheet</em><br/>    app.setStyleSheet(style)</strong></span><span id="36cc" class="me mf it oi b gy op om l on oo">    if not createConnection():<br/>        sys.exit(1)</span><span id="28b0" class="me mf it oi b gy op om l on oo">    form = MainWindow()<br/>    form.show()<br/>    app.exec()</span></pre><p id="a76e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">就这么简单。我们打开样式表文件来读取它并设置当前样式。总共三行代码(<strong class="lk jd">粗体</strong>)。</p><p id="d9f8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Qt样式表支持各种属性、伪状态和子控件来定制小部件的外观。</p><p id="8c49" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">不要担心QSS语言。如果您至少有级联样式表的基本知识，您将立即知道如何使用Qt样式表。</p><p id="23f5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当然，我们需要创建<em class="oq"> style.qss </em>文件，经过一些调整后，我们得到以下代码。</p><pre class="ks kt ku kv gt oh oi oj ok aw of bi"><span id="ece1" class="me mf it oi b gy ol om l on oo"><strong class="oi jd">QMainWindow {<br/>    background-color: "#222";<br/>    color: "#eee"<br/>}</strong></span><span id="20ff" class="me mf it oi b gy op om l on oo"><strong class="oi jd">QWidget {<br/>    background-color: "#333";<br/>    color: "#eee";<br/>    padding: 0px<br/>}</strong></span><span id="c58d" class="me mf it oi b gy op om l on oo"><strong class="oi jd">QTableView {<br/>    border: 1px solid "#222";<br/>    padding: 0px;<br/>    font-family: "Segoe UI";<br/>    font-size: 14px;<br/>    alternate-background-color: "#424242"<br/>}</strong></span><span id="5cf6" class="me mf it oi b gy op om l on oo"><strong class="oi jd">QTableView::item:selected {<br/>    background-color: "#3388ff"<br/>}</strong></span><span id="d40c" class="me mf it oi b gy op om l on oo"><strong class="oi jd">QTableView QTableCornerButton::section {<br/>    background-color: "#292929";<br/>    border: 1px;<br/>    padding: 0px<br/>}</strong></span><span id="361c" class="me mf it oi b gy op om l on oo"><strong class="oi jd">QHeaderView, QHeaderView::section {<br/>    background-color: "#292929";<br/>    color: "#eee";<br/>    font-size: 15px;<br/>    border: 1px;<br/>    padding: 0px<br/>}</strong></span></pre><p id="9abf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用这个数据库专用的模板，并尝试使用不同的属性、状态等。在很短的时间内，您将创建自己的应用程序风格。</p><h2 id="b19b" class="me mf it bd mg mh mi dn mj mk ml dp mm lr mn mo mp lv mq mr ms lz mt mu mv iz bi translated">像专业人士一样的风格</h2><p id="3e43" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">使用QSS定制Qt Widgets毫不费力，并且完全符合业务逻辑和表示分离的设计模式。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi or"><img src="../Images/18dc32c54135a7133420bde76494de51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*APFKIkwsR8KGTG3CiDLgsw.png"/></div></div><p class="ld le gj gh gi lf lg bd b be z dk translated">作者图片</p></figure><p id="556a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了完整起见，我不得不提到可以使用<em class="oq">“内联”</em> QSS语句。它看起来会像这样:</p><pre class="ks kt ku kv gt oh oi oj ok aw of bi"><span id="05cc" class="me mf it oi b gy ol om l on oo">MyApp.setStyleSheet("QLineEdit {background-color: grey}")</span></pre><p id="1aa5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然而，通过将应用程序的样式表放在一个单独的文件中，我们可以保持代码的整洁和业务逻辑的集中。此外，我们可以创建跨许多应用程序的可重用模板。</p><p id="aac1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">从PyQt 4.5开始，所有平台都完全支持Qt样式表。因此，在所有目标平台上保持相同的外观是可能的。</p><blockquote class="os"><p id="2bfc" class="ot ou it bd ov ow ox oy oz pa pb md dk translated">QSS语言为你设计应用程序提供了无限的机会。</p></blockquote><p id="9b88" class="pw-post-body-paragraph li lj it lk b ll pc kd ln lo pd kg lq lr pe lt lu lv pf lx ly lz pg mb mc md im bi translated">它支持各种选择器类型、复杂小部件的样式、伪状态、冲突解决、级联、继承等等。</p><p id="63df" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我建议花一些时间阅读QSS文档。</p><p id="88d8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">虽然您必须稍微研究一下Qt文档，并进行一些微调，但最终结果将是值得的。</p><p id="44cb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我期待着听到你的经验，也许看到你惊人的应用风格。</p><p id="ec5e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="oq">如果你想阅读更多这样的内容，成为会员:</em> </strong></p><div class="nb nc gp gr nd ph"><a href="https://melo-stefan.medium.com/membership" rel="noopener follow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd jd gy z fp pm fr fs pn fu fw jc bi translated">通过我的推荐链接加入Medium-Stefan Melo</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">melo-stefan.medium.com</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv lb ph"/></div></div></a></div><p id="99f8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd"> <em class="oq">或者你可以订阅我下面的简讯。谢谢你。</em>T19】</strong></p></div></div>    
</body>
</html>