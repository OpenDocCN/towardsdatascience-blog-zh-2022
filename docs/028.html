<html>
<head>
<title>Up Your Game in Social Media Sentiment Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在社交媒体情绪分析中提升自己的水平</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/sentiment-analysis-74624b075842#2022-01-02">https://towardsdatascience.com/sentiment-analysis-74624b075842#2022-01-02</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""><h1 id="0cc1" class="pw-post-title is it iu bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">在社交媒体情绪分析中提升自己的水平</h1></div><div class=""><h2 id="9576" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">了解客户对你的产品和服务的感受</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/a2b32fe2dbd5f7454cbe63ebffbc0a17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cSPCSI3Zc25ajT4L"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上由<a class="ae kz" href="https://unsplash.com/@bel2000a?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Belinda Fewings </a>拍摄的照片</p></figure><h1 id="2326" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">什么是情感分析？</h1><p id="f7b2" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">情感分析有助于理解文本数据的语气，积极的、消极的或中性的。捕捉情感可以帮助组织更好地理解<strong class="lu iv">客户的声音(VOC) </strong>甚至指导产品开发以改进功能。通常，情感分析是基于词汇和规则的，这意味着它对被人类标记为积极、消极或中性的词进行查找。还有更先进的模型可用，如2018年由谷歌开源的BERT。这篇文章将涵盖更传统的基于词典的方法；我们稍后将了解深度学习模型。</p><p id="de59" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">你需要熟悉新的术语来解释结果。它们是简单的概念，但是提前理解它们将有助于你更好地理解。</p><ul class=""><li id="d974" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated"><strong class="lu iv">极性</strong>:表示一个句子从否定到肯定的情感程度的数值。[-1.0，1.0]范围内的值(负面情绪= &gt; -1.0，中性= &gt; 0.0，正面情绪= &gt; 1.0)</li><li id="3936" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu iv">主观性</strong>:主观性句子表达个人的感受、观点或信仰。主观性是范围[0.0，1.0]内的值，其中0.0非常客观，1.0非常主观。</li></ul><h1 id="50a6" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">推特数据</h1><p id="3515" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">对于这个例子，我们将使用从Twitter中提取的数据。Twitter是VOC分析的绝佳来源。您可以搜索产品名称、标签、提及或公司名称。对于Python，我们可以使用<a class="ae kz" href="https://developer.twitter.com/en" rel="noopener ugc nofollow" target="_blank"> Twitter API </a>的<a class="ae kz" href="https://docs.tweepy.org/en/stable/" rel="noopener ugc nofollow" target="_blank"> Tweepy </a>包装器。</p><p id="b96b" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在寻找非常积极<strong class="lu iv">或非常消极<strong class="lu iv">的数据的伟大例子的过程中，我碰巧在宣读<a class="ae kz" href="https://www.nytimes.com/2021/12/29/nyregion/ghislaine-maxwell-guilty-verdict.html" rel="noopener ugc nofollow" target="_blank"> Ghislaine Maxwell </a>审判裁决的时候写下了这篇文章并下载了数据，并认为这将是一个非常好的开始否定的地方。谁会相反，几乎所有的推文都是正面的？我选择了<a class="ae kz" href="https://www.youtube.com/watch?v=FuXNumBwDOM" rel="noopener ugc nofollow" target="_blank">泰勒斯威夫特</a>。</strong></strong></p><p id="5420" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">我不会覆盖我用来提取推文的实际代码，但如果你想自己尝试，所有代码都可以在这里找到:<a class="ae kz" href="https://github.com/broepke/SentimentAnalysis/blob/main/twitter.ipynb" rel="noopener ugc nofollow" target="_blank">推文提取笔记本</a></p><p id="9d10" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">像往常一样，让我们导入将要使用的库并导入我们的数据来开始。</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="0184" class="nm lb iu ni b be nn no l np nq">import pandas as pd<br/>from textblob import TextBlob<br/>from vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt</span></pre><pre class="nr nh ni nj bn nk nl bi"><span id="6dca" class="nm lb iu ni b be nn no l np nq">swift = pd.read_pickle('swift.pkl')<br/>maxwell = pd.read_pickle('maxwell.pkl')</span></pre><h1 id="e065" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">基于纹理块的情感分析</h1><p id="553f" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">TexBlob是一个我喜欢用于快速NLP项目的包。这是一个简单的Python API，支持情感分析等常见任务。它包含两个不同的情感分析器。第一个叫<code class="fe ns nt nu ni b"><a class="ae kz" href="https://github.com/clips/pattern" rel="noopener ugc nofollow" target="_blank">PatternAnalyzer</a></code>，另一个叫NLTKs <code class="fe ns nt nu ni b">NaiveBayesAnalyzer</code>，在一个影评语料库上训练。</p><p id="a404" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">从TextBlob中获取<strong class="lu iv">极性</strong>(或<strong class="lu iv">主观性</strong>)分数很简单。我们可以使用熊猫的<code class="fe ns nt nu ni b">apply</code>方法来获取每条推文的“情绪”。</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="efc3" class="nm lb iu ni b be nn no l np nq"># Apply the Polarity Scoring from TextBlob<br/>swift['blob'] = swift['text'].apply(lambda x: TextBlob(x).sentiment.polarity)<br/>swift.head()</span></pre><pre class="nr nh ni nj bn nk nl bi"><span id="6acc" class="nm lb iu ni b be nn no l np nq">TWEET POLARITY<br/>0 RT @TSwiftFTC: 🥇 According to @HITSDD, Taylor ... 1.000000<br/>1 RT @taylorr_media: Taylor Swift - All Too Well...  0.000000<br/>2 Taylor Swift and Ed Sheeran music mainly. And ...  0.166667<br/>3 RT @soitgoes: Taylor Swift didn't write:...        0.200000<br/>4 Suporte list: Nial Horan, Demi Lovato, Taylor ...  0.000000</span></pre><p id="47c0" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">就这么简单，我们有我们的极性分数。我们可以在上面的例子中看到，我们有一些从中性到最大正值的<code class="fe ns nt nu ni b">1.0</code>。通常，你的文字会有一种中性的情绪。由于中立的推文不会为分析添加任何信息，我们可以删除它们，只留下那些积极和消极的信息。</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="283e" class="nm lb iu ni b be nn no l np nq"># Get rid of neutral sentiment<br/>filter = swift['blob'] != 0<br/>swift = swift[filter]</span></pre><p id="1741" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">接下来画出我们结果。我用的是Seaborn<a class="ae kz" href="https://seaborn.pydata.org/generated/seaborn.histplot.html" rel="noopener ugc nofollow" target="_blank">的<code class="fe ns nt nu ni b">histplot</code>。直方图非常适合可视化极性得分，因为它们可以很好地归入-1.0到1.0的范围内。</a></p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="9e56" class="nm lb iu ni b be nn no l np nq">sns.histplot(swift, x='blob', color="#7C8C58", bins=10)<br/>plt.title("Taylor Swift Sentiment Distribution with TextBlob")<br/>plt.xlabel("Sentiment")<br/>plt.ylabel("")</span></pre><p id="7974" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">下面，你可以看到泰勒斯威夫特的推文大多是正面的，而麦克斯韦尔的推文大多是负面的。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/f664ea56b6cdfbc2319c99f65156d0f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZUy4TNggZDVZdbO6.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/13749071d6edff2d17088c9bf8c1de8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SNwLgrrX-oWYDbsy.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h1 id="3a89" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">使用Vader进行社交媒体情感分析</h1><p id="5cce" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">TextBlob不适用于较短的文本或社交媒体帖子。它更适合用通用语言模式编写的更长、更简洁的字符串。然而，专门针对社交媒体的工具已经出现，这些工具能够理解如何处理社交媒体中使用的语言模式。其中一个就是VADER库。VADER专门为社交媒体处理的一些事情有:</p><ul class=""><li id="a498" class="mt mu iu lu b lv mo ly mp mb mv mf mw mj mx mn my mz na nb bi translated"><strong class="lu iv">助推词</strong>:增加感情的词，如<strong class="lu iv">伟大</strong>或<strong class="lu iv">爱情</strong></li><li id="a3e8" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated">全大写:全大写的单词经常被用来放大情感</li><li id="5d47" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu iv">标点符号</strong>:标记如<strong class="lu iv">！</strong>或者<strong class="lu iv">！！！</strong>会增加人气</li><li id="103d" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu iv">俚语</strong>:正确解释<strong class="lu iv"> SUX </strong>或<strong class="lu iv"> BFF </strong>等词语</li><li id="7ea0" class="mt mu iu lu b lv nc ly nd mb ne mf nf mj ng mn my mz na nb bi translated"><strong class="lu iv">表情符号</strong> : <strong class="lu iv"> UTF-8 </strong>编码表情符号被正确处理</li></ul><p id="4c69" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated"><strong class="lu iv">注意:</strong> <em class="nw">字符串不能像其他NLP方法一样被</em> <a class="ae kz" href="https://www.dataknowsall.com/textcleaning.html" rel="noopener ugc nofollow" target="_blank"> <em class="nw">清理</em> </a> <em class="nw">。VADER将从未经加工的文本中提取许多上下文。</em></p><p id="0e2d" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">在我们进入Twitter数据之前，让我们先来看看只包含表情符号的几个字符串是如何处理的。</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="cd90" class="nm lb iu ni b be nn no l np nq">positive = "💕 😁 🎉"<br/>negative = "💔 😬 🙁"</span></pre><pre class="nr nh ni nj bn nk nl bi"><span id="fff1" class="nm lb iu ni b be nn no l np nq">{'neg': 0.0, 'neu': 0.375, 'pos': 0.625, 'compound': 0.875}<br/>{'neg': 0.514, 'neu': 0.203, 'pos': 0.284, 'compound': -0.3415}</span></pre><p id="d907" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">这两个字符串将返回带有文本块的<code class="fe ns nt nu ni b">0.0</code>，带有<strong class="lu iv"> VADER的</strong>，它们显示的<code class="fe ns nt nu ni b">compound</code>分数似乎与表情符号所代表的情绪一致。</p><p id="b09e" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">让我们做与上面相同的过程，但是利用VADER图书馆。我们将在数据帧上使用相同的<code class="fe ns nt nu ni b">apply</code>方法。</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="9e53" class="nm lb iu ni b be nn no l np nq"># Add the polarity scores<br/>swift['vader'] = swift['text'].apply(lambda x: sid.polarity_scores(x))</span></pre><pre class="nr nh ni nj bn nk nl bi"><span id="ac7a" class="nm lb iu ni b be nn no l np nq">{'neg': 0.0, 'neu': 0.793, 'pos': 0.207, 'compound': 0.7184}</span></pre><p id="7951" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">结果列实际上是不同的<strong class="lu iv">键值对</strong>的<strong class="lu iv">字典</strong>。代表文本块<code class="fe ns nt nu ni b">sentiment</code>的键值是一个叫做<code class="fe ns nt nu ni b">compound</code>的键值。我们可以通过对数据帧应用以下函数来提取它:</p><pre class="kk kl km kn gu nh ni nj bn nk nl bi"><span id="327a" class="nm lb iu ni b be nn no l np nq"># Extract only the compound score value<br/>swift['compound'] = swift['vader'].apply(lambda score_dict: score_dict['compound'])</span></pre><p id="bef6" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">再次绘制我们的结果后，我们可以看到VADER更好地代表了情绪。斯威夫特的得分更偏向于正面，麦克斯韦尔的得分更偏向于负面。无论是表情符号还是人们强调自己感受的其他常见方式，VADER在推文中捕捉的情感都比文本Blob更多。</p><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/d1d613faaac55cca39f5a2014f574c01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*EH9NbaO5bm_dKH85.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj nv"><img src="../Images/1f3e54a8804a574e98347b2510239e5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-2FOYHKqyGcyYvBh.png"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">作者图片</p></figure><h1 id="e7a5" class="la lb iu bd lc ld le lf lg lh li lj lk ka ll kb lm kd ln ke lo kg lp kh lq lr bi translated">结论</h1><p id="567c" class="pw-post-body-paragraph ls lt iu lu b lv lw jv lx ly lz jy ma mb mc md me mf mg mh mi mj mk ml mm mn in bi translated">你有它！客户之声对社交媒体数据的情感分析。这篇文章只是你能做什么以及如何利用这些信息的开始；然而，它是你工具箱中的一个强有力的工具，可以更好地理解你的客户和他们的情绪。Twitter数据提取和情感分析的完整代码可以在<a class="ae kz" href="https://github.com/broepke/SentimentAnalysis" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上获得。</p><p id="d3a3" class="pw-post-body-paragraph ls lt iu lu b lv mo jv lx ly mp jy ma mb mq md me mf mr mh mi mj ms ml mm mn in bi translated">如果你喜欢阅读这样的故事，并想支持我成为一名作家，可以考虑报名成为一名媒体成员。一个月5美元，让你可以无限制地访问成千上万篇文章。如果你用我的链接注册，我会给你一点佣金，不会增加你的额外费用。</p></div></div>    
</body>
</html>