<html>
<head>
<title>ML Ops with Azure Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Azure机器学习的ML Ops</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/ml-ops-with-azure-machine-learning-72ebc37ee3cd#2022-01-05">https://towardsdatascience.com/ml-ops-with-azure-machine-learning-72ebc37ee3cd#2022-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="1360" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">使用Azure机器学习的ML Ops</h1></div><div class=""><h2 id="6d27" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">ML DevOps管道实施框架的高级概念概述</h2></div><h1 id="796c" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">介绍</h1><p id="a41a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">Azure机器学习服务(AML)提供端到端的能力来管理ML生命周期。MLOps(机器学习操作)、框架无关的互操作性、与ML工具和平台的集成、安全性和信任以及可扩展性和性能是关键特征。</p><p id="0121" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在<a class="ae ly" href="https://docs.microsoft.com/en-us/python/api/overview/azure/ml/" rel="noopener ugc nofollow" target="_blank"> Python </a>或<a class="ae ly" href="https://docs.microsoft.com/en-us/cli/azure/ml" rel="noopener ugc nofollow" target="_blank"> PowerShell </a>中的Azure机器学习SDK提供了一个开发自动化ML管道的机会，该管道由<a class="ae ly" href="https://github.com/microsoft/MLOps" rel="noopener ugc nofollow" target="_blank"> Azure DevOps或GitOps </a>的编排功能提供支持。因此，ML工程师和数据科学家可以专注于他们的任务，而DevOps(构建、部署和管理)则通过自动化流程卸载。</p><p id="1035" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">在这篇文章中，我们将讨论使用Azure平台服务的MLOps的一般流程。当然，这个框架可以很容易地扩展到其他公共云提案(AWS或GCP ),只需稍加调整，就可以映射到它们的本地服务产品。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi lz"><img src="../Images/0cb473bfe7859f3e4c53bab385d3975d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xZyOCZM-wlb2zACo"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">Gerrie van der Walt 在<a class="ae ly" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><div class="mp mq gp gr mr ms"><a href="https://linkedin.com/in/p-jainani" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">Pankaj Jainani -云架构师</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">我是云解决方案架构师、人工智能工程师、DevOps顾问、Scrum Master、技术经理……</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">linkedin.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng mj ms"/></div></div></a></div></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="f599" class="kf kg iq bd kh ki no kk kl km np ko kp jw nq jx kr jz nr ka kt kc ns kd kv kw bi translated">解决方案框架</h1><h2 id="f54e" class="nt kg iq bd kh nu nv dn kl nw nx dp kp lg ny nz kr lk oa ob kt lo oc od kv oe bi translated">开发和构建</h2><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi of"><img src="../Images/2b0bc17e607e1050fc9a6862c88bb42c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6w8qpHZjgW_qEi-Un-EV8g.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated"><strong class="bd og">环境建设管道</strong>(图片作者提供)</p></figure><p id="d86e" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">以下是创建ML工作空间和环境构建的高级步骤:</p><ul class=""><li id="3b66" class="oh oi iq kz b la lt ld lu lg oj lk ok lo ol ls om on oo op bi translated">利用Azure DevOps (ADO)作为编排平台，使用IaC方法自动化基础架构</li><li id="15e4" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">Azure IAM将数据科学团队(数据科学家、ML工程师、数据工程师等)分配到ML工作区。</li><li id="d5b3" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">出于培训和测试目的，团队在工作区内分配计算资源。</li><li id="dfeb" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">团队搅动ML管道实验，每个人可以在一个竖井中工作，为管道开发一个可重用的组件。因此，实验包括数据提取、数据探索、数据预处理、模型训练、评估和测试。</li><li id="96df" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">ML工程师然后建立源代码控制和测试工作台来支持模型开发和测试框架。</li><li id="dd27" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">环境供应还使包、ML框架和模块能够支持开发。</li></ul><h2 id="43be" class="nt kg iq bd kh nu nv dn kl nw nx dp kp lg ny nz kr lk oa ob kt lo oc od kv oe bi translated">培训渠道</h2><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ov"><img src="../Images/a64dd9e92d0c49ce328aa24b91798938.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SHJM7IB3RAaZodfjpWBzA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated">使用Azure ML自动进行模型训练和实验</p></figure><p id="81d6" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">Azure ML使ML团队能够利用Azure DevOps功能，通过自动化培训渠道完成端到端的模型实验:</p><ul class=""><li id="d191" class="oh oi iq kz b la lt ld lu lg oj lk ok lo ol ls om on oo op bi translated">通过执行管道步骤，自动化数据预处理和模型训练。</li><li id="a0ba" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">跟踪来自各种模型训练实验的度量的结果有助于评估来自许多运行的模型。这样就选出了最佳模型。</li><li id="a22f" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">模型注册步骤用其元数据注册所选择的模型。</li><li id="d469" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">因此，它从Azure ML服务的能力中提供了模型管理的能力。</li></ul><h2 id="be54" class="nt kg iq bd kh nu nv dn kl nw nx dp kp lg ny nz kr lk oa ob kt lo oc od kv oe bi translated">部署管道</h2><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi ow"><img src="../Images/d7c6bd100d4422592b59337d4f6066b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rIdozWtHNISkokauBHP78g.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated"><strong class="bd og">通过使用Azure DevOps实现自动化部署</strong>(图片由作者提供)</p></figure><p id="6d61" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">Azure DevOps提供了自动化ML操作所需的CI和CD步骤的能力，一步一步地将最终评估的模型容器化，使其部署到试运行环境集群，让端点执行QA和测试管道。开发人员从遥测和度量中学习关于测试数据上部署的模型的质量和性能。</p><p id="55b6" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated"><em class="ox">发布经理</em>负责触发经验证的模型到生产集群的部署。有各种各样的策略可以达到同样的目的；canary deployment就是一个这样的例子，这对于密切监视较小的传入数据实例子集上的模型性能特别有用。</p><h2 id="63e3" class="nt kg iq bd kh nu nv dn kl nw nx dp kp lg ny nz kr lk oa ob kt lo oc od kv oe bi translated">模型监控和再培训</h2><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi oy"><img src="../Images/4cee4fa557979ec70cd97aba19171588.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o-qyALVGQZqQBtnjxI0auA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated"><strong class="bd og">模特监控&amp;再培训</strong>(图片由作者提供)</p></figure><p id="e497" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">设置操作、可观测性和控制塔，以连续监控模型漂移和数据漂移。如果模型性能指标低于阈值，DevOps管道将被触发，并使用ML训练管道重新训练模型。</p><p id="bff7" class="pw-post-body-paragraph kx ky iq kz b la lt jr lc ld lu ju lf lg lv li lj lk lw lm ln lo lx lq lr ls ij bi translated">日志和应用遥测是实施端到端指标驱动的自动化MLOps的重要组成部分。</p></div><div class="ab cl nh ni hu nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="ij ik il im in"><h1 id="3258" class="kf kg iq bd kh ki no kk kl km np ko kp jw nq jx kr jz nr ka kt kc ns kd kv kw bi translated">结论</h1><p id="559d" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">使用Azure DevOps、tooling和Azure Machine Learning service实现MLOps的高级解决方案架构将类似于下图。该解决方案概述了如何设置整个MLOps生态系统的开发、培训、测试和部署组件。可观察性实现是捕获遥测和指标数据的核心，通过利用Azure DevOps管道为整个MLOps流程实现事件驱动的自动化。</p><figure class="ma mb mc md gt me gh gi paragraph-image"><div role="button" tabindex="0" class="mf mg di mh bf mi"><div class="gh gi oz"><img src="../Images/cb4109fe38f45fd149b3fa3b76689095.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0l5ucLT5RWFqtyJQzqNfQA.png"/></div></div><p class="ml mm gj gh gi mn mo bd b be z dk translated"><strong class="bd og"> Azure机器学习— MLOps解决方案架构</strong>(图片由作者提供)</p></figure><div class="mp mq gp gr mr ms"><a href="https://linkedin.com/in/p-jainani" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab fo"><div class="mu ab mv cl cj mw"><h2 class="bd ir gy z fp mx fr fs my fu fw ip bi translated">Pankaj Jainani -云架构师</h2><div class="mz l"><h3 class="bd b gy z fp mx fr fs my fu fw dk translated">我是云解决方案架构师、人工智能工程师、DevOps顾问、Scrum Master、技术经理……</h3></div><div class="na l"><p class="bd b dl z fp mx fr fs my fu fw dk translated">linkedin.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng mj ms"/></div></div></a></div><h2 id="191f" class="nt kg iq bd kh nu nv dn kl nw nx dp kp lg ny nz kr lk oa ob kt lo oc od kv oe bi translated">参考</h2><ul class=""><li id="0c9d" class="oh oi iq kz b la lb ld le lg pa lk pb lo pc ls om on oo op bi translated">Azure ML <a class="ae ly" href="https://docs.microsoft.com/en-us/azure/machine-learning/concept-azure-machine-learning-architecture" rel="noopener ugc nofollow" target="_blank">文档&amp;概念</a></li><li id="239b" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">Azure ML Ops <a class="ae ly" href="https://github.com/microsoft/MLOps" rel="noopener ugc nofollow" target="_blank">样片</a></li><li id="708c" class="oh oi iq kz b la oq ld or lg os lk ot lo ou ls om on oo op bi translated">Azure <a class="ae ly" rel="noopener" target="_blank" href="/azure-machine-learning-service-part-1-an-introduction-739620d1127b"> ML服务能力</a></li></ul></div></div>    
</body>
</html>