<html>
<head>
<title>Get To Know Audio Feature Extraction in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">了解Python中的音频特征提取</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/get-to-know-audio-feature-extraction-in-python-a499fdaefe42#2022-01-18">https://towardsdatascience.com/get-to-know-audio-feature-extraction-in-python-a499fdaefe42#2022-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/5d1b928b1df2e73ae7244b14c07d1744.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*eweXXJttTDCX304y"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">理查德·霍瓦特在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""><h1 id="9ffa" class="pw-post-title jh ji jj bd jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf bi translated">了解Python中的音频特征提取</h1></div><div class=""><h2 id="21d5" class="pw-subtitle-paragraph kg ji jj bd b kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dk translated">探索音频文件的波形相关特征，以便在分析和ML中进一步使用</h2></div><p id="2cb0" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在大数据时代的兴起，我们可以收集比以往更多的数据。数据收集不再局限于数字格式的交易数据，而是出现了其他格式和结构，包括文本、图像、音频甚至视频格式。如果进行相应的处理和分析，我们可以在现有表格数字数据的基础上，使用这些多媒体数据生成更有价值的见解。在本文中，我将分享我们如何从音频文件中提取一些突出的特征，以便进一步处理和分析。</p><p id="94dd" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">本分析中使用的完整代码共享在</em> <a class="ae jg" href="https://github.com/oliviatan29/audio_feature_analysis" rel="noopener ugc nofollow" target="_blank"> <em class="lu">本Github项目</em> </a> <em class="lu">下。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="37cb" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">音频文件和概念</h1><p id="f72c" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在音频数据分析中，我们处理和转换由数字设备捕获的音频信号。根据它们被捕获的方式，它们可以是多种不同的格式，如wav、mp3、m4a、aiff和flac。</p><p id="a8e9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">引用<a class="ae jg" href="https://www.izotope.com/en/learn/whats-the-difference-between-file-formats.html" rel="noopener ugc nofollow" target="_blank">Izotope.com</a>的话，波形(wav)是<strong class="la jk">最流行的数字音频格式</strong>之一。它是一种无损文件格式，这意味着它捕捉原始音频的最接近的数学表示，没有明显的音频质量损失。在mp3或m4a(苹果的mp3格式)中，数据以这种方式被压缩，因此它可以更容易地分发，尽管质量较低。在音频数据分析中，大多数库支持wav文件处理。</p><p id="db2a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">作为波的一种形式，声音/音频信号具有以下一般属性:</p><ul class=""><li id="54cf" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated"><strong class="la jk">频率</strong>:单位时间内振动的发生次数</li><li id="94ea" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">振幅</strong>:波浪上一点从其平衡位置测得的最大位移或移动距离；影响声音强度</li><li id="2237" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">声速</strong>:声波在单位时间内传播的距离</li></ul><p id="3fd7" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">从音频文件中提取的信息只是上述主要属性的变换。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="a572" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">音频文件的探索性分析</h1><p id="c4ac" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">在这个分析中，我使用三个不同的音频文件来比较不同音频类型的不同数字音频特征。它们在Chosic.com和Freesound.org有售。</p><ol class=""><li id="963e" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt nn nf ng nh bi translated"><a class="ae jg" href="https://www.chosic.com/download-audio/27281/" rel="noopener ugc nofollow" target="_blank">月之琴键的温馨回忆</a>【1】—舒缓的钢琴主导音乐</li><li id="733c" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt nn nf ng nh bi translated">LesFM的动作摇滚【2】—激烈的摇滚音乐</li><li id="3817" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt nn nf ng nh bi translated"><a class="ae jg" href="https://freesound.org/people/ecfike/sounds/131652/" rel="noopener ugc nofollow" target="_blank">脾气暴躁的老人包</a>由ECF ike[3]——人类的简短发言</li></ol><p id="2195" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些文件源的详细信息可以在本文末尾找到(参考资料部分)。</p><p id="76d6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些文件将主要用这些Python包来分析:<a class="ae jg" href="https://librosa.org/doc/main/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk"> librosa </strong> </a>用于音频信号提取和可视化，<a class="ae jg" href="https://pypi.org/project/pydub/" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk"> pydub </strong> </a>用于音频文件操作，<a class="ae jg" href="https://docs.python.org/3/library/wave.html" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk"> wave </strong> </a>用于读取wav文件。</p><h2 id="513a" class="no md jj bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">通用音频参数</h2><p id="d4ce" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">就像我们通常通过获取数据的统计摘要(即使用"<em class="lu"> Dataframe.describe </em>"方法)来开始评估表格数据一样，在音频分析中，我们可以从获取<strong class="la jk">音频元数据摘要</strong>开始。我们可以利用<strong class="la jk"> pydub </strong>中的<strong class="la jk"> audiosegment </strong>模块来实现。</p><p id="e12c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是一些可以提取的一般特征:</p><ul class=""><li id="ab11" class="mz na jj la b lb lc le lf lh nb ll nc lp nd lt ne nf ng nh bi translated"><strong class="la jk">通道</strong>:通道数量；1个单声道，2个立体声</li><li id="b6a9" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">样本宽度</strong>:每个样本的字节数；1表示8位，2表示16位</li><li id="cede" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">帧率/采样率</strong>:使用样本的频率(赫兹)</li><li id="37f9" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">帧宽</strong>:每个“帧”的字节数。一帧包含每个通道的样本。</li><li id="5dd0" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">长度</strong>:音频文件长度(毫秒)</li><li id="cec8" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">帧数</strong>:样本的帧数</li><li id="5d59" class="mz na jj la b lb ni le nj lh nk ll nl lp nm lt ne nf ng nh bi translated"><strong class="la jk">强度</strong>:以dBFS为单位的响度(相对于最大可能响度的dB)</li></ul><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="1634" class="no md jj of b gy oj ok l ol om">from pydub import AudioSegment</span><span id="9752" class="no md jj of b gy on ok l ol om"># Load files<br/>audio_segment = AudioSegment.from_file("Downloads/Warm-Memories-Emotional-Inspiring-Piano.wav")</span><span id="8279" class="no md jj of b gy on ok l ol om"># Print attributes<br/>print(f"Channels: {audio_segment.channels}")<br/>print(f"Sample width: {audio_segment.sample_width}")<br/>print(f"Frame rate (sample rate): {audio_segment.frame_rate}")<br/>print(f"Frame width: {audio_segment.frame_width}")<br/>print(f"Length (ms): {len(audio_segment)}")<br/>print(f"Frame count: {audio_segment.frame_count()}")<br/>print(f"Intensity: {audio_segment.dBFS}")</span></pre><p id="a815" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">上述三个文件的参数值可以在下面找到。它们都是立体声文件，采样率为44100Hz。由于它们具有相同的采样率，因此长度较长的<strong class="la jk">文件也具有较高的帧数</strong>。这里有一个有趣的发现，即“动作摇滚”文件比其他文件有更高的强度值，因为与其他文件相比，它是具有明显的更高响度的摇滚音乐。</p><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oo"><img src="../Images/7646d5c76784ed48286f708a504fcfe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vUivYnMIOgoROyBdkdj8qw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">分析的三个音频文件的通用音频参数(图片由作者提供)</p></figure><p id="b605" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们还可以将这些文件的<strong class="la jk">振幅随时间的变化</strong>可视化，以了解波浪运动。</p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="18a2" class="no md jj of b gy oj ok l ol om">import wave</span><span id="2eab" class="no md jj of b gy on ok l ol om"># Open wav file and read frames as bytes<br/>sf_filewave = wave.open('Downloads/Warm-Memories-Emotional-Inspiring-Piano.wav', 'r')<br/>signal_sf = sf_filewave.readframes(-1)</span><span id="dbfb" class="no md jj of b gy on ok l ol om"># Convert audio bytes to integers<br/>soundwave_sf = np.frombuffer(signal_sf, dtype='int16')</span><span id="b00b" class="no md jj of b gy on ok l ol om"># Get the sound wave frame rate<br/>framerate_sf = sf_filewave.getframerate()</span><span id="30f3" class="no md jj of b gy on ok l ol om"># Find the sound wave timestamps<br/>time_sf = np.linspace(start=0,<br/>                      stop=len(soundwave_sf)/framerate_sf,<br/>                      num=len(soundwave_sf))</span><span id="a820" class="no md jj of b gy on ok l ol om"># Set up plot<br/>f, ax = plt.subplots(figsize=(15, 3))</span><span id="36a5" class="no md jj of b gy on ok l ol om"># Setup the title and axis titles<br/>plt.title('Amplitude over Time')<br/>plt.ylabel('Amplitude')<br/>plt.xlabel('Time (seconds)')</span><span id="df7d" class="no md jj of b gy on ok l ol om"># Add the audio data to the plot<br/>ax[0] = plt.plot(time_sf, soundwave_sf, label='Warm Memories', alpha=0.5)</span><span id="5f54" class="no md jj of b gy on ok l ol om">plt.legend()<br/>plt.show()</span></pre><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/033f886db7439244e38bf9ac37c715eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XudzLBPpJA4b_QPLhBHyTw.jpeg"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">振幅随时间变化的可视化(图片由作者提供)</p></figure><h2 id="1780" class="no md jj bd me np nq dn mi nr ns dp mm lh nt nu mo ll nv nw mq lp nx ny ms nz bi translated">衍生音频特征</h2><p id="7911" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">转到更有趣的(尽管可能有点令人困惑:))特性。使用<a class="ae jg" href="https://librosa.org/doc/main/index.html" rel="noopener ugc nofollow" target="_blank"> librosa </a>分析<strong class="la jk">音频特征</strong>可以提取和可视化许多高级特征。</p><p id="a273" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">声谱图</strong></p><p id="c4e2" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">提取的音频特征可以在声谱图上可视化。引用<a class="ae jg" href="https://en.wikipedia.org/wiki/Spectrogram" rel="noopener ugc nofollow" target="_blank">维基</a>的话，频谱图是信号的 <a class="ae jg" href="https://en.wikipedia.org/wiki/Frequencies" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">频率</strong> </a> <strong class="la jk">随时间</strong>变化的 <a class="ae jg" href="https://en.wikipedia.org/wiki/Spectral_density" rel="noopener ugc nofollow" target="_blank"> <strong class="la jk">频谱</strong> </a> <strong class="la jk">的<strong class="la jk">直观表示。它通常被描述为<a class="ae jg" href="https://en.wikipedia.org/wiki/Heat_map" rel="noopener ugc nofollow" target="_blank">热图</a>，强度以不同的颜色梯度显示。</strong></strong></p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="c0a5" class="no md jj of b gy oj ok l ol om">import librosa</span><span id="213e" class="no md jj of b gy on ok l ol om">x, sr = librosa.load('Downloads/Warm-Memories-Emotional-Inspiring-Piano.wav')</span><span id="03bb" class="no md jj of b gy on ok l ol om"># Spectrogram of frequency<br/>X = librosa.stft(x)<br/>Xdb = librosa.amplitude_to_db(abs(X))<br/>plt.figure(figsize=(15, 3))<br/>librosa.display.specshow(Xdb, sr=sr, x_axis='time', y_axis='hz')<br/>plt.colorbar()</span></pre><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oq"><img src="../Images/4d5bfbfd05d175b438d9cbce3122a7c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sWI8AyWQgz5ha4HN"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">温馨回忆音频文件声谱图(图片由作者提供)</p></figure><p id="cc33" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">垂直轴显示频率，水平轴显示剪辑的时间，颜色变化显示音频波的强度。</p><p id="9273" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">均方根(RMS) </strong></p><p id="93f9" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这里的均方根是指信号的<strong class="la jk">总幅度，通俗地说可以解释为音频文件的<strong class="la jk"> <em class="lu">响度</em>或<em class="lu">能量</em> </strong>参数。</strong></p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="fa94" class="no md jj of b gy oj ok l ol om">y, sr = librosa.load(audio_data)</span><span id="910a" class="no md jj of b gy on ok l ol om"># Get RMS value from each frame's magnitude value<br/>S, phase = librosa.magphase(librosa.stft(y))<br/>rms = librosa.feature.rms(S=S)</span><span id="02a7" class="no md jj of b gy on ok l ol om"># Plot the RMS energy<br/>fig, ax = plt.subplots(figsize=(15, 6), nrows=2, sharex=True)<br/>times = librosa.times_like(rms)<br/>ax[0].semilogy(times, rms[0], label='RMS Energy')<br/>ax[0].set(xticks=[])<br/>ax[0].legend()<br/>ax[0].label_outer()<br/>librosa.display.specshow(librosa.amplitude_to_db(S, ref=np.max),<br/>                         y_axis='log', x_axis='time', ax=ax[1])<br/>ax[1].set(title='log Power spectrogram')</span></pre><p id="93c1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">动作摇滚和暴躁老头文件的可视化结果如下所示。在这里，我们可以看到动作摇滚文件的RMS值始终很高，因为这种摇滚音乐始终响亮而强烈。另一方面，脾气暴躁的老人文件在响度上有平滑的上下波动，因为人类的语音自然会根据语音重点而有移动的音高和音量。</p><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi or"><img src="../Images/0e8fa770bdb526f74986cddfa9242cdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W-fnKy5tbO4COZxT0QnHEQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">动作摇滚和暴躁老头文件的RMS/能量谱图(图片由作者提供)</p></figure><p id="9e33" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">过零率</strong></p><p id="18ed" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">引用<a class="ae jg" href="https://en.wikipedia.org/wiki/Zero-crossing_rate" rel="noopener ugc nofollow" target="_blank">维基百科</a>，过零率(ZCR)是<strong class="la jk">信号从正到零再到负或者从负到零再到正</strong>的速率。它的值已经广泛用于语音识别和音乐信息检索，是<strong class="la jk">对敲击声</strong>进行分类的关键特征。像摇滚、金属、emo或朋克音乐这样的高度打击乐声音往往具有较高的过零率值。</p><p id="bf4c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以通过放大幅度时间序列中的某一帧，统计它在y轴上通过零值的次数，并对整个音频进行外推，来手动得到这个数据。或者，librosa中有一个函数，我们可以用它来获得过零状态和速率。</p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="440d" class="no md jj of b gy oj ok l ol om">y, sr = librosa.load('Downloads/Action-Rock.wav')<br/>zcrs = librosa.feature.zero_crossing_rate(y)</span><span id="e5a6" class="no md jj of b gy on ok l ol om">print(f"Zero crossing rate: {sum(librosa.zero_crossings(y))}")</span><span id="7ef1" class="no md jj of b gy on ok l ol om">plt.figure(figsize=(15, 3))<br/>plt.plot(zcrs[0])<br/>plt.title('Action Rock')</span></pre><p id="23ab" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">以下是样本音频文件的过零点值和速率。在这里，我们可以看到动作摇滚文件的过零率明显高于温暖记忆文件，因为它是一首高度打击乐的摇滚歌曲，而温暖记忆是一首更平静的原声歌曲。</p><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi os"><img src="../Images/cbcf5b9d0f4d3e9ad51dcce62ca25ecc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjrV-OQfahdwF1ZSXJA4DQ.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">温暖记忆和动作摇滚文件的过零率(图片由作者提供)</p></figure><p id="a58a" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">梅尔频率倒谱系数(MFCC)</strong></p><p id="a72d" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">引用<a class="ae jg" href="https://medium.com/analytics-vidhya/understanding-the-mel-spectrogram-fca2afa2ce53" rel="noopener"> Analytics Vidhya </a>的话，人类不会线性感知频率。与高频相比，我们更擅长检测低频中的差异，即使差距是相同的(即“50和1，000赫兹”对“10，000和10，500赫兹”)。在<strong class="la jk">的梅尔音阶</strong>、<strong class="la jk">中，等距离的音高在听者听来是等距离的</strong>。</p><p id="b1ba" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://en.wikipedia.org/wiki/Mel-frequency_cepstrum" rel="noopener ugc nofollow" target="_blank"> Mel频率倒谱系数(MFCC)</a>是声音的短期功率谱的表示，基于Mel尺度中的一些变换。它通常用于语音识别，因为人们的声音通常在一定的频率范围内，并且彼此不同。在Librosa中，获取和显示MFCCs非常简单。</p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="30e9" class="no md jj of b gy oj ok l ol om">x, sr = librosa.load('Downloads/131652__ecfike__grumpy-old-man-3.wav')<br/>mfccs = librosa.feature.mfcc(x, sr=sr)</span><span id="9c86" class="no md jj of b gy on ok l ol om"># Displaying  the MFCCs:<br/>plt.figure(figsize=(15, 3))<br/>librosa.display.specshow(mfccs, sr=sr, x_axis='time')</span></pre><p id="1199" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">人类语音的MFCCs值似乎比音乐文件更低且更动态。在下面的截图中，我们可以看到，与音乐文件相比，人类语音文件上有更多的深蓝色斑点以及不断变化的深红色和浅红色阵列。</p><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ot"><img src="../Images/0037914f9a055f0801178db89539a0c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*I06TvxkyrJgwYuxeLiKwKg.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">音乐文件与人类语音的MFCCs可视化(图片由作者提供)</p></figure><p id="2d20" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">色度</strong></p><p id="bd06" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以使用<a class="ae jg" href="https://en.wikipedia.org/wiki/Chroma_feature#:~:text=Chroma%2Dbased%20features%2C%20which%20are,to%20the%20equal%2Dtempered%20scale." rel="noopener ugc nofollow" target="_blank">色度特征</a>可视化来了解某个音高的<strong class="la jk">特征</strong> {C，C♯，d，D♯，e，f，F♯，g，G♯，a，A♯，B}在采样帧中呈现的主导程度。</p><p id="bd55" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下面的示例中，我们可以看到动作摇滚音乐文件有很强的D音阶，偶尔有A音阶。</p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="d4d7" class="no md jj of b gy oj ok l ol om">x, sr = librosa.load('Downloads/Action-Rock.wav')</span><span id="70c2" class="no md jj of b gy on ok l ol om">hop_length = 512</span><span id="d22b" class="no md jj of b gy on ok l ol om">chromagram = librosa.feature.chroma_stft(x, sr=sr, hop_length=hop_length)<br/>fig, ax = plt.subplots(figsize=(15, 3))<br/>img = librosa.display.specshow(chromagram, x_axis='time', y_axis='chroma', hop_length=hop_length, cmap='coolwarm')<br/>fig.colorbar(img, ax=ax)</span></pre><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/d1a8779a2b137990e9fa46189ce1522e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0jDy50MiYzglCJRtNUB38g.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">动作摇滚音频文件的色度可视化(图片由作者提供)</p></figure><p id="9955" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">温度图</strong></p><p id="e071" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><a class="ae jg" href="https://en.wikipedia.org/wiki/Tempo" rel="noopener ugc nofollow" target="_blank"> Tempo </a>指的是一段音频的<strong class="la jk">速度，通常以每分钟节拍(bpm)为单位来衡量。与古典音乐相比，像hip-hop、techno或rock这样的乐观音乐通常具有更高的节奏，因此节奏图特征对于音乐流派分类是有用的。</strong></p><p id="af8c" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">可以使用下面的命令在librosa中计算它。</p><pre class="oa ob oc od gt oe of og oh aw oi bi"><span id="d62e" class="no md jj of b gy oj ok l ol om">y, sr = librosa.load('Downloads/Warm-Memories-Emotional-Inspiring-Piano.wav')<br/>hop_length = 512</span><span id="1e66" class="no md jj of b gy on ok l ol om"># Compute local onset autocorrelation<br/>oenv = librosa.onset.onset_strength(y=y, sr=sr, hop_length=hop_length)<br/>times = librosa.times_like(oenv, sr=sr, hop_length=hop_length)<br/>tempogram = librosa.feature.tempogram(onset_envelope=oenv, sr=sr,<br/>                                      hop_length=hop_length)</span><span id="ca7e" class="no md jj of b gy on ok l ol om"># Estimate the global tempo for display purposes<br/>tempo = librosa.beat.tempo(onset_envelope=oenv, sr=sr,<br/>                           hop_length=hop_length)[0]</span></pre><p id="86ff" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们可以把节奏图中的速度想象成如下。在这里，我们可以看到一个摇滚音乐文件，它在整首歌中始终有一个高节奏，而与之相比的是一首结合了一些强节奏和弱节奏的舒缓歌曲。摇滚歌曲文件的整体速度约为172bpm，而平静歌曲文件的速度约为161bpm。</p><figure class="oa ob oc od gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ov"><img src="../Images/3b637113fe77bfd225ad35a2bb1599e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6UY_trd6FY7_LK1-lKYGDw.png"/></div></div><p class="jc jd gj gh gi je jf bd b be z dk translated">体温图可视化(图片由作者提供)</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="d550" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">结束语</h1><p id="43d9" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">音频数据可能包含有价值的信息，这取决于分析师/工程师如何发现它们。这里分享的功能大多是技术音乐功能，可以<strong class="la jk">用于机器学习模型</strong>而不是商业/产品分析。它们可以用于许多应用，从娱乐(对音乐流派进行分类)到商业(从客户电话中清除非人类语音数据)和医疗保健(识别心跳异常)。</p><p id="edcc" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="lu">本分析中使用的完整代码共享在</em> <a class="ae jg" href="https://github.com/oliviatan29/audio_feature_analysis" rel="noopener ugc nofollow" target="_blank"> <em class="lu">本Github项目</em> </a> <em class="lu">下。</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3e70" class="mc md jj bd me mf mg mh mi mj mk ml mm kp mn kq mo ks mp kt mq kv mr kw ms mt bi translated">资源</h1><p id="0aa1" class="pw-post-body-paragraph ky kz jj la b lb mu kk ld le mv kn lg lh mw lj lk ll mx ln lo lp my lr ls lt im bi translated">要了解有关音频/音乐特征提取的更多信息，您可以浏览下面的资源。</p><div class="is it gp gr iu ow"><a href="https://link.springer.com/book/10.1007/978-3-540-74048-3" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd jk gy z fp pb fr fs pc fu fw ji bi translated">音乐和动作的信息检索</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">“现代信息社会正在经历数字内容的爆炸，包括文本、语音、视频和…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">link.springer.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk ja ow"/></div></div></a></div><div class="is it gp gr iu ow"><a href="https://musicinformationretrieval.com/index.html" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd jk gy z fp pb fr fs pc fu fw ji bi translated">指数</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">关于CCRMA音乐信息检索研讨会</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">musicinformationretrieval.com</p></div></div></div></a></div><div class="is it gp gr iu ow"><a href="https://www.kdnuggets.com/2020/02/audio-data-analysis-deep-learning-python-part-1.html" rel="noopener  ugc nofollow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd jk gy z fp pb fr fs pc fu fw ji bi translated">使用Python深度学习的音频数据分析(第1部分)- KDnuggets</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">虽然许多关于深度学习的文献和讨论都与计算机视觉和自然语言处理(NLP)有关…</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">www.kdnuggets.com</p></div></div><div class="pf l"><div class="pl l ph pi pj pf pk ja ow"/></div></div></a></div><p id="05c6" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la jk">使用的音频参考</strong></p><p id="743e" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">[1]温暖的回忆——月之琴键的情感激励钢琴|<a class="ae jg" href="https://soundcloud.com/keysofmoon" rel="noopener ugc nofollow" target="_blank">https://soundcloud.com/keysofmoon</a><br/>归属4.0国际(CC BY 4.0) <br/>音乐推广<a class="ae jg" href="https://www.chosic.com/free-music/all/" rel="noopener ugc nofollow" target="_blank">https://www.chosic.com/free-music/all/</a></p><p id="c6c1" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">[2]动作摇滚由LesFM |<a class="ae jg" href="https://lesfm.net/motivational-background-music/" rel="noopener ugc nofollow" target="_blank">https://lesfm.net/motivational-background-music/</a><br/>音乐由<a class="ae jg" href="https://www.chosic.com/free-music/all/" rel="noopener ugc nofollow" target="_blank">https://www.chosic.com/free-music/all/</a><br/>创作共用CC由3.0推广</p><p id="4c66" class="pw-post-body-paragraph ky kz jj la b lb lc kk ld le lf kn lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">[3]坏脾气老头包坏脾气老头3.wav由ecfike |音乐推广由<a class="ae jg" href="https://freesound.org/people/ecfike/sounds/131652/" rel="noopener ugc nofollow" target="_blank">https://freesound.org/people/ecfike/sounds/131652/</a>创作共用0</p></div></div>    
</body>
</html>