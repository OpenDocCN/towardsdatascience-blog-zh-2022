<html>
<head>
<title>Camera Intrinsic Matrix with Example in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">相机固有矩阵及Python中的示例</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/camera-intrinsic-matrix-with-example-in-python-d79bf2478c12#2022-01-27">https://towardsdatascience.com/camera-intrinsic-matrix-with-example-in-python-d79bf2478c12#2022-01-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""><h1 id="42db" class="pw-post-title io ip iq bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">相机固有矩阵及Python中的示例</h1></div><div class=""><h2 id="b5d8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">Python中图像形成和相机校准综合教程系列的第3部分</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/44012fc5eec81e2ac26ffa877b92b8a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*__d7K9a2tmdYoev8A3iKRg.jpeg"/></div></div></figure><h1 id="2e47" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">介绍</h1><p id="daf0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在<a class="ae mf" rel="noopener" target="_blank" href="/camera-extrinsic-matrix-with-example-in-python-cfe80acab8dd">上一篇文章</a>中，我们学习了相机外物学，即从相机视角观察世界。在本文中，我们将了解相机如何形成图像，并了解其内在参数。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="10f0" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">点的投影</h1><p id="a8d4" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">图像形成的基本思想是捕捉一个点在照相机图像平面上的投影。图像中的像素对应于图像平面上的投影。请记住，图像平面就像一个胶片，捕捉从点反射回来的光线。让我们看看这是如何工作的:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ms"><img src="../Images/3e419238cbac003b7c81d5f04a3f8da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0CJ9sytogsWCeTWvOepNHQ.jpeg"/></div></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">点的投影</p></figure><p id="05f5" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">在上图中，相机中心位于原点𝑂，图像平面从原点到-ve Z轴的距离为𝑓。𝑓被称为焦距，通常是众所周知的相机。点𝑃在像平面上的投影是𝑃′.𝑃的坐标是(𝑥，𝑦，𝑧)，𝑃′的坐标是(𝑥′，𝑦′，𝑓).)我们的目标是找到𝑃′.的坐标</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="6dad" class="nh ks iq nd b gy ni nj l nk nl">from the figure,<br/>      △OMP and △OO′P′ are similar triangles.<br/>⟹    x′/x = y′/y = f/z<br/>⟹    x′ = x ∗ f/z and y′ = y ∗ f/z</span></pre><p id="d170" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">我们找到了𝑃′.的坐标从上面的等式中，我们可以看到，随着点𝑃远离相机，其𝑧坐标增加，其投影将变得更小。所以，一个物体离相机越远，它在图像中出现的就越小。</p><p id="37ed" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">要获得图像中的像素，我们只需获取投影坐标，放弃最后一个维度，然后绘制这些点。</p><p id="5805" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">例如，我们发现𝑃′的坐标为(𝑥𝑓/𝑧，𝑦𝑓/𝑧，𝑓).它的图像坐标将是(𝑦𝑓/𝑧).𝑥𝑓/𝑧让我们把图像坐标表示为(𝑢,𝑣)，然后:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="514f" class="nh ks iq nd b gy ni nj l nk nl">(u, v) = (xf/z, yf/z)</span></pre><p id="fee8" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">好了，我们已经看到了照相机是如何成像的。那么，我们完成了相机内部的工作了吗？不会。在现实世界中，事情不会像预期的那样发展，其他参数会影响图像的形成。</p><p id="2444" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">让我们来看看每一个。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="8e00" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">影响图像形成的参数</h1><h2 id="462a" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">规模</h2><p id="d3c0" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">当你购买相机时，它的可调焦距会在描述中给出，通常以毫米为单位，但你工作的空间可能会使用不同的单位，如像素。因此，我们需要引入一个比例因子，使单位标准化。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="49e8" class="nh ks iq nd b gy ni nj l nk nl">(u, v) = (𝛼 *x/z, 𝛼 * y/z)</span></pre><p id="625c" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">在这里，你可以认为𝛼是缩放后的焦距或转换因子。</p><h2 id="508a" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">矩形像素</h2><p id="eb26" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">理想情况下，我们假设像素是正方形的，但在现实世界中，它们可以是不同高度和宽度的矩形。因此，我们需要为每个维度引入单独的比例因子。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="4511" class="nh ks iq nd b gy ni nj l nk nl">(u, v) = (𝛼 * x/z, 𝛽 * y/z)</span></pre><p id="3b6c" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">这里，𝛼是宽度尺寸的比例因子，𝛽是高度尺寸的比例因子。</p><h2 id="a02a" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">抵消</h2><p id="c7ab" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">从相机中心到图像平面的垂直线称为光轴。该轴与像平面相交的点称为光心。通常，光学中心和图像平面的原点彼此重合，但在现实世界中，它们可能会分开，如下图所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/98499577f2359c203c6a07d783093868.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yn6US48kIUrBFO3YOkA4CA.jpeg"/></div></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">光学中心和原点可能不重合</p></figure><p id="27f2" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">因此，我们在等式中加入一个偏移来说明这一点:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="21dd" class="nh ks iq nd b gy ni nj l nk nl">(u, v) = (𝛼 * x/z + x0, 𝛽 * y/z + y0)</span></pre><p id="df58" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">这里(𝑥0，𝑦0)是偏移量。</p><h2 id="9b11" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">斜交</h2><p id="5862" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">到目前为止，我们已经将图像平面描绘成一个矩形，宽度和高度方向相互垂直。但是在现实世界中，图像平面可能是倾斜的，类似于下图所示的平行四边形:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/8381411b4a77b4717ee01bf64f2638a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Klp6kPORTTjBQHGupqkm5g.jpeg"/></div></div><p class="mt mu gj gh gi mv mw bd b be z dk translated">理想像平面与倾斜像平面</p></figure><p id="6f3e" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">那么我们该如何应对呢？我们假设这些轴相互垂直，但实际上它们是成角度的。你想想，这是个换基问题。给定一个点相对于标准正交坐标轴的𝑃，我们需要用斜坐标轴来表示它。设(𝑦𝑥)是𝑃在标准正交基上的坐标，设(𝑦′𝑥′)是它在斜基上的坐标。我们的目标是找到(𝑥′，𝑦′).</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/18aada888fadd7e649b3b2086c8140f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*z9o9oEEsBhHrj1S7hgCEog.jpeg"/></div></figure><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="d7f9" class="nh ks iq nd b gy ni nj l nk nl">From the above figure,<br/>      cos(90−θ) = y/y′<br/>⟹    sinθ = y/y′<br/>⟹    y = y′sinθ<br/>⟹    y′= y / sinθ</span><span id="ec21" class="nh ks iq nd b gy oa nj l nk nl">also,<br/>      sin(90−θ) = (x - x′)/y′<br/>⟹    y′cosθ = x - x′<br/>⟹    x′ = x - y′cosθ<br/>but,  y′= y / sinθ<br/>⟹    x′ = x - ycosθ / sinθ<br/>⟹    x′ = x - ycotθ</span></pre><p id="5a82" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">既然我们找到了(𝑥′，𝑦′)，让我们把他们纳入方程。我们只需要用这些新坐标替换旧坐标。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="038a" class="nh ks iq nd b gy ni nj l nk nl">      u = 𝛼 * (x - ycotθ)/z + x0<br/>      v = 𝛽 * (y / sinθ)/z + y0</span><span id="5ecb" class="nh ks iq nd b gy oa nj l nk nl">⟹    u = 𝛼x/z - (𝛼y/z)cotθ + x0<br/>⟹    v = (𝛽y / zsinθ) + y0</span></pre><h1 id="3a0e" class="kr ks iq bd kt ku kv kw kx ky kz la lb jw lc jx ld jz le ka lf kc lg kd lh li bi translated">相机固有矩阵</h1><p id="a8fe" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">最后，在考虑了影响图像形成的参数之后，图像坐标给出如下:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="7350" class="nh ks iq nd b gy ni nj l nk nl">(u, v) = [𝛼x/z - (𝛼y/z)cotθ + x0, (𝛽y / zsinθ) + y0]</span></pre><p id="dbb1" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">我们可以用齐次坐标将此表示为矩阵乘法:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/d2b910b1de4f28cf0454ac26b3a097c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*yGn3P82MtG57I7Lntsofkg.png"/></div></figure><p id="7c0b" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">上面的矩阵叫做相机固有矩阵，用𝜅.来表示给定世界中一个点在摄像机下的坐标，我们可以将其乘以摄像机固有矩阵，以获得该点在图像中的齐次坐标。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/bc3baeaaf31dc2548e38f76fae358032.png" data-original-src="https://miro.medium.com/v2/resize:fit:234/format:webp/1*6Rx28XkAeOII5TuGTWUIOQ.png"/></div></figure><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="fe99" class="nh ks iq nd b gy ni nj l nk nl">Here,<br/>𝑃′ - Homogeneous coordinates of the point in the image<br/>𝜅  - Camera Intrinsic Matrix<br/>𝑃𝑐 - Homogeneous Coordinates of the point in the world wrt camera </span></pre><p id="3829" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">要从齐次坐标转换，我们只需除以最后一个元素:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/0e7c08373a2e53c413a0504ae343b3ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*r-lpSKKxbLw8uNyKvn1q_w.png"/></div></figure><p id="4f6f" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">这里，(𝑢，𝑣)代表图像中点的欧几里德坐标或像素位置。</p><p id="d746" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">如果您观察，摄像机固有矩阵的最后一列是零列，我们可以删除它，因为它没有任何贡献，并进一步简化矩阵为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/f2b65f19ad3e6f7369022658e731859a.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*tVOe60MCy_fDs3QgRu4aVg.png"/></div></figure><p id="50d7" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">现在，矩阵方程可以重写为:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi of"><img src="../Images/5fb7d9fec26cf93b255148b0df44219e.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*jGYz6-g5QORvGz8kA5K8Kg.png"/></div></figure><p id="31e3" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">这里，不需要以齐次形式表示点坐标。</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="bd60" class="nh ks iq nd b gy ni nj l nk nl">Here,      <br/>      𝑓      - focal length<br/>      𝑠      - skew factor<br/>      𝑐𝑥,𝑐𝑦   - offset<br/>      𝑎     - aspect ratio</span></pre><p id="78d2" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">如您所见，相机固有矩阵中有五个自由度。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="ea2f" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">例子</h1><p id="3642" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">所有的理论可能会让你有点困惑。因此，让我们做一个动手的例子来理清事情。</p><h2 id="a1c3" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">安装</h2><p id="d3bb" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">包含所有代码的GitHub库可以在这里找到<a class="ae mf" href="https://github.com/wingedrasengan927/Image-formation-and-camera-calibration" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="d2d4" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">假设您之前没有设置环境，现在可以通过运行以下命令来设置环境:</p><pre class="kg kh ki kj gt nc nd ne nf aw ng bi"><span id="486f" class="nh ks iq nd b gy ni nj l nk nl"># create a virtual environment in anaconda<br/>conda create -n camera-calibration-python python=3.6 anaconda<br/>conda activate camera-calibration-python</span><span id="1931" class="nh ks iq nd b gy oa nj l nk nl"># clone the repository and install dependencies<br/>git clone https://github.com/wingedrasengan927/Image-formation-and-camera-calibration.git<br/>cd Image-formation-and-camera-calibration<br/>pip install -r requirements.txt</span></pre><p id="3283" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated"><strong class="ll ir">注意:</strong>这里假设你已经安装了anaconda。</p><p id="2a8e" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">我们将使用两个主要的库:</p><ul class=""><li id="806a" class="og oh iq ll b lm mx lp my ls oi lw oj ma ok me ol om on oo bi translated"><a class="ae mf" href="https://github.com/rock-learning/pytransform3d" rel="noopener ugc nofollow" target="_blank"> <strong class="ll ir"> pytransform3d: </strong> </a>该库具有强大的3d空间可视化和变换功能。</li><li id="ef04" class="og oh iq ll b lm op lp oq ls or lw os ma ot me ol om on oo bi translated"><a class="ae mf" href="https://github.com/matplotlib/ipympl" rel="noopener ugc nofollow" target="_blank"><strong class="ll ir">ipympl:</strong></a><strong class="ll ir"/>这是一个游戏规则改变者。<strong class="ll ir"> </strong>它使matplotlib绘图具有交互性，允许我们在笔记本中实时执行平移、缩放和旋转，这在处理3D绘图时很有帮助。</li></ul></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h2 id="a73b" class="nh ks iq bd kt nm nn dn kx no np dp lb ls nq nr ld lw ns nt lf ma nu nv lh nw bi translated">直觉例子</h2><p id="3085" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">在本例中，我们将考虑一个简单的设置，其中相机位于原点，图像平面位于+ve Z轴上方(我们将使用左手坐标系)。接下来，我们绘制一些点，使得它们都位于与图像平面平行的同一平面上，并位于图像平面的顶部。这样就很容易想象投影和图像的形成。接下来，我们创建相机固有矩阵，并使用它将点投影到图像平面上并形成图像。最后，我们使用这个矩阵变换图像平面。下面提供了详细的分步解释。</p><p id="791c" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">笔记本嵌在下面:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="c9c6" class="pw-post-body-paragraph lj lk iq ll b lm mx jr lo lp my ju lr ls mz lu lv lw na ly lz ma nb mc md me ij bi translated">让我们一步一步来看:</p><ul class=""><li id="b326" class="og oh iq ll b lm mx lp my ls oi lw oj ma ok me ol om on oo bi translated">首先，我们导入必要的库。<code class="fe ow ox oy nd b">utils.py</code>文件包含所有必要的助手函数。神奇的命令<code class="fe ow ox oy nd b">%matplotlib widget</code>启用ipympl后端，这使我们能够玩的阴谋。</li><li id="3021" class="og oh iq ll b lm op lp oq ls or lw os ma ot me ol om on oo bi translated">接下来，我们定义图像平面和点的参数。这里，我在XY极限(-5，5)之间的z=5的高度上均匀地取了6个点。图像平面处于z=2的高度。最后，我们把它们都画出来。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/b5d4c57111282b1efca3a1da71ee0555.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8I3tSf7oEESXN-C9zfc_Mg.png"/></div></div></figure><ul class=""><li id="33ee" class="og oh iq ll b lm mx lp my ls oi lw oj ma ok me ol om on oo bi translated">接下来，我们创建相机固有矩阵，它允许我们将点投影到图像平面上并形成图像。这里，我们创建了四个具有不同参数的矩阵来说明每个矩阵的效果。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pa"><img src="../Images/0df696995e1bff4cc2879932cebbc727.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GbL1cFOa7zMwCrxHeVgg3g.png"/></div></div></figure><ul class=""><li id="1883" class="og oh iq ll b lm mx lp my ls oi lw oj ma ok me ol om on oo bi translated">好了，我们已经修改了参数，并看到了它们对图像的影响。现在，有没有可能想象出在每种情况下像平面看起来是什么样子？摄像机内矩阵是基矩阵的变化，它的作用是从图像平面上采样点。现在，我们看到，如果我们对基变换矩阵求逆，就可以得到一个变换矩阵。因此，让我们取相机固有矩阵的逆矩阵，并将结果应用于图像平面。然而，我们必须从场景中移除焦距，因为它涉及图像平面的仰角，并且我们希望仰角是恒定的。我们只是想看看其他参数对图像平面的影响。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oz"><img src="../Images/5c757a39fd77ff32750e38c86b2f1ef0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRFC86yQDxKeBk0nBb9w0A.png"/></div></div></figure><ul class=""><li id="0c57" class="og oh iq ll b lm mx lp my ls oi lw oj ma ok me ol om on oo bi translated">上图显示了倾斜参数<em class="pb"> s </em>设置为2时的图像平面，其图像显示在上图的右上角。请注意图像和图像平面的方向是相反的。</li></ul></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="d4bc" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">结论</h1><p id="c696" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">我希望你喜欢这篇文章。我鼓励您使用笔记本，修改参数，并查看它们对图像的影响。如果你有任何疑问或问题，请在下面的评论中告诉我。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="8a10" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">参考</h1><ol class=""><li id="e27e" class="og oh iq ll b lm ln lp lq ls pc lw pd ma pe me pf om on oo bi translated"><a class="ae mf" href="https://classroom.udacity.com/courses/ud810" rel="noopener ugc nofollow" target="_blank">计算机视觉介绍— Udacity </a></li></ol></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="cf73" class="kr ks iq bd kt ku mn kw kx ky mo la lb jw mp jx ld jz mq ka lf kc mr kd lh li bi translated">图像制作者名单</h1><p id="3803" class="pw-post-body-paragraph lj lk iq ll b lm ln jr lo lp lq ju lr ls lt lu lv lw lx ly lz ma mb mc md me ij bi translated">本文中的所有图片和数字，除非在标题中明确提及其来源，否则均由作者提供。</p></div></div>    
</body>
</html>