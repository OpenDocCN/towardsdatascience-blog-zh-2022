<html>
<head>
<title>The Power of Modulo in Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据分析中模的力量</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-power-of-modulo-in-data-analysis-fbd5ddfd561c#2022-01-25">https://towardsdatascience.com/the-power-of-modulo-in-data-analysis-fbd5ddfd561c#2022-01-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="651d" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">数据分析中模的力量</h1></div><div class=""><h2 id="7bec" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">你可能知道不同编程语言中的模运算符。但是您如何使用这个操作符，以及为了什么？</h2></div><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi kj"><img src="../Images/239202f3e4fc464d7e066bda5daeeb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ljWveyf3zpPbOp7u"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>由<a class="ae kz" href="https://unsplash.com/@_purianoushka?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Anoushka P </a>拍摄的照片</p></figure><h1 id="7b35" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">什么是模？</h1><p id="925b" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">简而言之，模运算符返回除法的余数。</p><p id="3d24" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">许多编程语言都有一个运算符或一个函数来计算模块。<br/> T-SQL有%操作符，DAX有MOD()函数。</p><p id="50f2" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">如果您没有直接计算模数的方法，您可以使用以下公式从数字A计算模数B:</p><p id="1362" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">A — A / B * B → A ( ( A / B) * B)</p><p id="e221" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">在T-SQL中，以下表达式都返回相同的结果:11</p><pre class="kk kl km kn gt mt mu mv mw aw mx bi"><span id="7108" class="my lb it mu b gy mz na l nb nc">SELECT 263-((263/14)*14), 263%14;</span></pre><p id="a550" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">但是，模运算有什么有趣的呢？</p><p id="29a9" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">当您有一系列连续的数字，并且您对每个数字计算模4时，结果从0开始，上升到3，然后再重新开始:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/ead84944a77122d831c8014f3d765104.png" data-original-src="https://miro.medium.com/v2/resize:fit:258/format:webp/1*8kmzNftPEP7GxDlc7WSRcQ.png"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图1 —以4为模的数列(作者提供的数字)</p></figure><p id="b010" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">这种效应开启了很多可能性。</p><p id="3fb9" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">让我们来看三个我和我的客户一起工作的例子，其中模数简化了很多。</p><h1 id="797f" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">创建任意分段</h1><p id="8401" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">我的一个客户问了我以下的问题:“我怎样才能任意地对我的客户进行细分？”</p><p id="af81" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">使用模运算，解决方案很简单:每个客户都有一个数字客户ID。通过计算每个客户的模数，我以最小的努力将每个客户分配到任意的细分市场。</p><p id="a76e" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">如果您没有数字ID，您可以添加一个索引列，按您想要的任何列排序，并基于此计算模数以获得分段:</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/cfaa8d18167371df683c61788713486c.png" data-original-src="https://miro.medium.com/v2/resize:fit:954/format:webp/1*BBl82fQilaiJEoMM4pNvRg.png"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图2——任意的客户细分(由作者提供)</p></figure><h1 id="ab7e" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">计算每分钟的15分钟</h1><p id="d30b" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">另一个客户要求我将基于时间的数据汇总到每小时四个时间段。</p><ul class=""><li id="79c7" class="nf ng it lu b lv mo ly mp mb nh mf ni mj nj mn nk nl nm nn bi translated">分钟01–14→00</li><li id="1d44" class="nf ng it lu b lv no ly np mb nq mf nr mj ns mn nk nl nm nn bi translated">第15–29分钟→ 15分钟</li><li id="a9a6" class="nf ng it lu b lv no ly np mb nq mf nr mj ns mn nk nl nm nn bi translated">第30–44分钟→ 30分钟</li><li id="b596" class="nf ng it lu b lv no ly np mb nq mf nr mj ns mn nk nl nm nn bi translated">第45分钟–60分钟→ 45分钟</li></ul><figure class="kk kl km kn gt ko gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/28aaef6f56e4255146baaf3b5fb5938e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*M-G7G8hMnHZiGJxlCdOFLw.png"/></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">图3-分钟分段(作者提供的图)</p></figure><p id="f897" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">现在，我可以通过15min_Slice列聚合数据。</p><h1 id="dd0c" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">结论</h1><p id="eb6b" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">Modulo在这两种情况下都帮助我创建了简单有效的解决方案。</p><p id="7183" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">尤其是第二个例子是一个解决挑战的突发奇想。</p><p id="256b" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">我希望这两个例子可以帮助您解决不使用模运算符就需要更复杂计算的挑战。</p><figure class="kk kl km kn gt ko gh gi paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gh gi nu"><img src="../Images/40f8b735e1ee811b98a18c28fe4f15e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ct16Fjs8MhFjsVXj"/></div></div><p class="kv kw gj gh gi kx ky bd b be z dk translated">照片由<a class="ae kz" href="https://unsplash.com/@pavement_special?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Riccardo Annandale </a>在<a class="ae kz" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</p></figure><h1 id="5c82" class="la lb it bd lc ld le lf lg lh li lj lk jz ll ka lm kc ln kd lo kf lp kg lq lr bi translated">参考</h1><p id="5530" class="pw-post-body-paragraph ls lt it lu b lv lw ju lx ly lz jx ma mb mc md me mf mg mh mi mj mk ml mm mn im bi translated">在我的示例中，我使用了Contoso示例数据集，就像我以前的文章中一样。你可以从微软<a class="ae kz" href="https://www.microsoft.com/en-us/download/details.aspx?id=18279" rel="noopener ugc nofollow" target="_blank">这里</a>免费下载ContosoRetailDW数据集。</p><p id="94e4" class="pw-post-body-paragraph ls lt it lu b lv mo ju lx ly mp jx ma mb mq md me mf mr mh mi mj ms ml mm mn im bi translated">Contoso数据可以在MIT许可下自由使用，如这里的<a class="ae kz" href="https://github.com/microsoft/Power-BI-Embedded-Contoso-Sales-Demo" rel="noopener ugc nofollow" target="_blank">所述</a>。</p><div class="nv nw gp gr nx ny"><a href="https://medium.com/@salvatorecagliari/membership" rel="noopener follow" target="_blank"><div class="nz ab fo"><div class="oa ab ob cl cj oc"><h2 class="bd iu gy z fp od fr fs oe fu fw is bi translated">通过我的推荐链接加入Medium-Salvatore Cagliari</h2><div class="of l"><h3 class="bd b gy z fp od fr fs oe fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="og l"><p class="bd b dl z fp od fr fs oe fu fw dk translated">medium.com</p></div></div><div class="oh l"><div class="oi l oj ok ol oh om kt ny"/></div></div></a></div></div></div>    
</body>
</html>