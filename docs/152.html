<html>
<head>
<title>Remaking the “Silicon Valley” SeeFood App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">重塑“硅谷”SeeFood应用程序</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/the-remaking-of-the-silicon-valleys-series-seefood-app-d309068cae6d#2022-01-05">https://towardsdatascience.com/the-remaking-of-the-silicon-valleys-series-seefood-app-d309068cae6d#2022-01-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/cb32da9f3d70c8e9581e13dd400f047d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xvk509wK9oKvbKF1"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">马文·迈耶在<a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><div class=""><h1 id="54e4" class="pw-post-title je jf jg bd jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc bi translated">重塑“硅谷”SeeFood应用程序</h1></div><div class=""><h2 id="5bf8" class="pw-subtitle-paragraph kd jf jg bd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dk translated">使用可教的机器和颤振开发杨坚的应用程序</h2></div><p id="20bb" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我花了整个圣诞假期重新看了一遍很棒的喜剧电视连续剧<em class="lr">硅谷</em>，其中杨坚开发了一个移动应用程序，将食物分类为“热狗”和“非热狗”。这里有一段插曲！</p><figure class="ls lt lu lv gt is"><div class="bz fp l di"><div class="lw lx l"/></div></figure><p id="50a2" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我对这个节目的热情，促使我重新创建应用程序的原型，基本上看起来像下面的图片:</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ly"><img src="../Images/95b3edf44232e48464cd5a5c953c0f8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bW6cz9veYrsyMG2nlTzigg.jpeg"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><h1 id="2b11" class="lz ma jg bd mb mc md me mf mg mh mi mj km mk kn ml kp mm kq mn ks mo kt mp mq bi translated">创建模型</h1><p id="d49a" class="pw-post-body-paragraph kv kw jg kx b ky mr kh la lb ms kk ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">首先，我们必须通过创建一个二元分类器来检测属于“热狗”类别的食物和不属于它的食物。在我的上一篇文章中，我说明了如何创建一个能够分类<em class="lr">狗</em>和<em class="lr">猫</em>的深度学习系统，你可以在这里找到它<a class="ae jd" rel="noopener" target="_blank" href="/transfer-learning-data-augmentation-for-robust-image-classification-643ca88b3175"/>。</p><p id="169a" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">为了简单起见，我将在这篇书面教程中介绍一个非常酷和高效的工具，叫做<a class="ae jd" href="https://teachablemachine.withgoogle.com/" rel="noopener ugc nofollow" target="_blank">可教机器</a>，它可以让你通过点击几下鼠标就能创建一个二进制分类器！</p><p id="eea4" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">第一步，是建立一个新的形象工程。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mw"><img src="../Images/744fa508ef8c708800b9bb02d4516bf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y2urV42mstr4_1xFsyZpVg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">截图来自https://teachablemachine.withgoogle.com/train<a class="ae jd" href="https://teachablemachine.withgoogle.com/train" rel="noopener ugc nofollow" target="_blank"/></p></figure><p id="4fcc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">之后，您将第一个类重命名为“热狗”，第二个类重命名为“非热狗”</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mx"><img src="../Images/62871d562d86b3ed2b31d46a67236653.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Fnj0e-NFUD3nWdQa2OvUg.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">截图来自<a class="ae jd" href="https://teachablemachine.withgoogle.com/train/image" rel="noopener ugc nofollow" target="_blank">https://teachablemachine.withgoogle.com/train/image</a></p></figure><p id="14ae" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">完成步骤1和2后，您可以将所有符合既定类别的图片拖放到“上传”按钮上进行上传。你可以在下面的Kaggle <a class="ae jd" href="https://www.kaggle.com/yashvrdnjain/hotdognothotdog/metadata" rel="noopener ugc nofollow" target="_blank">数据集</a>上找到需要的图像。</p><p id="c9ce" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">最后点击“火车模型”等待。在培训阶段结束时，您应该能够下载tensorflow lite格式的培训模型。</p><p id="0ced" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">下载后，您将解压压缩的归档文件，并打开label.txt文件。要保留普通的“热狗”和“非热狗”文本，请从文件中删除“0”和“1”字符。</p><h1 id="2fa9" class="lz ma jg bd mb mc md me mf mg mh mi mj km mk kn ml kp mm kq mn ks mo kt mp mq bi translated">数据</h1><p id="9c07" class="pw-post-body-paragraph kv kw jg kx b ky mr kh la lb ms kk ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">我提供的<a class="ae jd" href="https://www.kaggle.com/yashvrdnjain/hotdognothotdog/metadata" rel="noopener ugc nofollow" target="_blank">数据集</a>——带有公共许可证——总共有<strong class="kx jh"> 3000张</strong>图像可用于训练:从这个数量中，<strong class="kx jh"> 1500张</strong>在图片中显示一个热狗，而在其余的图片上显示<em class="lr">非热狗</em>图像，如食物、人、宠物等。此外，测试集由两个类别的<strong class="kx jh"> 322张</strong>图片组成。</p><h2 id="dbb2" class="my ma jg bd mb mz na dn mf nb nc dp mj le nd ne ml li nf ng mn lm nh ni mp nj bi translated">让我们构建移动应用程序</h2><p id="b51c" class="pw-post-body-paragraph kv kw jg kx b ky mr kh la lb ms kk ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">为了开发这个应用程序，我将在Android Studio中使用Flutter。如果你不知道如何设置一个Flutter应用程序，只需遵循这些简单的<a class="ae jd" href="https://docs.flutter.dev/get-started/install" rel="noopener ugc nofollow" target="_blank"> <em class="lr">步骤</em> </a>。</p><p id="e8bc" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在您的<em class="lr">资产文件夹</em>(如果没有，创建一个即可)中插入提取的文件:<em class="lr"> labels.txt </em>和<em class="lr"> model_unquant.tflite </em>。</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/04f8b38fd4c47b7c08dff03bac6c39f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*86pIOXtRvB0Tyrj2AFLF-w.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="a6a9" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">我还添加了另外三张图片，当应用程序返回是否是热狗的结果时显示。</p><p id="a572" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">打开<strong class="kx jh"> pubspec.yaml </strong>文件，粘贴到这些依赖项下面。</p><pre class="ls lt lu lv gt nl nm nn no aw np bi"><span id="0988" class="my ma jg nm b gy nq nr l ns nt"><strong class="nm jh">dependencies</strong>:<br/>  <strong class="nm jh">flutter</strong>:<br/>    <strong class="nm jh">sdk</strong>: flutter<br/>  <strong class="nm jh">image_picker</strong>: ^0.8.4+4<br/>  <strong class="nm jh">tflite</strong>: ^1.1.2<br/>  <strong class="nm jh">splashscreen</strong>: ^1.3.5</span></pre><p id="368c" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">如果您在安装这些软件包时遇到问题，只需在<a class="ae jd" href="https://pub.dev/" rel="noopener ugc nofollow" target="_blank">https://pub.dev/</a>上查找它们，并按照说明进行操作。</p><p id="6591" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">您还需要在<strong class="kx jh"> pubspec.yaml </strong>文件中添加(取消注释)<strong class="kx jh">资产<em class="lr">目录:</em></strong></p><pre class="ls lt lu lv gt nl nm nn no aw np bi"><span id="c744" class="my ma jg nm b gy nq nr l ns nt"><em class="lr"># To add assets to your application, add an assets section, like this:<br/></em><strong class="nm jh">assets</strong>:<br/>  - assets/<br/><em class="lr">#   - images/a_dot_burr.jpeg<br/>#   - images/a_dot_ham.jpeg</em></span></pre><p id="f633" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">打开<strong class="kx jh">Android/app/build . gradle</strong>，将以下代码粘贴到<strong class="kx jh"> android </strong>块中:</p><pre class="ls lt lu lv gt nl nm nn no aw np bi"><span id="98cf" class="my ma jg nm b gy nq nr l ns nt">aaptOptions{<br/>   noCompress ‘tflite’<br/>   noCompress ‘lite’<br/>}</span></pre><p id="e175" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">并将<strong class="kx jh"> minSdkVersion </strong>改为<strong class="kx jh"> 19 </strong></p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nu"><img src="../Images/489aa1fe78a7605144d10bf22f442b87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aE7HmQDn2QWtqOBRFuEjpw.png"/></div></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="d1e1" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，您只需要在lib文件夹中创建2个dart文件:</p><figure class="ls lt lu lv gt is gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/4b4106c2297098c6e9af05aaaeabf5d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*EiLMUU6s_Xj3I1KqfBI5DQ.png"/></div><p class="iz ja gj gh gi jb jc bd b be z dk translated">作者图片</p></figure><p id="a4c0" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">现在，将以下代码复制并粘贴到main.dart文件中。</p><figure class="ls lt lu lv gt is"><div class="bz fp l di"><div class="nw lx l"/></div></figure><p id="4a17" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">在前面的代码中，我们设置了应用程序标题，而主页被重定向到home类。现在，我们可以在home.dart文件中创建Home类了</p><figure class="ls lt lu lv gt is"><div class="bz fp l di"><div class="nw lx l"/></div></figure><p id="dc93" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">即使这段代码看起来很难，但大部分都是通过设置颜色、布局、文本等让事情看起来更漂亮</p><p id="0950" class="pw-post-body-paragraph kv kw jg kx b ky kz kh la lb lc kk ld le lf lg lh li lj lk ll lm ln lo lp lq ij bi translated">重要的方法很少。让我们从<strong class="kx jh"> pickImage </strong>和<strong class="kx jh">pick gallery image</strong>开始。这些是异步功能，因为它们需要用户从他的设备中拍摄或选择照片。在<em class="lr">初始状态</em>中，<strong class="kx jh"> loadModel </strong>方法只是加载我们使用<em class="lr">可示教机器开发的模型。</em>之后，在<em class="lr">处理方法中关闭模型。</em>该<strong class="kx jh"> classifyImage方法</strong>是该应用的核心，即给定一个图片文件，返回“HotDog”和“Not HotDog”。</p><h2 id="716a" class="my ma jg bd mb mz na dn mf nb nc dp mj le nd ne ml li nf ng mn lm nh ni mp nj bi translated">结论</h2><p id="d848" class="pw-post-body-paragraph kv kw jg kx b ky mr kh la lb ms kk ld le mt lg lh li mu lk ll lm mv lo lp lq ij bi translated">这项工作的结果是，当你观看像硅谷这样的科技展时会发生什么。现在你只需要找到其他像你一样的书呆子，开发一个应用程序，让你成为像杨晶一样成功的人！</p></div></div>    
</body>
</html>