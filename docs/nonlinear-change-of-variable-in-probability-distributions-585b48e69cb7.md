# 概率分布中变量非线性变化

> 原文：<https://towardsdatascience.com/nonlinear-change-of-variable-in-probability-distributions-585b48e69cb7>

## 用帕万游戏看概率分布中变量的变化

# 数据科学中的相关性

在数据科学中，概率分布是一个极其重要的课题。概率分布帮助数据科学家找到数据中存在的模式。它们有助于发现异常，生成人工数据，以及用数据做更多的事情。特征变换只是概率分布中变量的变化。因此，掌握概率分布对成为一流的数据科学家非常有帮助。

# 生日礼物

帕万得到了两份生日礼物——一份来自他的父亲，另一份来自他的母亲。父母都送给他随机数生成器。随机数生成器生成两位小数的随机实数。父亲的礼物选择了 0 到 10 之间的随机数，而母亲的礼物选择了 0 到 100 之间的随机实数。

![](img/f36ff3a7038074b30439a7e17787e0e9.png)

[雷灿](https://unsplash.com/@wx1993?utm_source=medium&utm_medium=referral)在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

现在，帕万会带着他父亲的礼物去找他的朋友，让他们选择一个间隔一个单位的范围——例如:1-2，5.5-6.5，等等。其范围包含随机生成的数字的人将是赢家。帕万很乐意主持这个游戏，他的朋友也很乐意玩这个游戏，因为公平。任何一个单位距离的区间都有相同的获胜概率。

![](img/5e604f68f2a0f474e7e5d083fd2275a7.png)

由[在](https://unsplash.com/@heftiba?utm_source=medium&utm_medium=referral) [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上拍摄的

他和他的朋友玩了很多次这个游戏，它开始变得无聊。然后，帕万用他母亲的天赋想出了另一个游戏。他让他的朋友选择一个和以前相似的系列。然后，他将平方范围的两端，并宣布平方范围作为新的范围。现在，他会用他母亲的天赋产生一个 0 到 100 之间的随机数，并宣布平方范围包含随机产生的数的人获胜。他的朋友选择的范围在 0-10 之间，但是他平方得到的新范围在 0-100 之间。这样他利用了母亲的天赋。

第二场比赛一开始对他们来说还算公平。于是，他们开始玩第二个游戏。他们演奏了很多次。玩了一段时间后，帕万和他的朋友们注意到，高端值的范围比低端值的范围更容易赢。与 8-9 和 9-10 这样的范围相比，0-1 和 1-2 这样的范围很少获胜。他们没有预料到游戏在射程方面的偏差，因为它在第一场游戏中运行良好。

注意到对更高值的偏好，帕万和他的朋友们停止了玩第二个随机数生成器游戏，转而去打乒乓球。

![](img/4332eea654eb1ad3bf69fb11db8851d4.png)

伊利亚·巴甫洛夫在 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral) 上的照片

# 好奇的帕万

帕万无法从不公平的第二场比赛中继续前进。晚饭后，他回到自己的房间，开始思考比赛。他躺在床上盯着天花板，一个数学想法出现在他的脑海里——概率分布。他站起来，走到他的学习桌前，开始计算两个游戏的概率分布。

![](img/f3526f13de05bbce082fd5038788e11c.png)

照片由[思想目录](https://unsplash.com/es/@thoughtcatalog?utm_source=medium&utm_medium=referral)上的 [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

我确信他完成了两场比赛的数学分析，得出了为什么第一场比赛公平，为什么第二场比赛不公平的结论/证明。他毕竟是个数学迷。我们也自己算出数学分析，看能不能得出类似的结论/证明。

# 游戏的数学观点

## 第一场比赛

在第一个游戏中，随机数生成器可以生成 0 到 10 之间的任意数字。所以，在这个范围外概率为零，在这个范围内为非零常数。为了找出常数，我们可以简单地对概率分布进行积分，使其等于 1。然后，我们可以解出这个方程来找出这个常数的值。让我们先做那件事。

概率分布为:
*P(X=x) = c* ，其中 *c* 为某常数，*X∈【0，10】；0* 否则。

对区间 *-∞* 到 *+∞* ，
*∫(-∞到+∞)p(x)dx = 1 …* (I)上的概率进行积分

区间[0，10]外的概率为 0。于是，(I)变成:
*∫(0 到 10)p(x)dx = 1*

由于 *p(x)* 在区间[0，10]中只是一个常数 *c* ，
c *∫(0 到 10)dx = 1
或者，10c = 1
所以，c = 1/10*

所以，概率分布会是:
*P(X=x) = 1/10，x ∈ [0，10]；0* 否则*。…* (二)

这是[连续均匀分布](https://en.wikipedia.org/wiki/Continuous_uniform_distribution)的一个例子。

***现在，为什么在[0，10]中范围 1 的任何区间都有相同的概率？***

假设区间为*【a，b】*。由于区间范围为 *1* ， *b - a=1* 。

所以，随机数落在区间*【a，b】*的概率是:
*P(X∈【a，b】)=∫(a 到 b)P(X)dx = 1/10 *(b-a)= 1/10 * 1 = 1/10*

如果范围长度相同，则概率不取决于范围端点。因此，无论你选择什么样的距离终点，你都有相同的获胜概率。

现在，我们明白并有证据证明为什么第一场比赛是公平的，每个人都喜欢它。

## 第二场比赛

在第二个博弈中，概率分布也是连续均匀的。唯一不同的是范围。

所以，概率密度函数为:
*p(Y=y) = 1/100，y∈ [0，100]；0* 否则*。*

***那么，这个博弈如果有相同的概率密度形式，为什么会有偏差呢？***

这是因为他们选择随机变量的方式不同。第一局，帕万的朋友自己选择了随机变量 *X* 但是第二局，帕万的朋友没有选择随机变量 *Y* 。他们反而选择了随机变量 *X* ，而 *Y* 是通过平方 *X* 构造的。

所以，关系会是:
*Y= X*

那么，随机变量 *X* 的概率密度函数是什么？帕万的朋友只选择了 *X* ，所以我们会想用 *X* 来表示第二局的概率密度函数。

这就是概率密度函数的“变量变化”发挥作用的地方。

# 变量的变化

变量的变化也可以用概率分布来完成。现有的概率分布可能有一些随机变量，我们可能想用其他随机变量来表示它。在这种情况下，我们使用这个概念。变量的变化可以是线性的，也可以是非线性的。变量的线性变化很简单。变量的非线性变化有点不同。这里我们将讨论变量的非线性变化，并从数学上解决第二个博弈例子。

第二局的概率密度函数是:
*p(Y=y) = 1/100，Y∈【0，100】；0* 否则*。…* (三)

而它与(II)中概率密度函数的关系是:
*Y = X*

我们希望用 *X* 来表示这个概率分布(III ),这样我们就可以看到这个博弈是如何偏向于 *X* 的。

设*δx*为变量 *x* 的变化量，*δy*为变量 *y* 的相应变化量。

然后，对于小的值*δx .*，两个坐标系中的概率近似相等

所以，*p _ x(x)δx*≈*p _ y(y)δy…*(IV)

*p_x* 和 *p_y* 分别代表随机变量 *X* 和 *Y* 的概率密度函数。

我们知道 *p_y* 但是我们不知道 *p_x* ，我们想知道 *p_x* ，这样我们就可以看到随机变量 *X* 的概率密度函数。

(IV)可以改写为:
*p _ x(x)*≈*p _ y(y)|δy/δx |*

我们包括了数量符号，因为概率永远不会是负数。

现在，作为*δx*→0，*δy/δx*→*dy/dx*和*p _ x(x)*→*p _ y(y)| dy/dx |。*于是，极限情况变成:
*p _ x(x)= p _ y(y)| dy/dx |…*(V)

我们得到 *y* 相对于 *x* 的关系如下:
y = f(x)= x

所以，(V)可以写成:
*p _ x(x)= p _ y(f(x))| f '(x)|…*(VI)

(六)给出了概率分布随变量变化的一般表达式。

我们的第二个例子有:
*f(x) = x* 和 *f'(x) = 2x。*

所以，(VI)简化为:
*p_x(x) = p_y(x )|2x|*

*p_y* 在整个范围*【0，100】*内是一致的。所以，如果 *x ∈ [0，10]* ， *p_y(x ) = P(Y=x ) = 1/100。*

因此，公式进一步简化为:
*p_x(x) = x/50
，即 P(X=x) = x/50 …* (VII)

(VII)根据帕万的朋友们选择的变量，给出我们第二个游戏的概率分布。当对游戏进行这种修改时，均匀概率分布会发生剧烈变化。(VII)清楚地表明游戏在距离端点方面有偏差。难怪，游戏没玩多久吧？

但是，等等！我们来验证一下是不是有效的概率分布。(VII)在整个范围*【0，10】*内为非负。因此，满足 P(X=x)的非负条件。现在，让我们检查它是否在区间 *-∞到+∞中积分为 1。*

我们只需要在区间*【0，10】*内积分，因为其他地方的密度值是 *0* 。

*∫(0 到 10)x/50dx
= 10/(2 * 50)
= 100/100
= 1*

是的，它集成到 1。因此，这是一个有效的概率分布。

***第二局概率相对于射程如何变化？***

为了找出随机数位于区间 *1* 的*【a，b】*范围内的概率，我们求出概率密度函数在 *a* 到 *b* 范围内的定积分。

所以， *p = ∫(a 到 b)p(x)dx
= ∫(a 到 b)x/50 dx
= (1/50) * ∫(a 到 b)xdx
=(b-a)/100
=(b-a)(b+a)/100
=(a+1+a)/100*【由于区间为 1】

*因此，概率相对于 *a* 的值呈正线性变化。因此，高端值比低端值更有可能获胜。*

*我们揭开了不公平游戏背后的神秘面纱！它不感到满足吗？*

# *总结*

*我们通过两个游戏的例子来探讨变量在概率分布中的变化。变量相对于概率分布的变化是极其重要的，因为它与特征变换有关。特征转换对于构建一个好的模型至关重要。大多数时候，构建一个好模型的诀窍是特性转换，它对构建一个好模型有很大的帮助。我们在这里展示了关于概率分布的“变量变化”的数学。*