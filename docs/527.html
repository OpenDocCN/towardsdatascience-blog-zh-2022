<html>
<head>
<title>4 Must-Know Parameters in Python Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python Pandas中的4个必须知道的参数</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/4-must-know-parameters-in-python-pandas-6a4e36f6ddaf#2022-01-18">https://towardsdatascience.com/4-must-know-parameters-in-python-pandas-6a4e36f6ddaf#2022-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="ff7b" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">Python Pandas中的4个必须知道的参数</h1></div><div class=""><h2 id="c982" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这使得函数更加有用。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/e2c7fb1c27afc0315858da84c6b048d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3VPvf8kyQGRxVaFPcXZ7GA.jpeg"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">Jari hytnen在<a class="ae ky" href="https://unsplash.com/s/photos/four?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="4b07" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Pandas是最流行的数据分析和操作库之一。它提供了许多功能来有效地解决问题。大多数Pandas函数都有增强其功能的参数。</p><p id="9468" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">参数自定义函数的行为，使函数更加灵活和实用。</p><p id="274a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">大多数参数对于一个特定的函数是唯一的，但是有一些参数无论与什么函数一起使用都是一样的。它们可以被认为是通用的熊猫参数:)</p><p id="e7d1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">了解并使用这些参数对充分利用熊猫非常有帮助。在这篇文章中，我们将讨论很多Pandas函数使用的4个参数。</p><p id="f60c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从创建一个样本数据帧开始。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="0a02" class="ma mb it lw b gy mc md l me mf">import numpy as np<br/>import pandas as pd</span><span id="a64c" class="ma mb it lw b gy mg md l me mf">df = pd.DataFrame(<br/>    np.random.randint(10, size=(5,5)), <br/>    columns=list("ABCDE")<br/>)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/b6691becfa41e5f4cba3bb7e6e94153e.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*pmntL5nJaWDXEFiUL7ddZw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">df(作者图片)</p></figure><p id="8af9" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们创建了一个5行5列的数据帧。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="2853" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">1.轴</h1><p id="ddd6" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">轴参数用于为要应用的功能选择轴。0表示索引，1表示列。默认值通常为0。我从未使用过默认轴参数值为1的函数。</p><p id="4377" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">考虑sum函数。当我们将它应用于数据帧时，它会计算行或列中值的总和。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="187d" class="ma mb it lw b gy mc md l me mf">df.sum(axis=0)</span><span id="7e48" class="ma mb it lw b gy mg md l me mf">A    13.0<br/>B    33.0<br/>C    18.0<br/>D    25.0<br/>E    22.0<br/>dtype: float64</span><span id="828b" class="ma mb it lw b gy mg md l me mf">--------------<br/>df.sum(axis=1)</span><span id="a441" class="ma mb it lw b gy mg md l me mf">0    28.0<br/>1    14.0<br/>2    27.0<br/>3    20.0<br/>4    22.0<br/>dtype: float64</span></pre><p id="f59f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当轴为0时，求和运算是沿着索引进行的，因此输出给出列和。当轴为1时，计算行和。</p><p id="9f29" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">对于mean、sort_values、groupby、fillna、dropna、rank等许多函数来说，轴是一个有效的参数。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="c7a6" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">2.忽略_索引</h1><p id="bcfb" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">默认情况下，使用整数索引创建数据帧。索引可以被认为是行标签。</p><p id="7bf8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">有些函数会改变行的顺序，比如sort_values函数。在这种情况下，指数也会混淆。</p><p id="96b8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一个混合索引的函数是组合多个数据帧的concat函数。原始数据帧的索引没有改变，这可能导致重复的索引。</p><p id="0b0f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这种情况下，ignore_index参数会忽略当前数据帧的索引，结果数据帧会被赋予一个全新的好看的整数索引。</p><p id="6163" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们用sort_values函数做一个例子。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="cc31" class="ma mb it lw b gy mc md l me mf">df.sort_values(by="A")</span><span id="185d" class="ma mb it lw b gy mg md l me mf">df.sort_values(by="A", ignore_index=True)</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nl"><img src="../Images/f47a653a9c75e78234a5f1992fe8cdb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p0FJAqRoUkYJHZGdll7UZQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="e60b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">左边的dataframe是没有ignore_index参数的输出。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="944f" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">3.原地</h1><p id="2a66" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">有许多函数可以更新数据帧中的值或修改数据帧。使用此类函数时，为了保存更改，需要将inplace参数设置为True。</p><p id="55e3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">下面是一个使用sort_values函数的示例。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="28ae" class="ma mb it lw b gy mc md l me mf">df.sort_values(by="A", ignore_index=True)</span><span id="91e9" class="ma mb it lw b gy mg md l me mf">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/000a5ff90f0fa99e4aa4f7e7d433752b.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/1*jKjJFX13Mw62v5Cfvakcaw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="ed3c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">根据列A中的值对行进行排序，但是我们无法观察到数据帧中的任何变化。原因是更改没有保存。我们可以将排序后的数据帧赋给另一个变量，或者简单地将inplace参数设置为True。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="aa5b" class="ma mb it lw b gy mc md l me mf">df.sort_values(by="A", ignore_index=True, inplace=True)</span><span id="5919" class="ma mb it lw b gy mg md l me mf">df</span></pre><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/71da29589a60955882e385b506e1acd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*bYs-hz1wqyQPMI5n4JUwDw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure><p id="8aba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些行现在已排序。</p><p id="26ca" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Fillna、dropna、reset_index和sort_values是一些具有inplace参数的Pandas函数。</p></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><h1 id="d99a" class="mp mb it bd mq mr ms mt mu mv mw mx my jz mz ka na kc nb kd nc kf nd kg ne nf bi translated">4.上升的</h1><p id="fe85" class="pw-post-body-paragraph kz la it lb b lc ng ju le lf nh jx lh li ni lk ll lm nj lo lp lq nk ls lt lu im bi translated">每当我们做一个涉及排序值的操作时，我们都需要指定如何去做。它们可以按升序或降序排序。</p><p id="9db4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">升序参数用于确定如何对值进行排序。rank、value_counts和sort_values函数有一个升序参数。</p><p id="327e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们来做一个rank函数的例子。</p><pre class="kj kk kl km gt lv lw lx ly aw lz bi"><span id="1dd4" class="ma mb it lw b gy mc md l me mf">df["rank_ascending"] = df["D"].rank(ascending=True)<br/>df["rank_descending"] = df["D"].rank(ascending=False)</span></pre><p id="fb0b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们已经创建了两个列，其中包含基于列d中的值的等级。其中一个列基于按升序排序的值分配等级，因此最低值的等级为1。另一个正好相反。</p><p id="806a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是我们新列的数据框架:</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi no"><img src="../Images/b1ab1e25820577a476a1c484b17d7506.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R5xCVIGE9GpHNbgQ5v_zEw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">(图片由作者提供)</p></figure></div><div class="ab cl mi mj hx mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="im in io ip iq"><p id="2f35" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些参数通常执行特定于功能的调整，但是我们在本文中讨论的那些参数也用于相同的目的。如果您正在使用Pandas进行数据分析和操作，您可能会频繁使用这些参数。</p><p id="3337" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="np">别忘了</em> <a class="ae ky" href="https://sonery.medium.com/subscribe" rel="noopener"> <em class="np">订阅</em> </a> <em class="np">如果你想在我发表新文章时收到电子邮件。</em></p><p id="0724" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="np">你可以成为</em> <a class="ae ky" href="https://sonery.medium.com/membership" rel="noopener"> <em class="np">媒介会员</em> </a> <em class="np">解锁我的全部写作权限，外加其余媒介。如果您使用以下链接，我将收取您的一部分会员费，无需您支付额外费用。</em></p><div class="nq nr gp gr ns nt"><a href="https://sonery.medium.com/membership" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd iu gy z fp ny fr fs nz fu fw is bi translated">通过我的推荐链接加入Medium-Soner yl DRM</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">sonery.medium.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh ks nt"/></div></div></a></div><p id="62f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">感谢您的阅读。如果您有任何反馈，请告诉我。</p></div></div>    
</body>
</html>