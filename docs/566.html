<html>
<head>
<title>Data drift: It can come at you from anywhere</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据漂移:它可能从任何地方向你袭来</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/data-drift-it-can-come-at-you-from-anywhere-b78eb186855#2022-01-19">https://towardsdatascience.com/data-drift-it-can-come-at-you-from-anywhere-b78eb186855#2022-01-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="70d4" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">数据漂移:它可能从任何地方向你袭来</h1></div><div class=""><h2 id="a7ee" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">数据漂移的概念以各种形状和形式直观地展示出来。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/c57d13829d53732fd5edbbcfcdfc5c7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TnU7qZ0SUvvjCMM7E6e91g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h1 id="8316" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">数据漂移简介</h1><p id="bdc5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">机器学习(ML)模型，至少在其目前的化身中，只不过是<a class="ae mm" href="https://medium.com/tech-cult-heartbeat/introduction-to-inductive-learning-in-artificial-intelligence-dafc2796405b" rel="noopener"> <strong class="ls iu">强大的归纳机器</strong> </a>。他们的崇高目标是从一个小例子集合到一个更广泛的归纳概括。</p><p id="1d91" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">自然，为了成功(和可靠)的运行，它们需要依赖于关键的假设— <em class="ms">输入数据分布不会随时间漂移太多</em>。</p><p id="4353" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">因为，如果发生这种情况，那么<strong class="ls iu">一个成功的模型只在单个时间点</strong>成功。随着时间的推移，该模型将根据与其训练时不完全相同的分布进行归纳概括，性能将会下降。</p><p id="126b" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">因此，我们需要监控和(及时)检测<strong class="ls iu"> MLOps或ModelOps管道</strong>中的任何数据漂移，以确保任何(持续)成功的ML模型部署。除了常规的MLops，数据漂移的概念对于ML可解释或<a class="ae mm" href="https://www.ibm.com/watson/explainable-ai" rel="noopener ugc nofollow" target="_blank"> <strong class="ls iu">可解释AI (xAI) </strong> </a>领域也很重要。</p><p id="615c" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><em class="ms">数据漂移监控模块在端到端MLops周期中的确切位置</em>在以下文章中有很好的描述。</p><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/essential-guide-to-machine-learning-model-monitoring-in-production-2fbb36985108"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">生产中机器学习模型监控的基本指南</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">检测数据漂移的技术</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk ks mw"/></div></div></a></div><p id="f1d0" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">关于这个主题的许多文章讨论了输入分布的形状和统计特性。在本文中，我们将以(一个或多个)数据流为例，这些数据流以时间序列的形式进入ML模型，并可视化这些变化以清楚地理解这个概念。此外，我们还将讨论工业环境中一些不太明显的数据漂移来源。</p><h1 id="bcea" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">数据漂移就像一盒巧克力…</h1><p id="f20b" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">你永远不知道你会得到什么！让我们看看一些明显和不那么明显的例子…</p><h2 id="c884" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">电平转换？明显地</h2><p id="f889" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这是一个明显的数据漂移。在许多无监督的模型设置中，这也将被称为'<strong class="ls iu"> <em class="ms">异常值</em> </strong>'或'<strong class="ls iu"> <em class="ms">异常值</em> </strong>'。还要注意，漂移可能不是永久的，而是短暂的。漂移的起点和终点都应该很快确定。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/12084b02b6314b7d136da54f025147e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ria_Xs_TKnY1L5XqPzLeYw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="220b" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">方差转移？微妙的</h2><p id="2cb5" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这比电平转换稍难检测。请参见下图。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/4349671f233054eec4105394e57c54f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WqT_ucrfgSfhLiRZ59L49g.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="468f" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">方差减少？那也是一种漂移</h2><p id="2040" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在高层次上，业务/流程人员(或您的客户)会告诉您，高方差是不好的。是的，他们几乎总是对的。但是从数据漂移的角度来看，你必须注意任何机会——甚至是方差的突然减少。从统计上看，这也是分布特性的变化。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nx"><img src="../Images/e335d0bcae8765e95f7369d7735092d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lOPyCCPxIlBnoAPiOd9ezg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="c2c4" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">一段时间内的峰值移动</h2><p id="87e0" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这个更微妙，难以察觉。我试图用附加注释来说明这种漂移，比如峰值<em class="ms"/>和T2期。你看到这里到底发生了什么吗？数据以周期性的方式出现，每个周期内都有一个峰值。<strong class="ls iu">那个峰值的相对位置(在一段时间内)移动了一段时间</strong>，然后才恢复正常。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/8a1dc0ab1a788805cd8b2d079e09d1ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M0Jm05vsC5GBerBC3r5Zog.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><p id="1e6e" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">你看出问题了吗？简单的统计特性可能无法捕捉这种漂移。均值和方差(其他矩也是)可能看起来相似。那你是怎么抓住它的？有趣的是，一些简单的<strong class="ls iu">光谱分析</strong>会显示出一个转变。因此，你必须引入一些信号处理<strong class="ls iu">知识来捕捉这种数据漂移。</strong></p><h2 id="3302" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">上下文数据——捕捉趋势的另一种方式</h2><p id="6126" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">如果您还在监视具有固定时间指示器的日志记录流，如轮班开始或机器重置，这有时有助于以直观的方式捕捉这些临时轮班。当然，数据监控必须确保良好的时间同步。在下图中，锚点事件和峰值与这些锚点的相对距离将指示漂移。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ny"><img src="../Images/6a4dc7fe2ee5d753374658c89c897969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cy63lx91GHZdPXcCSXlPng.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="f04b" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">相移/延迟</h2><p id="9372" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这是一个真正意义上的杀手。对于对时间序列数据进行训练和推理的ML模型，轻微的相位延迟就可能产生完全错误的预测。基本上，模型被训练成“如果<em class="ms"> X </em> 1和<em class="ms"> X </em> 2相似，则预测<em class="ms"> Y </em> 0，否则预测<em class="ms"> Y </em> 1”。</p><p id="ab8a" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">现在，看看下面的情况，意识到异相数据流会发生什么。上面的数据流很好，下面的有点漂移。有可能数据流是正常的，只是采集被延迟，失去了同步。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nz"><img src="../Images/5d32568e7db5e89a2891727502651ef7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q0VPZXf41dXiiCbRBCrqdg.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="ff79" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">有些是漂移，有些不是</h2><p id="17e7" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">在工业或制造业场景中，工艺配方和设置一直在变化。也可能有一个预定的变更日志。需要监控这种上下文数据，以识别正确的数据漂移。这是直观的插图，</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oa"><img src="../Images/b80a0fe4725754ab45d45e14e647f93e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sqZ-WDx8whI6bMdLWFuUEQ.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h2 id="6389" class="nl kz it bd la nm nn dn le no np dp li lz nq nr lk md ns nt lm mh nu nv lo nw bi translated">测量/传感器漂移</h2><p id="5866" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">这也是最难检测和管理的问题之一。输入数据流和生成过程可能是好的，但是传感器上可能有漂移(即测量输入数据并馈送到ML模型或监控系统)。</p><p id="a338" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">监控系统(由ML模型和警报生成模块组成)可能检测到漂移，并认为基本过程已经偏移，向核心过程层发送错误的推荐信号。这将是一个错误的判断和糟糕的建议。</p><p id="09a4" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">这也是一个将<strong class="ls iu">概念漂移(传感器本身的模型或物理动态)误认为数据漂移</strong>的例子。这是一个无论如何都要避免的错误。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ob"><img src="../Images/cf7a1d4644257c7b00c34972dae3e628.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R4G4hjtDSntJaVR1psapKw.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图片来源:作者创作</p></figure><h1 id="6deb" class="ky kz it bd la lb lc ld le lf lg lh li jz lj ka lk kc ll kd lm kf ln kg lo lp bi translated">摘要</h1><p id="647c" class="pw-post-body-paragraph lq lr it ls b lt lu ju lv lw lx jx ly lz ma mb mc md me mf mg mh mi mj mk ml im bi translated">我们通过展示一些可视化的例子，讨论了时间序列意义上的数据漂移的概念。很明显，即使在最简单的一维设置中，捕捉和分析数据漂移也不是一个微不足道的问题。可能需要信号处理或与上下文数据合并等其他技术来正确识别数据漂移的开始和性质。</p><p id="6bd2" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated">缓解措施是什么？没有一个答案，这完全取决于行业和具体的应用领域。本文系统地介绍了其中的一些。读一读。</p><div class="mt mu gp gr mv mw"><a rel="noopener follow" target="_blank" href="/my-data-drifted-whats-next-how-to-handle-ml-model-drift-in-production-78719ef007b1"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">“我的数据漂移了。接下来是什么？”如何处理生产中的ML模型漂移？</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">可能步骤的介绍性概述。</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">towardsdatascience.com</p></div></div><div class="nf l"><div class="oc l nh ni nj nf nk ks mw"/></div></div></a></div></div><div class="ab cl od oe hx of" role="separator"><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi oj"/><span class="og bw bk oh oi"/></div><div class="im in io ip iq"><p id="7666" class="pw-post-body-paragraph lq lr it ls b lt mn ju lv lw mo jx ly lz mp mb mc md mq mf mg mh mr mj mk ml im bi translated"><em class="ms">喜欢这篇文章吗？成为</em> <a class="ae mm" href="https://medium.com/@tirthajyoti/membership" rel="noopener"> <strong class="ls iu"> <em class="ms">中等成员</em> </strong> </a> <em class="ms">继续</em> <strong class="ls iu"> <em class="ms">无限制学习</em> </strong> <em class="ms">。如果你使用下面的链接，我会收到你的一部分会员费，</em> <strong class="ls iu"> <em class="ms">而不需要你额外付费</em> </strong> <em class="ms">。</em></p><div class="mt mu gp gr mv mw"><a href="https://medium.com/@tirthajyoti/membership" rel="noopener follow" target="_blank"><div class="mx ab fo"><div class="my ab mz cl cj na"><h2 class="bd iu gy z fp nb fr fs nc fu fw is bi translated">通过我的推荐链接加入媒体</h2><div class="nd l"><h3 class="bd b gy z fp nb fr fs nc fu fw dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="ne l"><p class="bd b dl z fp nb fr fs nc fu fw dk translated">medium.com</p></div></div><div class="nf l"><div class="ok l nh ni nj nf nk ks mw"/></div></div></a></div></div></div>    
</body>
</html>