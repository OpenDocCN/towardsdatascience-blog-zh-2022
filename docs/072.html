<html>
<head>
<title>What is Duck Typing in Python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的鸭式打字是什么？</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/duck-typing-python-7aeac97e11f8#2022-01-04">https://towardsdatascience.com/duck-typing-python-7aeac97e11f8#2022-01-04</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""><h1 id="888c" class="pw-post-title is it iu bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">Python中的鸭式打字是什么？</h1></div><div class=""><h2 id="75ce" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">理解动态类型编程语言(如Python)中鸭类型的概念</h2></div><figure class="kk kl km kn gu ko gi gj paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="gi gj kj"><img src="../Images/df910aff389492d89efd750aa2af8a97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ngNXcOWdrKrhCMRHcD2lWw.jpeg"/></div></div><p class="kv kw gk gi gj kx ky bd b be z dk translated">杰森·理查德在<a class="ae kz" href="https://unsplash.com/s/photos/duck?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure><h2 id="350b" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">介绍</h2><p id="d838" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">Duck Typing是一个通常与<strong class="ly iv">动态类型化</strong>编程语言和<strong class="ly iv">多态性</strong>相关的术语。这一原则背后的想法是，代码本身并不关心一个对象是否是一只<strong class="ly iv">鸭子</strong>，而是只关心它是否<strong class="ly iv">嘎嘎叫</strong>。</p><blockquote class="mp"><p id="6f04" class="mq mr iu bd ms mt mu mv mw mx my mo dk translated">如果它走路像鸭子，叫起来像鸭子，那它一定是鸭子。</p></blockquote></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><h2 id="dddb" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">理解Python中的Duck类型</h2><p id="d604" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">让我们考虑一下<code class="fe ng nh ni nj b">+</code> Python操作符；如果我们对两个整数使用它，那么结果将是两个数的和。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="c113" class="la lb iu nj b gz no np l nq nr">&gt;&gt;&gt; a = 10 + 15<br/>&gt;&gt;&gt; a<br/>25</span></pre><p id="cef1" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">现在让我们考虑同样的字符串对象类型的操作符。结果将是两个对象相加在一起的连接。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="04f7" class="la lb iu nj b gz no np l nq nr">&gt;&gt;&gt; a = 'A' + 'B'<br/>&gt;&gt;&gt; a<br/>'AB'</span></pre><p id="e346" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">这种多态行为是Python背后的核心思想，Python也是一种动态类型化的语言。这意味着它在运行时执行类型检查，而静态类型语言(如Java)在编译时执行类型检查。</p><p id="effe" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">此外，在静态类型语言中，我们还必须在源代码引用变量之前声明变量的数据类型。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="5f89" class="la lb iu nj b gz no np l nq nr"><strong class="nj iv">// Python<br/></strong>a = 1</span><span id="57f3" class="la lb iu nj b gz nx np l nq nr"><strong class="nj iv">// Java</strong><br/>int a;<br/>a = 1</span></pre><p id="d728" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">Python本身会自动重载一些操作符，以便它们根据正在处理的内置对象的类型执行不同的操作。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="82ed" class="la lb iu nj b gz no np l nq nr">def add_two(a, b):<br/>    print(a + b)</span></pre><p id="ba35" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">这意味着任何支持<code class="fe ng nh ni nj b">+</code>操作符的对象都可以工作。事实上，语言本身重载了一些操作符，因此所采取的操作依赖于所涉及的对象的特定数据类型。</p></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><blockquote class="mp"><p id="6e5c" class="mq mr iu bd ms mt mu mv mw mx my mo dk translated"><strong class="ak"> Duck Typing指的是不将代码约束或绑定到特定数据类型的原则</strong>。</p></blockquote><p id="de7d" class="pw-post-body-paragraph lw lx iu ly b lz ny jv mb mc nz jy me lj oa mg mh ln ob mj mk lr oc mm mn mo in bi translated">让我们考虑下面的两个示例类。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="98e7" class="la lb iu nj b gz no np l nq nr">class Duck: <br/>    <br/>    def __init__(self, name):<br/>        self.name = name</span><span id="429d" class="la lb iu nj b gz nx np l nq nr">    def quack(self):<br/>        print('Quack!')</span><span id="a59b" class="la lb iu nj b gz nx np l nq nr">class Car: <br/>  <br/>    def __init__(self, model):<br/>        self.model = model<br/>    <br/>    def quack(self):<br/>        print('I can quack, too!')</span></pre><p id="245c" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">由于Python是一种动态类型语言，我们不必指定函数中输入参数的数据类型。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="4ca3" class="la lb iu nj b gz no np l nq nr">def quacks(obj):<br/>    obj.quack()</span></pre><p id="86d5" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">现在，如果我们用不同的对象调用同一个函数两次，所采取的动作将取决于输入对象的数据类型。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="f5af" class="la lb iu nj b gz no np l nq nr">&gt;&gt;&gt; donald = Duck('Donald Duck')<br/>&gt;&gt;&gt; car = Car('Tesla')<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; quacks(donald)<br/>'Quack!'<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; quacks(car)<br/>'I can quack, too!'</span></pre><p id="c0c9" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">如果对象不支持指定的操作，它将自动引发异常。</p><pre class="kk kl km kn gu nk nj nl nm aw nn bi"><span id="895d" class="la lb iu nj b gz no np l nq nr">&gt;&gt;&gt; a = 10<br/>&gt;&gt;&gt; quacks(a)<br/>AttributeError: 'int' object has no attribute 'quack'</span></pre><p id="9651" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">因此，在Python中，我们通常避免强制进行这种手动错误检查，因为这会限制可能涉及的对象类型。在一些特殊情况下，你可能仍然想检查一个对象的类型(例如使用<code class="fe ng nh ni nj b">type()</code>内置函数)。</p><p id="f132" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated">但是请注意，您应该避免根据特定的数据类型来区分所采取的操作，因为这将降低代码的灵活性。但是在其他一些情况下，这可能表明问题出在设计层面，而不是代码本身。</p></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><h2 id="61c5" class="la lb iu bd lc ld le dn lf lg lh dp li lj lk ll lm ln lo lp lq lr ls lt lu lv bi translated">最后的想法</h2><p id="e172" class="pw-post-body-paragraph lw lx iu ly b lz ma jv mb mc md jy me lj mf mg mh ln mi mj mk lr ml mm mn mo in bi translated">在今天的文章中，我们讨论了Duck类型以及它与多态和方法重载的关系。此外，我们讨论了静态类型语言和动态类型语言之间的两个主要区别，以及这如何使Python代码能够应用于对象而无需关心它们的实际数据类型。</p></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><p id="660f" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated"><a class="ae kz" href="https://gmyrianthous.medium.com/membership" rel="noopener"> <strong class="ly iv">成为会员</strong> </a> <strong class="ly iv">阅读介质上的每一个故事。你的会员费直接支持我和你看的其他作家。你也可以在媒体上看到所有的故事。</strong></p><div class="od oe gq gs of og"><a href="https://gmyrianthous.medium.com/membership" rel="noopener follow" target="_blank"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">通过我的推荐链接加入Medium-Giorgos Myrianthous</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">作为一个媒体会员，你的会员费的一部分会给你阅读的作家，你可以完全接触到每一个故事…</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">gmyrianthous.medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><p id="676e" class="pw-post-body-paragraph lw lx iu ly b lz ns jv mb mc nt jy me lj nu mg mh ln nv mj mk lr nw mm mn mo in bi translated"><strong class="ly iv">你可能也会喜欢</strong></p><div class="od oe gq gs of og"><a rel="noopener follow" target="_blank" href="/mastering-indexing-and-slicing-in-python-443e23457125"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">掌握Python中的索引和切片</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">深入研究有序集合的索引和切片</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ov l or os ot op ou kt og"/></div></div></a></div></div><div class="ab cl mz na hy nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="in io ip iq ir"><div class="kk kl km kn gu og"><a rel="noopener follow" target="_blank" href="/dynamic-typing-in-python-307f7c22b24e"><div class="oh ab fp"><div class="oi ab oj cl cj ok"><h2 class="bd iv gz z fq ol fs ft om fv fx it bi translated">Python中的动态类型</h2><div class="on l"><h3 class="bd b gz z fq ol fs ft om fv fx dk translated">探索Python中对象引用的工作方式</h3></div><div class="oo l"><p class="bd b dl z fq ol fs ft om fv fx dk translated">towardsdatascience.com</p></div></div><div class="op l"><div class="ow l or os ot op ou kt og"/></div></div></a></div></div></div>    
</body>
</html>