<html>
<head>
<title>Power BI —All the important filters you need to know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">power BI——您需要了解的所有重要滤波器</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/power-bi-all-the-important-filters-you-need-to-know-583fec7c0f8c#2022-01-11">https://towardsdatascience.com/power-bi-all-the-important-filters-you-need-to-know-583fec7c0f8c#2022-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="c04f" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">power BI——您需要了解的所有重要滤波器</h1></div><div class=""><h2 id="53de" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">…当然还有例子！</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/3d5100c46df4d2649e08aa6c5c8f98db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*XqzqfDO9u-EsXmJV"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">哈尔·盖特伍德在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</p></figure><p id="2295" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">Power BI是一个基于表之间的关系和连接的工具。</p><p id="46a8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它使用DAX来构建度量，在度量中，需要一个过滤上下文来实现正确的计算。</p><p id="22d3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">本文将为您提供主要的过滤器功能和示例，以便您可以快速将其投入使用！</strong></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="d93c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，这是一张数据表。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/acb0062f3c5ec9f370a5ec64f3783e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*ev2WsTMvf5raEoPbrUme_Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="3132" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是一个简单的表格，我称之为[Table_Sample_Filters]，但它将非常有助于帮助您了解过滤函数是如何工作的。</p><p id="3dab" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这张表中，有一个层次结构。在级别1中，大写字母和级别2是下一个级别。为了便于解释，sales列都是1。</p><p id="464c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在过滤器起作用了。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="c602" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">保持过滤器</h1><p id="802b" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这是一个重要的问题，你可能会用得最多。</p><p id="dd70" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，这个函数对您指定的列的值进行“过滤”。</p><p id="a652" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我在列[Level_2]上保留了一个等于“a”的过滤器</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="432c" class="nf me it nb b gy ng nh l ni nj">KEEPFILTERS = <br/>CALCULATE (   [Table_Sample_Sales_Measure],<br/>    KEEPFILTERS ( Table_Sample_Filters[Level_2] = "a" )<br/>)</span></pre><p id="a290" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/36f5881344a93aaa40e3ed6324418637.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*DhQN7t11lVjak5qDvQ185w.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="fc66" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">您也可以组合它，使[Level _ 1]等于“A ”,或者[Level_2]等于“A”</p><p id="8167" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你想把这个语句变成AND，那么你可以用' &amp;&amp; '代替' || '作为运算符</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="56ad" class="nf me it nb b gy ng nh l ni nj">KEEPFILTERS_OR =<br/>CALCULATE (   [Table_Sample_Sales_Measure],<br/>    KEEPFILTERS ( Table_Sample_Filters[Level_2] = "a"<br/>        || Table_Sample_Filters[Level_1] = "D" )<br/>)</span></pre><p id="aaf2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是结果。</p><p id="4bbe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在这里包括一个用黄色突出显示的附加结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/6715a59a35c8c53b1d3a821efdcc185b.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*sw6M_10tz2mNWXJXOCBMQg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="6cf0" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">移除过滤器</h1><p id="cdf3" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这是另一个你可能会用到的方法，它需要一些思考。</p><p id="8576" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在你遇到的每个表中，都有行。</p><p id="8225" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们再次参考我们的桌子。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/acb0062f3c5ec9f370a5ec64f3783e08.png" data-original-src="https://miro.medium.com/v2/resize:fit:324/format:webp/1*ev2WsTMvf5raEoPbrUme_Q.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8aa2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里对于第一行，[ Level_1]等于‘A’，[Level_2]等于‘A’，销售额为‘1’。</p><p id="d79e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在Power BI中，如果去掉列【Level_2】，会发生什么？</p><p id="8b55" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是将要发生的事情。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/a59a934977ba3dd1d1a6c423c3c9300f.png" data-original-src="https://miro.medium.com/v2/resize:fit:204/format:webp/1*JINSqgYHx2BAwoImYh4bVQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="95e1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">移除[Level_2]将提供累计至[Level_1]的销售汇总。</p><p id="6d1b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这正是REMOVEFILTER所做的。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="e4c9" class="nf me it nb b gy ng nh l ni nj">REMOVEFILTERS =<br/>CALCULATE (    [Table_Sample_Sales_Measure],<br/>    REMOVEFILTERS ( Table_Sample_Filters[Level_2] )<br/>)</span></pre><p id="389a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这个画面中，你会看到正在发生的事情。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nn"><img src="../Images/ef3331dd785f868d848c586371c1fd8c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KMGGbiAyE5MN7ApLvYyOPA.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1d1f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">REMOVEFILTERS删除了[Level_2]中的筛选器，取而代之的是按[Level_1]和A、B、C、d的类别来汇总总数。</p><p id="f0ec" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">由于该表中的每一行都有一个Level_1类别，REMOVEFILTERS返回多个总计。</strong></p><p id="b53d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果我移除桌面上的[Level_2],它会将我们带回之前看到的画面。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi no"><img src="../Images/06b8af3a25e82e8afcda08e5ffd6c50e.png" data-original-src="https://miro.medium.com/v2/resize:fit:438/format:webp/1*5udHBQLuJ4S9dcFMuihYWQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="f3f0" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">所有例外</h1><p id="95b3" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">ALLEXCEPT函数遵循与remove filters相同的逻辑。</p><p id="38b4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此处的ALLEXCEPT表示删除除您指定的列之外的所有列上的筛选器。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="8073" class="nf me it nb b gy ng nh l ni nj">ALLEXCEPT =<br/>CALCULATE (<br/>    [Table_Sample_Sales_Measure],<br/>    ALLEXCEPT ( Table_Sample_Filters, Table_Sample_Filters[Level_1] )<br/>)</span></pre><p id="c036" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这将是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi np"><img src="../Images/319e9dc70a14e27625fd82bc08cefe39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*zsOTxAJtri0Q-w0P8s1Hnw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="e3de" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里的度量中，它类似于在[Level_1]中进行“分组”。</p><p id="cd1e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个功能帮助我摆脱了很多困境。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="3ccd" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">全部</h1><p id="13ab" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在这里，它使所有应用于视觉的滤镜对滤镜“免疫”。这就是为什么它叫全部。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="3805" class="nf me it nb b gy ng nh l ni nj">ALL_Measure = <br/>CALCULATE ( [Table_Sample_Sales_Measure], <br/>ALL ( Table_Sample_Filters ) )</span></pre><p id="cb05" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我筛选了[Level_1]中的视觉“A ”,无论我做什么，ALL度量都将返回11，这是整个表的总和。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/cdac7851541fc67b7cfbdb04bf53e1d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:406/format:webp/1*KnfX6ysGjy13CdnrihbPsw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="1963" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">当我过滤掉B的时候</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/d14dc62f1966268e41ac792fd12c3be6.png" data-original-src="https://miro.medium.com/v2/resize:fit:412/format:webp/1*vNkAyzDMBTvxHV4SmIHkiQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="8190" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在ALL有了其他参数，您可以只对一列使用它。它显示为删除该列的过滤器。</p><p id="63c5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">它的作用与Level_2的REMOVEFILTER相同。</p><pre class="kj kk kl km gt na nb nc nd aw ne bi"><span id="484a" class="nf me it nb b gy ng nh l ni nj">ALL_Level_2 = <br/>CALCULATE (<br/>    [Table_Sample_Sales_Measure],<br/>    ALL ( Table_Sample_Filters[Level_2] )<br/>)</span></pre><p id="48a2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这是结果。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/1bb245d08eaa925f999008a418fa8737.png" data-original-src="https://miro.medium.com/v2/resize:fit:598/format:webp/1*rr2iSw6wJ7HQsY8q_J3VkQ.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h1 id="dac9" class="md me it bd mf mg mh mi mj mk ml mm mn jz mo ka mp kc mq kd mr kf ms kg mt mu bi translated">全部选定</h1><p id="22fa" class="pw-post-body-paragraph kz la it lb b lc mv ju le lf mw jx lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">这里，过滤器取决于所选择的内容。因此ALL-SELECTED☺</p><p id="5d2c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这里我选择[Level_1]等于“A”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/d1790dd8cb8d5852d2b8564ea004b188.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*zmmHVk_hX9PN6QV1t-FFzw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="7aa1" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在这里，我选择[Level_1]等于“A”和“B”</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nu"><img src="../Images/35403a927b77c299de6786a53a1e948d.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*YAOnGRfDda8x4DVJIlblyg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</p></figure><p id="b2ed" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">注意所有基于用户选择的更改？</p><p id="23f0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这就是ALLSELECTED所做的，如果用作分母，它会特别有用。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><p id="44f6" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些功能将带你走很长的路。</p><p id="2f7a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，如果您希望返回一个用于报告目的的表，将CALCULATE交换为CALCULATETABLE，您将返回一个虚拟表。</p><p id="f82f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你需要更多关于如何建立数据模型的细节，这里有一篇<a class="ae ky" rel="noopener" target="_blank" href="/power-bi-modelling-bcd4431f49f9">文章</a>教你如何建立一个数据模型。这是另一个帮助你建立它的<a class="ae ky" rel="noopener" target="_blank" href="/power-bi-modelling-tips-and-tricks-9726e1d9085b">附加工具</a>。</p><p id="394a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">希望这篇文章对您有所帮助，祝您在数据之旅中好运！</p></div></div>    
</body>
</html>