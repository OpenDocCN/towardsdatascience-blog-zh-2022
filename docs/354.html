<html>
<head>
<title>Selective Formatting of Numbers in Tableau</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tableau中数字的选择性格式</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/selective-formatting-of-numbers-in-tableau-f5035cc64b68#2022-01-12">https://towardsdatascience.com/selective-formatting-of-numbers-in-tableau-f5035cc64b68#2022-01-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="1059" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">Tableau中数字的选择性格式</h1></div><div class=""><h2 id="08b6" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">这就是如何在同一个数据表中有条件地显示不同的小数位数</h2></div><p id="af6a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Tableau软件是一个令人惊讶的多功能工具。它不仅提供了广泛的数据可视化选项，而且还是一个强大的报告辅助工具。</p><blockquote class="lf"><p id="f279" class="lg lh it bd li lj lk ll lm ln lo ld dk translated">我最近在工作中遇到的一个非常有趣的用例涉及到选择性地格式化Tableau中一个数据表中的数字。</p></blockquote><h2 id="cdc8" class="lp lq it bd lr ls lt dn lu lv lw dp lx kr ly lz ma kv mb mc md kz me mf mg mh bi translated">例如，下表包含3个随机选择的国家的疫苗接种率的虚拟值:</h2><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/468dcc0eca05115c784b7af1c08d5898.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RyOvpbIHPtwULwi-bOdO-w.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">作者插图|请注意，红色文本数字是Tableau中预期的最终显示值</p></figure><p id="acb7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">而Tableau使用户能够从侧面板格式化这些数字，以便<strong class="kk iu">有选择地显示带有自定义小数位数的数值(。#, #.##等。)或自定义文本(例如，对于小于65的值，应改为显示为“</strong> ≤ <strong class="kk iu"> 65”)在同一个表</strong>中，在这种情况下，可考虑在相应的计算字段中使用以下公式。</p><h1 id="03f0" class="my lq it bd lr mz na nb lu nc nd ne lx jz nf ka ma kc ng kd md kf nh kg mg ni bi translated">计算字段:[小数点的位置(。)]</h1><pre class="mj mk ml mm gt nj nk nl bn nm nn bi"><span id="b994" class="no lq it nk b be np nq l nr ns">FIND( STR([Vaccination Rates]), '.' )</span></pre><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi nt"><img src="../Images/0c1cee7e8ea87f3c763bd3f4277294bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HRChCAXgzhWpOUCsW4FaCA.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">作者插图|注意字段的值是“3 ”,因为符号位于3号位置，如<strong class="bd nu">【3】</strong>所示</p></figure><h1 id="a372" class="my lq it bd lr mz na nb lu nc nd ne lx jz nf ka ma kc ng kd md kf nh kg mg ni bi translated">用于显示自定义小数位数的计算字段</h1><h2 id="7d38" class="lp lq it bd lr ls nv dn lu lv nw dp lx kr nx lz ma kv ny mc md kz nz mf mg mh bi translated">I)[显示=1位小数]</h2><pre class="mj mk ml mm gt nj nk nl bn nm nn bi"><span id="a8ed" class="no lq it nk b be np nq l nr ns">LEFT(<br/>    STR([Vaccination Rates]),<br/>    [Position Of Decimal (.)]+1<br/>)</span></pre><p id="f06b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">注:</strong>上面的粗体数字代表所需的小数位数(也称为“.”后显示的位数)符号)</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi mi"><img src="../Images/0db97aa644cb59d9f60e9bad7673f887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ti77loancLIEpG5LKsp0KQ.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">作者插图|请注意，在这种情况下，由于只需要1位小数(黄色+蓝色)，因此新西兰、英国和美国的值分别为<strong class="bd nu"> 78.5、71.2和61.9 </strong>。| FYI:公式中的" LEFT()"包括"."之前的所有字符符号。</p></figure><h2 id="b7d2" class="lp lq it bd lr ls nv dn lu lv nw dp lx kr nx lz ma kv ny mc md kz nz mf mg mh bi translated">ii)[显示=两位小数]</h2><pre class="mj mk ml mm gt nj nk nl bn nm nn bi"><span id="28e7" class="no lq it nk b be np nq l nr ns">LEFT(<br/>    STR([Vaccination Rates]),<br/>    [Position Of Decimal (.)]+2<br/>)</span></pre><p id="fda4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">注:</strong>上面的粗体数字代表所需的小数位数(也称为“.”后显示的位数)符号)</p><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi oa"><img src="../Images/a24270d702bab34a5f426c736c582620.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6JMhql3gJft5H96a2nI5Pw.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">作者插图|请注意，在这种情况下，由于需要两位小数(黄色+蓝色)，因此新西兰、英国和美国的值分别为<strong class="bd nu"> 78.55、71.23和61.94 </strong>。| FYI:公式中的" LEFT()"包括"."之前的所有字符符号。</p></figure><h1 id="5a8c" class="my lq it bd lr mz na nb lu nc nd ne lx jz nf ka ma kc ng kd md kf nh kg mg ni bi translated">数字的最终显示</h1><h2 id="25f9" class="lp lq it bd lr ls nv dn lu lv nw dp lx kr nx lz ma kv ny mc md kz nz mf mg mh bi translated">主要假设:</h2><ul class=""><li id="f2f9" class="ob oc it kk b kl od ko oe kr of kv og kz oh ld oi oj ok ol bi translated">值≥75时显示2个小数位</li><li id="4a78" class="ob oc it kk b kl om ko on kr oo kv op kz oq ld oi oj ok ol bi translated">对于大于65但小于75的值，只显示1位小数</li><li id="af87" class="ob oc it kk b kl om ko on kr oo kv op kz oq ld oi oj ok ol bi translated">值≤65总结为'≤65% '</li></ul><pre class="mj mk ml mm gt nj nk nl bn nm nn bi"><span id="fea0" class="no lq it nk b be np nq l nr ns">IF [Vaccination Rates] &gt;= 75 THEN [Display=2 Decimal Places]+'%'<br/>ELSEIF [Vaccination Rates] &gt; 65 THEN [Display=1 Decimal Place]+'%'<br/>ELSE '≤65%' END</span></pre><h2 id="dd04" class="lp lq it bd lr ls nv dn lu lv nw dp lx kr nx lz ma kv ny mc md kz nz mf mg mh bi translated">总之…</h2><figure class="mj mk ml mm gt mn gh gi paragraph-image"><div role="button" tabindex="0" class="mo mp di mq bf mr"><div class="gh gi or"><img src="../Images/767ae577a05536127444932f64644598.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pwj381PfxWCzAL2Tu1gnmg.png"/></div></div><p class="mu mv gj gh gi mw mx bd b be z dk translated">作者插图|在Tableau的[最终显示值]字段中实现公式后，将其拖动到标记架的[文本]中，上面的内容将根据需要显示。</p></figure></div><div class="ab cl os ot hx ou" role="separator"><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox oy"/><span class="ov bw bk ow ox"/></div><div class="im in io ip iq"><p id="6e27" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在你知道了！非常感谢你坚持到这篇文章的结尾！❤希望你觉得这个指南有用，如果你想了解更多GIS、数据分析(Tableau-inclusive) &amp; Web应用相关的内容，请随时<a class="ae le" href="https://medium.com/@geek-cc" rel="noopener">关注我的Medium </a>。会非常感激—😀</p><div class="oz pa gp gr pb pc"><a href="https://geek-cc.medium.com/membership" rel="noopener follow" target="_blank"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">通过我的推荐链接加入灵媒——李思欣·崔</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">获得李思欣·崔和其他作家在媒体上的所有帖子！😃您的会员费直接…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">geek-cc.medium.com</p></div></div><div class="pl l"><div class="pm l pn po pp pl pq ms pc"/></div></div></a></div><h2 id="ec70" class="lp lq it bd lr ls nv dn lu lv nw dp lx kr nx lz ma kv ny mc md kz nz mf mg mh bi translated">想了解更多的Tableau技巧和窍门，请随意查看下面的帖子:</h2><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/how-to-plot-a-custom-map-image-on-tableau-dashboard-in-just-3-easy-steps-no-calculations-required-8db0d41680c4"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">如何在Tableau仪表板上绘制自定义地图图像，只需3个简单的步骤，无需计算…</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">提示:查看一个专门为所有Tableau用户创建的web应用程序。</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pr l pn po pp pl pq ms pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/leverage-on-d3-js-v4-to-build-a-network-graph-for-tableau-with-ease-cc274cba69ce"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">利用D3.js v4轻松构建Tableau的网络图</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">使用D3.js自动计算每个节点的(x，y)坐标，并在绘图前根据自己的喜好调整布局…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="ps l pn po pp pl pq ms pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/5-lesser-known-tableau-tips-tricks-hacks-with-use-case-demo-463f98fbdc7e"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">5个鲜为人知的小贴士、技巧和窍门。使用案例+演示。</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">你都认识吗？</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pt l pn po pp pl pq ms pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/superscript-and-subscript-in-tableau-why-and-how-you-can-implement-it-764caf0cc932"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">Tableau中的上标和下标——为什么以及如何实现它</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">让你的化学/数学方程式对用户更具可读性</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pu l pn po pp pl pq ms pc"/></div></div></a></div><div class="oz pa gp gr pb pc"><a rel="noopener follow" target="_blank" href="/underrated-combined-functionalities-of-tableau-point-linestring-polygon-mapping-b4c0568a4de2"><div class="pd ab fo"><div class="pe ab pf cl cj pg"><h2 class="bd iu gy z fp ph fr fs pi fu fw is bi translated">低估了Tableau的组合功能—点、线串和多边形映射</h2><div class="pj l"><h3 class="bd b gy z fp ph fr fs pi fu fw dk translated">Tableau中的地理空间分析-无需地理编码/底图服务即可工作+渲染混合几何类型…</h3></div><div class="pk l"><p class="bd b dl z fp ph fr fs pi fu fw dk translated">towardsdatascience.com</p></div></div><div class="pl l"><div class="pv l pn po pp pl pq ms pc"/></div></div></a></div></div></div>    
</body>
</html>