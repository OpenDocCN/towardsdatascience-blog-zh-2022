<html>
<head>
<title>How I Built My Own Real-Time Parking Availability Predictive Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何建立自己的实时停车可用性预测模型</h1>
<blockquote>原文：<a href="https://towardsdatascience.com/how-i-built-my-own-real-time-parking-availability-predictive-model-31332e1b7747#2022-01-13">https://towardsdatascience.com/how-i-built-my-own-real-time-parking-availability-predictive-model-31332e1b7747#2022-01-13</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""><h1 id="553d" class="pw-post-title ir is it bd iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp bi translated">我如何建立自己的实时停车可用性预测模型</h1></div><div class=""><h2 id="4d33" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用机器学习帮助我日常生活的简单方法。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/497940df320d6a7f3539ea3e725d433d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3bmOtWNDm3loSOY6"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">斯文·米克在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</p></figure></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="6fe0" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi mc translated">在这个时代，机器学习(ML)被广泛应用于几乎每个行业，解决一些最复杂的挑战。它用于疾病的医疗诊断、欺诈检测、自动驾驶汽车、面部识别、推荐系统等。在大多数应用中，ML的使用产生了大规模的影响并使大众受益。</p><p id="2ded" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">但是，一定要这样吗？我们能在日常生活中保持小规模，以我们自己的方式使用ML吗？当然啦！在这篇文章中，我写了一个自己发起的项目，我就是这样做的——使用ML来预测我的住宅区的停车位可用性。</p><p id="4037" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><em class="ml">附注:请在此</em><a class="ae ky" href="https://github.com/zeyalt/ParkWhere" rel="noopener ugc nofollow" target="_blank"><em class="ml">GitHub repo</em></a><em class="ml">查看该项目的源代码。</em></p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h2 id="4022" class="mm mn it bd mo mp mq dn mr ms mt dp mu lp mv mw mx lt my mz na lx nb nc nd ne bi translated">目录</h2><ol class=""><li id="8137" class="nf ng it li b lj nh lm ni lp nj lt nk lx nl mb nm nn no np bi translated"><a class="ae ky" href="#20ba" rel="noopener ugc nofollow">问题陈述</a></li><li id="5008" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#76c4" rel="noopener ugc nofollow">数据收集</a></li><li id="7090" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#b73f" rel="noopener ugc nofollow">特征工程</a></li><li id="cee6" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#4d66" rel="noopener ugc nofollow">探索性数据分析</a></li><li id="2770" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#c259" rel="noopener ugc nofollow">建立基线模型</a></li><li id="bb51" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#1c76" rel="noopener ugc nofollow">使用Streamlit创建网络应用</a></li><li id="91ed" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb nm nn no np bi translated"><a class="ae ky" href="#b08c" rel="noopener ugc nofollow">包装完毕</a></li></ol></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><h1 id="20ba" class="nv mn it bd mo nw nx ny mr nz oa ob mu jz oc ka mx kc od kd na kf oe kg nd of bi translated">问题陈述</h1><p id="e8fc" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">在我住的公寓楼周围，停车位总是有限的。住在几个相邻公寓楼的居民共用这些房间。更多的时候，我会在晚上回家，在我的街区附近找不到任何停车位。</p><p id="369a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">结果，我不得不把车停在几百米远的地方。如果我一个人的话，这很好，但这让我感到沮丧，尤其是当我要从车上把很重的东西搬到我的公寓时，同时还要管理一个活泼好动的小孩和一个婴儿！</p><p id="165e" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">一天，我有了一个想法💡！为什么不自己收集一些数据，并使用ML来预测我是否能够找到离我的公寓楼最近的停车位？我心想，如果一个ML模型可以帮助我做到这一点，那么也许我可以提前计划我的旅程，以避免这种情况。我甚至可以决定乘坐公共交通工具，根本不开车。</p><h1 id="76c4" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">数据收集</h1><p id="95d1" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">将我的想法变为现实的第一步当然是开始收集一些数据。在这样做之前，我把我家的所有停车位分成了四个区域:1、2、3和4区。我尽我所能绘制了图1中的布局。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oo"><img src="../Images/ee9877a4ff1979171f9d11424aef576c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nwFYitRk0_JCTCtWtNYm9A.png"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图1:按区域划分的停车位布局(图片由作者提供)</p></figure><p id="eb2a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我住在A座，所以1区的车位最近，其次是2区、3区、4区的车位。我妻子和我总是害怕在4区停车，因为这意味着要走最远的路才能到达我们的街区。</p><p id="db3e" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">按区域划分停车位后，我就准备收集数据了！我需要记录的只是:</p><ul class=""><li id="e52a" class="nf ng it li b lj lk lm ln lp op lt oq lx or mb os nn no np bi translated">停车的日期和时间；和</li><li id="2c71" class="nf ng it li b lj nq lm nr lp ns lt nt lx nu mb os nn no np bi translated">我找到停车位的地方。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/2764d7abee8ce6306e80fe82951008c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/1*Cg6316iK75-2vQohYxf-dg.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">GIF展示了我如何在智能手机上手动将我的停车数据记录到Google Keep应用程序中</p></figure><p id="87a4" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我发现记录数据最简单的方法是，我一停好车，就拿出我的智能手机，输入我的谷歌Keep应用。我使用了以下格式:</p><pre class="kj kk kl km gt ou ov ow ox aw oy bi"><span id="3279" class="mm mn it ov b gy oz pa l pb pc">YYYY-MM-DD HH:MM, Zone X</span></pre><p id="af3e" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">逗号分隔约定的基本原理是，我可以将Google Keep on浏览器中的数据复制并粘贴到记事本中，然后轻松地将其保存为逗号分隔值(CSV)文件(参见图2)。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/e584c51696df62e24212dfbc7d1b817a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*1sA1otrY2T60XGmPeMnSOg.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图2:将我在Google Keep上的停车数据以CSV文件的形式保存到记事本中(图片由作者提供)</p></figure><p id="e13d" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">将数据保存为CSV文件后，我就可以将它作为熊猫数据帧加载到Python中了。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/f10af18c938700ad994fed4a218ec50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*LIrqHOhBc0gdT2B0iEKhPg.png"/></div></figure><p id="6b0a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我收集了从2021年4月19日到2021年12月20日总共8个月的数据，数据包含312行。当然，我收集的数据越多越好，但我认为我可能能够得到一个有312行数据的像样的ML模型。</p><h1 id="b73f" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">特征工程</h1><p id="74e6" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">在熊猫数据帧<code class="fe ph pi pj ov b">df</code>中，我只有两列，<code class="fe ph pi pj ov b">date_time</code>和<code class="fe ph pi pj ov b">parking_zone</code>，后者是我们用来训练监督分类模型的目标标签。目标是从<code class="fe ph pi pj ov b">date_time</code>列中提取不同的特性，比如月、日、小时和分钟。为此，我首先需要使用<code class="fe ph pi pj ov b">pd.to_datetime()</code>将这个列转换成一个<code class="fe ph pi pj ov b">datetime</code>列。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/116e9cc114b913bdb8fdd20615aa2a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*MS-Tzw1ZiBfPnaxbvo_bHQ.png"/></div></figure><p id="21b1" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">现在，我可以通过使用<code class="fe ph pi pj ov b">.dt</code>访问器从<code class="fe ph pi pj ov b">date_time</code>列中提取一些潜在有用的特性。我还将<code class="fe ph pi pj ov b">month</code>、<code class="fe ph pi pj ov b">day_of_week</code>和<code class="fe ph pi pj ov b">hour</code>转换成有序分类变量，这将有助于我随后的探索性数据分析。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pl"><img src="../Images/d02a9ec59c1505ae1263dc69d190f0ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UILI5DRdRj_GDwIEjr37jA.png"/></div></div></figure><p id="e86d" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我还想知道停车位的可用性是否会受到某个特定日期是公共假日还是公共假日前夕的影响。例如，如果是在除夕夜，居民是否倾向于待在外面，很晚才回家，从而比平时有更多的停车位？</p><p id="b393" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">考虑到这一点，我使用了来自data.gov.sg的公共API来获取与新加坡公共假期相对应的日期列表。列表中的每个日期都被解析为一个<code class="fe ph pi pj ov b">datetime</code>对象。为了获得公共假日前夕的解析日期列表，我只需从每个解析的公共假日日期中减去<code class="fe ph pi pj ov b">timedelta(days=1)</code>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pm"><img src="../Images/bd508099026cd88d2ae678855e04cc30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IkikNR5KEbZCa1o-pX0dsQ.png"/></div></div></figure><p id="6a6e" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">有了这两个列表，我在DataFrame <code class="fe ph pi pj ov b">df</code>中创建了另一个特性<code class="fe ph pi pj ov b">ph_eve</code>。该特征指示<code class="fe ph pi pj ov b">df</code>中的特定行是否对应于公共假日(值为<code class="fe ph pi pj ov b">ph</code>)、前夕(值为<code class="fe ph pi pj ov b">eve</code>)或两者都不对应(值为<code class="fe ph pi pj ov b">nil</code>)。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pn"><img src="../Images/963c392bcb26af0cfc9593368164ef66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oAjHpGgeqE4w8hfQhH1UMw.png"/></div></div></figure><h1 id="4d66" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">探索性数据分析</h1><p id="6019" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">我从一个单独的<code class="fe ph pi pj ov b">date_time</code>专栏中创建了总共9个不同的特性。然而，并不是所有的方法都有助于预测停车位。我进行了探索性数据分析(EDA ),以帮助我确定哪些特征是停车位可用性的更有用的预测因素。</p><h2 id="a5e8" class="mm mn it bd mo mp mq dn mr ms mt dp mu lp mv mw mx lt my mz na lx nb nc nd ne bi translated">阶级分布</h2><p id="f99f" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">首先，让我们看看停车区的频率分布(见图3)。不出所料，1区是最常见的，因为我们总是试图找到一个离我的公寓最近的停车位。这种分布也暗示了一种阶级不平衡，这是在建立和评估一个ML模型时需要考虑的。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图3:停车区的频率分布(图片由作者提供)</p></figure><h2 id="ee37" class="mm mn it bd mo mp mq dn mr ms mt dp mu lp mv mw mx lt my mz na lx nb nc nd ne bi translated">一天中的某个时刻</h2><p id="f83a" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">接下来，让我们按停车区查看一天中不同时间的停车时段的百分比(见图4)。我回家越晚，就越不可能在1区找到停车位。这是常识，但是很高兴知道我收集的数据证实了这个观察。根据图4，似乎<code class="fe ph pi pj ov b">hour</code>也是预测停车可用性的有用特征。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图4: 100%堆积条形图，显示了停车区停车时段的分布情况(图片由作者提供)</p></figure><h2 id="493c" class="mm mn it bd mo mp mq dn mr ms mt dp mu lp mv mw mx lt my mz na lx nb nc nd ne bi translated">星期几</h2><p id="1edf" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">我也问自己，“一周中是否有几天不太可能在1区找到停车位？”根据收集的数据，是的！在1区获得停车位的概率在周一最高(~83%)，在工作日逐渐下降，在周四最低(~59%)和周日最低(~61%)。因此，<code class="fe ph pi pj ov b">day_of_week</code>也可以是停车可用性的有用预测值。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图5: 100%堆积条形图，按停车区显示一周中各天的停车时段分布情况(图片由作者提供)</p></figure><h2 id="6baf" class="mm mn it bd mo mp mq dn mr ms mt dp mu lp mv mw mx lt my mz na lx nb nc nd ne bi translated">公休日，前夜，还是都不是？</h2><p id="2f89" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">在整个数据收集期间，人们感觉在公共假日更难在1区找到停车位。我猜这是因为第二天可能是工作/上学日，居民倾向于呆在家里。公共假日前夕则相反，这意味着居民可能不会早回家，因为第二天是公共假日。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="po pf l"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图6: 100%堆积条形图，显示了公共假日、前夕或平日停车区的停车时段分布情况(图片由作者提供)</p></figure><p id="2348" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">图6验证了我的直觉！在公共假日前夕，很有可能在1区找到一个停车位，而在公共假日不可能找到，这表明<code class="fe ph pi pj ov b">ph_eve</code>也可能是停车位可用性的一个决定因素。</p><h1 id="c259" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">构建基线模型</h1><p id="61a1" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">我也考虑了其他特征，但是<code class="fe ph pi pj ov b">day_of_week</code>、<code class="fe ph pi pj ov b">hour</code>和<code class="fe ph pi pj ov b">ph_eve</code>似乎是更有用的预测因素。我没有使用<code class="fe ph pi pj ov b">hour</code>，而是使用了<code class="fe ph pi pj ov b">hour_min</code>，以便考虑到某个小时过去的分钟数。</p><p id="7e4f" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">此外，我把车停在2区、3区还是4区对我来说并不重要。它们都意味着我要走比停在1区更远的距离。我更关注的是我是否能在1区找到停车位。我将区域2、区域3和区域4分组为“其他区域”,从而将问题转化为二元分类任务！</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi pp"><img src="../Images/a5663f63618b7a65d4e6f3515f1506ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tbVK6kZ4-O2sQVQswfV-8w.png"/></div></div></figure><p id="2675" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我现在混合了数字和分类特征来训练一个二进制分类模型。在这种异构数据类型的场景中，我们可以使用scikit-learn的<code class="fe ph pi pj ov b">ColumnTransformer</code>,它允许我们对不同数据类型的特性应用不同的预处理和特性提取管道。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><p id="30c2" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">有关<code class="fe ph pi pj ov b">ColumnTransformer</code>的更多信息，请查看下面的scikit-learn文档:</p><div class="pq pr gp gr ps pt"><a href="https://scikit-learn.org/stable/auto_examples/compose/plot_column_transformer_mixed_types.html" rel="noopener  ugc nofollow" target="_blank"><div class="pu ab fo"><div class="pv ab pw cl cj px"><h2 class="bd iu gy z fp py fr fs pz fu fw is bi translated">混合型柱式变压器</h2><div class="qa l"><h3 class="bd b gy z fp py fr fs pz fu fw dk translated">这个例子说明了如何应用不同的预处理和特征提取管道到不同的子集…</h3></div><div class="qb l"><p class="bd b dl z fp py fr fs pz fu fw dk translated">scikit-learn.org</p></div></div><div class="qc l"><div class="qd l qe qf qg qc qh ks pt"/></div></div></a></div><p id="5428" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我创建了一个包含<code class="fe ph pi pj ov b">preprocessor</code>对象和一个分类器的<code class="fe ph pi pj ov b">Pipeline</code>对象。我选择了<code class="fe ph pi pj ov b">LogisticRegression</code>作为基线分类器。接下来，我拆分数据集(80%用于训练；20%用于验证)，将训练数据拟合到<code class="fe ph pi pj ov b">Pipeline</code>对象，并根据验证数据对其进行评估。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi qi"><img src="../Images/6da9020002d122c7ac6e96ced3446cb7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbC_dl9k_g__Ofy9L6wIMQ.png"/></div></div></figure><p id="f054" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">验证数据的预测结果也可以使用混淆矩阵进行总结，如图7所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qj"><img src="../Images/d02365af10d4a835db9e3931f9d0895d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*0Qfog-DqQIQf9RF53YcVDw.png"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">图7:总结预测结果的混淆矩阵(图片由作者提供)</p></figure><p id="ddf9" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">总的来说，考虑到这只是一个基线模型，验证数据的结果看起来很有希望——准确度为0.90，精确度为0.91，召回率为0.95。我对分类性能很满意，也很高兴使用这个基线模型来生成预测。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="pe pf l"/></div></figure><h1 id="1c76" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">使用Streamlit创建web应用程序</h1><p id="b530" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">如果我没有部署和使用它，培训一个ML模型有什么用呢？因此我用<a class="ae ky" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank">创建了这个叫做<strong class="li iu">公园</strong>的网络应用。</a></p><p id="01ff" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在引擎盖下，<strong class="li iu"> ParkWhere </strong>使用我训练过的基线模型，预测在给定的日期和时间内，我是否会在1区找到停车位。</p><p id="9cee" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">一旦web应用程序启动，它会立即向我提供启动应用程序时的预测。从用户体验的角度来看，这非常方便，因为默认情况下，我只需启动应用程序，无需输入任何内容。</p><p id="3059" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">当然，如果我想预测不同时间的停车位，我仍然可以输入任何日期和时间。请随意查看<strong class="li iu"> ParkWhere </strong> <a class="ae ky" href="https://share.streamlit.io/zeyalt/parkwhere/app.py" rel="noopener ugc nofollow" target="_blank">这里</a>！</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi qk"><img src="../Images/3871d77e67da4125c00fc17eabca75f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*2Y0drmg_TAeBFCY5qR4iuQ.gif"/></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">展示ParkWhere web应用程序如何工作的动画GIF</p></figure><h1 id="b08c" class="nv mn it bd mo nw oj ny mr nz ok ob mu jz ol ka mx kc om kd na kf on kg nd of bi translated">包装它</h1><p id="250d" class="pw-post-body-paragraph lg lh it li b lj nh ju ll lm ni jx lo lp og lr ls lt oh lv lw lx oi lz ma mb im bi translated">所以，我有了一个实时停车可用性预测模型！概括地说，在预测找到离我的公寓最近的停车位的可能性时，该模型考虑了一周中的某一天、一天中的某个时间以及是否是公共假日(前夜)。</p><p id="fe4c" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">现在，我可以随时随地从我的移动网络浏览器方便地启动<strong class="li iu"> ParkWhere </strong>，并让模型为我生成预测。有了这样的预测洞察力，我可以提前计划我的旅程，以避免在很远的地方停车。如果我只是需要快速处理一些事情，我甚至可以决定乘坐公共交通工具，而不开车。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ql"><img src="../Images/683132c49eacf389d6b0bef06db26a88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1djwVbl4hghX2KD6"/></div></div><p class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@nordwood?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">诺德伍德主题</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</p></figure><p id="a22a" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">这是我在日常生活中利用ML的简单尝试。问题陈述非常具体地针对我的环境和偏好，因此我构建的解决方案的好处可能并不广泛或适用于大众。</p><p id="44b4" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">仍有改进的余地。我还需要试验不同的分类器，进行定量特征选择，执行超参数调整以找到更优的模型，进行交叉验证以减轻过度拟合的问题，等等。我甚至可以继续收集更多的数据，偶尔重新训练模型。</p><blockquote class="qm"><p id="6506" class="qn qo it bd qp qq qr qs qt qu qv mb dk translated">“谁拥有数据，谁就拥有力量”——蒂姆·奥莱利</p></blockquote><p id="9f8a" class="pw-post-body-paragraph lg lh it li b lj qw ju ll lm qx jx lo lp qy lr ls lt qz lv lw lx ra lz ma mb im bi translated">然而，在这个阶段，我对我所拥有的基线原型很满意。事实上，我很自豪能够从零开始构建和部署一个ML解决方案——实际上，是使用我自己收集的数据😄。我相信任何有意愿收集数据和一些ML知识的人也可以做类似的事情！</p></div><div class="ab cl kz la hx lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="im in io ip iq"><p id="3226" class="pw-post-body-paragraph lg lh it li b lj lk ju ll lm ln jx lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">目前就这些。感谢阅读这篇文章！如果你觉得它很有见地，请在评论中告诉我。我也欢迎<em class="ml"> </em>的讨论、问题和建设性的反馈。欢迎在<a class="ae ky" href="https://zeyalt.medium.com/" rel="noopener">媒体</a>上关注我，或者通过<a class="ae ky" href="https://www.linkedin.com/in/zeyalt/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae ky" href="https://twitter.com/zeyalt_" rel="noopener ugc nofollow" target="_blank"> Twitter </a>联系我。祝您愉快！</p></div></div>    
</body>
</html>